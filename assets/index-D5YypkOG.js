var zt=Object.defineProperty;var Vt=(d,m,g)=>m in d?zt(d,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[m]=g;var Ut=(d,m)=>()=>(m||d((m={exports:{}}).exports,m),m.exports);var mt=(d,m,g)=>Vt(d,typeof m!="symbol"?m+"":m,g);var jt=Ut((exports,module)=>{(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const I of document.querySelectorAll('link[rel="modulepreload"]'))w(I);new MutationObserver(I=>{for(const P of I)if(P.type==="childList")for(const F of P.addedNodes)F.tagName==="LINK"&&F.rel==="modulepreload"&&w(F)}).observe(document,{childList:!0,subtree:!0});function g(I){const P={};return I.integrity&&(P.integrity=I.integrity),I.referrerPolicy&&(P.referrerPolicy=I.referrerPolicy),I.crossOrigin==="use-credentials"?P.credentials="include":I.crossOrigin==="anonymous"?P.credentials="omit":P.credentials="same-origin",P}function w(I){if(I.ep)return;I.ep=!0;const P=g(I);fetch(I.href,P)}})();/**
* @vue/shared v3.5.8
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function makeMap(d){const m=Object.create(null);for(const g of d.split(","))m[g]=1;return g=>g in m}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn=d=>d.charCodeAt(0)===111&&d.charCodeAt(1)===110&&(d.charCodeAt(2)>122||d.charCodeAt(2)<97),isModelListener=d=>d.startsWith("onUpdate:"),extend=Object.assign,remove$1=(d,m)=>{const g=d.indexOf(m);g>-1&&d.splice(g,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(d,m)=>hasOwnProperty$1.call(d,m),isArray$3=Array.isArray,isMap=d=>toTypeString(d)==="[object Map]",isSet$1=d=>toTypeString(d)==="[object Set]",isDate=d=>toTypeString(d)==="[object Date]",isFunction$1=d=>typeof d=="function",isString$1=d=>typeof d=="string",isSymbol=d=>typeof d=="symbol",isObject$2=d=>d!==null&&typeof d=="object",isPromise$1=d=>(isObject$2(d)||isFunction$1(d))&&isFunction$1(d.then)&&isFunction$1(d.catch),objectToString=Object.prototype.toString,toTypeString=d=>objectToString.call(d),toRawType=d=>toTypeString(d).slice(8,-1),isPlainObject=d=>toTypeString(d)==="[object Object]",isIntegerKey=d=>isString$1(d)&&d!=="NaN"&&d[0]!=="-"&&""+parseInt(d,10)===d,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=d=>{const m=Object.create(null);return g=>m[g]||(m[g]=d(g))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(d=>d.replace(camelizeRE,(m,g)=>g?g.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(d=>d.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(d=>d.charAt(0).toUpperCase()+d.slice(1)),toHandlerKey=cacheStringFunction(d=>d?`on${capitalize(d)}`:""),hasChanged=(d,m)=>!Object.is(d,m),invokeArrayFns=(d,...m)=>{for(let g=0;g<d.length;g++)d[g](...m)},def=(d,m,g,w=!1)=>{Object.defineProperty(d,m,{configurable:!0,enumerable:!1,writable:w,value:g})},looseToNumber=d=>{const m=parseFloat(d);return isNaN(m)?d:m};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(d){if(isArray$3(d)){const m={};for(let g=0;g<d.length;g++){const w=d[g],I=isString$1(w)?parseStringStyle(w):normalizeStyle(w);if(I)for(const P in I)m[P]=I[P]}return m}else if(isString$1(d)||isObject$2(d))return d}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(d){const m={};return d.replace(styleCommentRE,"").split(listDelimiterRE).forEach(g=>{if(g){const w=g.split(propertyDelimiterRE);w.length>1&&(m[w[0].trim()]=w[1].trim())}}),m}function normalizeClass(d){let m="";if(isString$1(d))m=d;else if(isArray$3(d))for(let g=0;g<d.length;g++){const w=normalizeClass(d[g]);w&&(m+=w+" ")}else if(isObject$2(d))for(const g in d)d[g]&&(m+=g+" ");return m.trim()}function normalizeProps(d){if(!d)return null;let{class:m,style:g}=d;return m&&!isString$1(m)&&(d.class=normalizeClass(m)),g&&(d.style=normalizeStyle(g)),d}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(d){return!!d||d===""}function looseCompareArrays(d,m){if(d.length!==m.length)return!1;let g=!0;for(let w=0;g&&w<d.length;w++)g=looseEqual(d[w],m[w]);return g}function looseEqual(d,m){if(d===m)return!0;let g=isDate(d),w=isDate(m);if(g||w)return g&&w?d.getTime()===m.getTime():!1;if(g=isSymbol(d),w=isSymbol(m),g||w)return d===m;if(g=isArray$3(d),w=isArray$3(m),g||w)return g&&w?looseCompareArrays(d,m):!1;if(g=isObject$2(d),w=isObject$2(m),g||w){if(!g||!w)return!1;const I=Object.keys(d).length,P=Object.keys(m).length;if(I!==P)return!1;for(const F in d){const D=d.hasOwnProperty(F),$=m.hasOwnProperty(F);if(D&&!$||!D&&$||!looseEqual(d[F],m[F]))return!1}}return String(d)===String(m)}function looseIndexOf(d,m){return d.findIndex(g=>looseEqual(g,m))}const isRef$1=d=>!!(d&&d.__v_isRef===!0),toDisplayString=d=>isString$1(d)?d:d==null?"":isArray$3(d)||isObject$2(d)&&(d.toString===objectToString||!isFunction$1(d.toString))?isRef$1(d)?toDisplayString(d.value):JSON.stringify(d,replacer,2):String(d),replacer=(d,m)=>isRef$1(m)?replacer(d,m.value):isMap(m)?{[`Map(${m.size})`]:[...m.entries()].reduce((g,[w,I],P)=>(g[stringifySymbol(w,P)+" =>"]=I,g),{})}:isSet$1(m)?{[`Set(${m.size})`]:[...m.values()].map(g=>stringifySymbol(g))}:isSymbol(m)?stringifySymbol(m):isObject$2(m)&&!isArray$3(m)&&!isPlainObject(m)?String(m):m,stringifySymbol=(d,m="")=>{var g;return isSymbol(d)?`Symbol(${(g=d.description)!=null?g:m})`:d};/**
* @vue/reactivity v3.5.8
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let activeEffectScope;class EffectScope{constructor(m=!1){this.detached=m,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=activeEffectScope,!m&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let m,g;if(this.scopes)for(m=0,g=this.scopes.length;m<g;m++)this.scopes[m].pause();for(m=0,g=this.effects.length;m<g;m++)this.effects[m].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let m,g;if(this.scopes)for(m=0,g=this.scopes.length;m<g;m++)this.scopes[m].resume();for(m=0,g=this.effects.length;m<g;m++)this.effects[m].resume()}}run(m){if(this._active){const g=activeEffectScope;try{return activeEffectScope=this,m()}finally{activeEffectScope=g}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(m){if(this._active){let g,w;for(g=0,w=this.effects.length;g<w;g++)this.effects[g].stop();for(g=0,w=this.cleanups.length;g<w;g++)this.cleanups[g]();if(this.scopes)for(g=0,w=this.scopes.length;g<w;g++)this.scopes[g].stop(!0);if(!this.detached&&this.parent&&!m){const I=this.parent.scopes.pop();I&&I!==this&&(this.parent.scopes[this.index]=I,I.index=this.index)}this.parent=void 0,this._active=!1}}}function effectScope(d){return new EffectScope(d)}function getCurrentScope(){return activeEffectScope}let activeSub;const pausedQueueEffects=new WeakSet;class ReactiveEffect{constructor(m){this.fn=m,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,activeEffectScope&&activeEffectScope.active&&activeEffectScope.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pausedQueueEffects.has(this)&&(pausedQueueEffects.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||batch(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cleanupEffect(this),prepareDeps(this);const m=activeSub,g=shouldTrack;activeSub=this,shouldTrack=!0;try{return this.fn()}finally{cleanupDeps(this),activeSub=m,shouldTrack=g,this.flags&=-3}}stop(){if(this.flags&1){for(let m=this.deps;m;m=m.nextDep)removeSub(m);this.deps=this.depsTail=void 0,cleanupEffect(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pausedQueueEffects.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){isDirty$1(this)&&this.run()}get dirty(){return isDirty$1(this)}}let batchDepth=0,batchedSub;function batch(d){d.flags|=8,d.next=batchedSub,batchedSub=d}function startBatch(){batchDepth++}function endBatch(){if(--batchDepth>0)return;let d;for(;batchedSub;){let m=batchedSub;for(batchedSub=void 0;m;){const g=m.next;if(m.next=void 0,m.flags&=-9,m.flags&1)try{m.trigger()}catch(w){d||(d=w)}m=g}}if(d)throw d}function prepareDeps(d){for(let m=d.deps;m;m=m.nextDep)m.version=-1,m.prevActiveLink=m.dep.activeLink,m.dep.activeLink=m}function cleanupDeps(d,m=!1){let g,w=d.depsTail,I=w;for(;I;){const P=I.prevDep;I.version===-1?(I===w&&(w=P),removeSub(I,m),removeDep(I)):g=I,I.dep.activeLink=I.prevActiveLink,I.prevActiveLink=void 0,I=P}d.deps=g,d.depsTail=w}function isDirty$1(d){for(let m=d.deps;m;m=m.nextDep)if(m.dep.version!==m.version||m.dep.computed&&(refreshComputed(m.dep.computed)||m.dep.version!==m.version))return!0;return!!d._dirty}function refreshComputed(d){if(d.flags&4&&!(d.flags&16)||(d.flags&=-17,d.globalVersion===globalVersion))return;d.globalVersion=globalVersion;const m=d.dep;if(d.flags|=2,m.version>0&&!d.isSSR&&d.deps&&!isDirty$1(d)){d.flags&=-3;return}const g=activeSub,w=shouldTrack;activeSub=d,shouldTrack=!0;try{prepareDeps(d);const I=d.fn(d._value);(m.version===0||hasChanged(I,d._value))&&(d._value=I,m.version++)}catch(I){throw m.version++,I}finally{activeSub=g,shouldTrack=w,cleanupDeps(d,!0),d.flags&=-3}}function removeSub(d,m=!1){const{dep:g,prevSub:w,nextSub:I}=d;if(w&&(w.nextSub=I,d.prevSub=void 0),I&&(I.prevSub=w,d.nextSub=void 0),g.subs===d&&(g.subs=w),!g.subs)if(g.computed){g.computed.flags&=-5;for(let P=g.computed.deps;P;P=P.nextDep)removeSub(P,!0)}else g.map&&!m&&(g.map.delete(g.key),g.map.size||targetMap.delete(g.target))}function removeDep(d){const{prevDep:m,nextDep:g}=d;m&&(m.nextDep=g,d.prevDep=void 0),g&&(g.prevDep=m,d.nextDep=void 0)}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const d=trackStack.pop();shouldTrack=d===void 0?!0:d}function cleanupEffect(d){const{cleanup:m}=d;if(d.cleanup=void 0,m){const g=activeSub;activeSub=void 0;try{m()}finally{activeSub=g}}}let globalVersion=0;class Link{constructor(m,g){this.sub=m,this.dep=g,this.version=g.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Dep{constructor(m){this.computed=m,this.version=0,this.activeLink=void 0,this.subs=void 0,this.target=void 0,this.map=void 0,this.key=void 0}track(m){if(!activeSub||!shouldTrack||activeSub===this.computed)return;let g=this.activeLink;if(g===void 0||g.sub!==activeSub)g=this.activeLink=new Link(activeSub,this),activeSub.deps?(g.prevDep=activeSub.depsTail,activeSub.depsTail.nextDep=g,activeSub.depsTail=g):activeSub.deps=activeSub.depsTail=g,activeSub.flags&4&&addSub(g);else if(g.version===-1&&(g.version=this.version,g.nextDep)){const w=g.nextDep;w.prevDep=g.prevDep,g.prevDep&&(g.prevDep.nextDep=w),g.prevDep=activeSub.depsTail,g.nextDep=void 0,activeSub.depsTail.nextDep=g,activeSub.depsTail=g,activeSub.deps===g&&(activeSub.deps=w)}return g}trigger(m){this.version++,globalVersion++,this.notify(m)}notify(m){startBatch();try{for(let g=this.subs;g;g=g.prevSub)g.sub.notify()&&g.sub.dep.notify()}finally{endBatch()}}}function addSub(d){const m=d.dep.computed;if(m&&!d.dep.subs){m.flags|=20;for(let w=m.deps;w;w=w.nextDep)addSub(w)}const g=d.dep.subs;g!==d&&(d.prevSub=g,g&&(g.nextSub=d)),d.dep.subs=d}const targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol(""),ARRAY_ITERATE_KEY=Symbol("");function track(d,m,g){if(shouldTrack&&activeSub){let w=targetMap.get(d);w||targetMap.set(d,w=new Map);let I=w.get(g);I||(w.set(g,I=new Dep),I.target=d,I.map=w,I.key=g),I.track()}}function trigger(d,m,g,w,I,P){const F=targetMap.get(d);if(!F){globalVersion++;return}const D=$=>{$&&$.trigger()};if(startBatch(),m==="clear")F.forEach(D);else{const $=isArray$3(d),V=$&&isIntegerKey(g);if($&&g==="length"){const j=Number(w);F.forEach((G,W)=>{(W==="length"||W===ARRAY_ITERATE_KEY||!isSymbol(W)&&W>=j)&&D(G)})}else switch(g!==void 0&&D(F.get(g)),V&&D(F.get(ARRAY_ITERATE_KEY)),m){case"add":$?V&&D(F.get("length")):(D(F.get(ITERATE_KEY)),isMap(d)&&D(F.get(MAP_KEY_ITERATE_KEY)));break;case"delete":$||(D(F.get(ITERATE_KEY)),isMap(d)&&D(F.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(d)&&D(F.get(ITERATE_KEY));break}}endBatch()}function reactiveReadArray(d){const m=toRaw(d);return m===d?m:(track(m,"iterate",ARRAY_ITERATE_KEY),isShallow(d)?m:m.map(toReactive))}function shallowReadArray(d){return track(d=toRaw(d),"iterate",ARRAY_ITERATE_KEY),d}const arrayInstrumentations={__proto__:null,[Symbol.iterator](){return iterator(this,Symbol.iterator,toReactive)},concat(...d){return reactiveReadArray(this).concat(...d.map(m=>isArray$3(m)?reactiveReadArray(m):m))},entries(){return iterator(this,"entries",d=>(d[1]=toReactive(d[1]),d))},every(d,m){return apply(this,"every",d,m,void 0,arguments)},filter(d,m){return apply(this,"filter",d,m,g=>g.map(toReactive),arguments)},find(d,m){return apply(this,"find",d,m,toReactive,arguments)},findIndex(d,m){return apply(this,"findIndex",d,m,void 0,arguments)},findLast(d,m){return apply(this,"findLast",d,m,toReactive,arguments)},findLastIndex(d,m){return apply(this,"findLastIndex",d,m,void 0,arguments)},forEach(d,m){return apply(this,"forEach",d,m,void 0,arguments)},includes(...d){return searchProxy(this,"includes",d)},indexOf(...d){return searchProxy(this,"indexOf",d)},join(d){return reactiveReadArray(this).join(d)},lastIndexOf(...d){return searchProxy(this,"lastIndexOf",d)},map(d,m){return apply(this,"map",d,m,void 0,arguments)},pop(){return noTracking(this,"pop")},push(...d){return noTracking(this,"push",d)},reduce(d,...m){return reduce$1(this,"reduce",d,m)},reduceRight(d,...m){return reduce$1(this,"reduceRight",d,m)},shift(){return noTracking(this,"shift")},some(d,m){return apply(this,"some",d,m,void 0,arguments)},splice(...d){return noTracking(this,"splice",d)},toReversed(){return reactiveReadArray(this).toReversed()},toSorted(d){return reactiveReadArray(this).toSorted(d)},toSpliced(...d){return reactiveReadArray(this).toSpliced(...d)},unshift(...d){return noTracking(this,"unshift",d)},values(){return iterator(this,"values",toReactive)}};function iterator(d,m,g){const w=shallowReadArray(d),I=w[m]();return w!==d&&!isShallow(d)&&(I._next=I.next,I.next=()=>{const P=I._next();return P.value&&(P.value=g(P.value)),P}),I}const arrayProto=Array.prototype;function apply(d,m,g,w,I,P){const F=shallowReadArray(d),D=F!==d&&!isShallow(d),$=F[m];if($!==arrayProto[m]){const G=$.apply(d,P);return D?toReactive(G):G}let V=g;F!==d&&(D?V=function(G,W){return g.call(this,toReactive(G),W,d)}:g.length>2&&(V=function(G,W){return g.call(this,G,W,d)}));const j=$.call(F,V,w);return D&&I?I(j):j}function reduce$1(d,m,g,w){const I=shallowReadArray(d);let P=g;return I!==d&&(isShallow(d)?g.length>3&&(P=function(F,D,$){return g.call(this,F,D,$,d)}):P=function(F,D,$){return g.call(this,F,toReactive(D),$,d)}),I[m](P,...w)}function searchProxy(d,m,g){const w=toRaw(d);track(w,"iterate",ARRAY_ITERATE_KEY);const I=w[m](...g);return(I===-1||I===!1)&&isProxy(g[0])?(g[0]=toRaw(g[0]),w[m](...g)):I}function noTracking(d,m,g=[]){pauseTracking(),startBatch();const w=toRaw(d)[m].apply(d,g);return endBatch(),resetTracking(),w}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(d=>d!=="arguments"&&d!=="caller").map(d=>Symbol[d]).filter(isSymbol));function hasOwnProperty(d){isSymbol(d)||(d=String(d));const m=toRaw(this);return track(m,"has",d),m.hasOwnProperty(d)}class BaseReactiveHandler{constructor(m=!1,g=!1){this._isReadonly=m,this._isShallow=g}get(m,g,w){const I=this._isReadonly,P=this._isShallow;if(g==="__v_isReactive")return!I;if(g==="__v_isReadonly")return I;if(g==="__v_isShallow")return P;if(g==="__v_raw")return w===(I?P?shallowReadonlyMap:readonlyMap:P?shallowReactiveMap:reactiveMap).get(m)||Object.getPrototypeOf(m)===Object.getPrototypeOf(w)?m:void 0;const F=isArray$3(m);if(!I){let $;if(F&&($=arrayInstrumentations[g]))return $;if(g==="hasOwnProperty")return hasOwnProperty}const D=Reflect.get(m,g,isRef(m)?m:w);return(isSymbol(g)?builtInSymbols.has(g):isNonTrackableKeys(g))||(I||track(m,"get",g),P)?D:isRef(D)?F&&isIntegerKey(g)?D:D.value:isObject$2(D)?I?readonly(D):reactive(D):D}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(m=!1){super(!1,m)}set(m,g,w,I){let P=m[g];if(!this._isShallow){const $=isReadonly(P);if(!isShallow(w)&&!isReadonly(w)&&(P=toRaw(P),w=toRaw(w)),!isArray$3(m)&&isRef(P)&&!isRef(w))return $?!1:(P.value=w,!0)}const F=isArray$3(m)&&isIntegerKey(g)?Number(g)<m.length:hasOwn(m,g),D=Reflect.set(m,g,w,isRef(m)?m:I);return m===toRaw(I)&&(F?hasChanged(w,P)&&trigger(m,"set",g,w):trigger(m,"add",g,w)),D}deleteProperty(m,g){const w=hasOwn(m,g);m[g];const I=Reflect.deleteProperty(m,g);return I&&w&&trigger(m,"delete",g,void 0),I}has(m,g){const w=Reflect.has(m,g);return(!isSymbol(g)||!builtInSymbols.has(g))&&track(m,"has",g),w}ownKeys(m){return track(m,"iterate",isArray$3(m)?"length":ITERATE_KEY),Reflect.ownKeys(m)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(m=!1){super(!0,m)}set(m,g){return!0}deleteProperty(m,g){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),shallowReadonlyHandlers=new ReadonlyReactiveHandler(!0),toShallow=d=>d,getProto=d=>Reflect.getPrototypeOf(d);function get(d,m,g=!1,w=!1){d=d.__v_raw;const I=toRaw(d),P=toRaw(m);g||(hasChanged(m,P)&&track(I,"get",m),track(I,"get",P));const{has:F}=getProto(I),D=w?toShallow:g?toReadonly:toReactive;if(F.call(I,m))return D(d.get(m));if(F.call(I,P))return D(d.get(P));d!==I&&d.get(m)}function has(d,m=!1){const g=this.__v_raw,w=toRaw(g),I=toRaw(d);return m||(hasChanged(d,I)&&track(w,"has",d),track(w,"has",I)),d===I?g.has(d):g.has(d)||g.has(I)}function size(d,m=!1){return d=d.__v_raw,!m&&track(toRaw(d),"iterate",ITERATE_KEY),Reflect.get(d,"size",d)}function add$1(d,m=!1){!m&&!isShallow(d)&&!isReadonly(d)&&(d=toRaw(d));const g=toRaw(this);return getProto(g).has.call(g,d)||(g.add(d),trigger(g,"add",d,d)),this}function set(d,m,g=!1){!g&&!isShallow(m)&&!isReadonly(m)&&(m=toRaw(m));const w=toRaw(this),{has:I,get:P}=getProto(w);let F=I.call(w,d);F||(d=toRaw(d),F=I.call(w,d));const D=P.call(w,d);return w.set(d,m),F?hasChanged(m,D)&&trigger(w,"set",d,m):trigger(w,"add",d,m),this}function deleteEntry(d){const m=toRaw(this),{has:g,get:w}=getProto(m);let I=g.call(m,d);I||(d=toRaw(d),I=g.call(m,d)),w&&w.call(m,d);const P=m.delete(d);return I&&trigger(m,"delete",d,void 0),P}function clear$2(){const d=toRaw(this),m=d.size!==0,g=d.clear();return m&&trigger(d,"clear",void 0,void 0),g}function createForEach(d,m){return function(w,I){const P=this,F=P.__v_raw,D=toRaw(F),$=m?toShallow:d?toReadonly:toReactive;return!d&&track(D,"iterate",ITERATE_KEY),F.forEach((V,j)=>w.call(I,$(V),$(j),P))}}function createIterableMethod(d,m,g){return function(...w){const I=this.__v_raw,P=toRaw(I),F=isMap(P),D=d==="entries"||d===Symbol.iterator&&F,$=d==="keys"&&F,V=I[d](...w),j=g?toShallow:m?toReadonly:toReactive;return!m&&track(P,"iterate",$?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:G,done:W}=V.next();return W?{value:G,done:W}:{value:D?[j(G[0]),j(G[1])]:j(G),done:W}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(d){return function(...m){return d==="delete"?!1:d==="clear"?void 0:this}}function createInstrumentations(){const d={get(P){return get(this,P)},get size(){return size(this)},has,add:add$1,set,delete:deleteEntry,clear:clear$2,forEach:createForEach(!1,!1)},m={get(P){return get(this,P,!1,!0)},get size(){return size(this)},has,add(P){return add$1.call(this,P,!0)},set(P,F){return set.call(this,P,F,!0)},delete:deleteEntry,clear:clear$2,forEach:createForEach(!1,!0)},g={get(P){return get(this,P,!0)},get size(){return size(this,!0)},has(P){return has.call(this,P,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},w={get(P){return get(this,P,!0,!0)},get size(){return size(this,!0)},has(P){return has.call(this,P,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(P=>{d[P]=createIterableMethod(P,!1,!1),g[P]=createIterableMethod(P,!0,!1),m[P]=createIterableMethod(P,!1,!0),w[P]=createIterableMethod(P,!0,!0)}),[d,g,m,w]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(d,m){const g=m?d?shallowReadonlyInstrumentations:shallowInstrumentations:d?readonlyInstrumentations:mutableInstrumentations;return(w,I,P)=>I==="__v_isReactive"?!d:I==="__v_isReadonly"?d:I==="__v_raw"?w:Reflect.get(hasOwn(g,I)&&I in w?g:w,I,P)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(d){switch(d){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(d){return d.__v_skip||!Object.isExtensible(d)?0:targetTypeMap(toRawType(d))}function reactive(d){return isReadonly(d)?d:createReactiveObject(d,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(d){return createReactiveObject(d,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(d){return createReactiveObject(d,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(d){return createReactiveObject(d,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(d,m,g,w,I){if(!isObject$2(d)||d.__v_raw&&!(m&&d.__v_isReactive))return d;const P=I.get(d);if(P)return P;const F=getTargetType(d);if(F===0)return d;const D=new Proxy(d,F===2?w:g);return I.set(d,D),D}function isReactive(d){return isReadonly(d)?isReactive(d.__v_raw):!!(d&&d.__v_isReactive)}function isReadonly(d){return!!(d&&d.__v_isReadonly)}function isShallow(d){return!!(d&&d.__v_isShallow)}function isProxy(d){return d?!!d.__v_raw:!1}function toRaw(d){const m=d&&d.__v_raw;return m?toRaw(m):d}function markRaw(d){return!hasOwn(d,"__v_skip")&&Object.isExtensible(d)&&def(d,"__v_skip",!0),d}const toReactive=d=>isObject$2(d)?reactive(d):d,toReadonly=d=>isObject$2(d)?readonly(d):d;function isRef(d){return d?d.__v_isRef===!0:!1}function ref(d){return createRef(d,!1)}function shallowRef(d){return createRef(d,!0)}function createRef(d,m){return isRef(d)?d:new RefImpl(d,m)}class RefImpl{constructor(m,g){this.dep=new Dep,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=g?m:toRaw(m),this._value=g?m:toReactive(m),this.__v_isShallow=g}get value(){return this.dep.track(),this._value}set value(m){const g=this._rawValue,w=this.__v_isShallow||isShallow(m)||isReadonly(m);m=w?m:toRaw(m),hasChanged(m,g)&&(this._rawValue=m,this._value=w?m:toReactive(m),this.dep.trigger())}}function unref(d){return isRef(d)?d.value:d}const shallowUnwrapHandlers={get:(d,m,g)=>m==="__v_raw"?d:unref(Reflect.get(d,m,g)),set:(d,m,g,w)=>{const I=d[m];return isRef(I)&&!isRef(g)?(I.value=g,!0):Reflect.set(d,m,g,w)}};function proxyRefs(d){return isReactive(d)?d:new Proxy(d,shallowUnwrapHandlers)}class ComputedRefImpl{constructor(m,g,w){this.fn=m,this.setter=g,this._value=void 0,this.dep=new Dep(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=globalVersion-1,this.effect=this,this.__v_isReadonly=!g,this.isSSR=w}notify(){if(this.flags|=16,!(this.flags&8)&&activeSub!==this)return batch(this),!0}get value(){const m=this.dep.track();return refreshComputed(this),m&&(m.version=this.dep.version),this._value}set value(m){this.setter&&this.setter(m)}}function computed$1(d,m,g=!1){let w,I;return isFunction$1(d)?w=d:(w=d.get,I=d.set),new ComputedRefImpl(w,I,g)}const INITIAL_WATCHER_VALUE={},cleanupMap=new WeakMap;let activeWatcher;function onWatcherCleanup(d,m=!1,g=activeWatcher){if(g){let w=cleanupMap.get(g);w||cleanupMap.set(g,w=[]),w.push(d)}}function watch$1(d,m,g=EMPTY_OBJ){const{immediate:w,deep:I,once:P,scheduler:F,augmentJob:D,call:$}=g,V=ee=>I?ee:isShallow(ee)||I===!1||I===0?traverse(ee,1):traverse(ee);let j,G,W,Z,U=!1,Q=!1;if(isRef(d)?(G=()=>d.value,U=isShallow(d)):isReactive(d)?(G=()=>V(d),U=!0):isArray$3(d)?(Q=!0,U=d.some(ee=>isReactive(ee)||isShallow(ee)),G=()=>d.map(ee=>{if(isRef(ee))return ee.value;if(isReactive(ee))return V(ee);if(isFunction$1(ee))return $?$(ee,2):ee()})):isFunction$1(d)?m?G=$?()=>$(d,2):d:G=()=>{if(W){pauseTracking();try{W()}finally{resetTracking()}}const ee=activeWatcher;activeWatcher=j;try{return $?$(d,3,[Z]):d(Z)}finally{activeWatcher=ee}}:G=NOOP,m&&I){const ee=G,ie=I===!0?1/0:I;G=()=>traverse(ee(),ie)}const K=getCurrentScope(),te=()=>{j.stop(),K&&remove$1(K.effects,j)};if(P&&m){const ee=m;m=(...ie)=>{ee(...ie),te()}}let X=Q?new Array(d.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const J=ee=>{if(!(!(j.flags&1)||!j.dirty&&!ee))if(m){const ie=j.run();if(I||U||(Q?ie.some((fe,se)=>hasChanged(fe,X[se])):hasChanged(ie,X))){W&&W();const fe=activeWatcher;activeWatcher=j;try{const se=[ie,X===INITIAL_WATCHER_VALUE?void 0:Q&&X[0]===INITIAL_WATCHER_VALUE?[]:X,Z];$?$(m,3,se):m(...se),X=ie}finally{activeWatcher=fe}}}else j.run()};return D&&D(J),j=new ReactiveEffect(G),j.scheduler=F?()=>F(J,!1):J,Z=ee=>onWatcherCleanup(ee,!1,j),W=j.onStop=()=>{const ee=cleanupMap.get(j);if(ee){if($)$(ee,4);else for(const ie of ee)ie();cleanupMap.delete(j)}},m?w?J(!0):X=j.run():F?F(J.bind(null,!0),!0):j.run(),te.pause=j.pause.bind(j),te.resume=j.resume.bind(j),te.stop=te,te}function traverse(d,m=1/0,g){if(m<=0||!isObject$2(d)||d.__v_skip||(g=g||new Set,g.has(d)))return d;if(g.add(d),m--,isRef(d))traverse(d.value,m,g);else if(isArray$3(d))for(let w=0;w<d.length;w++)traverse(d[w],m,g);else if(isSet$1(d)||isMap(d))d.forEach(w=>{traverse(w,m,g)});else if(isPlainObject(d)){for(const w in d)traverse(d[w],m,g);for(const w of Object.getOwnPropertySymbols(d))Object.prototype.propertyIsEnumerable.call(d,w)&&traverse(d[w],m,g)}return d}/**
* @vue/runtime-core v3.5.8
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const stack=[];let isWarning=!1;function warn$1(d,...m){if(isWarning)return;isWarning=!0,pauseTracking();const g=stack.length?stack[stack.length-1].component:null,w=g&&g.appContext.config.warnHandler,I=getComponentTrace();if(w)callWithErrorHandling(w,g,11,[d+m.map(P=>{var F,D;return(D=(F=P.toString)==null?void 0:F.call(P))!=null?D:JSON.stringify(P)}).join(""),g&&g.proxy,I.map(({vnode:P})=>`at <${formatComponentName(g,P.type)}>`).join(`
`),I]);else{const P=[`[Vue warn]: ${d}`,...m];I.length&&P.push(`
`,...formatTrace(I)),console.warn(...P)}resetTracking(),isWarning=!1}function getComponentTrace(){let d=stack[stack.length-1];if(!d)return[];const m=[];for(;d;){const g=m[0];g&&g.vnode===d?g.recurseCount++:m.push({vnode:d,recurseCount:0});const w=d.component&&d.component.parent;d=w&&w.vnode}return m}function formatTrace(d){const m=[];return d.forEach((g,w)=>{m.push(...w===0?[]:[`
`],...formatTraceEntry(g))}),m}function formatTraceEntry({vnode:d,recurseCount:m}){const g=m>0?`... (${m} recursive calls)`:"",w=d.component?d.component.parent==null:!1,I=` at <${formatComponentName(d.component,d.type,w)}`,P=">"+g;return d.props?[I,...formatProps(d.props),P]:[I+P]}function formatProps(d){const m=[],g=Object.keys(d);return g.slice(0,3).forEach(w=>{m.push(...formatProp(w,d[w]))}),g.length>3&&m.push(" ..."),m}function formatProp(d,m,g){return isString$1(m)?(m=JSON.stringify(m),g?m:[`${d}=${m}`]):typeof m=="number"||typeof m=="boolean"||m==null?g?m:[`${d}=${m}`]:isRef(m)?(m=formatProp(d,toRaw(m.value),!0),g?m:[`${d}=Ref<`,m,">"]):isFunction$1(m)?[`${d}=fn${m.name?`<${m.name}>`:""}`]:(m=toRaw(m),g?m:[`${d}=`,m])}function callWithErrorHandling(d,m,g,w){try{return w?d(...w):d()}catch(I){handleError(I,m,g)}}function callWithAsyncErrorHandling(d,m,g,w){if(isFunction$1(d)){const I=callWithErrorHandling(d,m,g,w);return I&&isPromise$1(I)&&I.catch(P=>{handleError(P,m,g)}),I}if(isArray$3(d)){const I=[];for(let P=0;P<d.length;P++)I.push(callWithAsyncErrorHandling(d[P],m,g,w));return I}}function handleError(d,m,g,w=!0){const I=m?m.vnode:null,{errorHandler:P,throwUnhandledErrorInProduction:F}=m&&m.appContext.config||EMPTY_OBJ;if(m){let D=m.parent;const $=m.proxy,V=`https://vuejs.org/error-reference/#runtime-${g}`;for(;D;){const j=D.ec;if(j){for(let G=0;G<j.length;G++)if(j[G](d,$,V)===!1)return}D=D.parent}if(P){pauseTracking(),callWithErrorHandling(P,null,10,[d,$,V]),resetTracking();return}}logError(d,g,I,w,F)}function logError(d,m,g,w=!0,I=!1){if(I)throw d;console.error(d)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(d){const m=currentFlushPromise||resolvedPromise;return d?m.then(this?d.bind(this):d):m}function findInsertionIndex$1(d){let m=isFlushing?flushIndex+1:0,g=queue.length;for(;m<g;){const w=m+g>>>1,I=queue[w],P=getId(I);P<d||P===d&&I.flags&2?m=w+1:g=w}return m}function queueJob(d){if(!(d.flags&1)){const m=getId(d),g=queue[queue.length-1];!g||!(d.flags&2)&&m>=getId(g)?queue.push(d):queue.splice(findInsertionIndex$1(m),0,d),d.flags|=1,queueFlush()}}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function queuePostFlushCb(d){isArray$3(d)?pendingPostFlushCbs.push(...d):activePostFlushCbs&&d.id===-1?activePostFlushCbs.splice(postFlushIndex+1,0,d):d.flags&1||(pendingPostFlushCbs.push(d),d.flags|=1),queueFlush()}function flushPreFlushCbs(d,m,g=isFlushing?flushIndex+1:0){for(;g<queue.length;g++){const w=queue[g];if(w&&w.flags&2){if(d&&w.id!==d.uid)continue;queue.splice(g,1),g--,w.flags&4&&(w.flags&=-2),w(),w.flags&4||(w.flags&=-2)}}}function flushPostFlushCbs(d){if(pendingPostFlushCbs.length){const m=[...new Set(pendingPostFlushCbs)].sort((g,w)=>getId(g)-getId(w));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...m);return}for(activePostFlushCbs=m,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++){const g=activePostFlushCbs[postFlushIndex];g.flags&4&&(g.flags&=-2),g.flags&8||g(),g.flags&=-2}activePostFlushCbs=null,postFlushIndex=0}}const getId=d=>d.id==null?d.flags&2?-1:1/0:d.id;function flushJobs(d){isFlushPending=!1,isFlushing=!0;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const m=queue[flushIndex];m&&!(m.flags&8)&&(m.flags&4&&(m.flags&=-2),callWithErrorHandling(m,m.i,m.i?15:14),m.flags&4||(m.flags&=-2))}}finally{for(;flushIndex<queue.length;flushIndex++){const m=queue[flushIndex];m&&(m.flags&=-2)}flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(d){const m=currentRenderingInstance;return currentRenderingInstance=d,currentScopeId=d&&d.type.__scopeId||null,m}function withCtx(d,m=currentRenderingInstance,g){if(!m||d._n)return d;const w=(...I)=>{w._d&&setBlockTracking(-1);const P=setCurrentRenderingInstance(m);let F;try{F=d(...I)}finally{setCurrentRenderingInstance(P),w._d&&setBlockTracking(1)}return F};return w._n=!0,w._c=!0,w._d=!0,w}function withDirectives(d,m){if(currentRenderingInstance===null)return d;const g=getComponentPublicInstance(currentRenderingInstance),w=d.dirs||(d.dirs=[]);for(let I=0;I<m.length;I++){let[P,F,D,$=EMPTY_OBJ]=m[I];P&&(isFunction$1(P)&&(P={mounted:P,updated:P}),P.deep&&traverse(F),w.push({dir:P,instance:g,value:F,oldValue:void 0,arg:D,modifiers:$}))}return d}function invokeDirectiveHook(d,m,g,w){const I=d.dirs,P=m&&m.dirs;for(let F=0;F<I.length;F++){const D=I[F];P&&(D.oldValue=P[F].value);let $=D.dir[w];$&&(pauseTracking(),callWithAsyncErrorHandling($,g,8,[d.el,D,d,m]),resetTracking())}}const TeleportEndKey=Symbol("_vte"),isTeleport=d=>d.__isTeleport;function setTransitionHooks(d,m){d.shapeFlag&6&&d.component?(d.transition=m,setTransitionHooks(d.component.subTree,m)):d.shapeFlag&128?(d.ssContent.transition=m.clone(d.ssContent),d.ssFallback.transition=m.clone(d.ssFallback)):d.transition=m}/*! #__NO_SIDE_EFFECTS__ */function defineComponent(d,m){return isFunction$1(d)?extend({name:d.name},m,{setup:d}):d}function markAsyncBoundary(d){d.ids=[d.ids[0]+d.ids[2]+++"-",0,0]}function setRef(d,m,g,w,I=!1){if(isArray$3(d)){d.forEach((U,Q)=>setRef(U,m&&(isArray$3(m)?m[Q]:m),g,w,I));return}if(isAsyncWrapper(w)&&!I)return;const P=w.shapeFlag&4?getComponentPublicInstance(w.component):w.el,F=I?null:P,{i:D,r:$}=d,V=m&&m.r,j=D.refs===EMPTY_OBJ?D.refs={}:D.refs,G=D.setupState,W=toRaw(G),Z=G===EMPTY_OBJ?()=>!1:U=>hasOwn(W,U);if(V!=null&&V!==$&&(isString$1(V)?(j[V]=null,Z(V)&&(G[V]=null)):isRef(V)&&(V.value=null)),isFunction$1($))callWithErrorHandling($,D,12,[F,j]);else{const U=isString$1($),Q=isRef($);if(U||Q){const K=()=>{if(d.f){const te=U?Z($)?G[$]:j[$]:$.value;I?isArray$3(te)&&remove$1(te,P):isArray$3(te)?te.includes(P)||te.push(P):U?(j[$]=[P],Z($)&&(G[$]=j[$])):($.value=[P],d.k&&(j[d.k]=$.value))}else U?(j[$]=F,Z($)&&(G[$]=F)):Q&&($.value=F,d.k&&(j[d.k]=F))};F?(K.id=-1,queuePostRenderEffect(K,g)):K()}}}const isAsyncWrapper=d=>!!d.type.__asyncLoader,isKeepAlive=d=>d.type.__isKeepAlive;function onActivated(d,m){registerKeepAliveHook(d,"a",m)}function onDeactivated(d,m){registerKeepAliveHook(d,"da",m)}function registerKeepAliveHook(d,m,g=currentInstance$1){const w=d.__wdc||(d.__wdc=()=>{let I=g;for(;I;){if(I.isDeactivated)return;I=I.parent}return d()});if(injectHook(m,w,g),g){let I=g.parent;for(;I&&I.parent;)isKeepAlive(I.parent.vnode)&&injectToKeepAliveRoot(w,m,g,I),I=I.parent}}function injectToKeepAliveRoot(d,m,g,w){const I=injectHook(m,d,w,!0);onUnmounted(()=>{remove$1(w[m],I)},g)}function injectHook(d,m,g=currentInstance$1,w=!1){if(g){const I=g[d]||(g[d]=[]),P=m.__weh||(m.__weh=(...F)=>{pauseTracking();const D=setCurrentInstance(g),$=callWithAsyncErrorHandling(m,g,d,F);return D(),resetTracking(),$});return w?I.unshift(P):I.push(P),P}}const createHook=d=>(m,g=currentInstance$1)=>{(!isInSSRComponentSetup||d==="sp")&&injectHook(d,(...w)=>m(...w),g)},onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(d,m=currentInstance$1){injectHook("ec",d,m)}const COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(d,m){return resolveAsset(COMPONENTS,d,!0,m)||d}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveDynamicComponent(d){return isString$1(d)?resolveAsset(COMPONENTS,d,!1)||d:d||NULL_DYNAMIC_COMPONENT}function resolveDirective(d){return resolveAsset(DIRECTIVES,d)}function resolveAsset(d,m,g=!0,w=!1){const I=currentRenderingInstance||currentInstance$1;if(I){const P=I.type;if(d===COMPONENTS){const D=getComponentName(P,!1);if(D&&(D===m||D===camelize(m)||D===capitalize(camelize(m))))return P}const F=resolve(I[d]||P[d],m)||resolve(I.appContext[d],m);return!F&&w?P:F}}function resolve(d,m){return d&&(d[m]||d[camelize(m)]||d[capitalize(camelize(m))])}function renderList(d,m,g,w){let I;const P=g,F=isArray$3(d);if(F||isString$1(d)){const D=F&&isReactive(d);let $=!1;D&&($=!isShallow(d),d=shallowReadArray(d)),I=new Array(d.length);for(let V=0,j=d.length;V<j;V++)I[V]=m($?toReactive(d[V]):d[V],V,void 0,P)}else if(typeof d=="number"){I=new Array(d);for(let D=0;D<d;D++)I[D]=m(D+1,D,void 0,P)}else if(isObject$2(d))if(d[Symbol.iterator])I=Array.from(d,(D,$)=>m(D,$,void 0,P));else{const D=Object.keys(d);I=new Array(D.length);for(let $=0,V=D.length;$<V;$++){const j=D[$];I[$]=m(d[j],j,$,P)}}else I=[];return I}function renderSlot(d,m,g={},w,I){if(currentRenderingInstance.ce||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.ce)return m!=="default"&&(g.name=m),openBlock(),createBlock(Fragment,null,[createVNode("slot",g,w&&w())],64);let P=d[m];P&&P._c&&(P._d=!1),openBlock();const F=P&&ensureValidVNode(P(g)),D=createBlock(Fragment,{key:(g.key||F&&F.key||`_${m}`)+(!F&&w?"_fb":"")},F||(w?w():[]),F&&d._===1?64:-2);return D.scopeId&&(D.slotScopeIds=[D.scopeId+"-s"]),P&&P._c&&(P._d=!0),D}function ensureValidVNode(d){return d.some(m=>isVNode(m)?!(m.type===Comment||m.type===Fragment&&!ensureValidVNode(m.children)):!0)?d:null}function toHandlers(d,m){const g={};for(const w in d)g[/[A-Z]/.test(w)?`on:${w}`:toHandlerKey(w)]=d[w];return g}const getPublicInstance=d=>d?isStatefulComponent(d)?getComponentPublicInstance(d):getPublicInstance(d.parent):null,publicPropertiesMap=extend(Object.create(null),{$:d=>d,$el:d=>d.vnode.el,$data:d=>d.data,$props:d=>d.props,$attrs:d=>d.attrs,$slots:d=>d.slots,$refs:d=>d.refs,$parent:d=>getPublicInstance(d.parent),$root:d=>getPublicInstance(d.root),$host:d=>d.ce,$emit:d=>d.emit,$options:d=>resolveMergedOptions(d),$forceUpdate:d=>d.f||(d.f=()=>{queueJob(d.update)}),$nextTick:d=>d.n||(d.n=nextTick.bind(d.proxy)),$watch:d=>instanceWatch.bind(d)}),hasSetupBinding=(d,m)=>d!==EMPTY_OBJ&&!d.__isScriptSetup&&hasOwn(d,m),PublicInstanceProxyHandlers={get({_:d},m){if(m==="__v_skip")return!0;const{ctx:g,setupState:w,data:I,props:P,accessCache:F,type:D,appContext:$}=d;let V;if(m[0]!=="$"){const Z=F[m];if(Z!==void 0)switch(Z){case 1:return w[m];case 2:return I[m];case 4:return g[m];case 3:return P[m]}else{if(hasSetupBinding(w,m))return F[m]=1,w[m];if(I!==EMPTY_OBJ&&hasOwn(I,m))return F[m]=2,I[m];if((V=d.propsOptions[0])&&hasOwn(V,m))return F[m]=3,P[m];if(g!==EMPTY_OBJ&&hasOwn(g,m))return F[m]=4,g[m];shouldCacheAccess&&(F[m]=0)}}const j=publicPropertiesMap[m];let G,W;if(j)return m==="$attrs"&&track(d.attrs,"get",""),j(d);if((G=D.__cssModules)&&(G=G[m]))return G;if(g!==EMPTY_OBJ&&hasOwn(g,m))return F[m]=4,g[m];if(W=$.config.globalProperties,hasOwn(W,m))return W[m]},set({_:d},m,g){const{data:w,setupState:I,ctx:P}=d;return hasSetupBinding(I,m)?(I[m]=g,!0):w!==EMPTY_OBJ&&hasOwn(w,m)?(w[m]=g,!0):hasOwn(d.props,m)||m[0]==="$"&&m.slice(1)in d?!1:(P[m]=g,!0)},has({_:{data:d,setupState:m,accessCache:g,ctx:w,appContext:I,propsOptions:P}},F){let D;return!!g[F]||d!==EMPTY_OBJ&&hasOwn(d,F)||hasSetupBinding(m,F)||(D=P[0])&&hasOwn(D,F)||hasOwn(w,F)||hasOwn(publicPropertiesMap,F)||hasOwn(I.config.globalProperties,F)},defineProperty(d,m,g){return g.get!=null?d._.accessCache[m]=0:hasOwn(g,"value")&&this.set(d,m,g.value,null),Reflect.defineProperty(d,m,g)}};function normalizePropsOrEmits(d){return isArray$3(d)?d.reduce((m,g)=>(m[g]=null,m),{}):d}let shouldCacheAccess=!0;function applyOptions(d){const m=resolveMergedOptions(d),g=d.proxy,w=d.ctx;shouldCacheAccess=!1,m.beforeCreate&&callHook(m.beforeCreate,d,"bc");const{data:I,computed:P,methods:F,watch:D,provide:$,inject:V,created:j,beforeMount:G,mounted:W,beforeUpdate:Z,updated:U,activated:Q,deactivated:K,beforeDestroy:te,beforeUnmount:X,destroyed:J,unmounted:ee,render:ie,renderTracked:fe,renderTriggered:se,errorCaptured:de,serverPrefetch:le,expose:ye,inheritAttrs:ae,components:ge,directives:Pe,filters:be}=m;if(V&&resolveInjections(V,w,null),F)for(const Re in F){const Oe=F[Re];isFunction$1(Oe)&&(w[Re]=Oe.bind(g))}if(I){const Re=I.call(g,g);isObject$2(Re)&&(d.data=reactive(Re))}if(shouldCacheAccess=!0,P)for(const Re in P){const Oe=P[Re],Ae=isFunction$1(Oe)?Oe.bind(g,g):isFunction$1(Oe.get)?Oe.get.bind(g,g):NOOP,He=!isFunction$1(Oe)&&isFunction$1(Oe.set)?Oe.set.bind(g):NOOP,Me=computed({get:Ae,set:He});Object.defineProperty(w,Re,{enumerable:!0,configurable:!0,get:()=>Me.value,set:je=>Me.value=je})}if(D)for(const Re in D)createWatcher(D[Re],w,g,Re);if($){const Re=isFunction$1($)?$.call(g):$;Reflect.ownKeys(Re).forEach(Oe=>{provide(Oe,Re[Oe])})}j&&callHook(j,d,"c");function ve(Re,Oe){isArray$3(Oe)?Oe.forEach(Ae=>Re(Ae.bind(g))):Oe&&Re(Oe.bind(g))}if(ve(onBeforeMount,G),ve(onMounted,W),ve(onBeforeUpdate,Z),ve(onUpdated,U),ve(onActivated,Q),ve(onDeactivated,K),ve(onErrorCaptured,de),ve(onRenderTracked,fe),ve(onRenderTriggered,se),ve(onBeforeUnmount,X),ve(onUnmounted,ee),ve(onServerPrefetch,le),isArray$3(ye))if(ye.length){const Re=d.exposed||(d.exposed={});ye.forEach(Oe=>{Object.defineProperty(Re,Oe,{get:()=>g[Oe],set:Ae=>g[Oe]=Ae})})}else d.exposed||(d.exposed={});ie&&d.render===NOOP&&(d.render=ie),ae!=null&&(d.inheritAttrs=ae),ge&&(d.components=ge),Pe&&(d.directives=Pe),le&&markAsyncBoundary(d)}function resolveInjections(d,m,g=NOOP){isArray$3(d)&&(d=normalizeInject(d));for(const w in d){const I=d[w];let P;isObject$2(I)?"default"in I?P=inject(I.from||w,I.default,!0):P=inject(I.from||w):P=inject(I),isRef(P)?Object.defineProperty(m,w,{enumerable:!0,configurable:!0,get:()=>P.value,set:F=>P.value=F}):m[w]=P}}function callHook(d,m,g){callWithAsyncErrorHandling(isArray$3(d)?d.map(w=>w.bind(m.proxy)):d.bind(m.proxy),m,g)}function createWatcher(d,m,g,w){let I=w.includes(".")?createPathGetter(g,w):()=>g[w];if(isString$1(d)){const P=m[d];isFunction$1(P)&&watch(I,P)}else if(isFunction$1(d))watch(I,d.bind(g));else if(isObject$2(d))if(isArray$3(d))d.forEach(P=>createWatcher(P,m,g,w));else{const P=isFunction$1(d.handler)?d.handler.bind(g):m[d.handler];isFunction$1(P)&&watch(I,P,d)}}function resolveMergedOptions(d){const m=d.type,{mixins:g,extends:w}=m,{mixins:I,optionsCache:P,config:{optionMergeStrategies:F}}=d.appContext,D=P.get(m);let $;return D?$=D:!I.length&&!g&&!w?$=m:($={},I.length&&I.forEach(V=>mergeOptions$1($,V,F,!0)),mergeOptions$1($,m,F)),isObject$2(m)&&P.set(m,$),$}function mergeOptions$1(d,m,g,w=!1){const{mixins:I,extends:P}=m;P&&mergeOptions$1(d,P,g,!0),I&&I.forEach(F=>mergeOptions$1(d,F,g,!0));for(const F in m)if(!(w&&F==="expose")){const D=internalOptionMergeStrats[F]||g&&g[F];d[F]=D?D(d[F],m[F]):m[F]}return d}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(d,m){return m?d?function(){return extend(isFunction$1(d)?d.call(this,this):d,isFunction$1(m)?m.call(this,this):m)}:m:d}function mergeInject(d,m){return mergeObjectOptions(normalizeInject(d),normalizeInject(m))}function normalizeInject(d){if(isArray$3(d)){const m={};for(let g=0;g<d.length;g++)m[d[g]]=d[g];return m}return d}function mergeAsArray(d,m){return d?[...new Set([].concat(d,m))]:m}function mergeObjectOptions(d,m){return d?extend(Object.create(null),d,m):m}function mergeEmitsOrPropsOptions(d,m){return d?isArray$3(d)&&isArray$3(m)?[...new Set([...d,...m])]:extend(Object.create(null),normalizePropsOrEmits(d),normalizePropsOrEmits(m??{})):m}function mergeWatchOptions(d,m){if(!d)return m;if(!m)return d;const g=extend(Object.create(null),d);for(const w in m)g[w]=mergeAsArray(d[w],m[w]);return g}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI$1(d,m){return function(w,I=null){isFunction$1(w)||(w=extend({},w)),I!=null&&!isObject$2(I)&&(I=null);const P=createAppContext(),F=new WeakSet,D=[];let $=!1;const V=P.app={_uid:uid$1++,_component:w,_props:I,_container:null,_context:P,_instance:null,version,get config(){return P.config},set config(j){},use(j,...G){return F.has(j)||(j&&isFunction$1(j.install)?(F.add(j),j.install(V,...G)):isFunction$1(j)&&(F.add(j),j(V,...G))),V},mixin(j){return P.mixins.includes(j)||P.mixins.push(j),V},component(j,G){return G?(P.components[j]=G,V):P.components[j]},directive(j,G){return G?(P.directives[j]=G,V):P.directives[j]},mount(j,G,W){if(!$){const Z=V._ceVNode||createVNode(w,I);return Z.appContext=P,W===!0?W="svg":W===!1&&(W=void 0),G&&m?m(Z,j):d(Z,j,W),$=!0,V._container=j,j.__vue_app__=V,getComponentPublicInstance(Z.component)}},onUnmount(j){D.push(j)},unmount(){$&&(callWithAsyncErrorHandling(D,V._instance,16),d(null,V._container),delete V._container.__vue_app__)},provide(j,G){return P.provides[j]=G,V},runWithContext(j){const G=currentApp;currentApp=V;try{return j()}finally{currentApp=G}}};return V}}let currentApp=null;function provide(d,m){if(currentInstance$1){let g=currentInstance$1.provides;const w=currentInstance$1.parent&&currentInstance$1.parent.provides;w===g&&(g=currentInstance$1.provides=Object.create(w)),g[d]=m}}function inject(d,m,g=!1){const w=currentInstance$1||currentRenderingInstance;if(w||currentApp){const I=currentApp?currentApp._context.provides:w?w.parent==null?w.vnode.appContext&&w.vnode.appContext.provides:w.parent.provides:void 0;if(I&&d in I)return I[d];if(arguments.length>1)return g&&isFunction$1(m)?m.call(w&&w.proxy):m}}const internalObjectProto={},createInternalObject=()=>Object.create(internalObjectProto),isInternalObject=d=>Object.getPrototypeOf(d)===internalObjectProto;function initProps(d,m,g,w=!1){const I={},P=createInternalObject();d.propsDefaults=Object.create(null),setFullProps(d,m,I,P);for(const F in d.propsOptions[0])F in I||(I[F]=void 0);g?d.props=w?I:shallowReactive(I):d.type.props?d.props=I:d.props=P,d.attrs=P}function updateProps(d,m,g,w){const{props:I,attrs:P,vnode:{patchFlag:F}}=d,D=toRaw(I),[$]=d.propsOptions;let V=!1;if((w||F>0)&&!(F&16)){if(F&8){const j=d.vnode.dynamicProps;for(let G=0;G<j.length;G++){let W=j[G];if(isEmitListener(d.emitsOptions,W))continue;const Z=m[W];if($)if(hasOwn(P,W))Z!==P[W]&&(P[W]=Z,V=!0);else{const U=camelize(W);I[U]=resolvePropValue($,D,U,Z,d,!1)}else Z!==P[W]&&(P[W]=Z,V=!0)}}}else{setFullProps(d,m,I,P)&&(V=!0);let j;for(const G in D)(!m||!hasOwn(m,G)&&((j=hyphenate(G))===G||!hasOwn(m,j)))&&($?g&&(g[G]!==void 0||g[j]!==void 0)&&(I[G]=resolvePropValue($,D,G,void 0,d,!0)):delete I[G]);if(P!==D)for(const G in P)(!m||!hasOwn(m,G))&&(delete P[G],V=!0)}V&&trigger(d.attrs,"set","")}function setFullProps(d,m,g,w){const[I,P]=d.propsOptions;let F=!1,D;if(m)for(let $ in m){if(isReservedProp($))continue;const V=m[$];let j;I&&hasOwn(I,j=camelize($))?!P||!P.includes(j)?g[j]=V:(D||(D={}))[j]=V:isEmitListener(d.emitsOptions,$)||(!($ in w)||V!==w[$])&&(w[$]=V,F=!0)}if(P){const $=toRaw(g),V=D||EMPTY_OBJ;for(let j=0;j<P.length;j++){const G=P[j];g[G]=resolvePropValue(I,$,G,V[G],d,!hasOwn(V,G))}}return F}function resolvePropValue(d,m,g,w,I,P){const F=d[g];if(F!=null){const D=hasOwn(F,"default");if(D&&w===void 0){const $=F.default;if(F.type!==Function&&!F.skipFactory&&isFunction$1($)){const{propsDefaults:V}=I;if(g in V)w=V[g];else{const j=setCurrentInstance(I);w=V[g]=$.call(null,m),j()}}else w=$;I.ce&&I.ce._setProp(g,w)}F[0]&&(P&&!D?w=!1:F[1]&&(w===""||w===hyphenate(g))&&(w=!0))}return w}const mixinPropsCache=new WeakMap;function normalizePropsOptions(d,m,g=!1){const w=g?mixinPropsCache:m.propsCache,I=w.get(d);if(I)return I;const P=d.props,F={},D=[];let $=!1;if(!isFunction$1(d)){const j=G=>{$=!0;const[W,Z]=normalizePropsOptions(G,m,!0);extend(F,W),Z&&D.push(...Z)};!g&&m.mixins.length&&m.mixins.forEach(j),d.extends&&j(d.extends),d.mixins&&d.mixins.forEach(j)}if(!P&&!$)return isObject$2(d)&&w.set(d,EMPTY_ARR),EMPTY_ARR;if(isArray$3(P))for(let j=0;j<P.length;j++){const G=camelize(P[j]);validatePropName(G)&&(F[G]=EMPTY_OBJ)}else if(P)for(const j in P){const G=camelize(j);if(validatePropName(G)){const W=P[j],Z=F[G]=isArray$3(W)||isFunction$1(W)?{type:W}:extend({},W),U=Z.type;let Q=!1,K=!0;if(isArray$3(U))for(let te=0;te<U.length;++te){const X=U[te],J=isFunction$1(X)&&X.name;if(J==="Boolean"){Q=!0;break}else J==="String"&&(K=!1)}else Q=isFunction$1(U)&&U.name==="Boolean";Z[0]=Q,Z[1]=K,(Q||hasOwn(Z,"default"))&&D.push(G)}}const V=[F,D];return isObject$2(d)&&w.set(d,V),V}function validatePropName(d){return d[0]!=="$"&&!isReservedProp(d)}const isInternalKey=d=>d[0]==="_"||d==="$stable",normalizeSlotValue=d=>isArray$3(d)?d.map(normalizeVNode):[normalizeVNode(d)],normalizeSlot$1=(d,m,g)=>{if(m._n)return m;const w=withCtx((...I)=>normalizeSlotValue(m(...I)),g);return w._c=!1,w},normalizeObjectSlots=(d,m,g)=>{const w=d._ctx;for(const I in d){if(isInternalKey(I))continue;const P=d[I];if(isFunction$1(P))m[I]=normalizeSlot$1(I,P,w);else if(P!=null){const F=normalizeSlotValue(P);m[I]=()=>F}}},normalizeVNodeSlots=(d,m)=>{const g=normalizeSlotValue(m);d.slots.default=()=>g},assignSlots=(d,m,g)=>{for(const w in m)(g||w!=="_")&&(d[w]=m[w])},initSlots=(d,m,g)=>{const w=d.slots=createInternalObject();if(d.vnode.shapeFlag&32){const I=m._;I?(assignSlots(w,m,g),g&&def(w,"_",I,!0)):normalizeObjectSlots(m,w)}else m&&normalizeVNodeSlots(d,m)},updateSlots=(d,m,g)=>{const{vnode:w,slots:I}=d;let P=!0,F=EMPTY_OBJ;if(w.shapeFlag&32){const D=m._;D?g&&D===1?P=!1:assignSlots(I,m,g):(P=!m.$stable,normalizeObjectSlots(m,I)),F=m}else m&&(normalizeVNodeSlots(d,m),F={default:1});if(P)for(const D in I)!isInternalKey(D)&&F[D]==null&&delete I[D]},queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(d){return baseCreateRenderer(d)}function baseCreateRenderer(d,m){const g=getGlobalThis();g.__VUE__=!0;const{insert:w,remove:I,patchProp:P,createElement:F,createText:D,createComment:$,setText:V,setElementText:j,parentNode:G,nextSibling:W,setScopeId:Z=NOOP,insertStaticContent:U}=d,Q=(oe,ue,_e,Te=null,Be=null,re=null,me=void 0,Ie=null,xe=!!ue.dynamicChildren)=>{if(oe===ue)return;oe&&!isSameVNodeType(oe,ue)&&(Te=Le(oe),je(oe,Be,re,!0),oe=null),ue.patchFlag===-2&&(xe=!1,ue.dynamicChildren=null);const{type:Ze,ref:Xe,shapeFlag:nt}=ue;switch(Ze){case Text:K(oe,ue,_e,Te);break;case Comment:te(oe,ue,_e,Te);break;case Static:oe==null&&X(ue,_e,Te,me);break;case Fragment:ge(oe,ue,_e,Te,Be,re,me,Ie,xe);break;default:nt&1?ie(oe,ue,_e,Te,Be,re,me,Ie,xe):nt&6?Pe(oe,ue,_e,Te,Be,re,me,Ie,xe):(nt&64||nt&128)&&Ze.process(oe,ue,_e,Te,Be,re,me,Ie,xe,Fe)}Xe!=null&&Be&&setRef(Xe,oe&&oe.ref,re,ue||oe,!ue)},K=(oe,ue,_e,Te)=>{if(oe==null)w(ue.el=D(ue.children),_e,Te);else{const Be=ue.el=oe.el;ue.children!==oe.children&&V(Be,ue.children)}},te=(oe,ue,_e,Te)=>{oe==null?w(ue.el=$(ue.children||""),_e,Te):ue.el=oe.el},X=(oe,ue,_e,Te)=>{[oe.el,oe.anchor]=U(oe.children,ue,_e,Te,oe.el,oe.anchor)},J=({el:oe,anchor:ue},_e,Te)=>{let Be;for(;oe&&oe!==ue;)Be=W(oe),w(oe,_e,Te),oe=Be;w(ue,_e,Te)},ee=({el:oe,anchor:ue})=>{let _e;for(;oe&&oe!==ue;)_e=W(oe),I(oe),oe=_e;I(ue)},ie=(oe,ue,_e,Te,Be,re,me,Ie,xe)=>{ue.type==="svg"?me="svg":ue.type==="math"&&(me="mathml"),oe==null?fe(ue,_e,Te,Be,re,me,Ie,xe):le(oe,ue,Be,re,me,Ie,xe)},fe=(oe,ue,_e,Te,Be,re,me,Ie)=>{let xe,Ze;const{props:Xe,shapeFlag:nt,transition:lt,dirs:ot}=oe;if(xe=oe.el=F(oe.type,re,Xe&&Xe.is,Xe),nt&8?j(xe,oe.children):nt&16&&de(oe.children,xe,null,Te,Be,resolveChildrenNamespace(oe,re),me,Ie),ot&&invokeDirectiveHook(oe,null,Te,"created"),se(xe,oe,oe.scopeId,me,Te),Xe){for(const ut in Xe)ut!=="value"&&!isReservedProp(ut)&&P(xe,ut,null,Xe[ut],re,Te);"value"in Xe&&P(xe,"value",null,Xe.value,re),(Ze=Xe.onVnodeBeforeMount)&&invokeVNodeHook(Ze,Te,oe)}ot&&invokeDirectiveHook(oe,null,Te,"beforeMount");const dt=needTransition(Be,lt);dt&&lt.beforeEnter(xe),w(xe,ue,_e),((Ze=Xe&&Xe.onVnodeMounted)||dt||ot)&&queuePostRenderEffect(()=>{Ze&&invokeVNodeHook(Ze,Te,oe),dt&&lt.enter(xe),ot&&invokeDirectiveHook(oe,null,Te,"mounted")},Be)},se=(oe,ue,_e,Te,Be)=>{if(_e&&Z(oe,_e),Te)for(let re=0;re<Te.length;re++)Z(oe,Te[re]);if(Be){let re=Be.subTree;if(ue===re||isSuspense(re.type)&&(re.ssContent===ue||re.ssFallback===ue)){const me=Be.vnode;se(oe,me,me.scopeId,me.slotScopeIds,Be.parent)}}},de=(oe,ue,_e,Te,Be,re,me,Ie,xe=0)=>{for(let Ze=xe;Ze<oe.length;Ze++){const Xe=oe[Ze]=Ie?cloneIfMounted(oe[Ze]):normalizeVNode(oe[Ze]);Q(null,Xe,ue,_e,Te,Be,re,me,Ie)}},le=(oe,ue,_e,Te,Be,re,me)=>{const Ie=ue.el=oe.el;let{patchFlag:xe,dynamicChildren:Ze,dirs:Xe}=ue;xe|=oe.patchFlag&16;const nt=oe.props||EMPTY_OBJ,lt=ue.props||EMPTY_OBJ;let ot;if(_e&&toggleRecurse(_e,!1),(ot=lt.onVnodeBeforeUpdate)&&invokeVNodeHook(ot,_e,ue,oe),Xe&&invokeDirectiveHook(ue,oe,_e,"beforeUpdate"),_e&&toggleRecurse(_e,!0),(nt.innerHTML&&lt.innerHTML==null||nt.textContent&&lt.textContent==null)&&j(Ie,""),Ze?ye(oe.dynamicChildren,Ze,Ie,_e,Te,resolveChildrenNamespace(ue,Be),re):me||Oe(oe,ue,Ie,null,_e,Te,resolveChildrenNamespace(ue,Be),re,!1),xe>0){if(xe&16)ae(Ie,nt,lt,_e,Be);else if(xe&2&&nt.class!==lt.class&&P(Ie,"class",null,lt.class,Be),xe&4&&P(Ie,"style",nt.style,lt.style,Be),xe&8){const dt=ue.dynamicProps;for(let ut=0;ut<dt.length;ut++){const we=dt[ut],et=nt[we],rt=lt[we];(rt!==et||we==="value")&&P(Ie,we,et,rt,Be,_e)}}xe&1&&oe.children!==ue.children&&j(Ie,ue.children)}else!me&&Ze==null&&ae(Ie,nt,lt,_e,Be);((ot=lt.onVnodeUpdated)||Xe)&&queuePostRenderEffect(()=>{ot&&invokeVNodeHook(ot,_e,ue,oe),Xe&&invokeDirectiveHook(ue,oe,_e,"updated")},Te)},ye=(oe,ue,_e,Te,Be,re,me)=>{for(let Ie=0;Ie<ue.length;Ie++){const xe=oe[Ie],Ze=ue[Ie],Xe=xe.el&&(xe.type===Fragment||!isSameVNodeType(xe,Ze)||xe.shapeFlag&70)?G(xe.el):_e;Q(xe,Ze,Xe,null,Te,Be,re,me,!0)}},ae=(oe,ue,_e,Te,Be)=>{if(ue!==_e){if(ue!==EMPTY_OBJ)for(const re in ue)!isReservedProp(re)&&!(re in _e)&&P(oe,re,ue[re],null,Be,Te);for(const re in _e){if(isReservedProp(re))continue;const me=_e[re],Ie=ue[re];me!==Ie&&re!=="value"&&P(oe,re,Ie,me,Be,Te)}"value"in _e&&P(oe,"value",ue.value,_e.value,Be)}},ge=(oe,ue,_e,Te,Be,re,me,Ie,xe)=>{const Ze=ue.el=oe?oe.el:D(""),Xe=ue.anchor=oe?oe.anchor:D("");let{patchFlag:nt,dynamicChildren:lt,slotScopeIds:ot}=ue;ot&&(Ie=Ie?Ie.concat(ot):ot),oe==null?(w(Ze,_e,Te),w(Xe,_e,Te),de(ue.children||[],_e,Xe,Be,re,me,Ie,xe)):nt>0&&nt&64&&lt&&oe.dynamicChildren?(ye(oe.dynamicChildren,lt,_e,Be,re,me,Ie),(ue.key!=null||Be&&ue===Be.subTree)&&traverseStaticChildren(oe,ue,!0)):Oe(oe,ue,_e,Xe,Be,re,me,Ie,xe)},Pe=(oe,ue,_e,Te,Be,re,me,Ie,xe)=>{ue.slotScopeIds=Ie,oe==null?ue.shapeFlag&512?Be.ctx.activate(ue,_e,Te,me,xe):be(ue,_e,Te,Be,re,me,xe):Ee(oe,ue,xe)},be=(oe,ue,_e,Te,Be,re,me)=>{const Ie=oe.component=createComponentInstance(oe,Te,Be);if(isKeepAlive(oe)&&(Ie.ctx.renderer=Fe),setupComponent(Ie,!1,me),Ie.asyncDep){if(Be&&Be.registerDep(Ie,ve,me),!oe.el){const xe=Ie.subTree=createVNode(Comment);te(null,xe,ue,_e)}}else ve(Ie,oe,ue,_e,Be,re,me)},Ee=(oe,ue,_e)=>{const Te=ue.component=oe.component;if(shouldUpdateComponent(oe,ue,_e))if(Te.asyncDep&&!Te.asyncResolved){Re(Te,ue,_e);return}else Te.next=ue,Te.update();else ue.el=oe.el,Te.vnode=ue},ve=(oe,ue,_e,Te,Be,re,me)=>{const Ie=()=>{if(oe.isMounted){let{next:nt,bu:lt,u:ot,parent:dt,vnode:ut}=oe;{const H=locateNonHydratedAsyncRoot(oe);if(H){nt&&(nt.el=ut.el,Re(oe,nt,me)),H.asyncDep.then(()=>{oe.isUnmounted||Ie()});return}}let we=nt,et;toggleRecurse(oe,!1),nt?(nt.el=ut.el,Re(oe,nt,me)):nt=ut,lt&&invokeArrayFns(lt),(et=nt.props&&nt.props.onVnodeBeforeUpdate)&&invokeVNodeHook(et,dt,nt,ut),toggleRecurse(oe,!0);const rt=renderComponentRoot(oe),at=oe.subTree;oe.subTree=rt,Q(at,rt,G(at.el),Le(at),oe,Be,re),nt.el=rt.el,we===null&&updateHOCHostEl(oe,rt.el),ot&&queuePostRenderEffect(ot,Be),(et=nt.props&&nt.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(et,dt,nt,ut),Be)}else{let nt;const{el:lt,props:ot}=ue,{bm:dt,m:ut,parent:we,root:et,type:rt}=oe,at=isAsyncWrapper(ue);if(toggleRecurse(oe,!1),dt&&invokeArrayFns(dt),!at&&(nt=ot&&ot.onVnodeBeforeMount)&&invokeVNodeHook(nt,we,ue),toggleRecurse(oe,!0),lt&&$e){const H=()=>{oe.subTree=renderComponentRoot(oe),$e(lt,oe.subTree,oe,Be,null)};at&&rt.__asyncHydrate?rt.__asyncHydrate(lt,oe,H):H()}else{et.ce&&et.ce._injectChildStyle(rt);const H=oe.subTree=renderComponentRoot(oe);Q(null,H,_e,Te,oe,Be,re),ue.el=H.el}if(ut&&queuePostRenderEffect(ut,Be),!at&&(nt=ot&&ot.onVnodeMounted)){const H=ue;queuePostRenderEffect(()=>invokeVNodeHook(nt,we,H),Be)}(ue.shapeFlag&256||we&&isAsyncWrapper(we.vnode)&&we.vnode.shapeFlag&256)&&oe.a&&queuePostRenderEffect(oe.a,Be),oe.isMounted=!0,ue=_e=Te=null}};oe.scope.on();const xe=oe.effect=new ReactiveEffect(Ie);oe.scope.off();const Ze=oe.update=xe.run.bind(xe),Xe=oe.job=xe.runIfDirty.bind(xe);Xe.i=oe,Xe.id=oe.uid,xe.scheduler=()=>queueJob(Xe),toggleRecurse(oe,!0),Ze()},Re=(oe,ue,_e)=>{ue.component=oe;const Te=oe.vnode.props;oe.vnode=ue,oe.next=null,updateProps(oe,ue.props,Te,_e),updateSlots(oe,ue.children,_e),pauseTracking(),flushPreFlushCbs(oe),resetTracking()},Oe=(oe,ue,_e,Te,Be,re,me,Ie,xe=!1)=>{const Ze=oe&&oe.children,Xe=oe?oe.shapeFlag:0,nt=ue.children,{patchFlag:lt,shapeFlag:ot}=ue;if(lt>0){if(lt&128){He(Ze,nt,_e,Te,Be,re,me,Ie,xe);return}else if(lt&256){Ae(Ze,nt,_e,Te,Be,re,me,Ie,xe);return}}ot&8?(Xe&16&&ze(Ze,Be,re),nt!==Ze&&j(_e,nt)):Xe&16?ot&16?He(Ze,nt,_e,Te,Be,re,me,Ie,xe):ze(Ze,Be,re,!0):(Xe&8&&j(_e,""),ot&16&&de(nt,_e,Te,Be,re,me,Ie,xe))},Ae=(oe,ue,_e,Te,Be,re,me,Ie,xe)=>{oe=oe||EMPTY_ARR,ue=ue||EMPTY_ARR;const Ze=oe.length,Xe=ue.length,nt=Math.min(Ze,Xe);let lt;for(lt=0;lt<nt;lt++){const ot=ue[lt]=xe?cloneIfMounted(ue[lt]):normalizeVNode(ue[lt]);Q(oe[lt],ot,_e,null,Be,re,me,Ie,xe)}Ze>Xe?ze(oe,Be,re,!0,!1,nt):de(ue,_e,Te,Be,re,me,Ie,xe,nt)},He=(oe,ue,_e,Te,Be,re,me,Ie,xe)=>{let Ze=0;const Xe=ue.length;let nt=oe.length-1,lt=Xe-1;for(;Ze<=nt&&Ze<=lt;){const ot=oe[Ze],dt=ue[Ze]=xe?cloneIfMounted(ue[Ze]):normalizeVNode(ue[Ze]);if(isSameVNodeType(ot,dt))Q(ot,dt,_e,null,Be,re,me,Ie,xe);else break;Ze++}for(;Ze<=nt&&Ze<=lt;){const ot=oe[nt],dt=ue[lt]=xe?cloneIfMounted(ue[lt]):normalizeVNode(ue[lt]);if(isSameVNodeType(ot,dt))Q(ot,dt,_e,null,Be,re,me,Ie,xe);else break;nt--,lt--}if(Ze>nt){if(Ze<=lt){const ot=lt+1,dt=ot<Xe?ue[ot].el:Te;for(;Ze<=lt;)Q(null,ue[Ze]=xe?cloneIfMounted(ue[Ze]):normalizeVNode(ue[Ze]),_e,dt,Be,re,me,Ie,xe),Ze++}}else if(Ze>lt)for(;Ze<=nt;)je(oe[Ze],Be,re,!0),Ze++;else{const ot=Ze,dt=Ze,ut=new Map;for(Ze=dt;Ze<=lt;Ze++){const ne=ue[Ze]=xe?cloneIfMounted(ue[Ze]):normalizeVNode(ue[Ze]);ne.key!=null&&ut.set(ne.key,Ze)}let we,et=0;const rt=lt-dt+1;let at=!1,H=0;const q=new Array(rt);for(Ze=0;Ze<rt;Ze++)q[Ze]=0;for(Ze=ot;Ze<=nt;Ze++){const ne=oe[Ze];if(et>=rt){je(ne,Be,re,!0);continue}let Ce;if(ne.key!=null)Ce=ut.get(ne.key);else for(we=dt;we<=lt;we++)if(q[we-dt]===0&&isSameVNodeType(ne,ue[we])){Ce=we;break}Ce===void 0?je(ne,Be,re,!0):(q[Ce-dt]=Ze+1,Ce>=H?H=Ce:at=!0,Q(ne,ue[Ce],_e,null,Be,re,me,Ie,xe),et++)}const pe=at?getSequence(q):EMPTY_ARR;for(we=pe.length-1,Ze=rt-1;Ze>=0;Ze--){const ne=dt+Ze,Ce=ue[ne],Se=ne+1<Xe?ue[ne+1].el:Te;q[Ze]===0?Q(null,Ce,_e,Se,Be,re,me,Ie,xe):at&&(we<0||Ze!==pe[we]?Me(Ce,_e,Se,2):we--)}}},Me=(oe,ue,_e,Te,Be=null)=>{const{el:re,type:me,transition:Ie,children:xe,shapeFlag:Ze}=oe;if(Ze&6){Me(oe.component.subTree,ue,_e,Te);return}if(Ze&128){oe.suspense.move(ue,_e,Te);return}if(Ze&64){me.move(oe,ue,_e,Fe);return}if(me===Fragment){w(re,ue,_e);for(let nt=0;nt<xe.length;nt++)Me(xe[nt],ue,_e,Te);w(oe.anchor,ue,_e);return}if(me===Static){J(oe,ue,_e);return}if(Te!==2&&Ze&1&&Ie)if(Te===0)Ie.beforeEnter(re),w(re,ue,_e),queuePostRenderEffect(()=>Ie.enter(re),Be);else{const{leave:nt,delayLeave:lt,afterLeave:ot}=Ie,dt=()=>w(re,ue,_e),ut=()=>{nt(re,()=>{dt(),ot&&ot()})};lt?lt(re,dt,ut):ut()}else w(re,ue,_e)},je=(oe,ue,_e,Te=!1,Be=!1)=>{const{type:re,props:me,ref:Ie,children:xe,dynamicChildren:Ze,shapeFlag:Xe,patchFlag:nt,dirs:lt,cacheIndex:ot}=oe;if(nt===-2&&(Be=!1),Ie!=null&&setRef(Ie,null,_e,oe,!0),ot!=null&&(ue.renderCache[ot]=void 0),Xe&256){ue.ctx.deactivate(oe);return}const dt=Xe&1&&lt,ut=!isAsyncWrapper(oe);let we;if(ut&&(we=me&&me.onVnodeBeforeUnmount)&&invokeVNodeHook(we,ue,oe),Xe&6)Ve(oe.component,_e,Te);else{if(Xe&128){oe.suspense.unmount(_e,Te);return}dt&&invokeDirectiveHook(oe,null,ue,"beforeUnmount"),Xe&64?oe.type.remove(oe,ue,_e,Fe,Te):Ze&&!Ze.hasOnce&&(re!==Fragment||nt>0&&nt&64)?ze(Ze,ue,_e,!1,!0):(re===Fragment&&nt&384||!Be&&Xe&16)&&ze(xe,ue,_e),Te&&Ne(oe)}(ut&&(we=me&&me.onVnodeUnmounted)||dt)&&queuePostRenderEffect(()=>{we&&invokeVNodeHook(we,ue,oe),dt&&invokeDirectiveHook(oe,null,ue,"unmounted")},_e)},Ne=oe=>{const{type:ue,el:_e,anchor:Te,transition:Be}=oe;if(ue===Fragment){We(_e,Te);return}if(ue===Static){ee(oe);return}const re=()=>{I(_e),Be&&!Be.persisted&&Be.afterLeave&&Be.afterLeave()};if(oe.shapeFlag&1&&Be&&!Be.persisted){const{leave:me,delayLeave:Ie}=Be,xe=()=>me(_e,re);Ie?Ie(oe.el,re,xe):xe()}else re()},We=(oe,ue)=>{let _e;for(;oe!==ue;)_e=W(oe),I(oe),oe=_e;I(ue)},Ve=(oe,ue,_e)=>{const{bum:Te,scope:Be,job:re,subTree:me,um:Ie,m:xe,a:Ze}=oe;invalidateMount(xe),invalidateMount(Ze),Te&&invokeArrayFns(Te),Be.stop(),re&&(re.flags|=8,je(me,oe,ue,_e)),Ie&&queuePostRenderEffect(Ie,ue),queuePostRenderEffect(()=>{oe.isUnmounted=!0},ue),ue&&ue.pendingBranch&&!ue.isUnmounted&&oe.asyncDep&&!oe.asyncResolved&&oe.suspenseId===ue.pendingId&&(ue.deps--,ue.deps===0&&ue.resolve())},ze=(oe,ue,_e,Te=!1,Be=!1,re=0)=>{for(let me=re;me<oe.length;me++)je(oe[me],ue,_e,Te,Be)},Le=oe=>{if(oe.shapeFlag&6)return Le(oe.component.subTree);if(oe.shapeFlag&128)return oe.suspense.next();const ue=W(oe.anchor||oe.el),_e=ue&&ue[TeleportEndKey];return _e?W(_e):ue};let Qe=!1;const Ke=(oe,ue,_e)=>{oe==null?ue._vnode&&je(ue._vnode,null,null,!0):Q(ue._vnode||null,oe,ue,null,null,null,_e),ue._vnode=oe,Qe||(Qe=!0,flushPreFlushCbs(),flushPostFlushCbs(),Qe=!1)},Fe={p:Q,um:je,m:Me,r:Ne,mt:be,mc:de,pc:Oe,pbc:ye,n:Le,o:d};let ce,$e;return{render:Ke,hydrate:ce,createApp:createAppAPI$1(Ke,ce)}}function resolveChildrenNamespace({type:d,props:m},g){return g==="svg"&&d==="foreignObject"||g==="mathml"&&d==="annotation-xml"&&m&&m.encoding&&m.encoding.includes("html")?void 0:g}function toggleRecurse({effect:d,job:m},g){g?(d.flags|=32,m.flags|=4):(d.flags&=-33,m.flags&=-5)}function needTransition(d,m){return(!d||d&&!d.pendingBranch)&&m&&!m.persisted}function traverseStaticChildren(d,m,g=!1){const w=d.children,I=m.children;if(isArray$3(w)&&isArray$3(I))for(let P=0;P<w.length;P++){const F=w[P];let D=I[P];D.shapeFlag&1&&!D.dynamicChildren&&((D.patchFlag<=0||D.patchFlag===32)&&(D=I[P]=cloneIfMounted(I[P]),D.el=F.el),!g&&D.patchFlag!==-2&&traverseStaticChildren(F,D)),D.type===Text&&(D.el=F.el)}}function getSequence(d){const m=d.slice(),g=[0];let w,I,P,F,D;const $=d.length;for(w=0;w<$;w++){const V=d[w];if(V!==0){if(I=g[g.length-1],d[I]<V){m[w]=I,g.push(w);continue}for(P=0,F=g.length-1;P<F;)D=P+F>>1,d[g[D]]<V?P=D+1:F=D;V<d[g[P]]&&(P>0&&(m[w]=g[P-1]),g[P]=w)}}for(P=g.length,F=g[P-1];P-- >0;)g[P]=F,F=m[F];return g}function locateNonHydratedAsyncRoot(d){const m=d.subTree.component;if(m)return m.asyncDep&&!m.asyncResolved?m:locateNonHydratedAsyncRoot(m)}function invalidateMount(d){if(d)for(let m=0;m<d.length;m++)d[m].flags|=8}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function watch(d,m,g){return doWatch(d,m,g)}function doWatch(d,m,g=EMPTY_OBJ){const{immediate:w,deep:I,flush:P,once:F}=g,D=extend({},g);let $;if(isInSSRComponentSetup)if(P==="sync"){const W=useSSRContext();$=W.__watcherHandles||(W.__watcherHandles=[])}else if(!m||w)D.once=!0;else{const W=()=>{};return W.stop=NOOP,W.resume=NOOP,W.pause=NOOP,W}const V=currentInstance$1;D.call=(W,Z,U)=>callWithAsyncErrorHandling(W,V,Z,U);let j=!1;P==="post"?D.scheduler=W=>{queuePostRenderEffect(W,V&&V.suspense)}:P!=="sync"&&(j=!0,D.scheduler=(W,Z)=>{Z?W():queueJob(W)}),D.augmentJob=W=>{m&&(W.flags|=4),j&&(W.flags|=2,V&&(W.id=V.uid,W.i=V))};const G=watch$1(d,m,D);return $&&$.push(G),G}function instanceWatch(d,m,g){const w=this.proxy,I=isString$1(d)?d.includes(".")?createPathGetter(w,d):()=>w[d]:d.bind(w,w);let P;isFunction$1(m)?P=m:(P=m.handler,g=m);const F=setCurrentInstance(this),D=doWatch(I,P.bind(w),g);return F(),D}function createPathGetter(d,m){const g=m.split(".");return()=>{let w=d;for(let I=0;I<g.length&&w;I++)w=w[g[I]];return w}}const getModelModifiers=(d,m)=>m==="modelValue"||m==="model-value"?d.modelModifiers:d[`${m}Modifiers`]||d[`${camelize(m)}Modifiers`]||d[`${hyphenate(m)}Modifiers`];function emit(d,m,...g){if(d.isUnmounted)return;const w=d.vnode.props||EMPTY_OBJ;let I=g;const P=m.startsWith("update:"),F=P&&getModelModifiers(w,m.slice(7));F&&(F.trim&&(I=g.map(j=>isString$1(j)?j.trim():j)),F.number&&(I=g.map(looseToNumber)));let D,$=w[D=toHandlerKey(m)]||w[D=toHandlerKey(camelize(m))];!$&&P&&($=w[D=toHandlerKey(hyphenate(m))]),$&&callWithAsyncErrorHandling($,d,6,I);const V=w[D+"Once"];if(V){if(!d.emitted)d.emitted={};else if(d.emitted[D])return;d.emitted[D]=!0,callWithAsyncErrorHandling(V,d,6,I)}}function normalizeEmitsOptions(d,m,g=!1){const w=m.emitsCache,I=w.get(d);if(I!==void 0)return I;const P=d.emits;let F={},D=!1;if(!isFunction$1(d)){const $=V=>{const j=normalizeEmitsOptions(V,m,!0);j&&(D=!0,extend(F,j))};!g&&m.mixins.length&&m.mixins.forEach($),d.extends&&$(d.extends),d.mixins&&d.mixins.forEach($)}return!P&&!D?(isObject$2(d)&&w.set(d,null),null):(isArray$3(P)?P.forEach($=>F[$]=null):extend(F,P),isObject$2(d)&&w.set(d,F),F)}function isEmitListener(d,m){return!d||!isOn(m)?!1:(m=m.slice(2).replace(/Once$/,""),hasOwn(d,m[0].toLowerCase()+m.slice(1))||hasOwn(d,hyphenate(m))||hasOwn(d,m))}function markAttrsAccessed(){}function renderComponentRoot(d){const{type:m,vnode:g,proxy:w,withProxy:I,propsOptions:[P],slots:F,attrs:D,emit:$,render:V,renderCache:j,props:G,data:W,setupState:Z,ctx:U,inheritAttrs:Q}=d,K=setCurrentRenderingInstance(d);let te,X;try{if(g.shapeFlag&4){const ee=I||w,ie=ee;te=normalizeVNode(V.call(ie,ee,j,G,Z,W,U)),X=D}else{const ee=m;te=normalizeVNode(ee.length>1?ee(G,{attrs:D,slots:F,emit:$}):ee(G,null)),X=m.props?D:getFunctionalFallthrough(D)}}catch(ee){blockStack.length=0,handleError(ee,d,1),te=createVNode(Comment)}let J=te;if(X&&Q!==!1){const ee=Object.keys(X),{shapeFlag:ie}=J;ee.length&&ie&7&&(P&&ee.some(isModelListener)&&(X=filterModelListeners(X,P)),J=cloneVNode(J,X,!1,!0))}return g.dirs&&(J=cloneVNode(J,null,!1,!0),J.dirs=J.dirs?J.dirs.concat(g.dirs):g.dirs),g.transition&&setTransitionHooks(J,g.transition),te=J,setCurrentRenderingInstance(K),te}const getFunctionalFallthrough=d=>{let m;for(const g in d)(g==="class"||g==="style"||isOn(g))&&((m||(m={}))[g]=d[g]);return m},filterModelListeners=(d,m)=>{const g={};for(const w in d)(!isModelListener(w)||!(w.slice(9)in m))&&(g[w]=d[w]);return g};function shouldUpdateComponent(d,m,g){const{props:w,children:I,component:P}=d,{props:F,children:D,patchFlag:$}=m,V=P.emitsOptions;if(m.dirs||m.transition)return!0;if(g&&$>=0){if($&1024)return!0;if($&16)return w?hasPropsChanged(w,F,V):!!F;if($&8){const j=m.dynamicProps;for(let G=0;G<j.length;G++){const W=j[G];if(F[W]!==w[W]&&!isEmitListener(V,W))return!0}}}else return(I||D)&&(!D||!D.$stable)?!0:w===F?!1:w?F?hasPropsChanged(w,F,V):!0:!!F;return!1}function hasPropsChanged(d,m,g){const w=Object.keys(m);if(w.length!==Object.keys(d).length)return!0;for(let I=0;I<w.length;I++){const P=w[I];if(m[P]!==d[P]&&!isEmitListener(g,P))return!0}return!1}function updateHOCHostEl({vnode:d,parent:m},g){for(;m;){const w=m.subTree;if(w.suspense&&w.suspense.activeBranch===d&&(w.el=d.el),w===d)(d=m.vnode).el=g,m=m.parent;else break}}const isSuspense=d=>d.__isSuspense;function queueEffectWithSuspense(d,m){m&&m.pendingBranch?isArray$3(d)?m.effects.push(...d):m.effects.push(d):queuePostFlushCb(d)}const Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(d=!1){blockStack.push(currentBlock=d?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(d){isBlockTreeEnabled+=d,d<0&&currentBlock&&(currentBlock.hasOnce=!0)}function setupBlock(d){return d.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(d),d}function createElementBlock(d,m,g,w,I,P){return setupBlock(createBaseVNode(d,m,g,w,I,P,!0))}function createBlock(d,m,g,w,I){return setupBlock(createVNode(d,m,g,w,I,!0))}function isVNode(d){return d?d.__v_isVNode===!0:!1}function isSameVNodeType(d,m){return d.type===m.type&&d.key===m.key}const normalizeKey=({key:d})=>d??null,normalizeRef=({ref:d,ref_key:m,ref_for:g})=>(typeof d=="number"&&(d=""+d),d!=null?isString$1(d)||isRef(d)||isFunction$1(d)?{i:currentRenderingInstance,r:d,k:m,f:!!g}:d:null);function createBaseVNode(d,m=null,g=null,w=0,I=null,P=d===Fragment?0:1,F=!1,D=!1){const $={__v_isVNode:!0,__v_skip:!0,type:d,props:m,key:m&&normalizeKey(m),ref:m&&normalizeRef(m),scopeId:currentScopeId,slotScopeIds:null,children:g,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:P,patchFlag:w,dynamicProps:I,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return D?(normalizeChildren($,g),P&128&&d.normalize($)):g&&($.shapeFlag|=isString$1(g)?8:16),isBlockTreeEnabled>0&&!F&&currentBlock&&($.patchFlag>0||P&6)&&$.patchFlag!==32&&currentBlock.push($),$}const createVNode=_createVNode;function _createVNode(d,m=null,g=null,w=0,I=null,P=!1){if((!d||d===NULL_DYNAMIC_COMPONENT)&&(d=Comment),isVNode(d)){const D=cloneVNode(d,m,!0);return g&&normalizeChildren(D,g),isBlockTreeEnabled>0&&!P&&currentBlock&&(D.shapeFlag&6?currentBlock[currentBlock.indexOf(d)]=D:currentBlock.push(D)),D.patchFlag=-2,D}if(isClassComponent(d)&&(d=d.__vccOpts),m){m=guardReactiveProps(m);let{class:D,style:$}=m;D&&!isString$1(D)&&(m.class=normalizeClass(D)),isObject$2($)&&(isProxy($)&&!isArray$3($)&&($=extend({},$)),m.style=normalizeStyle($))}const F=isString$1(d)?1:isSuspense(d)?128:isTeleport(d)?64:isObject$2(d)?4:isFunction$1(d)?2:0;return createBaseVNode(d,m,g,w,I,F,P,!0)}function guardReactiveProps(d){return d?isProxy(d)||isInternalObject(d)?extend({},d):d:null}function cloneVNode(d,m,g=!1,w=!1){const{props:I,ref:P,patchFlag:F,children:D,transition:$}=d,V=m?mergeProps(I||{},m):I,j={__v_isVNode:!0,__v_skip:!0,type:d.type,props:V,key:V&&normalizeKey(V),ref:m&&m.ref?g&&P?isArray$3(P)?P.concat(normalizeRef(m)):[P,normalizeRef(m)]:normalizeRef(m):P,scopeId:d.scopeId,slotScopeIds:d.slotScopeIds,children:D,target:d.target,targetStart:d.targetStart,targetAnchor:d.targetAnchor,staticCount:d.staticCount,shapeFlag:d.shapeFlag,patchFlag:m&&d.type!==Fragment?F===-1?16:F|16:F,dynamicProps:d.dynamicProps,dynamicChildren:d.dynamicChildren,appContext:d.appContext,dirs:d.dirs,transition:$,component:d.component,suspense:d.suspense,ssContent:d.ssContent&&cloneVNode(d.ssContent),ssFallback:d.ssFallback&&cloneVNode(d.ssFallback),el:d.el,anchor:d.anchor,ctx:d.ctx,ce:d.ce};return $&&w&&setTransitionHooks(j,$.clone(j)),j}function createTextVNode(d=" ",m=0){return createVNode(Text,null,d,m)}function createCommentVNode(d="",m=!1){return m?(openBlock(),createBlock(Comment,null,d)):createVNode(Comment,null,d)}function normalizeVNode(d){return d==null||typeof d=="boolean"?createVNode(Comment):isArray$3(d)?createVNode(Fragment,null,d.slice()):typeof d=="object"?cloneIfMounted(d):createVNode(Text,null,String(d))}function cloneIfMounted(d){return d.el===null&&d.patchFlag!==-1||d.memo?d:cloneVNode(d)}function normalizeChildren(d,m){let g=0;const{shapeFlag:w}=d;if(m==null)m=null;else if(isArray$3(m))g=16;else if(typeof m=="object")if(w&65){const I=m.default;I&&(I._c&&(I._d=!1),normalizeChildren(d,I()),I._c&&(I._d=!0));return}else{g=32;const I=m._;!I&&!isInternalObject(m)?m._ctx=currentRenderingInstance:I===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?m._=1:(m._=2,d.patchFlag|=1024))}else isFunction$1(m)?(m={default:m,_ctx:currentRenderingInstance},g=32):(m=String(m),w&64?(g=16,m=[createTextVNode(m)]):g=8);d.children=m,d.shapeFlag|=g}function mergeProps(...d){const m={};for(let g=0;g<d.length;g++){const w=d[g];for(const I in w)if(I==="class")m.class!==w.class&&(m.class=normalizeClass([m.class,w.class]));else if(I==="style")m.style=normalizeStyle([m.style,w.style]);else if(isOn(I)){const P=m[I],F=w[I];F&&P!==F&&!(isArray$3(P)&&P.includes(F))&&(m[I]=P?[].concat(P,F):F)}else I!==""&&(m[I]=w[I])}return m}function invokeVNodeHook(d,m,g,w=null){callWithAsyncErrorHandling(d,m,7,[g,w])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(d,m,g){const w=d.type,I=(m?m.appContext:d.appContext)||emptyAppContext,P={uid:uid++,vnode:d,type:w,parent:m,appContext:I,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:m?m.provides:Object.create(I.provides),ids:m?m.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(w,I),emitsOptions:normalizeEmitsOptions(w,I),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:w.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:g,suspenseId:g?g.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return P.ctx={_:P},P.root=m?m.root:P,P.emit=emit.bind(null,P),d.ce&&d.ce(P),P}let currentInstance$1=null,internalSetCurrentInstance,setInSSRSetupState;{const d=getGlobalThis(),m=(g,w)=>{let I;return(I=d[g])||(I=d[g]=[]),I.push(w),P=>{I.length>1?I.forEach(F=>F(P)):I[0](P)}};internalSetCurrentInstance=m("__VUE_INSTANCE_SETTERS__",g=>currentInstance$1=g),setInSSRSetupState=m("__VUE_SSR_SETTERS__",g=>isInSSRComponentSetup=g)}const setCurrentInstance=d=>{const m=currentInstance$1;return internalSetCurrentInstance(d),d.scope.on(),()=>{d.scope.off(),internalSetCurrentInstance(m)}},unsetCurrentInstance=()=>{currentInstance$1&&currentInstance$1.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(d){return d.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(d,m=!1,g=!1){m&&setInSSRSetupState(m);const{props:w,children:I}=d.vnode,P=isStatefulComponent(d);initProps(d,w,P,m),initSlots(d,I,g);const F=P?setupStatefulComponent(d,m):void 0;return m&&setInSSRSetupState(!1),F}function setupStatefulComponent(d,m){const g=d.type;d.accessCache=Object.create(null),d.proxy=new Proxy(d.ctx,PublicInstanceProxyHandlers);const{setup:w}=g;if(w){const I=d.setupContext=w.length>1?createSetupContext(d):null,P=setCurrentInstance(d);pauseTracking();const F=callWithErrorHandling(w,d,0,[d.props,I]);if(resetTracking(),P(),isPromise$1(F)){if(isAsyncWrapper(d)||markAsyncBoundary(d),F.then(unsetCurrentInstance,unsetCurrentInstance),m)return F.then(D=>{handleSetupResult(d,D,m)}).catch(D=>{handleError(D,d,0)});d.asyncDep=F}else handleSetupResult(d,F,m)}else finishComponentSetup(d,m)}function handleSetupResult(d,m,g){isFunction$1(m)?d.type.__ssrInlineRender?d.ssrRender=m:d.render=m:isObject$2(m)&&(d.setupState=proxyRefs(m)),finishComponentSetup(d,g)}let compile;function finishComponentSetup(d,m,g){const w=d.type;if(!d.render){if(!m&&compile&&!w.render){const I=w.template||resolveMergedOptions(d).template;if(I){const{isCustomElement:P,compilerOptions:F}=d.appContext.config,{delimiters:D,compilerOptions:$}=w,V=extend(extend({isCustomElement:P,delimiters:D},F),$);w.render=compile(I,V)}}d.render=w.render||NOOP}{const I=setCurrentInstance(d);pauseTracking();try{applyOptions(d)}finally{resetTracking(),I()}}}const attrsProxyHandlers={get(d,m){return track(d,"get",""),d[m]}};function createSetupContext(d){const m=g=>{d.exposed=g||{}};return{attrs:new Proxy(d.attrs,attrsProxyHandlers),slots:d.slots,emit:d.emit,expose:m}}function getComponentPublicInstance(d){return d.exposed?d.exposeProxy||(d.exposeProxy=new Proxy(proxyRefs(markRaw(d.exposed)),{get(m,g){if(g in m)return m[g];if(g in publicPropertiesMap)return publicPropertiesMap[g](d)},has(m,g){return g in m||g in publicPropertiesMap}})):d.proxy}const classifyRE=/(?:^|[-_])(\w)/g,classify=d=>d.replace(classifyRE,m=>m.toUpperCase()).replace(/[-_]/g,"");function getComponentName(d,m=!0){return isFunction$1(d)?d.displayName||d.name:d.name||m&&d.__name}function formatComponentName(d,m,g=!1){let w=getComponentName(m);if(!w&&m.__file){const I=m.__file.match(/([^/\\]+)\.\w+$/);I&&(w=I[1])}if(!w&&d&&d.parent){const I=P=>{for(const F in P)if(P[F]===m)return F};w=I(d.components||d.parent.type.components)||I(d.appContext.components)}return w?classify(w):g?"App":"Anonymous"}function isClassComponent(d){return isFunction$1(d)&&"__vccOpts"in d}const computed=(d,m)=>computed$1(d,m,isInSSRComponentSetup);function h$1(d,m,g){const w=arguments.length;return w===2?isObject$2(m)&&!isArray$3(m)?isVNode(m)?createVNode(d,null,[m]):createVNode(d,m):createVNode(d,null,m):(w>3?g=Array.prototype.slice.call(arguments,2):w===3&&isVNode(g)&&(g=[g]),createVNode(d,m,g))}const version="3.5.8";/**
* @vue/runtime-dom v3.5.8
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let policy;const tt=typeof window<"u"&&window.trustedTypes;if(tt)try{policy=tt.createPolicy("vue",{createHTML:d=>d})}catch{}const unsafeToTrustedHTML=policy?d=>policy.createHTML(d):d=>d,svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(d,m,g)=>{m.insertBefore(d,g||null)},remove:d=>{const m=d.parentNode;m&&m.removeChild(d)},createElement:(d,m,g,w)=>{const I=m==="svg"?doc.createElementNS(svgNS,d):m==="mathml"?doc.createElementNS(mathmlNS,d):g?doc.createElement(d,{is:g}):doc.createElement(d);return d==="select"&&w&&w.multiple!=null&&I.setAttribute("multiple",w.multiple),I},createText:d=>doc.createTextNode(d),createComment:d=>doc.createComment(d),setText:(d,m)=>{d.nodeValue=m},setElementText:(d,m)=>{d.textContent=m},parentNode:d=>d.parentNode,nextSibling:d=>d.nextSibling,querySelector:d=>doc.querySelector(d),setScopeId(d,m){d.setAttribute(m,"")},insertStaticContent(d,m,g,w,I,P){const F=g?g.previousSibling:m.lastChild;if(I&&(I===P||I.nextSibling))for(;m.insertBefore(I.cloneNode(!0),g),!(I===P||!(I=I.nextSibling)););else{templateContainer.innerHTML=unsafeToTrustedHTML(w==="svg"?`<svg>${d}</svg>`:w==="mathml"?`<math>${d}</math>`:d);const D=templateContainer.content;if(w==="svg"||w==="mathml"){const $=D.firstChild;for(;$.firstChild;)D.appendChild($.firstChild);D.removeChild($)}m.insertBefore(D,g)}return[F?F.nextSibling:m.firstChild,g?g.previousSibling:m.lastChild]}},vtcKey=Symbol("_vtc");function patchClass(d,m,g){const w=d[vtcKey];w&&(m=(m?[m,...w]:[...w]).join(" ")),m==null?d.removeAttribute("class"):g?d.setAttribute("class",m):d.className=m}const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),vShow={beforeMount(d,{value:m},{transition:g}){d[vShowOriginalDisplay]=d.style.display==="none"?"":d.style.display,g&&m?g.beforeEnter(d):setDisplay(d,m)},mounted(d,{value:m},{transition:g}){g&&m&&g.enter(d)},updated(d,{value:m,oldValue:g},{transition:w}){!m!=!g&&(w?m?(w.beforeEnter(d),setDisplay(d,!0),w.enter(d)):w.leave(d,()=>{setDisplay(d,!1)}):setDisplay(d,m))},beforeUnmount(d,{value:m}){setDisplay(d,m)}};function setDisplay(d,m){d.style.display=m?d[vShowOriginalDisplay]:"none",d[vShowHidden]=!m}const CSS_VAR_TEXT=Symbol(""),displayRE=/(^|;)\s*display\s*:/;function patchStyle(d,m,g){const w=d.style,I=isString$1(g);let P=!1;if(g&&!I){if(m)if(isString$1(m))for(const F of m.split(";")){const D=F.slice(0,F.indexOf(":")).trim();g[D]==null&&setStyle$1(w,D,"")}else for(const F in m)g[F]==null&&setStyle$1(w,F,"");for(const F in g)F==="display"&&(P=!0),setStyle$1(w,F,g[F])}else if(I){if(m!==g){const F=w[CSS_VAR_TEXT];F&&(g+=";"+F),w.cssText=g,P=displayRE.test(g)}}else m&&d.removeAttribute("style");vShowOriginalDisplay in d&&(d[vShowOriginalDisplay]=P?w.display:"",d[vShowHidden]&&(w.display="none"))}const importantRE=/\s*!important$/;function setStyle$1(d,m,g){if(isArray$3(g))g.forEach(w=>setStyle$1(d,m,w));else if(g==null&&(g=""),m.startsWith("--"))d.setProperty(m,g);else{const w=autoPrefix(d,m);importantRE.test(g)?d.setProperty(hyphenate(w),g.replace(importantRE,""),"important"):d[w]=g}}const prefixes$1=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(d,m){const g=prefixCache[m];if(g)return g;let w=camelize(m);if(w!=="filter"&&w in d)return prefixCache[m]=w;w=capitalize(w);for(let I=0;I<prefixes$1.length;I++){const P=prefixes$1[I]+w;if(P in d)return prefixCache[m]=P}return m}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(d,m,g,w,I,P=isSpecialBooleanAttr(m)){w&&m.startsWith("xlink:")?g==null?d.removeAttributeNS(xlinkNS,m.slice(6,m.length)):d.setAttributeNS(xlinkNS,m,g):g==null||P&&!includeBooleanAttr(g)?d.removeAttribute(m):d.setAttribute(m,P?"":isSymbol(g)?String(g):g)}function patchDOMProp(d,m,g,w){if(m==="innerHTML"||m==="textContent"){g!=null&&(d[m]=m==="innerHTML"?unsafeToTrustedHTML(g):g);return}const I=d.tagName;if(m==="value"&&I!=="PROGRESS"&&!I.includes("-")){const F=I==="OPTION"?d.getAttribute("value")||"":d.value,D=g==null?d.type==="checkbox"?"on":"":String(g);(F!==D||!("_value"in d))&&(d.value=D),g==null&&d.removeAttribute(m),d._value=g;return}let P=!1;if(g===""||g==null){const F=typeof d[m];F==="boolean"?g=includeBooleanAttr(g):g==null&&F==="string"?(g="",P=!0):F==="number"&&(g=0,P=!0)}try{d[m]=g}catch{}P&&d.removeAttribute(m)}function addEventListener(d,m,g,w){d.addEventListener(m,g,w)}function removeEventListener(d,m,g,w){d.removeEventListener(m,g,w)}const veiKey=Symbol("_vei");function patchEvent(d,m,g,w,I=null){const P=d[veiKey]||(d[veiKey]={}),F=P[m];if(w&&F)F.value=w;else{const[D,$]=parseName(m);if(w){const V=P[m]=createInvoker(w,I);addEventListener(d,D,V,$)}else F&&(removeEventListener(d,D,F,$),P[m]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(d){let m;if(optionsModifierRE.test(d)){m={};let w;for(;w=d.match(optionsModifierRE);)d=d.slice(0,d.length-w[0].length),m[w[0].toLowerCase()]=!0}return[d[2]===":"?d.slice(3):hyphenate(d.slice(2)),m]}let cachedNow=0;const p$1=Promise.resolve(),getNow=()=>cachedNow||(p$1.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(d,m){const g=w=>{if(!w._vts)w._vts=Date.now();else if(w._vts<=g.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(w,g.value),m,5,[w])};return g.value=d,g.attached=getNow(),g}function patchStopImmediatePropagation(d,m){if(isArray$3(m)){const g=d.stopImmediatePropagation;return d.stopImmediatePropagation=()=>{g.call(d),d._stopped=!0},m.map(w=>I=>!I._stopped&&w&&w(I))}else return m}const isNativeOn=d=>d.charCodeAt(0)===111&&d.charCodeAt(1)===110&&d.charCodeAt(2)>96&&d.charCodeAt(2)<123,patchProp=(d,m,g,w,I,P)=>{const F=I==="svg";m==="class"?patchClass(d,w,F):m==="style"?patchStyle(d,g,w):isOn(m)?isModelListener(m)||patchEvent(d,m,g,w,P):(m[0]==="."?(m=m.slice(1),!0):m[0]==="^"?(m=m.slice(1),!1):shouldSetAsProp(d,m,w,F))?(patchDOMProp(d,m,w),!d.tagName.includes("-")&&(m==="value"||m==="checked"||m==="selected")&&patchAttr(d,m,w,F,P,m!=="value")):(m==="true-value"?d._trueValue=w:m==="false-value"&&(d._falseValue=w),patchAttr(d,m,w,F))};function shouldSetAsProp(d,m,g,w){if(w)return!!(m==="innerHTML"||m==="textContent"||m in d&&isNativeOn(m)&&isFunction$1(g));if(m==="spellcheck"||m==="draggable"||m==="translate"||m==="form"||m==="list"&&d.tagName==="INPUT"||m==="type"&&d.tagName==="TEXTAREA")return!1;if(m==="width"||m==="height"){const I=d.tagName;if(I==="IMG"||I==="VIDEO"||I==="CANVAS"||I==="SOURCE")return!1}return isNativeOn(m)&&isString$1(g)?!1:!!(m in d||d._isVueCE&&(/[A-Z]/.test(m)||!isString$1(g)))}const getModelAssigner=d=>{const m=d.props["onUpdate:modelValue"]||!1;return isArray$3(m)?g=>invokeArrayFns(m,g):m},assignKey=Symbol("_assign"),vModelCheckbox={deep:!0,created(d,m,g){d[assignKey]=getModelAssigner(g),addEventListener(d,"change",()=>{const w=d._modelValue,I=getValue(d),P=d.checked,F=d[assignKey];if(isArray$3(w)){const D=looseIndexOf(w,I),$=D!==-1;if(P&&!$)F(w.concat(I));else if(!P&&$){const V=[...w];V.splice(D,1),F(V)}}else if(isSet$1(w)){const D=new Set(w);P?D.add(I):D.delete(I),F(D)}else F(getCheckboxValue$1(d,P))})},mounted:setChecked,beforeUpdate(d,m,g){d[assignKey]=getModelAssigner(g),setChecked(d,m,g)}};function setChecked(d,{value:m,oldValue:g},w){d._modelValue=m;let I;isArray$3(m)?I=looseIndexOf(m,w.props.value)>-1:isSet$1(m)?I=m.has(w.props.value):I=looseEqual(m,getCheckboxValue$1(d,!0)),d.checked!==I&&(d.checked=I)}const vModelRadio={created(d,{value:m},g){d.checked=looseEqual(m,g.props.value),d[assignKey]=getModelAssigner(g),addEventListener(d,"change",()=>{d[assignKey](getValue(d))})},beforeUpdate(d,{value:m,oldValue:g},w){d[assignKey]=getModelAssigner(w),m!==g&&(d.checked=looseEqual(m,w.props.value))}};function getValue(d){return"_value"in d?d._value:d.value}function getCheckboxValue$1(d,m){const g=m?"_trueValue":"_falseValue";return g in d?d[g]:m}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:d=>d.stopPropagation(),prevent:d=>d.preventDefault(),self:d=>d.target!==d.currentTarget,ctrl:d=>!d.ctrlKey,shift:d=>!d.shiftKey,alt:d=>!d.altKey,meta:d=>!d.metaKey,left:d=>"button"in d&&d.button!==0,middle:d=>"button"in d&&d.button!==1,right:d=>"button"in d&&d.button!==2,exact:(d,m)=>systemModifiers.some(g=>d[`${g}Key`]&&!m.includes(g))},withModifiers=(d,m)=>{const g=d._withMods||(d._withMods={}),w=m.join(".");return g[w]||(g[w]=(I,...P)=>{for(let F=0;F<m.length;F++){const D=modifierGuards[m[F]];if(D&&D(I,m))return}return d(I,...P)})},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(d,m)=>{const g=d._withKeys||(d._withKeys={}),w=m.join(".");return g[w]||(g[w]=I=>{if(!("key"in I))return;const P=hyphenate(I.key);if(m.some(F=>F===P||keyNames[F]===P))return d(I)})},rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp$2=(...d)=>{const m=ensureRenderer().createApp(...d),{mount:g}=m;return m.mount=w=>{const I=normalizeContainer(w);if(!I)return;const P=m._component;!isFunction$1(P)&&!P.render&&!P.template&&(P.template=I.innerHTML),I.nodeType===1&&(I.textContent="");const F=g(I,!1,resolveRootNamespace(I));return I instanceof Element&&(I.removeAttribute("v-cloak"),I.setAttribute("data-v-app","")),F},m};function resolveRootNamespace(d){if(d instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&d instanceof MathMLElement)return"mathml"}function normalizeContainer(d){return isString$1(d)?document.querySelector(d):d}var isVue2=!1;/*!
 * pinia v2.2.2
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */const piniaSymbol=Symbol();var MutationType;(function(d){d.direct="direct",d.patchObject="patch object",d.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const d=effectScope(!0),m=d.run(()=>ref({}));let g=[],w=[];const I=markRaw({install(P){I._a=P,P.provide(piniaSymbol,I),P.config.globalProperties.$pinia=I,w.forEach(F=>g.push(F)),w=[]},use(P){return!this._a&&!isVue2?w.push(P):g.push(P),this},_p:g,_a:null,_e:d,_s:new Map,state:m});return I}/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser$3=typeof document<"u";function isRouteComponent(d){return typeof d=="object"||"displayName"in d||"props"in d||"__vccOpts"in d}function isESModule(d){return d.__esModule||d[Symbol.toStringTag]==="Module"||d.default&&isRouteComponent(d.default)}const assign=Object.assign;function applyToParams(d,m){const g={};for(const w in m){const I=m[w];g[w]=isArray$2(I)?I.map(d):d(I)}return g}const noop$3=()=>{},isArray$2=Array.isArray,HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(d){return encodeURI(""+d).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(d){return commonEncode(d).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(d){return commonEncode(d).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(d){return encodeQueryValue(d).replace(EQUAL_RE,"%3D")}function encodePath(d){return commonEncode(d).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(d){return d==null?"":encodePath(d).replace(SLASH_RE,"%2F")}function decode$3(d){try{return decodeURIComponent(""+d)}catch{}return""+d}const TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=d=>d.replace(TRAILING_SLASH_RE,"");function parseURL(d,m,g="/"){let w,I={},P="",F="";const D=m.indexOf("#");let $=m.indexOf("?");return D<$&&D>=0&&($=-1),$>-1&&(w=m.slice(0,$),P=m.slice($+1,D>-1?D:m.length),I=d(P)),D>-1&&(w=w||m.slice(0,D),F=m.slice(D,m.length)),w=resolveRelativePath(w??m,g),{fullPath:w+(P&&"?")+P+F,path:w,query:I,hash:decode$3(F)}}function stringifyURL(d,m){const g=m.query?d(m.query):"";return m.path+(g&&"?")+g+(m.hash||"")}function stripBase(d,m){return!m||!d.toLowerCase().startsWith(m.toLowerCase())?d:d.slice(m.length)||"/"}function isSameRouteLocation(d,m,g){const w=m.matched.length-1,I=g.matched.length-1;return w>-1&&w===I&&isSameRouteRecord(m.matched[w],g.matched[I])&&isSameRouteLocationParams(m.params,g.params)&&d(m.query)===d(g.query)&&m.hash===g.hash}function isSameRouteRecord(d,m){return(d.aliasOf||d)===(m.aliasOf||m)}function isSameRouteLocationParams(d,m){if(Object.keys(d).length!==Object.keys(m).length)return!1;for(const g in d)if(!isSameRouteLocationParamsValue(d[g],m[g]))return!1;return!0}function isSameRouteLocationParamsValue(d,m){return isArray$2(d)?isEquivalentArray(d,m):isArray$2(m)?isEquivalentArray(m,d):d===m}function isEquivalentArray(d,m){return isArray$2(m)?d.length===m.length&&d.every((g,w)=>g===m[w]):d.length===1&&d[0]===m}function resolveRelativePath(d,m){if(d.startsWith("/"))return d;if(!d)return m;const g=m.split("/"),w=d.split("/"),I=w[w.length-1];(I===".."||I===".")&&w.push("");let P=g.length-1,F,D;for(F=0;F<w.length;F++)if(D=w[F],D!==".")if(D==="..")P>1&&P--;else break;return g.slice(0,P).join("/")+"/"+w.slice(F).join("/")}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var NavigationType;(function(d){d.pop="pop",d.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(d){d.back="back",d.forward="forward",d.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(d){if(!d)if(isBrowser$3){const m=document.querySelector("base");d=m&&m.getAttribute("href")||"/",d=d.replace(/^\w+:\/\/[^\/]+/,"")}else d="/";return d[0]!=="/"&&d[0]!=="#"&&(d="/"+d),removeTrailingSlash(d)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(d,m){return d.replace(BEFORE_HASH_RE,"#")+m}function getElementPosition(d,m){const g=document.documentElement.getBoundingClientRect(),w=d.getBoundingClientRect();return{behavior:m.behavior,left:w.left-g.left-(m.left||0),top:w.top-g.top-(m.top||0)}}const computeScrollPosition=()=>({left:window.scrollX,top:window.scrollY});function scrollToPosition(d){let m;if("el"in d){const g=d.el,w=typeof g=="string"&&g.startsWith("#"),I=typeof g=="string"?w?document.getElementById(g.slice(1)):document.querySelector(g):g;if(!I)return;m=getElementPosition(I,d)}else m=d;"scrollBehavior"in document.documentElement.style?window.scrollTo(m):window.scrollTo(m.left!=null?m.left:window.scrollX,m.top!=null?m.top:window.scrollY)}function getScrollKey(d,m){return(history.state?history.state.position-m:-1)+d}const scrollPositions=new Map;function saveScrollPosition(d,m){scrollPositions.set(d,m)}function getSavedScrollPosition(d){const m=scrollPositions.get(d);return scrollPositions.delete(d),m}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(d,m){const{pathname:g,search:w,hash:I}=m,P=d.indexOf("#");if(P>-1){let D=I.includes(d.slice(P))?d.slice(P).length:1,$=I.slice(D);return $[0]!=="/"&&($="/"+$),stripBase($,"")}return stripBase(g,d)+w+I}function useHistoryListeners(d,m,g,w){let I=[],P=[],F=null;const D=({state:W})=>{const Z=createCurrentLocation(d,location),U=g.value,Q=m.value;let K=0;if(W){if(g.value=Z,m.value=W,F&&F===U){F=null;return}K=Q?W.position-Q.position:0}else w(Z);I.forEach(te=>{te(g.value,U,{delta:K,type:NavigationType.pop,direction:K?K>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function $(){F=g.value}function V(W){I.push(W);const Z=()=>{const U=I.indexOf(W);U>-1&&I.splice(U,1)};return P.push(Z),Z}function j(){const{history:W}=window;W.state&&W.replaceState(assign({},W.state,{scroll:computeScrollPosition()}),"")}function G(){for(const W of P)W();P=[],window.removeEventListener("popstate",D),window.removeEventListener("beforeunload",j)}return window.addEventListener("popstate",D),window.addEventListener("beforeunload",j,{passive:!0}),{pauseListeners:$,listen:V,destroy:G}}function buildState(d,m,g,w=!1,I=!1){return{back:d,current:m,forward:g,replaced:w,position:window.history.length,scroll:I?computeScrollPosition():null}}function useHistoryStateNavigation(d){const{history:m,location:g}=window,w={value:createCurrentLocation(d,g)},I={value:m.state};I.value||P(w.value,{back:null,current:w.value,forward:null,position:m.length-1,replaced:!0,scroll:null},!0);function P($,V,j){const G=d.indexOf("#"),W=G>-1?(g.host&&document.querySelector("base")?d:d.slice(G))+$:createBaseLocation()+d+$;try{m[j?"replaceState":"pushState"](V,"",W),I.value=V}catch(Z){console.error(Z),g[j?"replace":"assign"](W)}}function F($,V){const j=assign({},m.state,buildState(I.value.back,$,I.value.forward,!0),V,{position:I.value.position});P($,j,!0),w.value=$}function D($,V){const j=assign({},I.value,m.state,{forward:$,scroll:computeScrollPosition()});P(j.current,j,!0);const G=assign({},buildState(w.value,$,null),{position:j.position+1},V);P($,G,!1),w.value=$}return{location:w,state:I,push:D,replace:F}}function createWebHistory(d){d=normalizeBase(d);const m=useHistoryStateNavigation(d),g=useHistoryListeners(d,m.state,m.location,m.replace);function w(P,F=!0){F||g.pauseListeners(),history.go(P)}const I=assign({location:"",base:d,go:w,createHref:createHref.bind(null,d)},m,g);return Object.defineProperty(I,"location",{enumerable:!0,get:()=>m.location.value}),Object.defineProperty(I,"state",{enumerable:!0,get:()=>m.state.value}),I}function isRouteLocation(d){return typeof d=="string"||d&&typeof d=="object"}function isRouteName(d){return typeof d=="string"||typeof d=="symbol"}const NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(d){d[d.aborted=4]="aborted",d[d.cancelled=8]="cancelled",d[d.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(d,m){return assign(new Error,{type:d,[NavigationFailureSymbol]:!0},m)}function isNavigationFailure(d,m){return d instanceof Error&&NavigationFailureSymbol in d&&(m==null||!!(d.type&m))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(d,m){const g=assign({},BASE_PATH_PARSER_OPTIONS,m),w=[];let I=g.start?"^":"";const P=[];for(const V of d){const j=V.length?[]:[90];g.strict&&!V.length&&(I+="/");for(let G=0;G<V.length;G++){const W=V[G];let Z=40+(g.sensitive?.25:0);if(W.type===0)G||(I+="/"),I+=W.value.replace(REGEX_CHARS_RE,"\\$&"),Z+=40;else if(W.type===1){const{value:U,repeatable:Q,optional:K,regexp:te}=W;P.push({name:U,repeatable:Q,optional:K});const X=te||BASE_PARAM_PATTERN;if(X!==BASE_PARAM_PATTERN){Z+=10;try{new RegExp(`(${X})`)}catch(ee){throw new Error(`Invalid custom RegExp for param "${U}" (${X}): `+ee.message)}}let J=Q?`((?:${X})(?:/(?:${X}))*)`:`(${X})`;G||(J=K&&V.length<2?`(?:/${J})`:"/"+J),K&&(J+="?"),I+=J,Z+=20,K&&(Z+=-8),Q&&(Z+=-20),X===".*"&&(Z+=-50)}j.push(Z)}w.push(j)}if(g.strict&&g.end){const V=w.length-1;w[V][w[V].length-1]+=.7000000000000001}g.strict||(I+="/?"),g.end?I+="$":g.strict&&(I+="(?:/|$)");const F=new RegExp(I,g.sensitive?"":"i");function D(V){const j=V.match(F),G={};if(!j)return null;for(let W=1;W<j.length;W++){const Z=j[W]||"",U=P[W-1];G[U.name]=Z&&U.repeatable?Z.split("/"):Z}return G}function $(V){let j="",G=!1;for(const W of d){(!G||!j.endsWith("/"))&&(j+="/"),G=!1;for(const Z of W)if(Z.type===0)j+=Z.value;else if(Z.type===1){const{value:U,repeatable:Q,optional:K}=Z,te=U in V?V[U]:"";if(isArray$2(te)&&!Q)throw new Error(`Provided param "${U}" is an array but it is not repeatable (* or + modifiers)`);const X=isArray$2(te)?te.join("/"):te;if(!X)if(K)W.length<2&&(j.endsWith("/")?j=j.slice(0,-1):G=!0);else throw new Error(`Missing required param "${U}"`);j+=X}}return j||"/"}return{re:F,score:w,keys:P,parse:D,stringify:$}}function compareScoreArray(d,m){let g=0;for(;g<d.length&&g<m.length;){const w=m[g]-d[g];if(w)return w;g++}return d.length<m.length?d.length===1&&d[0]===80?-1:1:d.length>m.length?m.length===1&&m[0]===80?1:-1:0}function comparePathParserScore(d,m){let g=0;const w=d.score,I=m.score;for(;g<w.length&&g<I.length;){const P=compareScoreArray(w[g],I[g]);if(P)return P;g++}if(Math.abs(I.length-w.length)===1){if(isLastScoreNegative(w))return 1;if(isLastScoreNegative(I))return-1}return I.length-w.length}function isLastScoreNegative(d){const m=d[d.length-1];return d.length>0&&m[m.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(d){if(!d)return[[]];if(d==="/")return[[ROOT_TOKEN]];if(!d.startsWith("/"))throw new Error(`Invalid path "${d}"`);function m(Z){throw new Error(`ERR (${g})/"${V}": ${Z}`)}let g=0,w=g;const I=[];let P;function F(){P&&I.push(P),P=[]}let D=0,$,V="",j="";function G(){V&&(g===0?P.push({type:0,value:V}):g===1||g===2||g===3?(P.length>1&&($==="*"||$==="+")&&m(`A repeatable param (${V}) must be alone in its segment. eg: '/:ids+.`),P.push({type:1,value:V,regexp:j,repeatable:$==="*"||$==="+",optional:$==="*"||$==="?"})):m("Invalid state to consume buffer"),V="")}function W(){V+=$}for(;D<d.length;){if($=d[D++],$==="\\"&&g!==2){w=g,g=4;continue}switch(g){case 0:$==="/"?(V&&G(),F()):$===":"?(G(),g=1):W();break;case 4:W(),g=w;break;case 1:$==="("?g=2:VALID_PARAM_RE.test($)?W():(G(),g=0,$!=="*"&&$!=="?"&&$!=="+"&&D--);break;case 2:$===")"?j[j.length-1]=="\\"?j=j.slice(0,-1)+$:g=3:j+=$;break;case 3:G(),g=0,$!=="*"&&$!=="?"&&$!=="+"&&D--,j="";break;default:m("Unknown state");break}}return g===2&&m(`Unfinished custom RegExp for param "${V}"`),G(),F(),I}function createRouteRecordMatcher(d,m,g){const w=tokensToParser(tokenizePath(d.path),g),I=assign(w,{record:d,parent:m,children:[],alias:[]});return m&&!I.record.aliasOf==!m.record.aliasOf&&m.children.push(I),I}function createRouterMatcher(d,m){const g=[],w=new Map;m=mergeOptions({strict:!1,end:!0,sensitive:!1},m);function I(G){return w.get(G)}function P(G,W,Z){const U=!Z,Q=normalizeRouteRecord(G);Q.aliasOf=Z&&Z.record;const K=mergeOptions(m,G),te=[Q];if("alias"in G){const ee=typeof G.alias=="string"?[G.alias]:G.alias;for(const ie of ee)te.push(normalizeRouteRecord(assign({},Q,{components:Z?Z.record.components:Q.components,path:ie,aliasOf:Z?Z.record:Q})))}let X,J;for(const ee of te){const{path:ie}=ee;if(W&&ie[0]!=="/"){const fe=W.record.path,se=fe[fe.length-1]==="/"?"":"/";ee.path=W.record.path+(ie&&se+ie)}if(X=createRouteRecordMatcher(ee,W,K),Z?Z.alias.push(X):(J=J||X,J!==X&&J.alias.push(X),U&&G.name&&!isAliasRecord(X)&&F(G.name)),isMatchable(X)&&$(X),Q.children){const fe=Q.children;for(let se=0;se<fe.length;se++)P(fe[se],X,Z&&Z.children[se])}Z=Z||X}return J?()=>{F(J)}:noop$3}function F(G){if(isRouteName(G)){const W=w.get(G);W&&(w.delete(G),g.splice(g.indexOf(W),1),W.children.forEach(F),W.alias.forEach(F))}else{const W=g.indexOf(G);W>-1&&(g.splice(W,1),G.record.name&&w.delete(G.record.name),G.children.forEach(F),G.alias.forEach(F))}}function D(){return g}function $(G){const W=findInsertionIndex(G,g);g.splice(W,0,G),G.record.name&&!isAliasRecord(G)&&w.set(G.record.name,G)}function V(G,W){let Z,U={},Q,K;if("name"in G&&G.name){if(Z=w.get(G.name),!Z)throw createRouterError(1,{location:G});K=Z.record.name,U=assign(paramsFromLocation(W.params,Z.keys.filter(J=>!J.optional).concat(Z.parent?Z.parent.keys.filter(J=>J.optional):[]).map(J=>J.name)),G.params&&paramsFromLocation(G.params,Z.keys.map(J=>J.name))),Q=Z.stringify(U)}else if(G.path!=null)Q=G.path,Z=g.find(J=>J.re.test(Q)),Z&&(U=Z.parse(Q),K=Z.record.name);else{if(Z=W.name?w.get(W.name):g.find(J=>J.re.test(W.path)),!Z)throw createRouterError(1,{location:G,currentLocation:W});K=Z.record.name,U=assign({},W.params,G.params),Q=Z.stringify(U)}const te=[];let X=Z;for(;X;)te.unshift(X.record),X=X.parent;return{name:K,path:Q,params:U,matched:te,meta:mergeMetaFields(te)}}d.forEach(G=>P(G));function j(){g.length=0,w.clear()}return{addRoute:P,resolve:V,removeRoute:F,clearRoutes:j,getRoutes:D,getRecordMatcher:I}}function paramsFromLocation(d,m){const g={};for(const w of m)w in d&&(g[w]=d[w]);return g}function normalizeRouteRecord(d){const m={path:d.path,redirect:d.redirect,name:d.name,meta:d.meta||{},aliasOf:d.aliasOf,beforeEnter:d.beforeEnter,props:normalizeRecordProps(d),children:d.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in d?d.components||null:d.component&&{default:d.component}};return Object.defineProperty(m,"mods",{value:{}}),m}function normalizeRecordProps(d){const m={},g=d.props||!1;if("component"in d)m.default=g;else for(const w in d.components)m[w]=typeof g=="object"?g[w]:g;return m}function isAliasRecord(d){for(;d;){if(d.record.aliasOf)return!0;d=d.parent}return!1}function mergeMetaFields(d){return d.reduce((m,g)=>assign(m,g.meta),{})}function mergeOptions(d,m){const g={};for(const w in d)g[w]=w in m?m[w]:d[w];return g}function findInsertionIndex(d,m){let g=0,w=m.length;for(;g!==w;){const P=g+w>>1;comparePathParserScore(d,m[P])<0?w=P:g=P+1}const I=getInsertionAncestor(d);return I&&(w=m.lastIndexOf(I,w-1)),w}function getInsertionAncestor(d){let m=d;for(;m=m.parent;)if(isMatchable(m)&&comparePathParserScore(d,m)===0)return m}function isMatchable({record:d}){return!!(d.name||d.components&&Object.keys(d.components).length||d.redirect)}function parseQuery(d){const m={};if(d===""||d==="?")return m;const w=(d[0]==="?"?d.slice(1):d).split("&");for(let I=0;I<w.length;++I){const P=w[I].replace(PLUS_RE," "),F=P.indexOf("="),D=decode$3(F<0?P:P.slice(0,F)),$=F<0?null:decode$3(P.slice(F+1));if(D in m){let V=m[D];isArray$2(V)||(V=m[D]=[V]),V.push($)}else m[D]=$}return m}function stringifyQuery(d){let m="";for(let g in d){const w=d[g];if(g=encodeQueryKey(g),w==null){w!==void 0&&(m+=(m.length?"&":"")+g);continue}(isArray$2(w)?w.map(P=>P&&encodeQueryValue(P)):[w&&encodeQueryValue(w)]).forEach(P=>{P!==void 0&&(m+=(m.length?"&":"")+g,P!=null&&(m+="="+P))})}return m}function normalizeQuery(d){const m={};for(const g in d){const w=d[g];w!==void 0&&(m[g]=isArray$2(w)?w.map(I=>I==null?null:""+I):w==null?w:""+w)}return m}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let d=[];function m(w){return d.push(w),()=>{const I=d.indexOf(w);I>-1&&d.splice(I,1)}}function g(){d=[]}return{add:m,list:()=>d.slice(),reset:g}}function guardToPromiseFn(d,m,g,w,I,P=F=>F()){const F=w&&(w.enterCallbacks[I]=w.enterCallbacks[I]||[]);return()=>new Promise((D,$)=>{const V=W=>{W===!1?$(createRouterError(4,{from:g,to:m})):W instanceof Error?$(W):isRouteLocation(W)?$(createRouterError(2,{from:m,to:W})):(F&&w.enterCallbacks[I]===F&&typeof W=="function"&&F.push(W),D())},j=P(()=>d.call(w&&w.instances[I],m,g,V));let G=Promise.resolve(j);d.length<3&&(G=G.then(V)),G.catch(W=>$(W))})}function extractComponentsGuards(d,m,g,w,I=P=>P()){const P=[];for(const F of d)for(const D in F.components){let $=F.components[D];if(!(m!=="beforeRouteEnter"&&!F.instances[D]))if(isRouteComponent($)){const j=($.__vccOpts||$)[m];j&&P.push(guardToPromiseFn(j,g,w,F,D,I))}else{let V=$();P.push(()=>V.then(j=>{if(!j)throw new Error(`Couldn't resolve component "${D}" at "${F.path}"`);const G=isESModule(j)?j.default:j;F.mods[D]=j,F.components[D]=G;const Z=(G.__vccOpts||G)[m];return Z&&guardToPromiseFn(Z,g,w,F,D,I)()}))}}return P}function useLink(d){const m=inject(routerKey),g=inject(routeLocationKey),w=computed(()=>{const $=unref(d.to);return m.resolve($)}),I=computed(()=>{const{matched:$}=w.value,{length:V}=$,j=$[V-1],G=g.matched;if(!j||!G.length)return-1;const W=G.findIndex(isSameRouteRecord.bind(null,j));if(W>-1)return W;const Z=getOriginalPath($[V-2]);return V>1&&getOriginalPath(j)===Z&&G[G.length-1].path!==Z?G.findIndex(isSameRouteRecord.bind(null,$[V-2])):W}),P=computed(()=>I.value>-1&&includesParams(g.params,w.value.params)),F=computed(()=>I.value>-1&&I.value===g.matched.length-1&&isSameRouteLocationParams(g.params,w.value.params));function D($={}){return guardEvent($)?m[unref(d.replace)?"replace":"push"](unref(d.to)).catch(noop$3):Promise.resolve()}return{route:w,href:computed(()=>w.value.href),isActive:P,isExactActive:F,navigate:D}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(d,{slots:m}){const g=reactive(useLink(d)),{options:w}=inject(routerKey),I=computed(()=>({[getLinkClass(d.activeClass,w.linkActiveClass,"router-link-active")]:g.isActive,[getLinkClass(d.exactActiveClass,w.linkExactActiveClass,"router-link-exact-active")]:g.isExactActive}));return()=>{const P=m.default&&m.default(g);return d.custom?P:h$1("a",{"aria-current":g.isExactActive?d.ariaCurrentValue:null,href:g.href,onClick:g.navigate,class:I.value},P)}}}),RouterLink=RouterLinkImpl;function guardEvent(d){if(!(d.metaKey||d.altKey||d.ctrlKey||d.shiftKey)&&!d.defaultPrevented&&!(d.button!==void 0&&d.button!==0)){if(d.currentTarget&&d.currentTarget.getAttribute){const m=d.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(m))return}return d.preventDefault&&d.preventDefault(),!0}}function includesParams(d,m){for(const g in m){const w=m[g],I=d[g];if(typeof w=="string"){if(w!==I)return!1}else if(!isArray$2(I)||I.length!==w.length||w.some((P,F)=>P!==I[F]))return!1}return!0}function getOriginalPath(d){return d?d.aliasOf?d.aliasOf.path:d.path:""}const getLinkClass=(d,m,g)=>d??m??g,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(d,{attrs:m,slots:g}){const w=inject(routerViewLocationKey),I=computed(()=>d.route||w.value),P=inject(viewDepthKey,0),F=computed(()=>{let V=unref(P);const{matched:j}=I.value;let G;for(;(G=j[V])&&!G.components;)V++;return V}),D=computed(()=>I.value.matched[F.value]);provide(viewDepthKey,computed(()=>F.value+1)),provide(matchedRouteKey,D),provide(routerViewLocationKey,I);const $=ref();return watch(()=>[$.value,D.value,d.name],([V,j,G],[W,Z,U])=>{j&&(j.instances[G]=V,Z&&Z!==j&&V&&V===W&&(j.leaveGuards.size||(j.leaveGuards=Z.leaveGuards),j.updateGuards.size||(j.updateGuards=Z.updateGuards))),V&&j&&(!Z||!isSameRouteRecord(j,Z)||!W)&&(j.enterCallbacks[G]||[]).forEach(Q=>Q(V))},{flush:"post"}),()=>{const V=I.value,j=d.name,G=D.value,W=G&&G.components[j];if(!W)return normalizeSlot(g.default,{Component:W,route:V});const Z=G.props[j],U=Z?Z===!0?V.params:typeof Z=="function"?Z(V):Z:null,K=h$1(W,assign({},U,m,{onVnodeUnmounted:te=>{te.component.isUnmounted&&(G.instances[j]=null)},ref:$}));return normalizeSlot(g.default,{Component:K,route:V})||K}}});function normalizeSlot(d,m){if(!d)return null;const g=d(m);return g.length===1?g[0]:g}const RouterView=RouterViewImpl;function createRouter(d){const m=createRouterMatcher(d.routes,d),g=d.parseQuery||parseQuery,w=d.stringifyQuery||stringifyQuery,I=d.history,P=useCallbacks(),F=useCallbacks(),D=useCallbacks(),$=shallowRef(START_LOCATION_NORMALIZED);let V=START_LOCATION_NORMALIZED;isBrowser$3&&d.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const j=applyToParams.bind(null,Le=>""+Le),G=applyToParams.bind(null,encodeParam),W=applyToParams.bind(null,decode$3);function Z(Le,Qe){let Ke,Fe;return isRouteName(Le)?(Ke=m.getRecordMatcher(Le),Fe=Qe):Fe=Le,m.addRoute(Fe,Ke)}function U(Le){const Qe=m.getRecordMatcher(Le);Qe&&m.removeRoute(Qe)}function Q(){return m.getRoutes().map(Le=>Le.record)}function K(Le){return!!m.getRecordMatcher(Le)}function te(Le,Qe){if(Qe=assign({},Qe||$.value),typeof Le=="string"){const ue=parseURL(g,Le,Qe.path),_e=m.resolve({path:ue.path},Qe),Te=I.createHref(ue.fullPath);return assign(ue,_e,{params:W(_e.params),hash:decode$3(ue.hash),redirectedFrom:void 0,href:Te})}let Ke;if(Le.path!=null)Ke=assign({},Le,{path:parseURL(g,Le.path,Qe.path).path});else{const ue=assign({},Le.params);for(const _e in ue)ue[_e]==null&&delete ue[_e];Ke=assign({},Le,{params:G(ue)}),Qe.params=G(Qe.params)}const Fe=m.resolve(Ke,Qe),ce=Le.hash||"";Fe.params=j(W(Fe.params));const $e=stringifyURL(w,assign({},Le,{hash:encodeHash(ce),path:Fe.path})),oe=I.createHref($e);return assign({fullPath:$e,hash:ce,query:w===stringifyQuery?normalizeQuery(Le.query):Le.query||{}},Fe,{redirectedFrom:void 0,href:oe})}function X(Le){return typeof Le=="string"?parseURL(g,Le,$.value.path):assign({},Le)}function J(Le,Qe){if(V!==Le)return createRouterError(8,{from:Qe,to:Le})}function ee(Le){return se(Le)}function ie(Le){return ee(assign(X(Le),{replace:!0}))}function fe(Le){const Qe=Le.matched[Le.matched.length-1];if(Qe&&Qe.redirect){const{redirect:Ke}=Qe;let Fe=typeof Ke=="function"?Ke(Le):Ke;return typeof Fe=="string"&&(Fe=Fe.includes("?")||Fe.includes("#")?Fe=X(Fe):{path:Fe},Fe.params={}),assign({query:Le.query,hash:Le.hash,params:Fe.path!=null?{}:Le.params},Fe)}}function se(Le,Qe){const Ke=V=te(Le),Fe=$.value,ce=Le.state,$e=Le.force,oe=Le.replace===!0,ue=fe(Ke);if(ue)return se(assign(X(ue),{state:typeof ue=="object"?assign({},ce,ue.state):ce,force:$e,replace:oe}),Qe||Ke);const _e=Ke;_e.redirectedFrom=Qe;let Te;return!$e&&isSameRouteLocation(w,Fe,Ke)&&(Te=createRouterError(16,{to:_e,from:Fe}),Me(Fe,Fe,!0,!1)),(Te?Promise.resolve(Te):ye(_e,Fe)).catch(Be=>isNavigationFailure(Be)?isNavigationFailure(Be,2)?Be:He(Be):Oe(Be,_e,Fe)).then(Be=>{if(Be){if(isNavigationFailure(Be,2))return se(assign({replace:oe},X(Be.to),{state:typeof Be.to=="object"?assign({},ce,Be.to.state):ce,force:$e}),Qe||_e)}else Be=ge(_e,Fe,!0,oe,ce);return ae(_e,Fe,Be),Be})}function de(Le,Qe){const Ke=J(Le,Qe);return Ke?Promise.reject(Ke):Promise.resolve()}function le(Le){const Qe=We.values().next().value;return Qe&&typeof Qe.runWithContext=="function"?Qe.runWithContext(Le):Le()}function ye(Le,Qe){let Ke;const[Fe,ce,$e]=extractChangingRecords(Le,Qe);Ke=extractComponentsGuards(Fe.reverse(),"beforeRouteLeave",Le,Qe);for(const ue of Fe)ue.leaveGuards.forEach(_e=>{Ke.push(guardToPromiseFn(_e,Le,Qe))});const oe=de.bind(null,Le,Qe);return Ke.push(oe),ze(Ke).then(()=>{Ke=[];for(const ue of P.list())Ke.push(guardToPromiseFn(ue,Le,Qe));return Ke.push(oe),ze(Ke)}).then(()=>{Ke=extractComponentsGuards(ce,"beforeRouteUpdate",Le,Qe);for(const ue of ce)ue.updateGuards.forEach(_e=>{Ke.push(guardToPromiseFn(_e,Le,Qe))});return Ke.push(oe),ze(Ke)}).then(()=>{Ke=[];for(const ue of $e)if(ue.beforeEnter)if(isArray$2(ue.beforeEnter))for(const _e of ue.beforeEnter)Ke.push(guardToPromiseFn(_e,Le,Qe));else Ke.push(guardToPromiseFn(ue.beforeEnter,Le,Qe));return Ke.push(oe),ze(Ke)}).then(()=>(Le.matched.forEach(ue=>ue.enterCallbacks={}),Ke=extractComponentsGuards($e,"beforeRouteEnter",Le,Qe,le),Ke.push(oe),ze(Ke))).then(()=>{Ke=[];for(const ue of F.list())Ke.push(guardToPromiseFn(ue,Le,Qe));return Ke.push(oe),ze(Ke)}).catch(ue=>isNavigationFailure(ue,8)?ue:Promise.reject(ue))}function ae(Le,Qe,Ke){D.list().forEach(Fe=>le(()=>Fe(Le,Qe,Ke)))}function ge(Le,Qe,Ke,Fe,ce){const $e=J(Le,Qe);if($e)return $e;const oe=Qe===START_LOCATION_NORMALIZED,ue=isBrowser$3?history.state:{};Ke&&(Fe||oe?I.replace(Le.fullPath,assign({scroll:oe&&ue&&ue.scroll},ce)):I.push(Le.fullPath,ce)),$.value=Le,Me(Le,Qe,Ke,oe),He()}let Pe;function be(){Pe||(Pe=I.listen((Le,Qe,Ke)=>{if(!Ve.listening)return;const Fe=te(Le),ce=fe(Fe);if(ce){se(assign(ce,{replace:!0}),Fe).catch(noop$3);return}V=Fe;const $e=$.value;isBrowser$3&&saveScrollPosition(getScrollKey($e.fullPath,Ke.delta),computeScrollPosition()),ye(Fe,$e).catch(oe=>isNavigationFailure(oe,12)?oe:isNavigationFailure(oe,2)?(se(oe.to,Fe).then(ue=>{isNavigationFailure(ue,20)&&!Ke.delta&&Ke.type===NavigationType.pop&&I.go(-1,!1)}).catch(noop$3),Promise.reject()):(Ke.delta&&I.go(-Ke.delta,!1),Oe(oe,Fe,$e))).then(oe=>{oe=oe||ge(Fe,$e,!1),oe&&(Ke.delta&&!isNavigationFailure(oe,8)?I.go(-Ke.delta,!1):Ke.type===NavigationType.pop&&isNavigationFailure(oe,20)&&I.go(-1,!1)),ae(Fe,$e,oe)}).catch(noop$3)}))}let Ee=useCallbacks(),ve=useCallbacks(),Re;function Oe(Le,Qe,Ke){He(Le);const Fe=ve.list();return Fe.length?Fe.forEach(ce=>ce(Le,Qe,Ke)):console.error(Le),Promise.reject(Le)}function Ae(){return Re&&$.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((Le,Qe)=>{Ee.add([Le,Qe])})}function He(Le){return Re||(Re=!Le,be(),Ee.list().forEach(([Qe,Ke])=>Le?Ke(Le):Qe()),Ee.reset()),Le}function Me(Le,Qe,Ke,Fe){const{scrollBehavior:ce}=d;if(!isBrowser$3||!ce)return Promise.resolve();const $e=!Ke&&getSavedScrollPosition(getScrollKey(Le.fullPath,0))||(Fe||!Ke)&&history.state&&history.state.scroll||null;return nextTick().then(()=>ce(Le,Qe,$e)).then(oe=>oe&&scrollToPosition(oe)).catch(oe=>Oe(oe,Le,Qe))}const je=Le=>I.go(Le);let Ne;const We=new Set,Ve={currentRoute:$,listening:!0,addRoute:Z,removeRoute:U,clearRoutes:m.clearRoutes,hasRoute:K,getRoutes:Q,resolve:te,options:d,push:ee,replace:ie,go:je,back:()=>je(-1),forward:()=>je(1),beforeEach:P.add,beforeResolve:F.add,afterEach:D.add,onError:ve.add,isReady:Ae,install(Le){const Qe=this;Le.component("RouterLink",RouterLink),Le.component("RouterView",RouterView),Le.config.globalProperties.$router=Qe,Object.defineProperty(Le.config.globalProperties,"$route",{enumerable:!0,get:()=>unref($)}),isBrowser$3&&!Ne&&$.value===START_LOCATION_NORMALIZED&&(Ne=!0,ee(I.location).catch(ce=>{}));const Ke={};for(const ce in START_LOCATION_NORMALIZED)Object.defineProperty(Ke,ce,{get:()=>$.value[ce],enumerable:!0});Le.provide(routerKey,Qe),Le.provide(routeLocationKey,shallowReactive(Ke)),Le.provide(routerViewLocationKey,$);const Fe=Le.unmount;We.add(Le),Le.unmount=function(){We.delete(Le),We.size<1&&(V=START_LOCATION_NORMALIZED,Pe&&Pe(),Pe=null,$.value=START_LOCATION_NORMALIZED,Ne=!1,Re=!1),Fe()}}};function ze(Le){return Le.reduce((Qe,Ke)=>Qe.then(()=>le(Ke)),Promise.resolve())}return Ve}function extractChangingRecords(d,m){const g=[],w=[],I=[],P=Math.max(m.matched.length,d.matched.length);for(let F=0;F<P;F++){const D=m.matched[F];D&&(d.matched.find(V=>isSameRouteRecord(V,D))?w.push(D):g.push(D));const $=d.matched[F];$&&(m.matched.find(V=>isSameRouteRecord(V,$))||I.push($))}return[g,w,I]}const _hoisted_1$o={id:"app"},_sfc_main$w=defineComponent({__name:"App",setup(d){let m=ref(),g=ref(0);return provide("initPct",m),provide("menuClick",g),(w,I)=>(openBlock(),createElementBlock("div",_hoisted_1$o,[createVNode(unref(RouterView),{name:"header"}),createBaseVNode("main",null,[createVNode(unref(RouterView),{name:"main"})]),createVNode(unref(RouterView),{name:"footer"})]))}}),_export_sfc=(d,m)=>{const g=d.__vccOpts||d;for(const[w,I]of m)g[w]=I;return g},_sfc_main$v={name:"app-footer",data(){return{year:new Date().getFullYear()}}},_hoisted_1$n={class:"footer has-cards"},_hoisted_2$g={class:"container"},_hoisted_3$c={class:"d-flex justify-content-center"},_hoisted_4$a={class:"col-md-6"},_hoisted_5$8={class:"copyright text-center"};function _sfc_render$m(d,m,g,w,I,P){return openBlock(),createElementBlock("footer",_hoisted_1$n,[createBaseVNode("div",_hoisted_2$g,[m[0]||(m[0]=createBaseVNode("hr",null,null,-1)),createBaseVNode("div",_hoisted_3$c,[createBaseVNode("div",_hoisted_4$a,[createBaseVNode("div",_hoisted_5$8," © "+toDisplayString(I.year)+" - Muhammad Henry Aditya & Maulana Ansari, supported by Creative Tim & Binar Code. ",1)])])])])}const AppFooter=_export_sfc(_sfc_main$v,[["render",_sfc_render$m]]),_imports_0="/pengolahan_citra1/img/brand/logo1-removebg-preview.png",_imports_1="/pengolahan_citra1/img/brand/logo2-removebg-preview.png",_sfc_main$u={props:{target:{type:[String,Number],description:"Button target element"},toggled:{type:Boolean,default:!1,description:"Whether button is toggled"}}},_hoisted_1$m=["data-target","aria-controls","aria-expanded"];function _sfc_render$l(d,m,g,w,I,P){return openBlock(),createElementBlock("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":g.target,"aria-controls":g.target,"aria-expanded":g.toggled,"aria-label":"Toggle navigation"},m[0]||(m[0]=[createBaseVNode("span",{class:"navbar-toggler-icon"},null,-1)]),8,_hoisted_1$m)}const NavbarToggleButton=_export_sfc(_sfc_main$u,[["render",_sfc_render$l]]),_sfc_main$t={name:"base-nav",components:{NavbarToggleButton},props:{type:{type:String,default:"primary",description:"Navbar type (e.g default, primary etc)"},title:{type:String,default:"",description:"Title of navbar"},contentId:{type:[String,Number],default:Math.random().toString(),description:"Explicit id for the menu. By default it's a generated random number"},effect:{type:String,default:"dark",description:"Effect of the navbar (light|dark)"},round:{type:Boolean,default:!1,description:"Whether nav has rounded corners"},transparent:{type:Boolean,default:!1,description:"Whether navbar is transparent"},expand:{type:Boolean,default:!1,description:"Whether navbar should contain `navbar-expand-lg` class"}},data(){return{toggled:!1}},methods:{onTitleClick(d){this.$emit("title-click",d)},closeMenu(){this.toggled=!1}}},_hoisted_1$l={class:"container"},_hoisted_2$f=["id"],_hoisted_3$b={class:"navbar-collapse-header"};function _sfc_render$k(d,m,g,w,I,P){const F=resolveComponent("navbar-toggle-button"),D=resolveDirective("click-outside");return openBlock(),createElementBlock("nav",{class:normalizeClass(["navbar",[{"navbar-expand-lg":g.expand},{[`navbar-${g.effect}`]:g.effect},{"navbar-transparent":g.transparent},{[`bg-${g.type}`]:g.type},{rounded:g.round}]])},[createBaseVNode("div",_hoisted_1$l,[renderSlot(d.$slots,"container-pre"),renderSlot(d.$slots,"brand",{},()=>[createBaseVNode("a",{class:"navbar-brand",href:"#",onClick:m[0]||(m[0]=withModifiers((...$)=>P.onTitleClick&&P.onTitleClick(...$),["prevent"]))},toDisplayString(g.title),1)]),createVNode(F,{toggled:I.toggled,target:g.contentId,onClick:m[1]||(m[1]=withModifiers($=>I.toggled=!I.toggled,["stop"]))},null,8,["toggled","target"]),renderSlot(d.$slots,"container-after"),withDirectives((openBlock(),createElementBlock("div",{class:normalizeClass(["collapse navbar-collapse",{show:I.toggled}]),id:g.contentId},[createBaseVNode("div",_hoisted_3$b,[renderSlot(d.$slots,"content-header",{closeMenu:P.closeMenu})]),renderSlot(d.$slots,"default",{closeMenu:P.closeMenu})],10,_hoisted_2$f)),[[D,P.closeMenu]])])],2)}const BaseNav=_export_sfc(_sfc_main$t,[["render",_sfc_render$k]]),_sfc_main$s={name:"base-dropdown",props:{direction:{type:String,default:"down"},title:{type:String,description:"Dropdown title"},icon:{type:String,description:"Icon for dropdown title"},position:{type:String,description:"Position of dropdown menu (e.g right|left)"},menuClasses:{type:[String,Object],description:"Dropdown menu classes"},hideArrow:{type:Boolean,description:"Whether dropdown arrow should be hidden"},tag:{type:String,default:"li",description:"Dropdown html tag (e.g div, li etc)"}},data(){return{isOpen:!1}},methods:{toggleDropDown(){this.isOpen=!this.isOpen,this.$emit("change",this.isOpen)},closeDropDown(){this.isOpen=!1,this.$emit("change",this.isOpen)}}},_hoisted_1$k={class:"no-icon"};function _sfc_render$j(d,m,g,w,I,P){const F=resolveDirective("click-outside");return withDirectives((openBlock(),createBlock(resolveDynamicComponent(g.tag),{class:normalizeClass(["dropdown",[{show:I.isOpen},{dropdown:g.direction==="down"},{dropup:g.direction==="up"}]]),"aria-haspopup":"true","aria-expanded":I.isOpen,onClick:P.toggleDropDown},{default:withCtx(()=>[renderSlot(d.$slots,"title",{},()=>[createBaseVNode("a",{class:normalizeClass(["dropdown-toggle nav-link",{"no-caret":g.hideArrow}]),"data-toggle":"dropdown"},[createBaseVNode("i",{class:normalizeClass(g.icon)},null,2),createBaseVNode("span",_hoisted_1$k,toDisplayString(g.title),1)],2)]),createBaseVNode("ul",{class:normalizeClass(["dropdown-menu",[{"dropdown-menu-right":g.position==="right"},{show:I.isOpen},g.menuClasses]])},[renderSlot(d.$slots,"default")],2)]),_:3},8,["class","aria-expanded","onClick"])),[[F,P.closeDropDown]])}const BaseDropdown=_export_sfc(_sfc_main$s,[["render",_sfc_render$j]]),_sfc_main$r={name:"close-button",props:{target:{type:[String,Number],description:"Close button target element"},expanded:{type:Boolean,description:"Whether button is expanded (aria-expanded attribute)"}},methods:{handleClick(d){this.$emit("click",d)}}},_hoisted_1$j=["data-target","aria-controls","aria-expanded"];function _sfc_render$i(d,m,g,w,I,P){return openBlock(),createElementBlock("button",{type:"button",class:"navbar-toggler","data-toggle":"collapse",onClick:m[0]||(m[0]=(...F)=>P.handleClick&&P.handleClick(...F)),"data-target":`#${g.target}`,"aria-controls":g.target,"aria-expanded":g.expanded,"aria-label":"Toggle navigation"},m[1]||(m[1]=[createBaseVNode("span",null,null,-1),createBaseVNode("span",null,null,-1)]),8,_hoisted_1$j)}const CloseButton=_export_sfc(_sfc_main$r,[["render",_sfc_render$i]]),noop$1=()=>{};let _WINDOW={},_DOCUMENT={},_MUTATION_OBSERVER=null,_PERFORMANCE={mark:noop$1,measure:noop$1};try{typeof window<"u"&&(_WINDOW=window),typeof document<"u"&&(_DOCUMENT=document),typeof MutationObserver<"u"&&(_MUTATION_OBSERVER=MutationObserver),typeof performance<"u"&&(_PERFORMANCE=performance)}catch{}const{userAgent=""}=_WINDOW.navigator||{},WINDOW=_WINDOW,DOCUMENT=_DOCUMENT,MUTATION_OBSERVER=_MUTATION_OBSERVER,PERFORMANCE=_PERFORMANCE;WINDOW.document;const IS_DOM=!!DOCUMENT.documentElement&&!!DOCUMENT.head&&typeof DOCUMENT.addEventListener=="function"&&typeof DOCUMENT.createElement=="function",IS_IE=~userAgent.indexOf("MSIE")||~userAgent.indexOf("Trident/");var a$1="classic",t$1="duotone",r$1="sharp",o$1="sharp-duotone",c$2=[a$1,t$1,r$1,o$1],et$1={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds"}},bt={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},Ct=["kit"],Dt=/fa(s|r|l|t|d|b|k|kd|ss|sr|sl|st|sds)?[\-\ ]/,Kt=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,ao={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},eo={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds"}},lo={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds"}},y$3={classic:["fas","far","fal","fat"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds"]},no={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid"}},fo={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds"}},ho={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid"}},x$1$1=["solid","regular","light","thin","duotone","brands"],u$1=[1,2,3,4,5,6,7,8,9,10],m$1=u$1.concat([11,12,13,14,15,16,17,18,19,20]),t$1$1={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},yo=[...Object.keys(y$3),...x$1$1,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",t$1$1.GROUP,t$1$1.SWAP_OPACITY,t$1$1.PRIMARY,t$1$1.SECONDARY].concat(u$1.map(d=>"".concat(d,"x"))).concat(m$1.map(d=>"w-".concat(d))),mo={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},Io={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},Fo={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},So={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}};const NAMESPACE_IDENTIFIER="___FONT_AWESOME___",UNITS_IN_GRID=16,DEFAULT_CSS_PREFIX="fa",DEFAULT_REPLACEMENT_CLASS="svg-inline--fa",DATA_FA_I2SVG="data-fa-i2svg",DATA_FA_PSEUDO_ELEMENT="data-fa-pseudo-element",DATA_FA_PSEUDO_ELEMENT_PENDING="data-fa-pseudo-element-pending",DATA_PREFIX="data-prefix",DATA_ICON="data-icon",HTML_CLASS_I2SVG_BASE_CLASS="fontawesome-i2svg",MUTATION_APPROACH_ASYNC="async",TAGNAMES_TO_SKIP_FOR_PSEUDOELEMENTS=["HTML","HEAD","STYLE","SCRIPT"],PRODUCTION$1=(()=>{try{return!0}catch{return!1}})(),FAMILIES=[a$1,r$1,o$1];function familyProxy(d){return new Proxy(d,{get(m,g){return g in m?m[g]:m[a$1]}})}const _PREFIX_TO_STYLE={...ho};_PREFIX_TO_STYLE[a$1]={...ho[a$1],...bt.kit,...bt["kit-duotone"]};const PREFIX_TO_STYLE=familyProxy(_PREFIX_TO_STYLE),_STYLE_TO_PREFIX={...fo};_STYLE_TO_PREFIX[a$1]={..._STYLE_TO_PREFIX[a$1],...So.kit,...So["kit-duotone"]};const STYLE_TO_PREFIX=familyProxy(_STYLE_TO_PREFIX),_PREFIX_TO_LONG_STYLE={...no};_PREFIX_TO_LONG_STYLE[a$1]={..._PREFIX_TO_LONG_STYLE[a$1],...Fo.kit};const PREFIX_TO_LONG_STYLE=familyProxy(_PREFIX_TO_LONG_STYLE),_LONG_STYLE_TO_PREFIX={...lo};_LONG_STYLE_TO_PREFIX[a$1]={..._LONG_STYLE_TO_PREFIX[a$1],...Io.kit};const LONG_STYLE_TO_PREFIX=familyProxy(_LONG_STYLE_TO_PREFIX),ICON_SELECTION_SYNTAX_PATTERN=Dt,LAYERS_TEXT_CLASSNAME="fa-layers-text",FONT_FAMILY_PATTERN=Kt,_FONT_WEIGHT_TO_PREFIX={...et$1};familyProxy(_FONT_WEIGHT_TO_PREFIX);const ATTRIBUTES_WATCHED_FOR_MUTATION=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],DUOTONE_CLASSES=t$1$1,prefixes=new Set;Object.keys(STYLE_TO_PREFIX[a$1]).map(prefixes.add.bind(prefixes));Object.keys(STYLE_TO_PREFIX[r$1]).map(prefixes.add.bind(prefixes));Object.keys(STYLE_TO_PREFIX[o$1]).map(prefixes.add.bind(prefixes));const RESERVED_CLASSES=[...Ct,...yo],initial=WINDOW.FontAwesomeConfig||{};function getAttrConfig(d){var m=DOCUMENT.querySelector("script["+d+"]");if(m)return m.getAttribute(d)}function coerce$1(d){return d===""?!0:d==="false"?!1:d==="true"?!0:d}DOCUMENT&&typeof DOCUMENT.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(m=>{let[g,w]=m;const I=coerce$1(getAttrConfig(g));I!=null&&(initial[w]=I)});const _default={styleDefault:"solid",familyDefault:"classic",cssPrefix:DEFAULT_CSS_PREFIX,replacementClass:DEFAULT_REPLACEMENT_CLASS,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};initial.familyPrefix&&(initial.cssPrefix=initial.familyPrefix);const _config={..._default,...initial};_config.autoReplaceSvg||(_config.observeMutations=!1);const config={};Object.keys(_default).forEach(d=>{Object.defineProperty(config,d,{enumerable:!0,set:function(m){_config[d]=m,_onChangeCb.forEach(g=>g(config))},get:function(){return _config[d]}})});Object.defineProperty(config,"familyPrefix",{enumerable:!0,set:function(d){_config.cssPrefix=d,_onChangeCb.forEach(m=>m(config))},get:function(){return _config.cssPrefix}});WINDOW.FontAwesomeConfig=config;const _onChangeCb=[];function onChange(d){return _onChangeCb.push(d),()=>{_onChangeCb.splice(_onChangeCb.indexOf(d),1)}}const d$2=UNITS_IN_GRID,meaninglessTransform={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function insertCss(d){if(!d||!IS_DOM)return;const m=DOCUMENT.createElement("style");m.setAttribute("type","text/css"),m.innerHTML=d;const g=DOCUMENT.head.childNodes;let w=null;for(let I=g.length-1;I>-1;I--){const P=g[I],F=(P.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(F)>-1&&(w=P)}return DOCUMENT.head.insertBefore(m,w),d}const idPool="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function nextUniqueId(){let d=12,m="";for(;d-- >0;)m+=idPool[Math.random()*62|0];return m}function toArray$1(d){const m=[];for(let g=(d||[]).length>>>0;g--;)m[g]=d[g];return m}function classArray(d){return d.classList?toArray$1(d.classList):(d.getAttribute("class")||"").split(" ").filter(m=>m)}function htmlEscape(d){return"".concat(d).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function joinAttributes(d){return Object.keys(d||{}).reduce((m,g)=>m+"".concat(g,'="').concat(htmlEscape(d[g]),'" '),"").trim()}function joinStyles(d){return Object.keys(d||{}).reduce((m,g)=>m+"".concat(g,": ").concat(d[g].trim(),";"),"")}function transformIsMeaningful(d){return d.size!==meaninglessTransform.size||d.x!==meaninglessTransform.x||d.y!==meaninglessTransform.y||d.rotate!==meaninglessTransform.rotate||d.flipX||d.flipY}function transformForSvg(d){let{transform:m,containerWidth:g,iconWidth:w}=d;const I={transform:"translate(".concat(g/2," 256)")},P="translate(".concat(m.x*32,", ").concat(m.y*32,") "),F="scale(".concat(m.size/16*(m.flipX?-1:1),", ").concat(m.size/16*(m.flipY?-1:1),") "),D="rotate(".concat(m.rotate," 0 0)"),$={transform:"".concat(P," ").concat(F," ").concat(D)},V={transform:"translate(".concat(w/2*-1," -256)")};return{outer:I,inner:$,path:V}}function transformForCss(d){let{transform:m,width:g=UNITS_IN_GRID,height:w=UNITS_IN_GRID,startCentered:I=!1}=d,P="";return I&&IS_IE?P+="translate(".concat(m.x/d$2-g/2,"em, ").concat(m.y/d$2-w/2,"em) "):I?P+="translate(calc(-50% + ".concat(m.x/d$2,"em), calc(-50% + ").concat(m.y/d$2,"em)) "):P+="translate(".concat(m.x/d$2,"em, ").concat(m.y/d$2,"em) "),P+="scale(".concat(m.size/d$2*(m.flipX?-1:1),", ").concat(m.size/d$2*(m.flipY?-1:1),") "),P+="rotate(".concat(m.rotate,"deg) "),P}var baseStyles=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function css(){const d=DEFAULT_CSS_PREFIX,m=DEFAULT_REPLACEMENT_CLASS,g=config.cssPrefix,w=config.replacementClass;let I=baseStyles;if(g!==d||w!==m){const P=new RegExp("\\.".concat(d,"\\-"),"g"),F=new RegExp("\\--".concat(d,"\\-"),"g"),D=new RegExp("\\.".concat(m),"g");I=I.replace(P,".".concat(g,"-")).replace(F,"--".concat(g,"-")).replace(D,".".concat(w))}return I}let _cssInserted=!1;function ensureCss(){config.autoAddCss&&!_cssInserted&&(insertCss(css()),_cssInserted=!0)}var InjectCSS={mixout(){return{dom:{css,insertCss:ensureCss}}},hooks(){return{beforeDOMElementCreation(){ensureCss()},beforeI2svg(){ensureCss()}}}};const w$1=WINDOW||{};w$1[NAMESPACE_IDENTIFIER]||(w$1[NAMESPACE_IDENTIFIER]={});w$1[NAMESPACE_IDENTIFIER].styles||(w$1[NAMESPACE_IDENTIFIER].styles={});w$1[NAMESPACE_IDENTIFIER].hooks||(w$1[NAMESPACE_IDENTIFIER].hooks={});w$1[NAMESPACE_IDENTIFIER].shims||(w$1[NAMESPACE_IDENTIFIER].shims=[]);var namespace=w$1[NAMESPACE_IDENTIFIER];const functions=[],listener=function(){DOCUMENT.removeEventListener("DOMContentLoaded",listener),loaded=1,functions.map(d=>d())};let loaded=!1;IS_DOM&&(loaded=(DOCUMENT.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(DOCUMENT.readyState),loaded||DOCUMENT.addEventListener("DOMContentLoaded",listener));function domready(d){IS_DOM&&(loaded?setTimeout(d,0):functions.push(d))}function toHtml(d){const{tag:m,attributes:g={},children:w=[]}=d;return typeof d=="string"?htmlEscape(d):"<".concat(m," ").concat(joinAttributes(g),">").concat(w.map(toHtml).join(""),"</").concat(m,">")}function iconFromMapping(d,m,g){if(d&&d[m]&&d[m][g])return{prefix:m,iconName:g,icon:d[m][g]}}var reduce=function(m,g,w,I){var P=Object.keys(m),F=P.length,D=g,$,V,j;for(w===void 0?($=1,j=m[P[0]]):($=0,j=w);$<F;$++)V=P[$],j=D(j,m[V],V,m);return j};function ucs2decode(d){const m=[];let g=0;const w=d.length;for(;g<w;){const I=d.charCodeAt(g++);if(I>=55296&&I<=56319&&g<w){const P=d.charCodeAt(g++);(P&64512)==56320?m.push(((I&1023)<<10)+(P&1023)+65536):(m.push(I),g--)}else m.push(I)}return m}function toHex$1(d){const m=ucs2decode(d);return m.length===1?m[0].toString(16):null}function codePointAt(d,m){const g=d.length;let w=d.charCodeAt(m),I;return w>=55296&&w<=56319&&g>m+1&&(I=d.charCodeAt(m+1),I>=56320&&I<=57343)?(w-55296)*1024+I-56320+65536:w}function normalizeIcons(d){return Object.keys(d).reduce((m,g)=>{const w=d[g];return!!w.icon?m[w.iconName]=w.icon:m[g]=w,m},{})}function defineIcons(d,m){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:w=!1}=g,I=normalizeIcons(m);typeof namespace.hooks.addPack=="function"&&!w?namespace.hooks.addPack(d,normalizeIcons(m)):namespace.styles[d]={...namespace.styles[d]||{},...I},d==="fas"&&defineIcons("fa",m)}const{styles:styles$1,shims}=namespace,LONG_STYLE={[a$1]:Object.values(PREFIX_TO_LONG_STYLE[a$1]),[r$1]:Object.values(PREFIX_TO_LONG_STYLE[r$1]),[o$1]:Object.values(PREFIX_TO_LONG_STYLE[o$1])};let _defaultUsablePrefix=null,_byUnicode={},_byLigature={},_byOldName={},_byOldUnicode={},_byAlias={};const PREFIXES={[a$1]:Object.keys(PREFIX_TO_STYLE[a$1]),[r$1]:Object.keys(PREFIX_TO_STYLE[r$1]),[o$1]:Object.keys(PREFIX_TO_STYLE[o$1])};function isReserved(d){return~RESERVED_CLASSES.indexOf(d)}function getIconName(d,m){const g=m.split("-"),w=g[0],I=g.slice(1).join("-");return w===d&&I!==""&&!isReserved(I)?I:null}const build=()=>{const d=w=>reduce(styles$1,(I,P,F)=>(I[F]=reduce(P,w,{}),I),{});_byUnicode=d((w,I,P)=>(I[3]&&(w[I[3]]=P),I[2]&&I[2].filter(D=>typeof D=="number").forEach(D=>{w[D.toString(16)]=P}),w)),_byLigature=d((w,I,P)=>(w[P]=P,I[2]&&I[2].filter(D=>typeof D=="string").forEach(D=>{w[D]=P}),w)),_byAlias=d((w,I,P)=>{const F=I[2];return w[P]=P,F.forEach(D=>{w[D]=P}),w});const m="far"in styles$1||config.autoFetchSvg,g=reduce(shims,(w,I)=>{const P=I[0];let F=I[1];const D=I[2];return F==="far"&&!m&&(F="fas"),typeof P=="string"&&(w.names[P]={prefix:F,iconName:D}),typeof P=="number"&&(w.unicodes[P.toString(16)]={prefix:F,iconName:D}),w},{names:{},unicodes:{}});_byOldName=g.names,_byOldUnicode=g.unicodes,_defaultUsablePrefix=getCanonicalPrefix(config.styleDefault,{family:config.familyDefault})};onChange(d=>{_defaultUsablePrefix=getCanonicalPrefix(d.styleDefault,{family:config.familyDefault})});build();function byUnicode(d,m){return(_byUnicode[d]||{})[m]}function byLigature(d,m){return(_byLigature[d]||{})[m]}function byAlias(d,m){return(_byAlias[d]||{})[m]}function byOldName(d){return _byOldName[d]||{prefix:null,iconName:null}}function byOldUnicode(d){const m=_byOldUnicode[d],g=byUnicode("fas",d);return m||(g?{prefix:"fas",iconName:g}:null)||{prefix:null,iconName:null}}function getDefaultUsablePrefix(){return _defaultUsablePrefix}const emptyCanonicalIcon=()=>({prefix:null,iconName:null,rest:[]});function getCanonicalPrefix(d){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:g=a$1}=m,w=PREFIX_TO_STYLE[g][d],I=STYLE_TO_PREFIX[g][d]||STYLE_TO_PREFIX[g][w],P=d in namespace.styles?d:null;return I||P||null}const PREFIXES_FOR_FAMILY={[a$1]:Object.keys(PREFIX_TO_LONG_STYLE[a$1]),[r$1]:Object.keys(PREFIX_TO_LONG_STYLE[r$1]),[o$1]:Object.keys(PREFIX_TO_LONG_STYLE[o$1])};function getCanonicalIcon(d){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:g=!1}=m,w={[a$1]:"".concat(config.cssPrefix,"-").concat(a$1),[r$1]:"".concat(config.cssPrefix,"-").concat(r$1),[o$1]:"".concat(config.cssPrefix,"-").concat(o$1)};let I=null,P=a$1;const F=c$2.filter($=>$!==t$1);F.forEach($=>{(d.includes(w[$])||d.some(V=>PREFIXES_FOR_FAMILY[$].includes(V)))&&(P=$)});const D=d.reduce(($,V)=>{const j=getIconName(config.cssPrefix,V);if(styles$1[V]?(V=LONG_STYLE[P].includes(V)?LONG_STYLE_TO_PREFIX[P][V]:V,I=V,$.prefix=V):PREFIXES[P].indexOf(V)>-1?(I=V,$.prefix=getCanonicalPrefix(V,{family:P})):j?$.iconName=j:V!==config.replacementClass&&!F.some(G=>V===w[G])&&$.rest.push(V),!g&&$.prefix&&$.iconName){const G=I==="fa"?byOldName($.iconName):{},W=byAlias($.prefix,$.iconName);G.prefix&&(I=null),$.iconName=G.iconName||W||$.iconName,$.prefix=G.prefix||$.prefix,$.prefix==="far"&&!styles$1.far&&styles$1.fas&&!config.autoFetchSvg&&($.prefix="fas")}return $},emptyCanonicalIcon());return(d.includes("fa-brands")||d.includes("fab"))&&(D.prefix="fab"),(d.includes("fa-duotone")||d.includes("fad"))&&(D.prefix="fad"),!D.prefix&&P===r$1&&(styles$1.fass||config.autoFetchSvg)&&(D.prefix="fass",D.iconName=byAlias(D.prefix,D.iconName)||D.iconName),!D.prefix&&P===o$1&&(styles$1.fasds||config.autoFetchSvg)&&(D.prefix="fasds",D.iconName=byAlias(D.prefix,D.iconName)||D.iconName),(D.prefix==="fa"||I==="fa")&&(D.prefix=getDefaultUsablePrefix()||"fas"),D}class Library{constructor(){this.definitions={}}add(){for(var m=arguments.length,g=new Array(m),w=0;w<m;w++)g[w]=arguments[w];const I=g.reduce(this._pullDefinitions,{});Object.keys(I).forEach(P=>{this.definitions[P]={...this.definitions[P]||{},...I[P]},defineIcons(P,I[P]);const F=PREFIX_TO_LONG_STYLE[a$1][P];F&&defineIcons(F,I[P]),build()})}reset(){this.definitions={}}_pullDefinitions(m,g){const w=g.prefix&&g.iconName&&g.icon?{0:g}:g;return Object.keys(w).map(I=>{const{prefix:P,iconName:F,icon:D}=w[I],$=D[2];m[P]||(m[P]={}),$.length>0&&$.forEach(V=>{typeof V=="string"&&(m[P][V]=D)}),m[P][F]=D}),m}}let _plugins=[],_hooks={};const providers={},defaultProviderKeys=Object.keys(providers);function registerPlugins(d,m){let{mixoutsTo:g}=m;return _plugins=d,_hooks={},Object.keys(providers).forEach(w=>{defaultProviderKeys.indexOf(w)===-1&&delete providers[w]}),_plugins.forEach(w=>{const I=w.mixout?w.mixout():{};if(Object.keys(I).forEach(P=>{typeof I[P]=="function"&&(g[P]=I[P]),typeof I[P]=="object"&&Object.keys(I[P]).forEach(F=>{g[P]||(g[P]={}),g[P][F]=I[P][F]})}),w.hooks){const P=w.hooks();Object.keys(P).forEach(F=>{_hooks[F]||(_hooks[F]=[]),_hooks[F].push(P[F])})}w.provides&&w.provides(providers)}),g}function chainHooks(d,m){for(var g=arguments.length,w=new Array(g>2?g-2:0),I=2;I<g;I++)w[I-2]=arguments[I];return(_hooks[d]||[]).forEach(F=>{m=F.apply(null,[m,...w])}),m}function callHooks(d){for(var m=arguments.length,g=new Array(m>1?m-1:0),w=1;w<m;w++)g[w-1]=arguments[w];(_hooks[d]||[]).forEach(P=>{P.apply(null,g)})}function callProvided(){const d=arguments[0],m=Array.prototype.slice.call(arguments,1);return providers[d]?providers[d].apply(null,m):void 0}function findIconDefinition(d){d.prefix==="fa"&&(d.prefix="fas");let{iconName:m}=d;const g=d.prefix||getDefaultUsablePrefix();if(m)return m=byAlias(g,m)||m,iconFromMapping(library.definitions,g,m)||iconFromMapping(namespace.styles,g,m)}const library=new Library,noAuto=()=>{config.autoReplaceSvg=!1,config.observeMutations=!1,callHooks("noAuto")},dom={i2svg:function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return IS_DOM?(callHooks("beforeI2svg",d),callProvided("pseudoElements2svg",d),callProvided("i2svg",d)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:m}=d;config.autoReplaceSvg===!1&&(config.autoReplaceSvg=!0),config.observeMutations=!0,domready(()=>{autoReplace({autoReplaceSvgRoot:m}),callHooks("watch",d)})}},parse$1={icon:d=>{if(d===null)return null;if(typeof d=="object"&&d.prefix&&d.iconName)return{prefix:d.prefix,iconName:byAlias(d.prefix,d.iconName)||d.iconName};if(Array.isArray(d)&&d.length===2){const m=d[1].indexOf("fa-")===0?d[1].slice(3):d[1],g=getCanonicalPrefix(d[0]);return{prefix:g,iconName:byAlias(g,m)||m}}if(typeof d=="string"&&(d.indexOf("".concat(config.cssPrefix,"-"))>-1||d.match(ICON_SELECTION_SYNTAX_PATTERN))){const m=getCanonicalIcon(d.split(" "),{skipLookups:!0});return{prefix:m.prefix||getDefaultUsablePrefix(),iconName:byAlias(m.prefix,m.iconName)||m.iconName}}if(typeof d=="string"){const m=getDefaultUsablePrefix();return{prefix:m,iconName:byAlias(m,d)||d}}}},api={noAuto,config,dom,parse:parse$1,library,findIconDefinition,toHtml},autoReplace=function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:m=DOCUMENT}=d;(Object.keys(namespace.styles).length>0||config.autoFetchSvg)&&IS_DOM&&config.autoReplaceSvg&&api.dom.i2svg({node:m})};function domVariants(d,m){return Object.defineProperty(d,"abstract",{get:m}),Object.defineProperty(d,"html",{get:function(){return d.abstract.map(g=>toHtml(g))}}),Object.defineProperty(d,"node",{get:function(){if(!IS_DOM)return;const g=DOCUMENT.createElement("div");return g.innerHTML=d.html,g.children}}),d}function asIcon(d){let{children:m,main:g,mask:w,attributes:I,styles:P,transform:F}=d;if(transformIsMeaningful(F)&&g.found&&!w.found){const{width:D,height:$}=g,V={x:D/$/2,y:.5};I.style=joinStyles({...P,"transform-origin":"".concat(V.x+F.x/16,"em ").concat(V.y+F.y/16,"em")})}return[{tag:"svg",attributes:I,children:m}]}function asSymbol(d){let{prefix:m,iconName:g,children:w,attributes:I,symbol:P}=d;const F=P===!0?"".concat(m,"-").concat(config.cssPrefix,"-").concat(g):P;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:{...I,id:F},children:w}]}]}function makeInlineSvgAbstract(d){const{icons:{main:m,mask:g},prefix:w,iconName:I,transform:P,symbol:F,title:D,maskId:$,titleId:V,extra:j,watchable:G=!1}=d,{width:W,height:Z}=g.found?g:m,U=w==="fak",Q=[config.replacementClass,I?"".concat(config.cssPrefix,"-").concat(I):""].filter(ie=>j.classes.indexOf(ie)===-1).filter(ie=>ie!==""||!!ie).concat(j.classes).join(" ");let K={children:[],attributes:{...j.attributes,"data-prefix":w,"data-icon":I,class:Q,role:j.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(W," ").concat(Z)}};const te=U&&!~j.classes.indexOf("fa-fw")?{width:"".concat(W/Z*16*.0625,"em")}:{};G&&(K.attributes[DATA_FA_I2SVG]=""),D&&(K.children.push({tag:"title",attributes:{id:K.attributes["aria-labelledby"]||"title-".concat(V||nextUniqueId())},children:[D]}),delete K.attributes.title);const X={...K,prefix:w,iconName:I,main:m,mask:g,maskId:$,transform:P,symbol:F,styles:{...te,...j.styles}},{children:J,attributes:ee}=g.found&&m.found?callProvided("generateAbstractMask",X)||{children:[],attributes:{}}:callProvided("generateAbstractIcon",X)||{children:[],attributes:{}};return X.children=J,X.attributes=ee,F?asSymbol(X):asIcon(X)}function makeLayersTextAbstract(d){const{content:m,width:g,height:w,transform:I,title:P,extra:F,watchable:D=!1}=d,$={...F.attributes,...P?{title:P}:{},class:F.classes.join(" ")};D&&($[DATA_FA_I2SVG]="");const V={...F.styles};transformIsMeaningful(I)&&(V.transform=transformForCss({transform:I,startCentered:!0,width:g,height:w}),V["-webkit-transform"]=V.transform);const j=joinStyles(V);j.length>0&&($.style=j);const G=[];return G.push({tag:"span",attributes:$,children:[m]}),P&&G.push({tag:"span",attributes:{class:"sr-only"},children:[P]}),G}function makeLayersCounterAbstract(d){const{content:m,title:g,extra:w}=d,I={...w.attributes,...g?{title:g}:{},class:w.classes.join(" ")},P=joinStyles(w.styles);P.length>0&&(I.style=P);const F=[];return F.push({tag:"span",attributes:I,children:[m]}),g&&F.push({tag:"span",attributes:{class:"sr-only"},children:[g]}),F}const{styles:styles$1$1}=namespace;function asFoundIcon(d){const m=d[0],g=d[1],[w]=d.slice(4);let I=null;return Array.isArray(w)?I={tag:"g",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.GROUP)},children:[{tag:"path",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.SECONDARY),fill:"currentColor",d:w[0]}},{tag:"path",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.PRIMARY),fill:"currentColor",d:w[1]}}]}:I={tag:"path",attributes:{fill:"currentColor",d:w}},{found:!0,width:m,height:g,icon:I}}const missingIconResolutionMixin={found:!1,width:512,height:512};function maybeNotifyMissing(d,m){!PRODUCTION$1&&!config.showMissingIcons&&d&&console.error('Icon with name "'.concat(d,'" and prefix "').concat(m,'" is missing.'))}function findIcon(d,m){let g=m;return m==="fa"&&config.styleDefault!==null&&(m=getDefaultUsablePrefix()),new Promise((w,I)=>{if(g==="fa"){const P=byOldName(d)||{};d=P.iconName||d,m=P.prefix||m}if(d&&m&&styles$1$1[m]&&styles$1$1[m][d]){const P=styles$1$1[m][d];return w(asFoundIcon(P))}maybeNotifyMissing(d,m),w({...missingIconResolutionMixin,icon:config.showMissingIcons&&d?callProvided("missingIconAbstract")||{}:{}})})}const noop$1$1=()=>{},p$2=config.measurePerformance&&PERFORMANCE&&PERFORMANCE.mark&&PERFORMANCE.measure?PERFORMANCE:{mark:noop$1$1,measure:noop$1$1},preamble='FA "6.6.0"',begin=d=>(p$2.mark("".concat(preamble," ").concat(d," begins")),()=>end(d)),end=d=>{p$2.mark("".concat(preamble," ").concat(d," ends")),p$2.measure("".concat(preamble," ").concat(d),"".concat(preamble," ").concat(d," begins"),"".concat(preamble," ").concat(d," ends"))};var perf={begin,end};const noop$2=()=>{};function isWatched(d){return typeof(d.getAttribute?d.getAttribute(DATA_FA_I2SVG):null)=="string"}function hasPrefixAndIcon(d){const m=d.getAttribute?d.getAttribute(DATA_PREFIX):null,g=d.getAttribute?d.getAttribute(DATA_ICON):null;return m&&g}function hasBeenReplaced(d){return d&&d.classList&&d.classList.contains&&d.classList.contains(config.replacementClass)}function getMutator(){return config.autoReplaceSvg===!0?mutators.replace:mutators[config.autoReplaceSvg]||mutators.replace}function createElementNS(d){return DOCUMENT.createElementNS("http://www.w3.org/2000/svg",d)}function createElement$2(d){return DOCUMENT.createElement(d)}function convertSVG(d){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:g=d.tag==="svg"?createElementNS:createElement$2}=m;if(typeof d=="string")return DOCUMENT.createTextNode(d);const w=g(d.tag);return Object.keys(d.attributes||[]).forEach(function(P){w.setAttribute(P,d.attributes[P])}),(d.children||[]).forEach(function(P){w.appendChild(convertSVG(P,{ceFn:g}))}),w}function nodeAsComment(d){let m=" ".concat(d.outerHTML," ");return m="".concat(m,"Font Awesome fontawesome.com "),m}const mutators={replace:function(d){const m=d[0];if(m.parentNode)if(d[1].forEach(g=>{m.parentNode.insertBefore(convertSVG(g),m)}),m.getAttribute(DATA_FA_I2SVG)===null&&config.keepOriginalSource){let g=DOCUMENT.createComment(nodeAsComment(m));m.parentNode.replaceChild(g,m)}else m.remove()},nest:function(d){const m=d[0],g=d[1];if(~classArray(m).indexOf(config.replacementClass))return mutators.replace(d);const w=new RegExp("".concat(config.cssPrefix,"-.*"));if(delete g[0].attributes.id,g[0].attributes.class){const P=g[0].attributes.class.split(" ").reduce((F,D)=>(D===config.replacementClass||D.match(w)?F.toSvg.push(D):F.toNode.push(D),F),{toNode:[],toSvg:[]});g[0].attributes.class=P.toSvg.join(" "),P.toNode.length===0?m.removeAttribute("class"):m.setAttribute("class",P.toNode.join(" "))}const I=g.map(P=>toHtml(P)).join(`
`);m.setAttribute(DATA_FA_I2SVG,""),m.innerHTML=I}};function performOperationSync(d){d()}function perform(d,m){const g=typeof m=="function"?m:noop$2;if(d.length===0)g();else{let w=performOperationSync;config.mutateApproach===MUTATION_APPROACH_ASYNC&&(w=WINDOW.requestAnimationFrame||performOperationSync),w(()=>{const I=getMutator(),P=perf.begin("mutate");d.map(I),P(),g()})}}let disabled=!1;function disableObservation(){disabled=!0}function enableObservation(){disabled=!1}let mo$1=null;function observe(d){if(!MUTATION_OBSERVER||!config.observeMutations)return;const{treeCallback:m=noop$2,nodeCallback:g=noop$2,pseudoElementsCallback:w=noop$2,observeMutationsRoot:I=DOCUMENT}=d;mo$1=new MUTATION_OBSERVER(P=>{if(disabled)return;const F=getDefaultUsablePrefix();toArray$1(P).forEach(D=>{if(D.type==="childList"&&D.addedNodes.length>0&&!isWatched(D.addedNodes[0])&&(config.searchPseudoElements&&w(D.target),m(D.target)),D.type==="attributes"&&D.target.parentNode&&config.searchPseudoElements&&w(D.target.parentNode),D.type==="attributes"&&isWatched(D.target)&&~ATTRIBUTES_WATCHED_FOR_MUTATION.indexOf(D.attributeName))if(D.attributeName==="class"&&hasPrefixAndIcon(D.target)){const{prefix:$,iconName:V}=getCanonicalIcon(classArray(D.target));D.target.setAttribute(DATA_PREFIX,$||F),V&&D.target.setAttribute(DATA_ICON,V)}else hasBeenReplaced(D.target)&&g(D.target)})}),IS_DOM&&mo$1.observe(I,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function disconnect(){mo$1&&mo$1.disconnect()}function styleParser(d){const m=d.getAttribute("style");let g=[];return m&&(g=m.split(";").reduce((w,I)=>{const P=I.split(":"),F=P[0],D=P.slice(1);return F&&D.length>0&&(w[F]=D.join(":").trim()),w},{})),g}function classParser(d){const m=d.getAttribute("data-prefix"),g=d.getAttribute("data-icon"),w=d.innerText!==void 0?d.innerText.trim():"";let I=getCanonicalIcon(classArray(d));return I.prefix||(I.prefix=getDefaultUsablePrefix()),m&&g&&(I.prefix=m,I.iconName=g),I.iconName&&I.prefix||(I.prefix&&w.length>0&&(I.iconName=byLigature(I.prefix,d.innerText)||byUnicode(I.prefix,toHex$1(d.innerText))),!I.iconName&&config.autoFetchSvg&&d.firstChild&&d.firstChild.nodeType===Node.TEXT_NODE&&(I.iconName=d.firstChild.data)),I}function attributesParser(d){const m=toArray$1(d.attributes).reduce((I,P)=>(I.name!=="class"&&I.name!=="style"&&(I[P.name]=P.value),I),{}),g=d.getAttribute("title"),w=d.getAttribute("data-fa-title-id");return config.autoA11y&&(g?m["aria-labelledby"]="".concat(config.replacementClass,"-title-").concat(w||nextUniqueId()):(m["aria-hidden"]="true",m.focusable="false")),m}function blankMeta(){return{iconName:null,title:null,titleId:null,prefix:null,transform:meaninglessTransform,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function parseMeta(d){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:g,prefix:w,rest:I}=classParser(d),P=attributesParser(d),F=chainHooks("parseNodeAttributes",{},d);let D=m.styleParser?styleParser(d):[];return{iconName:g,title:d.getAttribute("title"),titleId:d.getAttribute("data-fa-title-id"),prefix:w,transform:meaninglessTransform,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:I,styles:D,attributes:P},...F}}const{styles:styles$2}=namespace;function generateMutation(d){const m=config.autoReplaceSvg==="nest"?parseMeta(d,{styleParser:!1}):parseMeta(d);return~m.extra.classes.indexOf(LAYERS_TEXT_CLASSNAME)?callProvided("generateLayersText",d,m):callProvided("generateSvgReplacementMutation",d,m)}let knownPrefixes=new Set;FAMILIES.map(d=>{knownPrefixes.add("fa-".concat(d))});Object.keys(PREFIX_TO_STYLE[a$1]).map(knownPrefixes.add.bind(knownPrefixes));Object.keys(PREFIX_TO_STYLE[r$1]).map(knownPrefixes.add.bind(knownPrefixes));Object.keys(PREFIX_TO_STYLE[o$1]).map(knownPrefixes.add.bind(knownPrefixes));knownPrefixes=[...knownPrefixes];function onTree(d){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!IS_DOM)return Promise.resolve();const g=DOCUMENT.documentElement.classList,w=j=>g.add("".concat(HTML_CLASS_I2SVG_BASE_CLASS,"-").concat(j)),I=j=>g.remove("".concat(HTML_CLASS_I2SVG_BASE_CLASS,"-").concat(j)),P=config.autoFetchSvg?knownPrefixes:FAMILIES.map(j=>"fa-".concat(j)).concat(Object.keys(styles$2));P.includes("fa")||P.push("fa");const F=[".".concat(LAYERS_TEXT_CLASSNAME,":not([").concat(DATA_FA_I2SVG,"])")].concat(P.map(j=>".".concat(j,":not([").concat(DATA_FA_I2SVG,"])"))).join(", ");if(F.length===0)return Promise.resolve();let D=[];try{D=toArray$1(d.querySelectorAll(F))}catch{}if(D.length>0)w("pending"),I("complete");else return Promise.resolve();const $=perf.begin("onTree"),V=D.reduce((j,G)=>{try{const W=generateMutation(G);W&&j.push(W)}catch(W){PRODUCTION$1||W.name==="MissingIcon"&&console.error(W)}return j},[]);return new Promise((j,G)=>{Promise.all(V).then(W=>{perform(W,()=>{w("active"),w("complete"),I("pending"),typeof m=="function"&&m(),$(),j()})}).catch(W=>{$(),G(W)})})}function onNode(d){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;generateMutation(d).then(g=>{g&&perform([g],m)})}function resolveIcons(d){return function(m){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const w=(m||{}).icon?m:findIconDefinition(m||{});let{mask:I}=g;return I&&(I=(I||{}).icon?I:findIconDefinition(I||{})),d(w,{...g,mask:I})}}const render$1=function(d){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:g=meaninglessTransform,symbol:w=!1,mask:I=null,maskId:P=null,title:F=null,titleId:D=null,classes:$=[],attributes:V={},styles:j={}}=m;if(!d)return;const{prefix:G,iconName:W,icon:Z}=d;return domVariants({type:"icon",...d},()=>(callHooks("beforeDOMElementCreation",{iconDefinition:d,params:m}),config.autoA11y&&(F?V["aria-labelledby"]="".concat(config.replacementClass,"-title-").concat(D||nextUniqueId()):(V["aria-hidden"]="true",V.focusable="false")),makeInlineSvgAbstract({icons:{main:asFoundIcon(Z),mask:I?asFoundIcon(I.icon):{found:!1,width:null,height:null,icon:{}}},prefix:G,iconName:W,transform:{...meaninglessTransform,...g},symbol:w,title:F,maskId:P,titleId:D,extra:{attributes:V,styles:j,classes:$}})))};var ReplaceElements={mixout(){return{icon:resolveIcons(render$1)}},hooks(){return{mutationObserverCallbacks(d){return d.treeCallback=onTree,d.nodeCallback=onNode,d}}},provides(d){d.i2svg=function(m){const{node:g=DOCUMENT,callback:w=()=>{}}=m;return onTree(g,w)},d.generateSvgReplacementMutation=function(m,g){const{iconName:w,title:I,titleId:P,prefix:F,transform:D,symbol:$,mask:V,maskId:j,extra:G}=g;return new Promise((W,Z)=>{Promise.all([findIcon(w,F),V.iconName?findIcon(V.iconName,V.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(U=>{let[Q,K]=U;W([m,makeInlineSvgAbstract({icons:{main:Q,mask:K},prefix:F,iconName:w,transform:D,symbol:$,maskId:j,title:I,titleId:P,extra:G,watchable:!0})])}).catch(Z)})},d.generateAbstractIcon=function(m){let{children:g,attributes:w,main:I,transform:P,styles:F}=m;const D=joinStyles(F);D.length>0&&(w.style=D);let $;return transformIsMeaningful(P)&&($=callProvided("generateAbstractTransformGrouping",{main:I,transform:P,containerWidth:I.width,iconWidth:I.width})),g.push($||I.icon),{children:g,attributes:w}}}},Layers={mixout(){return{layer(d){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:g=[]}=m;return domVariants({type:"layer"},()=>{callHooks("beforeDOMElementCreation",{assembler:d,params:m});let w=[];return d(I=>{Array.isArray(I)?I.map(P=>{w=w.concat(P.abstract)}):w=w.concat(I.abstract)}),[{tag:"span",attributes:{class:["".concat(config.cssPrefix,"-layers"),...g].join(" ")},children:w}]})}}}},LayersCounter={mixout(){return{counter(d){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:g=null,classes:w=[],attributes:I={},styles:P={}}=m;return domVariants({type:"counter",content:d},()=>(callHooks("beforeDOMElementCreation",{content:d,params:m}),makeLayersCounterAbstract({content:d.toString(),title:g,extra:{attributes:I,styles:P,classes:["".concat(config.cssPrefix,"-layers-counter"),...w]}})))}}}},LayersText={mixout(){return{text(d){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:g=meaninglessTransform,title:w=null,classes:I=[],attributes:P={},styles:F={}}=m;return domVariants({type:"text",content:d},()=>(callHooks("beforeDOMElementCreation",{content:d,params:m}),makeLayersTextAbstract({content:d,transform:{...meaninglessTransform,...g},title:w,extra:{attributes:P,styles:F,classes:["".concat(config.cssPrefix,"-layers-text"),...I]}})))}}},provides(d){d.generateLayersText=function(m,g){const{title:w,transform:I,extra:P}=g;let F=null,D=null;if(IS_IE){const $=parseInt(getComputedStyle(m).fontSize,10),V=m.getBoundingClientRect();F=V.width/$,D=V.height/$}return config.autoA11y&&!w&&(P.attributes["aria-hidden"]="true"),Promise.resolve([m,makeLayersTextAbstract({content:m.innerHTML,width:F,height:D,transform:I,title:w,extra:P,watchable:!0})])}}};const CLEAN_CONTENT_PATTERN=new RegExp('"',"ug"),SECONDARY_UNICODE_RANGE=[1105920,1112319],_FONT_FAMILY_WEIGHT_TO_PREFIX={FontAwesome:{normal:"fas",400:"fas"},...eo,...ao,...mo},FONT_FAMILY_WEIGHT_TO_PREFIX=Object.keys(_FONT_FAMILY_WEIGHT_TO_PREFIX).reduce((d,m)=>(d[m.toLowerCase()]=_FONT_FAMILY_WEIGHT_TO_PREFIX[m],d),{}),FONT_FAMILY_WEIGHT_FALLBACK=Object.keys(FONT_FAMILY_WEIGHT_TO_PREFIX).reduce((d,m)=>{const g=FONT_FAMILY_WEIGHT_TO_PREFIX[m];return d[m]=g[900]||[...Object.entries(g)][0][1],d},{});function hexValueFromContent(d){const m=d.replace(CLEAN_CONTENT_PATTERN,""),g=codePointAt(m,0),w=g>=SECONDARY_UNICODE_RANGE[0]&&g<=SECONDARY_UNICODE_RANGE[1],I=m.length===2?m[0]===m[1]:!1;return{value:toHex$1(I?m[0]:m),isSecondary:w||I}}function getPrefix(d,m){const g=d.replace(/^['"]|['"]$/g,"").toLowerCase(),w=parseInt(m),I=isNaN(w)?"normal":w;return(FONT_FAMILY_WEIGHT_TO_PREFIX[g]||{})[I]||FONT_FAMILY_WEIGHT_FALLBACK[g]}function replaceForPosition(d,m){const g="".concat(DATA_FA_PSEUDO_ELEMENT_PENDING).concat(m.replace(":","-"));return new Promise((w,I)=>{if(d.getAttribute(g)!==null)return w();const F=toArray$1(d.children).filter(W=>W.getAttribute(DATA_FA_PSEUDO_ELEMENT)===m)[0],D=WINDOW.getComputedStyle(d,m),$=D.getPropertyValue("font-family"),V=$.match(FONT_FAMILY_PATTERN),j=D.getPropertyValue("font-weight"),G=D.getPropertyValue("content");if(F&&!V)return d.removeChild(F),w();if(V&&G!=="none"&&G!==""){const W=D.getPropertyValue("content");let Z=getPrefix($,j);const{value:U,isSecondary:Q}=hexValueFromContent(W),K=V[0].startsWith("FontAwesome");let te=byUnicode(Z,U),X=te;if(K){const J=byOldUnicode(U);J.iconName&&J.prefix&&(te=J.iconName,Z=J.prefix)}if(te&&!Q&&(!F||F.getAttribute(DATA_PREFIX)!==Z||F.getAttribute(DATA_ICON)!==X)){d.setAttribute(g,X),F&&d.removeChild(F);const J=blankMeta(),{extra:ee}=J;ee.attributes[DATA_FA_PSEUDO_ELEMENT]=m,findIcon(te,Z).then(ie=>{const fe=makeInlineSvgAbstract({...J,icons:{main:ie,mask:emptyCanonicalIcon()},prefix:Z,iconName:X,extra:ee,watchable:!0}),se=DOCUMENT.createElementNS("http://www.w3.org/2000/svg","svg");m==="::before"?d.insertBefore(se,d.firstChild):d.appendChild(se),se.outerHTML=fe.map(de=>toHtml(de)).join(`
`),d.removeAttribute(g),w()}).catch(I)}else w()}else w()})}function replace(d){return Promise.all([replaceForPosition(d,"::before"),replaceForPosition(d,"::after")])}function processable(d){return d.parentNode!==document.head&&!~TAGNAMES_TO_SKIP_FOR_PSEUDOELEMENTS.indexOf(d.tagName.toUpperCase())&&!d.getAttribute(DATA_FA_PSEUDO_ELEMENT)&&(!d.parentNode||d.parentNode.tagName!=="svg")}function searchPseudoElements(d){if(IS_DOM)return new Promise((m,g)=>{const w=toArray$1(d.querySelectorAll("*")).filter(processable).map(replace),I=perf.begin("searchPseudoElements");disableObservation(),Promise.all(w).then(()=>{I(),enableObservation(),m()}).catch(()=>{I(),enableObservation(),g()})})}var PseudoElements={hooks(){return{mutationObserverCallbacks(d){return d.pseudoElementsCallback=searchPseudoElements,d}}},provides(d){d.pseudoElements2svg=function(m){const{node:g=DOCUMENT}=m;config.searchPseudoElements&&searchPseudoElements(g)}}};let _unwatched=!1;var MutationObserver$1={mixout(){return{dom:{unwatch(){disableObservation(),_unwatched=!0}}}},hooks(){return{bootstrap(){observe(chainHooks("mutationObserverCallbacks",{}))},noAuto(){disconnect()},watch(d){const{observeMutationsRoot:m}=d;_unwatched?enableObservation():observe(chainHooks("mutationObserverCallbacks",{observeMutationsRoot:m}))}}}};const parseTransformString=d=>{let m={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return d.toLowerCase().split(" ").reduce((g,w)=>{const I=w.toLowerCase().split("-"),P=I[0];let F=I.slice(1).join("-");if(P&&F==="h")return g.flipX=!0,g;if(P&&F==="v")return g.flipY=!0,g;if(F=parseFloat(F),isNaN(F))return g;switch(P){case"grow":g.size=g.size+F;break;case"shrink":g.size=g.size-F;break;case"left":g.x=g.x-F;break;case"right":g.x=g.x+F;break;case"up":g.y=g.y-F;break;case"down":g.y=g.y+F;break;case"rotate":g.rotate=g.rotate+F;break}return g},m)};var PowerTransforms={mixout(){return{parse:{transform:d=>parseTransformString(d)}}},hooks(){return{parseNodeAttributes(d,m){const g=m.getAttribute("data-fa-transform");return g&&(d.transform=parseTransformString(g)),d}}},provides(d){d.generateAbstractTransformGrouping=function(m){let{main:g,transform:w,containerWidth:I,iconWidth:P}=m;const F={transform:"translate(".concat(I/2," 256)")},D="translate(".concat(w.x*32,", ").concat(w.y*32,") "),$="scale(".concat(w.size/16*(w.flipX?-1:1),", ").concat(w.size/16*(w.flipY?-1:1),") "),V="rotate(".concat(w.rotate," 0 0)"),j={transform:"".concat(D," ").concat($," ").concat(V)},G={transform:"translate(".concat(P/2*-1," -256)")},W={outer:F,inner:j,path:G};return{tag:"g",attributes:{...W.outer},children:[{tag:"g",attributes:{...W.inner},children:[{tag:g.icon.tag,children:g.icon.children,attributes:{...g.icon.attributes,...W.path}}]}]}}}};const ALL_SPACE={x:0,y:0,width:"100%",height:"100%"};function fillBlack(d){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return d.attributes&&(d.attributes.fill||m)&&(d.attributes.fill="black"),d}function deGroup(d){return d.tag==="g"?d.children:[d]}var Masks={hooks(){return{parseNodeAttributes(d,m){const g=m.getAttribute("data-fa-mask"),w=g?getCanonicalIcon(g.split(" ").map(I=>I.trim())):emptyCanonicalIcon();return w.prefix||(w.prefix=getDefaultUsablePrefix()),d.mask=w,d.maskId=m.getAttribute("data-fa-mask-id"),d}}},provides(d){d.generateAbstractMask=function(m){let{children:g,attributes:w,main:I,mask:P,maskId:F,transform:D}=m;const{width:$,icon:V}=I,{width:j,icon:G}=P,W=transformForSvg({transform:D,containerWidth:j,iconWidth:$}),Z={tag:"rect",attributes:{...ALL_SPACE,fill:"white"}},U=V.children?{children:V.children.map(fillBlack)}:{},Q={tag:"g",attributes:{...W.inner},children:[fillBlack({tag:V.tag,attributes:{...V.attributes,...W.path},...U})]},K={tag:"g",attributes:{...W.outer},children:[Q]},te="mask-".concat(F||nextUniqueId()),X="clip-".concat(F||nextUniqueId()),J={tag:"mask",attributes:{...ALL_SPACE,id:te,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"},children:[Z,K]},ee={tag:"defs",children:[{tag:"clipPath",attributes:{id:X},children:deGroup(G)},J]};return g.push(ee,{tag:"rect",attributes:{fill:"currentColor","clip-path":"url(#".concat(X,")"),mask:"url(#".concat(te,")"),...ALL_SPACE}}),{children:g,attributes:w}}}},MissingIconIndicator={provides(d){let m=!1;WINDOW.matchMedia&&(m=WINDOW.matchMedia("(prefers-reduced-motion: reduce)").matches),d.missingIconAbstract=function(){const g=[],w={fill:"currentColor"},I={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};g.push({tag:"path",attributes:{...w,d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}});const P={...I,attributeName:"opacity"},F={tag:"circle",attributes:{...w,cx:"256",cy:"364",r:"28"},children:[]};return m||F.children.push({tag:"animate",attributes:{...I,attributeName:"r",values:"28;14;28;28;14;28;"}},{tag:"animate",attributes:{...P,values:"1;0;1;1;0;1;"}}),g.push(F),g.push({tag:"path",attributes:{...w,opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"},children:m?[]:[{tag:"animate",attributes:{...P,values:"1;0;0;0;0;1;"}}]}),m||g.push({tag:"path",attributes:{...w,opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"},children:[{tag:"animate",attributes:{...P,values:"0;0;1;1;0;0;"}}]}),{tag:"g",attributes:{class:"missing"},children:g}}}},SvgSymbols={hooks(){return{parseNodeAttributes(d,m){const g=m.getAttribute("data-fa-symbol"),w=g===null?!1:g===""?!0:g;return d.symbol=w,d}}}},plugins=[InjectCSS,ReplaceElements,Layers,LayersCounter,LayersText,PseudoElements,MutationObserver$1,PowerTransforms,Masks,MissingIconIndicator,SvgSymbols];registerPlugins(plugins,{mixoutsTo:api});api.noAuto;api.config;api.library;api.dom;const parse$1$1=api.parse;api.findIconDefinition;api.toHtml;const icon=api.icon;api.layer;api.text;api.counter;function ownKeys(d,m){var g=Object.keys(d);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(d);m&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),g.push.apply(g,w)}return g}function _objectSpread2(d){for(var m=1;m<arguments.length;m++){var g=arguments[m]!=null?arguments[m]:{};m%2?ownKeys(Object(g),!0).forEach(function(w){_defineProperty(d,w,g[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(g)):ownKeys(Object(g)).forEach(function(w){Object.defineProperty(d,w,Object.getOwnPropertyDescriptor(g,w))})}return d}function _toPrimitive(d,m){if(typeof d!="object"||!d)return d;var g=d[Symbol.toPrimitive];if(g!==void 0){var w=g.call(d,m||"default");if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(d)}function _toPropertyKey(d){var m=_toPrimitive(d,"string");return typeof m=="symbol"?m:m+""}function _typeof$1(d){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},_typeof$1(d)}function _defineProperty(d,m,g){return m=_toPropertyKey(m),m in d?Object.defineProperty(d,m,{value:g,enumerable:!0,configurable:!0,writable:!0}):d[m]=g,d}function _objectWithoutPropertiesLoose(d,m){if(d==null)return{};var g={};for(var w in d)if(Object.prototype.hasOwnProperty.call(d,w)){if(m.indexOf(w)>=0)continue;g[w]=d[w]}return g}function _objectWithoutProperties(d,m){if(d==null)return{};var g=_objectWithoutPropertiesLoose(d,m),w,I;if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(d);for(I=0;I<P.length;I++)w=P[I],!(m.indexOf(w)>=0)&&Object.prototype.propertyIsEnumerable.call(d,w)&&(g[w]=d[w])}return g}var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},humps$1={exports:{}};(function(d){(function(m){var g=function(te,X,J){if(!V(X)||G(X)||W(X)||Z(X)||$(X))return X;var ee,ie=0,fe=0;if(j(X))for(ee=[],fe=X.length;ie<fe;ie++)ee.push(g(te,X[ie],J));else{ee={};for(var se in X)Object.prototype.hasOwnProperty.call(X,se)&&(ee[te(se,J)]=g(te,X[se],J))}return ee},w=function(te,X){X=X||{};var J=X.separator||"_",ee=X.split||/(?=[A-Z])/;return te.split(ee).join(J)},I=function(te){return U(te)?te:(te=te.replace(/[\-_\s]+(.)?/g,function(X,J){return J?J.toUpperCase():""}),te.substr(0,1).toLowerCase()+te.substr(1))},P=function(te){var X=I(te);return X.substr(0,1).toUpperCase()+X.substr(1)},F=function(te,X){return w(te,X).toLowerCase()},D=Object.prototype.toString,$=function(te){return typeof te=="function"},V=function(te){return te===Object(te)},j=function(te){return D.call(te)=="[object Array]"},G=function(te){return D.call(te)=="[object Date]"},W=function(te){return D.call(te)=="[object RegExp]"},Z=function(te){return D.call(te)=="[object Boolean]"},U=function(te){return te=te-0,te===te},Q=function(te,X){var J=X&&"process"in X?X.process:X;return typeof J!="function"?te:function(ee,ie){return J(ee,te,ie)}},K={camelize:I,decamelize:F,pascalize:P,depascalize:F,camelizeKeys:function(te,X){return g(Q(I,X),te)},decamelizeKeys:function(te,X){return g(Q(F,X),te,X)},pascalizeKeys:function(te,X){return g(Q(P,X),te)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};d.exports?d.exports=K:m.humps=K})(commonjsGlobal$1)})(humps$1);var humps=humps$1.exports,_excluded=["class","style"];function styleToObject(d){return d.split(";").map(function(m){return m.trim()}).filter(function(m){return m}).reduce(function(m,g){var w=g.indexOf(":"),I=humps.camelize(g.slice(0,w)),P=g.slice(w+1).trim();return m[I]=P,m},{})}function classToObject(d){return d.split(/\s+/).reduce(function(m,g){return m[g]=!0,m},{})}function convert(d){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof d=="string")return d;var w=(d.children||[]).map(function($){return convert($)}),I=Object.keys(d.attributes||{}).reduce(function($,V){var j=d.attributes[V];switch(V){case"class":$.class=classToObject(j);break;case"style":$.style=styleToObject(j);break;default:$.attrs[V]=j}return $},{attrs:{},class:{},style:{}});g.class;var P=g.style,F=P===void 0?{}:P,D=_objectWithoutProperties(g,_excluded);return h$1(d.tag,_objectSpread2(_objectSpread2(_objectSpread2({},m),{},{class:I.class,style:_objectSpread2(_objectSpread2({},I.style),F)},I.attrs),D),w)}var PRODUCTION=!1;try{PRODUCTION=!0}catch{}function log(){if(!PRODUCTION&&console&&typeof console.error=="function"){var d;(d=console).error.apply(d,arguments)}}function objectWithKey(d,m){return Array.isArray(m)&&m.length>0||!Array.isArray(m)&&m?_defineProperty({},d,m):{}}function classList(d){var m,g=(m={"fa-spin":d.spin,"fa-pulse":d.pulse,"fa-fw":d.fixedWidth,"fa-border":d.border,"fa-li":d.listItem,"fa-inverse":d.inverse,"fa-flip":d.flip===!0,"fa-flip-horizontal":d.flip==="horizontal"||d.flip==="both","fa-flip-vertical":d.flip==="vertical"||d.flip==="both"},_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(m,"fa-".concat(d.size),d.size!==null),"fa-rotate-".concat(d.rotation),d.rotation!==null),"fa-pull-".concat(d.pull),d.pull!==null),"fa-swap-opacity",d.swapOpacity),"fa-bounce",d.bounce),"fa-shake",d.shake),"fa-beat",d.beat),"fa-fade",d.fade),"fa-beat-fade",d.beatFade),"fa-flash",d.flash),_defineProperty(_defineProperty(m,"fa-spin-pulse",d.spinPulse),"fa-spin-reverse",d.spinReverse));return Object.keys(g).map(function(w){return g[w]?w:null}).filter(function(w){return w})}function normalizeIconArgs(d){if(d&&_typeof$1(d)==="object"&&d.prefix&&d.iconName&&d.icon)return d;if(parse$1$1.icon)return parse$1$1.icon(d);if(d===null)return null;if(_typeof$1(d)==="object"&&d.prefix&&d.iconName)return d;if(Array.isArray(d)&&d.length===2)return{prefix:d[0],iconName:d[1]};if(typeof d=="string")return{prefix:"fas",iconName:d}}var FontAwesomeIcon=defineComponent({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function(m){return[!0,!1,"horizontal","vertical","both"].indexOf(m)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},maskId:{type:String,default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(m){return["right","left"].indexOf(m)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(m){return[90,180,270].indexOf(Number.parseInt(m,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(m){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(m)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},titleId:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function(m,g){var w=g.attrs,I=computed(function(){return normalizeIconArgs(m.icon)}),P=computed(function(){return objectWithKey("classes",classList(m))}),F=computed(function(){return objectWithKey("transform",typeof m.transform=="string"?parse$1$1.transform(m.transform):m.transform)}),D=computed(function(){return objectWithKey("mask",normalizeIconArgs(m.mask))}),$=computed(function(){return icon(I.value,_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({},P.value),F.value),D.value),{},{symbol:m.symbol,title:m.title,titleId:m.titleId,maskId:m.maskId}))});watch($,function(j){if(!j)return log("Could not find one or more icon(s)",I.value,D.value)},{immediate:!0});var V=computed(function(){return $.value?convert($.value.abstract[0],{},w):null});return function(){return V.value}}});function getDefaultExportFromCjs$1(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var faPenFancy={};(function(d){Object.defineProperty(d,"__esModule",{value:!0});var m="fas",g="pen-fancy",w=512,I=512,P=[128395,10002],F="f5ac",D="M373.5 27.1C388.5 9.9 410.2 0 433 0c43.6 0 79 35.4 79 79c0 22.8-9.9 44.6-27.1 59.6L277.7 319l-10.3-10.3-64-64L193 234.3 373.5 27.1zM170.3 256.9l10.4 10.4 64 64 10.4 10.4-19.2 83.4c-3.9 17.1-16.9 30.7-33.8 35.4L24.3 510.3l95.4-95.4c2.6 .7 5.4 1.1 8.3 1.1c17.7 0 32-14.3 32-32s-14.3-32-32-32s-32 14.3-32 32c0 2.9 .4 5.6 1.1 8.3L1.7 487.6 51.5 310c4.7-16.9 18.3-29.9 35.4-33.8l83.4-19.2z";d.definition={prefix:m,iconName:g,icon:[w,I,P,F,D]},d.faPenFancy=d.definition,d.prefix=m,d.iconName=g,d.width=w,d.height=I,d.ligatures=P,d.unicode=F,d.svgPathData=D,d.aliases=P})(faPenFancy);const faCode={prefix:"fas",iconName:"code",icon:[640,512,[],"f121","M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"]},faCircleUp={prefix:"fas",iconName:"circle-up",icon:[512,512,[61467,"arrow-alt-circle-up"],"f35b","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm11.3-395.3l112 112c4.6 4.6 5.9 11.5 3.5 17.4s-8.3 9.9-14.8 9.9l-64 0 0 96c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-96-64 0c-6.5 0-12.3-3.9-14.8-9.9s-1.1-12.9 3.5-17.4l112-112c6.2-6.2 16.4-6.2 22.6 0z"]},faBolt={prefix:"fas",iconName:"bolt",icon:[448,512,[9889,"zap"],"f0e7","M349.4 44.6c5.9-13.7 1.5-29.7-10.6-38.5s-28.6-8-39.9 1.8l-256 224c-10 8.8-13.6 22.9-8.9 35.3S50.7 288 64 288l111.5 0L98.6 467.4c-5.9 13.7-1.5 29.7 10.6 38.5s28.6 8 39.9-1.8l256-224c10-8.8 13.6-22.9 8.9-35.3s-16.6-20.7-30-20.7l-111.5 0L349.4 44.6z"]},faGears={prefix:"fas",iconName:"gears",icon:[640,512,["cogs"],"f085","M308.5 135.3c7.1-6.3 9.9-16.2 6.2-25c-2.3-5.3-4.8-10.5-7.6-15.5L304 89.4c-3-5-6.3-9.9-9.8-14.6c-5.7-7.6-15.7-10.1-24.7-7.1l-28.2 9.3c-10.7-8.8-23-16-36.2-20.9L199 27.1c-1.9-9.3-9.1-16.7-18.5-17.8C173.9 8.4 167.2 8 160.4 8l-.7 0c-6.8 0-13.5 .4-20.1 1.2c-9.4 1.1-16.6 8.6-18.5 17.8L115 56.1c-13.3 5-25.5 12.1-36.2 20.9L50.5 67.8c-9-3-19-.5-24.7 7.1c-3.5 4.7-6.8 9.6-9.9 14.6l-3 5.3c-2.8 5-5.3 10.2-7.6 15.6c-3.7 8.7-.9 18.6 6.2 25l22.2 19.8C32.6 161.9 32 168.9 32 176s.6 14.1 1.7 20.9L11.5 216.7c-7.1 6.3-9.9 16.2-6.2 25c2.3 5.3 4.8 10.5 7.6 15.6l3 5.2c3 5.1 6.3 9.9 9.9 14.6c5.7 7.6 15.7 10.1 24.7 7.1l28.2-9.3c10.7 8.8 23 16 36.2 20.9l6.1 29.1c1.9 9.3 9.1 16.7 18.5 17.8c6.7 .8 13.5 1.2 20.4 1.2s13.7-.4 20.4-1.2c9.4-1.1 16.6-8.6 18.5-17.8l6.1-29.1c13.3-5 25.5-12.1 36.2-20.9l28.2 9.3c9 3 19 .5 24.7-7.1c3.5-4.7 6.8-9.5 9.8-14.6l3.1-5.4c2.8-5 5.3-10.2 7.6-15.5c3.7-8.7 .9-18.6-6.2-25l-22.2-19.8c1.1-6.8 1.7-13.8 1.7-20.9s-.6-14.1-1.7-20.9l22.2-19.8zM112 176a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM504.7 500.5c6.3 7.1 16.2 9.9 25 6.2c5.3-2.3 10.5-4.8 15.5-7.6l5.4-3.1c5-3 9.9-6.3 14.6-9.8c7.6-5.7 10.1-15.7 7.1-24.7l-9.3-28.2c8.8-10.7 16-23 20.9-36.2l29.1-6.1c9.3-1.9 16.7-9.1 17.8-18.5c.8-6.7 1.2-13.5 1.2-20.4s-.4-13.7-1.2-20.4c-1.1-9.4-8.6-16.6-17.8-18.5L583.9 307c-5-13.3-12.1-25.5-20.9-36.2l9.3-28.2c3-9 .5-19-7.1-24.7c-4.7-3.5-9.6-6.8-14.6-9.9l-5.3-3c-5-2.8-10.2-5.3-15.6-7.6c-8.7-3.7-18.6-.9-25 6.2l-19.8 22.2c-6.8-1.1-13.8-1.7-20.9-1.7s-14.1 .6-20.9 1.7l-19.8-22.2c-6.3-7.1-16.2-9.9-25-6.2c-5.3 2.3-10.5 4.8-15.6 7.6l-5.2 3c-5.1 3-9.9 6.3-14.6 9.9c-7.6 5.7-10.1 15.7-7.1 24.7l9.3 28.2c-8.8 10.7-16 23-20.9 36.2L315.1 313c-9.3 1.9-16.7 9.1-17.8 18.5c-.8 6.7-1.2 13.5-1.2 20.4s.4 13.7 1.2 20.4c1.1 9.4 8.6 16.6 17.8 18.5l29.1 6.1c5 13.3 12.1 25.5 20.9 36.2l-9.3 28.2c-3 9-.5 19 7.1 24.7c4.7 3.5 9.5 6.8 14.6 9.8l5.4 3.1c5 2.8 10.2 5.3 15.5 7.6c8.7 3.7 18.6 .9 25-6.2l19.8-22.2c6.8 1.1 13.8 1.7 20.9 1.7s14.1-.6 20.9-1.7l19.8 22.2zM464 304a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]};/*!
* sweetalert2 v11.14.1
* Released under the MIT License.
*/function _assertClassBrand(d,m,g){if(typeof d=="function"?d===m:d.has(m))return arguments.length<3?m:g;throw new TypeError("Private element is not present on this object")}function _checkPrivateRedeclaration(d,m){if(m.has(d))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldGet2(d,m){return d.get(_assertClassBrand(d,m))}function _classPrivateFieldInitSpec(d,m,g){_checkPrivateRedeclaration(d,m),m.set(d,g)}function _classPrivateFieldSet2(d,m,g){return d.set(_assertClassBrand(d,m),g),g}const RESTORE_FOCUS_TIMEOUT=100,globalState={},focusPreviousActiveElement=()=>{globalState.previousActiveElement instanceof HTMLElement?(globalState.previousActiveElement.focus(),globalState.previousActiveElement=null):document.body&&document.body.focus()},restoreActiveElement=d=>new Promise(m=>{if(!d)return m();const g=window.scrollX,w=window.scrollY;globalState.restoreFocusTimeout=setTimeout(()=>{focusPreviousActiveElement(),m()},RESTORE_FOCUS_TIMEOUT),window.scrollTo(g,w)}),swalPrefix="swal2-",classNames=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],swalClasses=classNames.reduce((d,m)=>(d[m]=swalPrefix+m,d),{}),icons=["success","warning","info","question","error"],iconTypes=icons.reduce((d,m)=>(d[m]=swalPrefix+m,d),{}),consolePrefix="SweetAlert2:",capitalizeFirstLetter=d=>d.charAt(0).toUpperCase()+d.slice(1),warn=d=>{console.warn(`${consolePrefix} ${typeof d=="object"?d.join(" "):d}`)},error$1=d=>{console.error(`${consolePrefix} ${d}`)},previousWarnOnceMessages=[],warnOnce=d=>{previousWarnOnceMessages.includes(d)||(previousWarnOnceMessages.push(d),warn(d))},warnAboutDeprecation=function(d){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;warnOnce(`"${d}" is deprecated and will be removed in the next major release.${m?` Use "${m}" instead.`:""}`)},callIfFunction=d=>typeof d=="function"?d():d,hasToPromiseFn=d=>d&&typeof d.toPromise=="function",asPromise=d=>hasToPromiseFn(d)?d.toPromise():Promise.resolve(d),isPromise=d=>d&&Promise.resolve(d)===d,getContainer=()=>document.body.querySelector(`.${swalClasses.container}`),elementBySelector=d=>{const m=getContainer();return m?m.querySelector(d):null},elementByClass=d=>elementBySelector(`.${d}`),getPopup=()=>elementByClass(swalClasses.popup),getIcon=()=>elementByClass(swalClasses.icon),getIconContent=()=>elementByClass(swalClasses["icon-content"]),getTitle=()=>elementByClass(swalClasses.title),getHtmlContainer=()=>elementByClass(swalClasses["html-container"]),getImage=()=>elementByClass(swalClasses.image),getProgressSteps=()=>elementByClass(swalClasses["progress-steps"]),getValidationMessage=()=>elementByClass(swalClasses["validation-message"]),getConfirmButton=()=>elementBySelector(`.${swalClasses.actions} .${swalClasses.confirm}`),getCancelButton=()=>elementBySelector(`.${swalClasses.actions} .${swalClasses.cancel}`),getDenyButton=()=>elementBySelector(`.${swalClasses.actions} .${swalClasses.deny}`),getInputLabel=()=>elementByClass(swalClasses["input-label"]),getLoader=()=>elementBySelector(`.${swalClasses.loader}`),getActions$1=()=>elementByClass(swalClasses.actions),getFooter=()=>elementByClass(swalClasses.footer),getTimerProgressBar=()=>elementByClass(swalClasses["timer-progress-bar"]),getCloseButton=()=>elementByClass(swalClasses.close),focusable=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,getFocusableElements=()=>{const d=getPopup();if(!d)return[];const m=d.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),g=Array.from(m).sort((P,F)=>{const D=parseInt(P.getAttribute("tabindex")||"0"),$=parseInt(F.getAttribute("tabindex")||"0");return D>$?1:D<$?-1:0}),w=d.querySelectorAll(focusable),I=Array.from(w).filter(P=>P.getAttribute("tabindex")!=="-1");return[...new Set(g.concat(I))].filter(P=>isVisible$1(P))},isModal=()=>hasClass$1(document.body,swalClasses.shown)&&!hasClass$1(document.body,swalClasses["toast-shown"])&&!hasClass$1(document.body,swalClasses["no-backdrop"]),isToast=()=>{const d=getPopup();return d?hasClass$1(d,swalClasses.toast):!1},isLoading=()=>{const d=getPopup();return d?d.hasAttribute("data-loading"):!1},setInnerHtml=(d,m)=>{if(d.textContent="",m){const w=new DOMParser().parseFromString(m,"text/html"),I=w.querySelector("head");I&&Array.from(I.childNodes).forEach(F=>{d.appendChild(F)});const P=w.querySelector("body");P&&Array.from(P.childNodes).forEach(F=>{F instanceof HTMLVideoElement||F instanceof HTMLAudioElement?d.appendChild(F.cloneNode(!0)):d.appendChild(F)})}},hasClass$1=(d,m)=>{if(!m)return!1;const g=m.split(/\s+/);for(let w=0;w<g.length;w++)if(!d.classList.contains(g[w]))return!1;return!0},removeCustomClasses=(d,m)=>{Array.from(d.classList).forEach(g=>{!Object.values(swalClasses).includes(g)&&!Object.values(iconTypes).includes(g)&&!Object.values(m.showClass||{}).includes(g)&&d.classList.remove(g)})},applyCustomClass=(d,m,g)=>{if(removeCustomClasses(d,m),!m.customClass)return;const w=m.customClass[g];if(w){if(typeof w!="string"&&!w.forEach){warn(`Invalid type of customClass.${g}! Expected string or iterable object, got "${typeof w}"`);return}addClass$1(d,w)}},getInput$1=(d,m)=>{if(!m)return null;switch(m){case"select":case"textarea":case"file":return d.querySelector(`.${swalClasses.popup} > .${swalClasses[m]}`);case"checkbox":return d.querySelector(`.${swalClasses.popup} > .${swalClasses.checkbox} input`);case"radio":return d.querySelector(`.${swalClasses.popup} > .${swalClasses.radio} input:checked`)||d.querySelector(`.${swalClasses.popup} > .${swalClasses.radio} input:first-child`);case"range":return d.querySelector(`.${swalClasses.popup} > .${swalClasses.range} input`);default:return d.querySelector(`.${swalClasses.popup} > .${swalClasses.input}`)}},focusInput=d=>{if(d.focus(),d.type!=="file"){const m=d.value;d.value="",d.value=m}},toggleClass=(d,m,g)=>{!d||!m||(typeof m=="string"&&(m=m.split(/\s+/).filter(Boolean)),m.forEach(w=>{Array.isArray(d)?d.forEach(I=>{g?I.classList.add(w):I.classList.remove(w)}):g?d.classList.add(w):d.classList.remove(w)}))},addClass$1=(d,m)=>{toggleClass(d,m,!0)},removeClass$1=(d,m)=>{toggleClass(d,m,!1)},getDirectChildByClass=(d,m)=>{const g=Array.from(d.children);for(let w=0;w<g.length;w++){const I=g[w];if(I instanceof HTMLElement&&hasClass$1(I,m))return I}},applyNumericalStyle=(d,m,g)=>{g===`${parseInt(g)}`&&(g=parseInt(g)),g||parseInt(g)===0?d.style.setProperty(m,typeof g=="number"?`${g}px`:g):d.style.removeProperty(m)},show=function(d){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";d&&(d.style.display=m)},hide=d=>{d&&(d.style.display="none")},showWhenInnerHtmlPresent=function(d){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";d&&new MutationObserver(()=>{toggle(d,d.innerHTML,m)}).observe(d,{childList:!0,subtree:!0})},setStyle=(d,m,g,w)=>{const I=d.querySelector(m);I&&I.style.setProperty(g,w)},toggle=function(d,m){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";m?show(d,g):hide(d)},isVisible$1=d=>!!(d&&(d.offsetWidth||d.offsetHeight||d.getClientRects().length)),allButtonsAreHidden=()=>!isVisible$1(getConfirmButton())&&!isVisible$1(getDenyButton())&&!isVisible$1(getCancelButton()),isScrollable=d=>d.scrollHeight>d.clientHeight,hasCssAnimation=d=>{const m=window.getComputedStyle(d),g=parseFloat(m.getPropertyValue("animation-duration")||"0"),w=parseFloat(m.getPropertyValue("transition-duration")||"0");return g>0||w>0},animateTimerProgressBar=function(d){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const g=getTimerProgressBar();g&&isVisible$1(g)&&(m&&(g.style.transition="none",g.style.width="100%"),setTimeout(()=>{g.style.transition=`width ${d/1e3}s linear`,g.style.width="0%"},10))},stopTimerProgressBar=()=>{const d=getTimerProgressBar();if(!d)return;const m=parseInt(window.getComputedStyle(d).width);d.style.removeProperty("transition"),d.style.width="100%";const g=parseInt(window.getComputedStyle(d).width),w=m/g*100;d.style.width=`${w}%`},isNodeEnv=()=>typeof window>"u"||typeof document>"u",sweetHTML=`
 <div aria-labelledby="${swalClasses.title}" aria-describedby="${swalClasses["html-container"]}" class="${swalClasses.popup}" tabindex="-1">
   <button type="button" class="${swalClasses.close}"></button>
   <ul class="${swalClasses["progress-steps"]}"></ul>
   <div class="${swalClasses.icon}"></div>
   <img class="${swalClasses.image}" />
   <h2 class="${swalClasses.title}" id="${swalClasses.title}"></h2>
   <div class="${swalClasses["html-container"]}" id="${swalClasses["html-container"]}"></div>
   <input class="${swalClasses.input}" id="${swalClasses.input}" />
   <input type="file" class="${swalClasses.file}" />
   <div class="${swalClasses.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${swalClasses.select}" id="${swalClasses.select}"></select>
   <div class="${swalClasses.radio}"></div>
   <label class="${swalClasses.checkbox}">
     <input type="checkbox" id="${swalClasses.checkbox}" />
     <span class="${swalClasses.label}"></span>
   </label>
   <textarea class="${swalClasses.textarea}" id="${swalClasses.textarea}"></textarea>
   <div class="${swalClasses["validation-message"]}" id="${swalClasses["validation-message"]}"></div>
   <div class="${swalClasses.actions}">
     <div class="${swalClasses.loader}"></div>
     <button type="button" class="${swalClasses.confirm}"></button>
     <button type="button" class="${swalClasses.deny}"></button>
     <button type="button" class="${swalClasses.cancel}"></button>
   </div>
   <div class="${swalClasses.footer}"></div>
   <div class="${swalClasses["timer-progress-bar-container"]}">
     <div class="${swalClasses["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),resetOldContainer=()=>{const d=getContainer();return d?(d.remove(),removeClass$1([document.documentElement,document.body],[swalClasses["no-backdrop"],swalClasses["toast-shown"],swalClasses["has-column"]]),!0):!1},resetValidationMessage$1=()=>{globalState.currentInstance.resetValidationMessage()},addInputChangeListeners=()=>{const d=getPopup(),m=getDirectChildByClass(d,swalClasses.input),g=getDirectChildByClass(d,swalClasses.file),w=d.querySelector(`.${swalClasses.range} input`),I=d.querySelector(`.${swalClasses.range} output`),P=getDirectChildByClass(d,swalClasses.select),F=d.querySelector(`.${swalClasses.checkbox} input`),D=getDirectChildByClass(d,swalClasses.textarea);m.oninput=resetValidationMessage$1,g.onchange=resetValidationMessage$1,P.onchange=resetValidationMessage$1,F.onchange=resetValidationMessage$1,D.oninput=resetValidationMessage$1,w.oninput=()=>{resetValidationMessage$1(),I.value=w.value},w.onchange=()=>{resetValidationMessage$1(),I.value=w.value}},getTarget=d=>typeof d=="string"?document.querySelector(d):d,setupAccessibility=d=>{const m=getPopup();m.setAttribute("role",d.toast?"alert":"dialog"),m.setAttribute("aria-live",d.toast?"polite":"assertive"),d.toast||m.setAttribute("aria-modal","true")},setupRTL=d=>{window.getComputedStyle(d).direction==="rtl"&&addClass$1(getContainer(),swalClasses.rtl)},init$1=d=>{const m=resetOldContainer();if(isNodeEnv()){error$1("SweetAlert2 requires document to initialize");return}const g=document.createElement("div");g.className=swalClasses.container,m&&addClass$1(g,swalClasses["no-transition"]),setInnerHtml(g,sweetHTML);const w=getTarget(d.target);w.appendChild(g),setupAccessibility(d),setupRTL(w),addInputChangeListeners()},parseHtmlToContainer=(d,m)=>{d instanceof HTMLElement?m.appendChild(d):typeof d=="object"?handleObject(d,m):d&&setInnerHtml(m,d)},handleObject=(d,m)=>{d.jquery?handleJqueryElem(m,d):setInnerHtml(m,d.toString())},handleJqueryElem=(d,m)=>{if(d.textContent="",0 in m)for(let g=0;g in m;g++)d.appendChild(m[g].cloneNode(!0));else d.appendChild(m.cloneNode(!0))},animationEndEvent=(()=>{if(isNodeEnv())return!1;const d=document.createElement("div");return typeof d.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof d.style.animation<"u"?"animationend":!1})(),renderActions=(d,m)=>{const g=getActions$1(),w=getLoader();!g||!w||(!m.showConfirmButton&&!m.showDenyButton&&!m.showCancelButton?hide(g):show(g),applyCustomClass(g,m,"actions"),renderButtons(g,w,m),setInnerHtml(w,m.loaderHtml||""),applyCustomClass(w,m,"loader"))};function renderButtons(d,m,g){const w=getConfirmButton(),I=getDenyButton(),P=getCancelButton();!w||!I||!P||(renderButton(w,"confirm",g),renderButton(I,"deny",g),renderButton(P,"cancel",g),handleButtonsStyling(w,I,P,g),g.reverseButtons&&(g.toast?(d.insertBefore(P,w),d.insertBefore(I,w)):(d.insertBefore(P,m),d.insertBefore(I,m),d.insertBefore(w,m))))}function handleButtonsStyling(d,m,g,w){if(!w.buttonsStyling){removeClass$1([d,m,g],swalClasses.styled);return}addClass$1([d,m,g],swalClasses.styled),w.confirmButtonColor&&(d.style.backgroundColor=w.confirmButtonColor,addClass$1(d,swalClasses["default-outline"])),w.denyButtonColor&&(m.style.backgroundColor=w.denyButtonColor,addClass$1(m,swalClasses["default-outline"])),w.cancelButtonColor&&(g.style.backgroundColor=w.cancelButtonColor,addClass$1(g,swalClasses["default-outline"]))}function renderButton(d,m,g){const w=capitalizeFirstLetter(m);toggle(d,g[`show${w}Button`],"inline-block"),setInnerHtml(d,g[`${m}ButtonText`]||""),d.setAttribute("aria-label",g[`${m}ButtonAriaLabel`]||""),d.className=swalClasses[m],applyCustomClass(d,g,`${m}Button`)}const renderCloseButton=(d,m)=>{const g=getCloseButton();g&&(setInnerHtml(g,m.closeButtonHtml||""),applyCustomClass(g,m,"closeButton"),toggle(g,m.showCloseButton),g.setAttribute("aria-label",m.closeButtonAriaLabel||""))},renderContainer=(d,m)=>{const g=getContainer();g&&(handleBackdropParam(g,m.backdrop),handlePositionParam(g,m.position),handleGrowParam(g,m.grow),applyCustomClass(g,m,"container"))};function handleBackdropParam(d,m){typeof m=="string"?d.style.background=m:m||addClass$1([document.documentElement,document.body],swalClasses["no-backdrop"])}function handlePositionParam(d,m){m&&(m in swalClasses?addClass$1(d,swalClasses[m]):(warn('The "position" parameter is not valid, defaulting to "center"'),addClass$1(d,swalClasses.center)))}function handleGrowParam(d,m){m&&addClass$1(d,swalClasses[`grow-${m}`])}var privateProps={innerParams:new WeakMap,domCache:new WeakMap};const inputClasses=["input","file","range","select","radio","checkbox","textarea"],renderInput=(d,m)=>{const g=getPopup();if(!g)return;const w=privateProps.innerParams.get(d),I=!w||m.input!==w.input;inputClasses.forEach(P=>{const F=getDirectChildByClass(g,swalClasses[P]);F&&(setAttributes$1(P,m.inputAttributes),F.className=swalClasses[P],I&&hide(F))}),m.input&&(I&&showInput(m),setCustomClass(m))},showInput=d=>{if(!d.input)return;if(!renderInputType[d.input]){error$1(`Unexpected type of input! Expected ${Object.keys(renderInputType).join(" | ")}, got "${d.input}"`);return}const m=getInputContainer(d.input);if(!m)return;const g=renderInputType[d.input](m,d);show(m),d.inputAutoFocus&&setTimeout(()=>{focusInput(g)})},removeAttributes=d=>{for(let m=0;m<d.attributes.length;m++){const g=d.attributes[m].name;["id","type","value","style"].includes(g)||d.removeAttribute(g)}},setAttributes$1=(d,m)=>{const g=getPopup();if(!g)return;const w=getInput$1(g,d);if(w){removeAttributes(w);for(const I in m)w.setAttribute(I,m[I])}},setCustomClass=d=>{if(!d.input)return;const m=getInputContainer(d.input);m&&applyCustomClass(m,d,"input")},setInputPlaceholder=(d,m)=>{!d.placeholder&&m.inputPlaceholder&&(d.placeholder=m.inputPlaceholder)},setInputLabel=(d,m,g)=>{if(g.inputLabel){const w=document.createElement("label"),I=swalClasses["input-label"];w.setAttribute("for",d.id),w.className=I,typeof g.customClass=="object"&&addClass$1(w,g.customClass.inputLabel),w.innerText=g.inputLabel,m.insertAdjacentElement("beforebegin",w)}},getInputContainer=d=>{const m=getPopup();if(m)return getDirectChildByClass(m,swalClasses[d]||swalClasses.input)},checkAndSetInputValue=(d,m)=>{["string","number"].includes(typeof m)?d.value=`${m}`:isPromise(m)||warn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof m}"`)},renderInputType={};renderInputType.text=renderInputType.email=renderInputType.password=renderInputType.number=renderInputType.tel=renderInputType.url=renderInputType.search=renderInputType.date=renderInputType["datetime-local"]=renderInputType.time=renderInputType.week=renderInputType.month=(d,m)=>(checkAndSetInputValue(d,m.inputValue),setInputLabel(d,d,m),setInputPlaceholder(d,m),d.type=m.input,d);renderInputType.file=(d,m)=>(setInputLabel(d,d,m),setInputPlaceholder(d,m),d);renderInputType.range=(d,m)=>{const g=d.querySelector("input"),w=d.querySelector("output");return checkAndSetInputValue(g,m.inputValue),g.type=m.input,checkAndSetInputValue(w,m.inputValue),setInputLabel(g,d,m),d};renderInputType.select=(d,m)=>{if(d.textContent="",m.inputPlaceholder){const g=document.createElement("option");setInnerHtml(g,m.inputPlaceholder),g.value="",g.disabled=!0,g.selected=!0,d.appendChild(g)}return setInputLabel(d,d,m),d};renderInputType.radio=d=>(d.textContent="",d);renderInputType.checkbox=(d,m)=>{const g=getInput$1(getPopup(),"checkbox");g.value="1",g.checked=!!m.inputValue;const w=d.querySelector("span");return setInnerHtml(w,m.inputPlaceholder||m.inputLabel),g};renderInputType.textarea=(d,m)=>{checkAndSetInputValue(d,m.inputValue),setInputPlaceholder(d,m),setInputLabel(d,d,m);const g=w=>parseInt(window.getComputedStyle(w).marginLeft)+parseInt(window.getComputedStyle(w).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const w=parseInt(window.getComputedStyle(getPopup()).width),I=()=>{if(!document.body.contains(d))return;const P=d.offsetWidth+g(d);P>w?getPopup().style.width=`${P}px`:applyNumericalStyle(getPopup(),"width",m.width)};new MutationObserver(I).observe(d,{attributes:!0,attributeFilter:["style"]})}}),d};const renderContent=(d,m)=>{const g=getHtmlContainer();g&&(showWhenInnerHtmlPresent(g),applyCustomClass(g,m,"htmlContainer"),m.html?(parseHtmlToContainer(m.html,g),show(g,"block")):m.text?(g.textContent=m.text,show(g,"block")):hide(g),renderInput(d,m))},renderFooter=(d,m)=>{const g=getFooter();g&&(showWhenInnerHtmlPresent(g),toggle(g,m.footer,"block"),m.footer&&parseHtmlToContainer(m.footer,g),applyCustomClass(g,m,"footer"))},renderIcon=(d,m)=>{const g=privateProps.innerParams.get(d),w=getIcon();if(w){if(g&&m.icon===g.icon){setContent(w,m),applyStyles$1(w,m);return}if(!m.icon&&!m.iconHtml){hide(w);return}if(m.icon&&Object.keys(iconTypes).indexOf(m.icon)===-1){error$1(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${m.icon}"`),hide(w);return}show(w),setContent(w,m),applyStyles$1(w,m),addClass$1(w,m.showClass&&m.showClass.icon)}},applyStyles$1=(d,m)=>{for(const[g,w]of Object.entries(iconTypes))m.icon!==g&&removeClass$1(d,w);addClass$1(d,m.icon&&iconTypes[m.icon]),setColor(d,m),adjustSuccessIconBackgroundColor(),applyCustomClass(d,m,"icon")},adjustSuccessIconBackgroundColor=()=>{const d=getPopup();if(!d)return;const m=window.getComputedStyle(d).getPropertyValue("background-color"),g=d.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let w=0;w<g.length;w++)g[w].style.backgroundColor=m},successIconHtml=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,errorIconHtml=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,setContent=(d,m)=>{if(!m.icon&&!m.iconHtml)return;let g=d.innerHTML,w="";m.iconHtml?w=iconContent(m.iconHtml):m.icon==="success"?(w=successIconHtml,g=g.replace(/ style=".*?"/g,"")):m.icon==="error"?w=errorIconHtml:m.icon&&(w=iconContent({question:"?",warning:"!",info:"i"}[m.icon])),g.trim()!==w.trim()&&setInnerHtml(d,w)},setColor=(d,m)=>{if(m.iconColor){d.style.color=m.iconColor,d.style.borderColor=m.iconColor;for(const g of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])setStyle(d,g,"background-color",m.iconColor);setStyle(d,".swal2-success-ring","border-color",m.iconColor)}},iconContent=d=>`<div class="${swalClasses["icon-content"]}">${d}</div>`,renderImage=(d,m)=>{const g=getImage();if(g){if(!m.imageUrl){hide(g);return}show(g,""),g.setAttribute("src",m.imageUrl),g.setAttribute("alt",m.imageAlt||""),applyNumericalStyle(g,"width",m.imageWidth),applyNumericalStyle(g,"height",m.imageHeight),g.className=swalClasses.image,applyCustomClass(g,m,"image")}},renderPopup=(d,m)=>{const g=getContainer(),w=getPopup();if(!(!g||!w)){if(m.toast){applyNumericalStyle(g,"width",m.width),w.style.width="100%";const I=getLoader();I&&w.insertBefore(I,getIcon())}else applyNumericalStyle(w,"width",m.width);applyNumericalStyle(w,"padding",m.padding),m.color&&(w.style.color=m.color),m.background&&(w.style.background=m.background),hide(getValidationMessage()),addClasses$1(w,m)}},addClasses$1=(d,m)=>{const g=m.showClass||{};d.className=`${swalClasses.popup} ${isVisible$1(d)?g.popup:""}`,m.toast?(addClass$1([document.documentElement,document.body],swalClasses["toast-shown"]),addClass$1(d,swalClasses.toast)):addClass$1(d,swalClasses.modal),applyCustomClass(d,m,"popup"),typeof m.customClass=="string"&&addClass$1(d,m.customClass),m.icon&&addClass$1(d,swalClasses[`icon-${m.icon}`])},renderProgressSteps=(d,m)=>{const g=getProgressSteps();if(!g)return;const{progressSteps:w,currentProgressStep:I}=m;if(!w||w.length===0||I===void 0){hide(g);return}show(g),g.textContent="",I>=w.length&&warn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),w.forEach((P,F)=>{const D=createStepElement(P);if(g.appendChild(D),F===I&&addClass$1(D,swalClasses["active-progress-step"]),F!==w.length-1){const $=createLineElement(m);g.appendChild($)}})},createStepElement=d=>{const m=document.createElement("li");return addClass$1(m,swalClasses["progress-step"]),setInnerHtml(m,d),m},createLineElement=d=>{const m=document.createElement("li");return addClass$1(m,swalClasses["progress-step-line"]),d.progressStepsDistance&&applyNumericalStyle(m,"width",d.progressStepsDistance),m},renderTitle=(d,m)=>{const g=getTitle();g&&(showWhenInnerHtmlPresent(g),toggle(g,m.title||m.titleText,"block"),m.title&&parseHtmlToContainer(m.title,g),m.titleText&&(g.innerText=m.titleText),applyCustomClass(g,m,"title"))},render=(d,m)=>{renderPopup(d,m),renderContainer(d,m),renderProgressSteps(d,m),renderIcon(d,m),renderImage(d,m),renderTitle(d,m),renderCloseButton(d,m),renderContent(d,m),renderActions(d,m),renderFooter(d,m);const g=getPopup();typeof m.didRender=="function"&&g&&m.didRender(g),globalState.eventEmitter.emit("didRender",g)},isVisible=()=>isVisible$1(getPopup()),clickConfirm=()=>{var d;return(d=getConfirmButton())===null||d===void 0?void 0:d.click()},clickDeny=()=>{var d;return(d=getDenyButton())===null||d===void 0?void 0:d.click()},clickCancel=()=>{var d;return(d=getCancelButton())===null||d===void 0?void 0:d.click()},DismissReason=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),removeKeydownHandler=d=>{d.keydownTarget&&d.keydownHandlerAdded&&(d.keydownTarget.removeEventListener("keydown",d.keydownHandler,{capture:d.keydownListenerCapture}),d.keydownHandlerAdded=!1)},addKeydownHandler=(d,m,g)=>{removeKeydownHandler(d),m.toast||(d.keydownHandler=w=>keydownHandler(m,w,g),d.keydownTarget=m.keydownListenerCapture?window:getPopup(),d.keydownListenerCapture=m.keydownListenerCapture,d.keydownTarget.addEventListener("keydown",d.keydownHandler,{capture:d.keydownListenerCapture}),d.keydownHandlerAdded=!0)},setFocus=(d,m)=>{var g;const w=getFocusableElements();if(w.length){d=d+m,d===w.length?d=0:d===-1&&(d=w.length-1),w[d].focus();return}(g=getPopup())===null||g===void 0||g.focus()},arrowKeysNextButton=["ArrowRight","ArrowDown"],arrowKeysPreviousButton=["ArrowLeft","ArrowUp"],keydownHandler=(d,m,g)=>{d&&(m.isComposing||m.keyCode===229||(d.stopKeydownPropagation&&m.stopPropagation(),m.key==="Enter"?handleEnter(m,d):m.key==="Tab"?handleTab(m):[...arrowKeysNextButton,...arrowKeysPreviousButton].includes(m.key)?handleArrows(m.key):m.key==="Escape"&&handleEsc(m,d,g)))},handleEnter=(d,m)=>{if(!callIfFunction(m.allowEnterKey))return;const g=getInput$1(getPopup(),m.input);if(d.target&&g&&d.target instanceof HTMLElement&&d.target.outerHTML===g.outerHTML){if(["textarea","file"].includes(m.input))return;clickConfirm(),d.preventDefault()}},handleTab=d=>{const m=d.target,g=getFocusableElements();let w=-1;for(let I=0;I<g.length;I++)if(m===g[I]){w=I;break}d.shiftKey?setFocus(w,-1):setFocus(w,1),d.stopPropagation(),d.preventDefault()},handleArrows=d=>{const m=getActions$1(),g=getConfirmButton(),w=getDenyButton(),I=getCancelButton();if(!m||!g||!w||!I)return;const P=[g,w,I];if(document.activeElement instanceof HTMLElement&&!P.includes(document.activeElement))return;const F=arrowKeysNextButton.includes(d)?"nextElementSibling":"previousElementSibling";let D=document.activeElement;if(D){for(let $=0;$<m.children.length;$++){if(D=D[F],!D)return;if(D instanceof HTMLButtonElement&&isVisible$1(D))break}D instanceof HTMLButtonElement&&D.focus()}},handleEsc=(d,m,g)=>{callIfFunction(m.allowEscapeKey)&&(d.preventDefault(),g(DismissReason.esc))};var privateMethods={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const setAriaHidden=()=>{const d=getContainer();Array.from(document.body.children).forEach(g=>{g.contains(d)||(g.hasAttribute("aria-hidden")&&g.setAttribute("data-previous-aria-hidden",g.getAttribute("aria-hidden")||""),g.setAttribute("aria-hidden","true"))})},unsetAriaHidden=()=>{Array.from(document.body.children).forEach(m=>{m.hasAttribute("data-previous-aria-hidden")?(m.setAttribute("aria-hidden",m.getAttribute("data-previous-aria-hidden")||""),m.removeAttribute("data-previous-aria-hidden")):m.removeAttribute("aria-hidden")})},isSafariOrIOS=typeof window<"u"&&!!window.GestureEvent,iOSfix=()=>{if(isSafariOrIOS&&!hasClass$1(document.body,swalClasses.iosfix)){const d=document.body.scrollTop;document.body.style.top=`${d*-1}px`,addClass$1(document.body,swalClasses.iosfix),lockBodyScroll()}},lockBodyScroll=()=>{const d=getContainer();if(!d)return;let m;d.ontouchstart=g=>{m=shouldPreventTouchMove(g)},d.ontouchmove=g=>{m&&(g.preventDefault(),g.stopPropagation())}},shouldPreventTouchMove=d=>{const m=d.target,g=getContainer(),w=getHtmlContainer();return!g||!w||isStylus(d)||isZoom(d)?!1:m===g||!isScrollable(g)&&m instanceof HTMLElement&&m.tagName!=="INPUT"&&m.tagName!=="TEXTAREA"&&!(isScrollable(w)&&w.contains(m))},isStylus=d=>d.touches&&d.touches.length&&d.touches[0].touchType==="stylus",isZoom=d=>d.touches&&d.touches.length>1,undoIOSfix=()=>{if(hasClass$1(document.body,swalClasses.iosfix)){const d=parseInt(document.body.style.top,10);removeClass$1(document.body,swalClasses.iosfix),document.body.style.top="",document.body.scrollTop=d*-1}},measureScrollbar=()=>{const d=document.createElement("div");d.className=swalClasses["scrollbar-measure"],document.body.appendChild(d);const m=d.getBoundingClientRect().width-d.clientWidth;return document.body.removeChild(d),m};let previousBodyPadding=null;const replaceScrollbarWithPadding=d=>{previousBodyPadding===null&&(document.body.scrollHeight>window.innerHeight||d==="scroll")&&(previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${previousBodyPadding+measureScrollbar()}px`)},undoReplaceScrollbarWithPadding=()=>{previousBodyPadding!==null&&(document.body.style.paddingRight=`${previousBodyPadding}px`,previousBodyPadding=null)};function removePopupAndResetState(d,m,g,w){isToast()?triggerDidCloseAndDispose(d,w):(restoreActiveElement(g).then(()=>triggerDidCloseAndDispose(d,w)),removeKeydownHandler(globalState)),isSafariOrIOS?(m.setAttribute("style","display:none !important"),m.removeAttribute("class"),m.innerHTML=""):m.remove(),isModal()&&(undoReplaceScrollbarWithPadding(),undoIOSfix(),unsetAriaHidden()),removeBodyClasses()}function removeBodyClasses(){removeClass$1([document.documentElement,document.body],[swalClasses.shown,swalClasses["height-auto"],swalClasses["no-backdrop"],swalClasses["toast-shown"]])}function close(d){d=prepareResolveValue(d);const m=privateMethods.swalPromiseResolve.get(this),g=triggerClosePopup(this);this.isAwaitingPromise?d.isDismissed||(handleAwaitingPromise(this),m(d)):g&&m(d)}const triggerClosePopup=d=>{const m=getPopup();if(!m)return!1;const g=privateProps.innerParams.get(d);if(!g||hasClass$1(m,g.hideClass.popup))return!1;removeClass$1(m,g.showClass.popup),addClass$1(m,g.hideClass.popup);const w=getContainer();return removeClass$1(w,g.showClass.backdrop),addClass$1(w,g.hideClass.backdrop),handlePopupAnimation(d,m,g),!0};function rejectPromise(d){const m=privateMethods.swalPromiseReject.get(this);handleAwaitingPromise(this),m&&m(d)}const handleAwaitingPromise=d=>{d.isAwaitingPromise&&(delete d.isAwaitingPromise,privateProps.innerParams.get(d)||d._destroy())},prepareResolveValue=d=>typeof d>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},d),handlePopupAnimation=(d,m,g)=>{const w=getContainer(),I=animationEndEvent&&hasCssAnimation(m);typeof g.willClose=="function"&&g.willClose(m),globalState.eventEmitter.emit("willClose",m),I?animatePopup(d,m,w,g.returnFocus,g.didClose):removePopupAndResetState(d,w,g.returnFocus,g.didClose)},animatePopup=(d,m,g,w,I)=>{animationEndEvent&&(globalState.swalCloseEventFinishedCallback=removePopupAndResetState.bind(null,d,g,w,I),m.addEventListener(animationEndEvent,function(P){P.target===m&&(globalState.swalCloseEventFinishedCallback(),delete globalState.swalCloseEventFinishedCallback)}))},triggerDidCloseAndDispose=(d,m)=>{setTimeout(()=>{typeof m=="function"&&m.bind(d.params)(),globalState.eventEmitter.emit("didClose"),d._destroy&&d._destroy()})},showLoading=d=>{let m=getPopup();if(m||new Swal,m=getPopup(),!m)return;const g=getLoader();isToast()?hide(getIcon()):replaceButton(m,d),show(g),m.setAttribute("data-loading","true"),m.setAttribute("aria-busy","true"),m.focus()},replaceButton=(d,m)=>{const g=getActions$1(),w=getLoader();!g||!w||(!m&&isVisible$1(getConfirmButton())&&(m=getConfirmButton()),show(g),m&&(hide(m),w.setAttribute("data-button-to-replace",m.className),g.insertBefore(w,m)),addClass$1([d,g],swalClasses.loading))},handleInputOptionsAndValue=(d,m)=>{m.input==="select"||m.input==="radio"?handleInputOptions(d,m):["text","email","number","tel","textarea"].some(g=>g===m.input)&&(hasToPromiseFn(m.inputValue)||isPromise(m.inputValue))&&(showLoading(getConfirmButton()),handleInputValue(d,m))},getInputValue=(d,m)=>{const g=d.getInput();if(!g)return null;switch(m.input){case"checkbox":return getCheckboxValue(g);case"radio":return getRadioValue(g);case"file":return getFileValue(g);default:return m.inputAutoTrim?g.value.trim():g.value}},getCheckboxValue=d=>d.checked?1:0,getRadioValue=d=>d.checked?d.value:null,getFileValue=d=>d.files&&d.files.length?d.getAttribute("multiple")!==null?d.files:d.files[0]:null,handleInputOptions=(d,m)=>{const g=getPopup();if(!g)return;const w=I=>{m.input==="select"?populateSelectOptions(g,formatInputOptions(I),m):m.input==="radio"&&populateRadioOptions(g,formatInputOptions(I),m)};hasToPromiseFn(m.inputOptions)||isPromise(m.inputOptions)?(showLoading(getConfirmButton()),asPromise(m.inputOptions).then(I=>{d.hideLoading(),w(I)})):typeof m.inputOptions=="object"?w(m.inputOptions):error$1(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof m.inputOptions}`)},handleInputValue=(d,m)=>{const g=d.getInput();g&&(hide(g),asPromise(m.inputValue).then(w=>{g.value=m.input==="number"?`${parseFloat(w)||0}`:`${w}`,show(g),g.focus(),d.hideLoading()}).catch(w=>{error$1(`Error in inputValue promise: ${w}`),g.value="",show(g),g.focus(),d.hideLoading()}))};function populateSelectOptions(d,m,g){const w=getDirectChildByClass(d,swalClasses.select);if(!w)return;const I=(P,F,D)=>{const $=document.createElement("option");$.value=D,setInnerHtml($,F),$.selected=isSelected(D,g.inputValue),P.appendChild($)};m.forEach(P=>{const F=P[0],D=P[1];if(Array.isArray(D)){const $=document.createElement("optgroup");$.label=F,$.disabled=!1,w.appendChild($),D.forEach(V=>I($,V[1],V[0]))}else I(w,D,F)}),w.focus()}function populateRadioOptions(d,m,g){const w=getDirectChildByClass(d,swalClasses.radio);if(!w)return;m.forEach(P=>{const F=P[0],D=P[1],$=document.createElement("input"),V=document.createElement("label");$.type="radio",$.name=swalClasses.radio,$.value=F,isSelected(F,g.inputValue)&&($.checked=!0);const j=document.createElement("span");setInnerHtml(j,D),j.className=swalClasses.label,V.appendChild($),V.appendChild(j),w.appendChild(V)});const I=w.querySelectorAll("input");I.length&&I[0].focus()}const formatInputOptions=d=>{const m=[];return d instanceof Map?d.forEach((g,w)=>{let I=g;typeof I=="object"&&(I=formatInputOptions(I)),m.push([w,I])}):Object.keys(d).forEach(g=>{let w=d[g];typeof w=="object"&&(w=formatInputOptions(w)),m.push([g,w])}),m},isSelected=(d,m)=>!!m&&m.toString()===d.toString(),handleConfirmButtonClick=d=>{const m=privateProps.innerParams.get(d);d.disableButtons(),m.input?handleConfirmOrDenyWithInput(d,"confirm"):confirm(d,!0)},handleDenyButtonClick=d=>{const m=privateProps.innerParams.get(d);d.disableButtons(),m.returnInputValueOnDeny?handleConfirmOrDenyWithInput(d,"deny"):deny(d,!1)},handleCancelButtonClick=(d,m)=>{d.disableButtons(),m(DismissReason.cancel)},handleConfirmOrDenyWithInput=(d,m)=>{const g=privateProps.innerParams.get(d);if(!g.input){error$1(`The "input" parameter is needed to be set when using returnInputValueOn${capitalizeFirstLetter(m)}`);return}const w=d.getInput(),I=getInputValue(d,g);g.inputValidator?handleInputValidator(d,I,m):w&&!w.checkValidity()?(d.enableButtons(),d.showValidationMessage(g.validationMessage||w.validationMessage)):m==="deny"?deny(d,I):confirm(d,I)},handleInputValidator=(d,m,g)=>{const w=privateProps.innerParams.get(d);d.disableInput(),Promise.resolve().then(()=>asPromise(w.inputValidator(m,w.validationMessage))).then(P=>{d.enableButtons(),d.enableInput(),P?d.showValidationMessage(P):g==="deny"?deny(d,m):confirm(d,m)})},deny=(d,m)=>{const g=privateProps.innerParams.get(d||void 0);g.showLoaderOnDeny&&showLoading(getDenyButton()),g.preDeny?(d.isAwaitingPromise=!0,Promise.resolve().then(()=>asPromise(g.preDeny(m,g.validationMessage))).then(I=>{I===!1?(d.hideLoading(),handleAwaitingPromise(d)):d.close({isDenied:!0,value:typeof I>"u"?m:I})}).catch(I=>rejectWith(d||void 0,I))):d.close({isDenied:!0,value:m})},succeedWith=(d,m)=>{d.close({isConfirmed:!0,value:m})},rejectWith=(d,m)=>{d.rejectPromise(m)},confirm=(d,m)=>{const g=privateProps.innerParams.get(d||void 0);g.showLoaderOnConfirm&&showLoading(),g.preConfirm?(d.resetValidationMessage(),d.isAwaitingPromise=!0,Promise.resolve().then(()=>asPromise(g.preConfirm(m,g.validationMessage))).then(I=>{isVisible$1(getValidationMessage())||I===!1?(d.hideLoading(),handleAwaitingPromise(d)):succeedWith(d,typeof I>"u"?m:I)}).catch(I=>rejectWith(d||void 0,I))):succeedWith(d,m)};function hideLoading(){const d=privateProps.innerParams.get(this);if(!d)return;const m=privateProps.domCache.get(this);hide(m.loader),isToast()?d.icon&&show(getIcon()):showRelatedButton(m),removeClass$1([m.popup,m.actions],swalClasses.loading),m.popup.removeAttribute("aria-busy"),m.popup.removeAttribute("data-loading"),m.confirmButton.disabled=!1,m.denyButton.disabled=!1,m.cancelButton.disabled=!1}const showRelatedButton=d=>{const m=d.popup.getElementsByClassName(d.loader.getAttribute("data-button-to-replace"));m.length?show(m[0],"inline-block"):allButtonsAreHidden()&&hide(d.actions)};function getInput(){const d=privateProps.innerParams.get(this),m=privateProps.domCache.get(this);return m?getInput$1(m.popup,d.input):null}function setButtonsDisabled(d,m,g){const w=privateProps.domCache.get(d);m.forEach(I=>{w[I].disabled=g})}function setInputDisabled(d,m){const g=getPopup();if(!(!g||!d))if(d.type==="radio"){const w=g.querySelectorAll(`[name="${swalClasses.radio}"]`);for(let I=0;I<w.length;I++)w[I].disabled=m}else d.disabled=m}function enableButtons(){setButtonsDisabled(this,["confirmButton","denyButton","cancelButton"],!1)}function disableButtons(){setButtonsDisabled(this,["confirmButton","denyButton","cancelButton"],!0)}function enableInput(){setInputDisabled(this.getInput(),!1)}function disableInput(){setInputDisabled(this.getInput(),!0)}function showValidationMessage(d){const m=privateProps.domCache.get(this),g=privateProps.innerParams.get(this);setInnerHtml(m.validationMessage,d),m.validationMessage.className=swalClasses["validation-message"],g.customClass&&g.customClass.validationMessage&&addClass$1(m.validationMessage,g.customClass.validationMessage),show(m.validationMessage);const w=this.getInput();w&&(w.setAttribute("aria-invalid","true"),w.setAttribute("aria-describedby",swalClasses["validation-message"]),focusInput(w),addClass$1(w,swalClasses.inputerror))}function resetValidationMessage(){const d=privateProps.domCache.get(this);d.validationMessage&&hide(d.validationMessage);const m=this.getInput();m&&(m.removeAttribute("aria-invalid"),m.removeAttribute("aria-describedby"),removeClass$1(m,swalClasses.inputerror))}const defaultParams={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},updatableParams=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],deprecatedParams={allowEnterKey:void 0},toastIncompatibleParams=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],isValidParameter=d=>Object.prototype.hasOwnProperty.call(defaultParams,d),isUpdatableParameter=d=>updatableParams.indexOf(d)!==-1,isDeprecatedParameter=d=>deprecatedParams[d],checkIfParamIsValid=d=>{isValidParameter(d)||warn(`Unknown parameter "${d}"`)},checkIfToastParamIsValid=d=>{toastIncompatibleParams.includes(d)&&warn(`The parameter "${d}" is incompatible with toasts`)},checkIfParamIsDeprecated=d=>{const m=isDeprecatedParameter(d);m&&warnAboutDeprecation(d,m)},showWarningsForParams=d=>{d.backdrop===!1&&d.allowOutsideClick&&warn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const m in d)checkIfParamIsValid(m),d.toast&&checkIfToastParamIsValid(m),checkIfParamIsDeprecated(m)};function update(d){const m=getPopup(),g=privateProps.innerParams.get(this);if(!m||hasClass$1(m,g.hideClass.popup)){warn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const w=filterValidParams(d),I=Object.assign({},g,w);render(this,I),privateProps.innerParams.set(this,I),Object.defineProperties(this,{params:{value:Object.assign({},this.params,d),writable:!1,enumerable:!0}})}const filterValidParams=d=>{const m={};return Object.keys(d).forEach(g=>{isUpdatableParameter(g)?m[g]=d[g]:warn(`Invalid parameter to update: ${g}`)}),m};function _destroy(){const d=privateProps.domCache.get(this),m=privateProps.innerParams.get(this);if(!m){disposeWeakMaps(this);return}d.popup&&globalState.swalCloseEventFinishedCallback&&(globalState.swalCloseEventFinishedCallback(),delete globalState.swalCloseEventFinishedCallback),typeof m.didDestroy=="function"&&m.didDestroy(),globalState.eventEmitter.emit("didDestroy"),disposeSwal(this)}const disposeSwal=d=>{disposeWeakMaps(d),delete d.params,delete globalState.keydownHandler,delete globalState.keydownTarget,delete globalState.currentInstance},disposeWeakMaps=d=>{d.isAwaitingPromise?(unsetWeakMaps(privateProps,d),d.isAwaitingPromise=!0):(unsetWeakMaps(privateMethods,d),unsetWeakMaps(privateProps,d),delete d.isAwaitingPromise,delete d.disableButtons,delete d.enableButtons,delete d.getInput,delete d.disableInput,delete d.enableInput,delete d.hideLoading,delete d.disableLoading,delete d.showValidationMessage,delete d.resetValidationMessage,delete d.close,delete d.closePopup,delete d.closeModal,delete d.closeToast,delete d.rejectPromise,delete d.update,delete d._destroy)},unsetWeakMaps=(d,m)=>{for(const g in d)d[g].delete(m)};var instanceMethods=Object.freeze({__proto__:null,_destroy,close,closeModal:close,closePopup:close,closeToast:close,disableButtons,disableInput,disableLoading:hideLoading,enableButtons,enableInput,getInput,handleAwaitingPromise,hideLoading,rejectPromise,resetValidationMessage,showValidationMessage,update});const handlePopupClick=(d,m,g)=>{d.toast?handleToastClick(d,m,g):(handleModalMousedown(m),handleContainerMousedown(m),handleModalClick(d,m,g))},handleToastClick=(d,m,g)=>{m.popup.onclick=()=>{d&&(isAnyButtonShown(d)||d.timer||d.input)||g(DismissReason.close)}},isAnyButtonShown=d=>!!(d.showConfirmButton||d.showDenyButton||d.showCancelButton||d.showCloseButton);let ignoreOutsideClick=!1;const handleModalMousedown=d=>{d.popup.onmousedown=()=>{d.container.onmouseup=function(m){d.container.onmouseup=()=>{},m.target===d.container&&(ignoreOutsideClick=!0)}}},handleContainerMousedown=d=>{d.container.onmousedown=m=>{m.target===d.container&&m.preventDefault(),d.popup.onmouseup=function(g){d.popup.onmouseup=()=>{},(g.target===d.popup||g.target instanceof HTMLElement&&d.popup.contains(g.target))&&(ignoreOutsideClick=!0)}}},handleModalClick=(d,m,g)=>{m.container.onclick=w=>{if(ignoreOutsideClick){ignoreOutsideClick=!1;return}w.target===m.container&&callIfFunction(d.allowOutsideClick)&&g(DismissReason.backdrop)}},isJqueryElement=d=>typeof d=="object"&&d.jquery,isElement=d=>d instanceof Element||isJqueryElement(d),argsToParams=d=>{const m={};return typeof d[0]=="object"&&!isElement(d[0])?Object.assign(m,d[0]):["title","html","icon"].forEach((g,w)=>{const I=d[w];typeof I=="string"||isElement(I)?m[g]=I:I!==void 0&&error$1(`Unexpected type of ${g}! Expected "string" or "Element", got ${typeof I}`)}),m};function fire(){for(var d=arguments.length,m=new Array(d),g=0;g<d;g++)m[g]=arguments[g];return new this(...m)}function mixin(d){class m extends this{_main(w,I){return super._main(w,Object.assign({},d,I))}}return m}const getTimerLeft=()=>globalState.timeout&&globalState.timeout.getTimerLeft(),stopTimer=()=>{if(globalState.timeout)return stopTimerProgressBar(),globalState.timeout.stop()},resumeTimer=()=>{if(globalState.timeout){const d=globalState.timeout.start();return animateTimerProgressBar(d),d}},toggleTimer=()=>{const d=globalState.timeout;return d&&(d.running?stopTimer():resumeTimer())},increaseTimer=d=>{if(globalState.timeout){const m=globalState.timeout.increase(d);return animateTimerProgressBar(m,!0),m}},isTimerRunning=()=>!!(globalState.timeout&&globalState.timeout.isRunning());let bodyClickListenerAdded=!1;const clickHandlers={};function bindClickHandler(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";clickHandlers[d]=this,bodyClickListenerAdded||(document.body.addEventListener("click",bodyClickListener),bodyClickListenerAdded=!0)}const bodyClickListener=d=>{for(let m=d.target;m&&m!==document;m=m.parentNode)for(const g in clickHandlers){const w=m.getAttribute(g);if(w){clickHandlers[g].fire({template:w});return}}};class EventEmitter{constructor(){this.events={}}_getHandlersByEventName(m){return typeof this.events[m]>"u"&&(this.events[m]=[]),this.events[m]}on(m,g){const w=this._getHandlersByEventName(m);w.includes(g)||w.push(g)}once(m,g){var w=this;const I=function(){w.removeListener(m,I);for(var P=arguments.length,F=new Array(P),D=0;D<P;D++)F[D]=arguments[D];g.apply(w,F)};this.on(m,I)}emit(m){for(var g=arguments.length,w=new Array(g>1?g-1:0),I=1;I<g;I++)w[I-1]=arguments[I];this._getHandlersByEventName(m).forEach(P=>{try{P.apply(this,w)}catch(F){console.error(F)}})}removeListener(m,g){const w=this._getHandlersByEventName(m),I=w.indexOf(g);I>-1&&w.splice(I,1)}removeAllListeners(m){this.events[m]!==void 0&&(this.events[m].length=0)}reset(){this.events={}}}globalState.eventEmitter=new EventEmitter;const on$1=(d,m)=>{globalState.eventEmitter.on(d,m)},once=(d,m)=>{globalState.eventEmitter.once(d,m)},off=(d,m)=>{if(!d){globalState.eventEmitter.reset();return}m?globalState.eventEmitter.removeListener(d,m):globalState.eventEmitter.removeAllListeners(d)};var staticMethods=Object.freeze({__proto__:null,argsToParams,bindClickHandler,clickCancel,clickConfirm,clickDeny,enableLoading:showLoading,fire,getActions:getActions$1,getCancelButton,getCloseButton,getConfirmButton,getContainer,getDenyButton,getFocusableElements,getFooter,getHtmlContainer,getIcon,getIconContent,getImage,getInputLabel,getLoader,getPopup,getProgressSteps,getTimerLeft,getTimerProgressBar,getTitle,getValidationMessage,increaseTimer,isDeprecatedParameter,isLoading,isTimerRunning,isUpdatableParameter,isValidParameter,isVisible,mixin,off,on:on$1,once,resumeTimer,showLoading,stopTimer,toggleTimer});class Timer{constructor(m,g){this.callback=m,this.remaining=g,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(m){const g=this.running;return g&&this.stop(),this.remaining+=m,g&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const swalStringParams=["swal-title","swal-html","swal-footer"],getTemplateParams=d=>{const m=typeof d.template=="string"?document.querySelector(d.template):d.template;if(!m)return{};const g=m.content;return showWarningsForElements(g),Object.assign(getSwalParams(g),getSwalFunctionParams(g),getSwalButtons(g),getSwalImage(g),getSwalIcon(g),getSwalInput(g),getSwalStringParams(g,swalStringParams))},getSwalParams=d=>{const m={};return Array.from(d.querySelectorAll("swal-param")).forEach(w=>{showWarningsForAttributes(w,["name","value"]);const I=w.getAttribute("name"),P=w.getAttribute("value");!I||!P||(typeof defaultParams[I]=="boolean"?m[I]=P!=="false":typeof defaultParams[I]=="object"?m[I]=JSON.parse(P):m[I]=P)}),m},getSwalFunctionParams=d=>{const m={};return Array.from(d.querySelectorAll("swal-function-param")).forEach(w=>{const I=w.getAttribute("name"),P=w.getAttribute("value");!I||!P||(m[I]=new Function(`return ${P}`)())}),m},getSwalButtons=d=>{const m={};return Array.from(d.querySelectorAll("swal-button")).forEach(w=>{showWarningsForAttributes(w,["type","color","aria-label"]);const I=w.getAttribute("type");!I||!["confirm","cancel","deny"].includes(I)||(m[`${I}ButtonText`]=w.innerHTML,m[`show${capitalizeFirstLetter(I)}Button`]=!0,w.hasAttribute("color")&&(m[`${I}ButtonColor`]=w.getAttribute("color")),w.hasAttribute("aria-label")&&(m[`${I}ButtonAriaLabel`]=w.getAttribute("aria-label")))}),m},getSwalImage=d=>{const m={},g=d.querySelector("swal-image");return g&&(showWarningsForAttributes(g,["src","width","height","alt"]),g.hasAttribute("src")&&(m.imageUrl=g.getAttribute("src")||void 0),g.hasAttribute("width")&&(m.imageWidth=g.getAttribute("width")||void 0),g.hasAttribute("height")&&(m.imageHeight=g.getAttribute("height")||void 0),g.hasAttribute("alt")&&(m.imageAlt=g.getAttribute("alt")||void 0)),m},getSwalIcon=d=>{const m={},g=d.querySelector("swal-icon");return g&&(showWarningsForAttributes(g,["type","color"]),g.hasAttribute("type")&&(m.icon=g.getAttribute("type")),g.hasAttribute("color")&&(m.iconColor=g.getAttribute("color")),m.iconHtml=g.innerHTML),m},getSwalInput=d=>{const m={},g=d.querySelector("swal-input");g&&(showWarningsForAttributes(g,["type","label","placeholder","value"]),m.input=g.getAttribute("type")||"text",g.hasAttribute("label")&&(m.inputLabel=g.getAttribute("label")),g.hasAttribute("placeholder")&&(m.inputPlaceholder=g.getAttribute("placeholder")),g.hasAttribute("value")&&(m.inputValue=g.getAttribute("value")));const w=Array.from(d.querySelectorAll("swal-input-option"));return w.length&&(m.inputOptions={},w.forEach(I=>{showWarningsForAttributes(I,["value"]);const P=I.getAttribute("value");if(!P)return;const F=I.innerHTML;m.inputOptions[P]=F})),m},getSwalStringParams=(d,m)=>{const g={};for(const w in m){const I=m[w],P=d.querySelector(I);P&&(showWarningsForAttributes(P,[]),g[I.replace(/^swal-/,"")]=P.innerHTML.trim())}return g},showWarningsForElements=d=>{const m=swalStringParams.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(d.children).forEach(g=>{const w=g.tagName.toLowerCase();m.includes(w)||warn(`Unrecognized element <${w}>`)})},showWarningsForAttributes=(d,m)=>{Array.from(d.attributes).forEach(g=>{m.indexOf(g.name)===-1&&warn([`Unrecognized attribute "${g.name}" on <${d.tagName.toLowerCase()}>.`,`${m.length?`Allowed attributes are: ${m.join(", ")}`:"To set the value, use HTML within the element."}`])})},SHOW_CLASS_TIMEOUT=10,openPopup=d=>{const m=getContainer(),g=getPopup();typeof d.willOpen=="function"&&d.willOpen(g),globalState.eventEmitter.emit("willOpen",g);const I=window.getComputedStyle(document.body).overflowY;addClasses(m,g,d),setTimeout(()=>{setScrollingVisibility(m,g)},SHOW_CLASS_TIMEOUT),isModal()&&(fixScrollContainer(m,d.scrollbarPadding,I),setAriaHidden()),!isToast()&&!globalState.previousActiveElement&&(globalState.previousActiveElement=document.activeElement),typeof d.didOpen=="function"&&setTimeout(()=>d.didOpen(g)),globalState.eventEmitter.emit("didOpen",g),removeClass$1(m,swalClasses["no-transition"])},swalOpenAnimationFinished=d=>{const m=getPopup();if(d.target!==m||!animationEndEvent)return;const g=getContainer();m.removeEventListener(animationEndEvent,swalOpenAnimationFinished),g.style.overflowY="auto"},setScrollingVisibility=(d,m)=>{animationEndEvent&&hasCssAnimation(m)?(d.style.overflowY="hidden",m.addEventListener(animationEndEvent,swalOpenAnimationFinished)):d.style.overflowY="auto"},fixScrollContainer=(d,m,g)=>{iOSfix(),m&&g!=="hidden"&&replaceScrollbarWithPadding(g),setTimeout(()=>{d.scrollTop=0})},addClasses=(d,m,g)=>{addClass$1(d,g.showClass.backdrop),g.animation?(m.style.setProperty("opacity","0","important"),show(m,"grid"),setTimeout(()=>{addClass$1(m,g.showClass.popup),m.style.removeProperty("opacity")},SHOW_CLASS_TIMEOUT)):show(m,"grid"),addClass$1([document.documentElement,document.body],swalClasses.shown),g.heightAuto&&g.backdrop&&!g.toast&&addClass$1([document.documentElement,document.body],swalClasses["height-auto"])};var defaultInputValidators={email:(d,m)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(d)?Promise.resolve():Promise.resolve(m||"Invalid email address"),url:(d,m)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(d)?Promise.resolve():Promise.resolve(m||"Invalid URL")};function setDefaultInputValidators(d){d.inputValidator||(d.input==="email"&&(d.inputValidator=defaultInputValidators.email),d.input==="url"&&(d.inputValidator=defaultInputValidators.url))}function validateCustomTargetElement(d){(!d.target||typeof d.target=="string"&&!document.querySelector(d.target)||typeof d.target!="string"&&!d.target.appendChild)&&(warn('Target parameter is not valid, defaulting to "body"'),d.target="body")}function setParameters(d){setDefaultInputValidators(d),d.showLoaderOnConfirm&&!d.preConfirm&&warn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),validateCustomTargetElement(d),typeof d.title=="string"&&(d.title=d.title.split(`
`).join("<br />")),init$1(d)}let currentInstance;var _promise=new WeakMap;class SweetAlert{constructor(){if(_classPrivateFieldInitSpec(this,_promise,void 0),typeof window>"u")return;currentInstance=this;for(var m=arguments.length,g=new Array(m),w=0;w<m;w++)g[w]=arguments[w];const I=Object.freeze(this.constructor.argsToParams(g));this.params=I,this.isAwaitingPromise=!1,_classPrivateFieldSet2(_promise,this,this._main(currentInstance.params))}_main(m){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(showWarningsForParams(Object.assign({},g,m)),globalState.currentInstance){const P=privateMethods.swalPromiseResolve.get(globalState.currentInstance),{isAwaitingPromise:F}=globalState.currentInstance;globalState.currentInstance._destroy(),F||P({isDismissed:!0}),isModal()&&unsetAriaHidden()}globalState.currentInstance=currentInstance;const w=prepareParams(m,g);setParameters(w),Object.freeze(w),globalState.timeout&&(globalState.timeout.stop(),delete globalState.timeout),clearTimeout(globalState.restoreFocusTimeout);const I=populateDomCache(currentInstance);return render(currentInstance,w),privateProps.innerParams.set(currentInstance,w),swalPromise(currentInstance,I,w)}then(m){return _classPrivateFieldGet2(_promise,this).then(m)}finally(m){return _classPrivateFieldGet2(_promise,this).finally(m)}}const swalPromise=(d,m,g)=>new Promise((w,I)=>{const P=F=>{d.close({isDismissed:!0,dismiss:F})};privateMethods.swalPromiseResolve.set(d,w),privateMethods.swalPromiseReject.set(d,I),m.confirmButton.onclick=()=>{handleConfirmButtonClick(d)},m.denyButton.onclick=()=>{handleDenyButtonClick(d)},m.cancelButton.onclick=()=>{handleCancelButtonClick(d,P)},m.closeButton.onclick=()=>{P(DismissReason.close)},handlePopupClick(g,m,P),addKeydownHandler(globalState,g,P),handleInputOptionsAndValue(d,g),openPopup(g),setupTimer(globalState,g,P),initFocus(m,g),setTimeout(()=>{m.container.scrollTop=0})}),prepareParams=(d,m)=>{const g=getTemplateParams(d),w=Object.assign({},defaultParams,m,g,d);return w.showClass=Object.assign({},defaultParams.showClass,w.showClass),w.hideClass=Object.assign({},defaultParams.hideClass,w.hideClass),w.animation===!1&&(w.showClass={backdrop:"swal2-noanimation"},w.hideClass={}),w},populateDomCache=d=>{const m={popup:getPopup(),container:getContainer(),actions:getActions$1(),confirmButton:getConfirmButton(),denyButton:getDenyButton(),cancelButton:getCancelButton(),loader:getLoader(),closeButton:getCloseButton(),validationMessage:getValidationMessage(),progressSteps:getProgressSteps()};return privateProps.domCache.set(d,m),m},setupTimer=(d,m,g)=>{const w=getTimerProgressBar();hide(w),m.timer&&(d.timeout=new Timer(()=>{g("timer"),delete d.timeout},m.timer),m.timerProgressBar&&(show(w),applyCustomClass(w,m,"timerProgressBar"),setTimeout(()=>{d.timeout&&d.timeout.running&&animateTimerProgressBar(m.timer)})))},initFocus=(d,m)=>{if(!m.toast){if(!callIfFunction(m.allowEnterKey)){warnAboutDeprecation("allowEnterKey"),blurActiveElement();return}focusAutofocus(d)||focusButton(d,m)||setFocus(-1,1)}},focusAutofocus=d=>{const m=d.popup.querySelectorAll("[autofocus]");for(const g of m)if(g instanceof HTMLElement&&isVisible$1(g))return g.focus(),!0;return!1},focusButton=(d,m)=>m.focusDeny&&isVisible$1(d.denyButton)?(d.denyButton.focus(),!0):m.focusCancel&&isVisible$1(d.cancelButton)?(d.cancelButton.focus(),!0):m.focusConfirm&&isVisible$1(d.confirmButton)?(d.confirmButton.focus(),!0):!1,blurActiveElement=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const d=new Date,m=localStorage.getItem("swal-initiation");m?(d.getTime()-Date.parse(m))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const g=document.createElement("audio");g.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",g.loop=!0,document.body.appendChild(g),setTimeout(()=>{g.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${d}`)}SweetAlert.prototype.disableButtons=disableButtons;SweetAlert.prototype.enableButtons=enableButtons;SweetAlert.prototype.getInput=getInput;SweetAlert.prototype.disableInput=disableInput;SweetAlert.prototype.enableInput=enableInput;SweetAlert.prototype.hideLoading=hideLoading;SweetAlert.prototype.disableLoading=hideLoading;SweetAlert.prototype.showValidationMessage=showValidationMessage;SweetAlert.prototype.resetValidationMessage=resetValidationMessage;SweetAlert.prototype.close=close;SweetAlert.prototype.closePopup=close;SweetAlert.prototype.closeModal=close;SweetAlert.prototype.closeToast=close;SweetAlert.prototype.rejectPromise=rejectPromise;SweetAlert.prototype.update=update;SweetAlert.prototype._destroy=_destroy;Object.assign(SweetAlert,staticMethods);Object.keys(instanceMethods).forEach(d=>{SweetAlert[d]=function(){return currentInstance&&currentInstance[d]?currentInstance[d](...arguments):null}});SweetAlert.DismissReason=DismissReason;SweetAlert.version="11.14.1";const Swal=SweetAlert;Swal.default=Swal;typeof document<"u"&&function(d,m){var g=d.createElement("style");if(d.getElementsByTagName("head")[0].appendChild(g),g.styleSheet)g.styleSheet.disabled||(g.styleSheet.cssText=m);else try{g.innerHTML=m}catch{g.innerText=m}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}');const _hoisted_1$i={class:"header-global"},_hoisted_2$e={class:"row"},_hoisted_3$a={class:"col-6 collapse-close"},_hoisted_4$9={class:"navbar-nav navbar-nav-hover align-items-lg-center"},_hoisted_5$7={href:"#",class:"nav-link","data-toggle":"dropdown",role:"button"},_hoisted_6$7={href:"#",class:"nav-link","data-toggle":"dropdown",role:"button"},_sfc_main$q=defineComponent({__name:"AppHeader",setup(d){let m=inject("initPct"),g=w=>{!m.value||m.value==null?Swal.fire({icon:"error",title:"Pengeditan Citra",text:"Mohon inputkan gambar terlebih dahulu!"}):router.push(`/${w}`)};return(w,I)=>{const P=resolveComponent("router-link");return openBlock(),createElementBlock("header",_hoisted_1$i,[createVNode(BaseNav,{class:"navbar-main",transparent:"",type:"",effect:"light",expand:""},{brand:withCtx(()=>[createVNode(P,{class:"navbar-brand mr-lg-5",to:"/"},{default:withCtx(()=>I[8]||(I[8]=[createBaseVNode("img",{src:_imports_0,alt:"logo"},null,-1)])),_:1})]),"content-header":withCtx(({closeMenu:F})=>[createBaseVNode("div",_hoisted_2$e,[I[9]||(I[9]=createBaseVNode("div",{class:"col-6 collapse-brand"},[createBaseVNode("a",{href:"/"},[createBaseVNode("img",{src:_imports_1})])],-1)),createBaseVNode("div",_hoisted_3$a,[createVNode(CloseButton,{onClick:F},null,8,["onClick"])])])]),default:withCtx(()=>[createBaseVNode("ul",_hoisted_4$9,[createVNode(BaseDropdown,{tag:"li",class:"nav-item"},{title:withCtx(()=>[createBaseVNode("a",_hoisted_5$7,[createVNode(unref(FontAwesomeIcon),{icon:unref(faPenFancy.faPenFancy)},null,8,["icon"]),I[10]||(I[10]=createBaseVNode("span",{class:"nav-link-inner--text"},"Pengolahan Gambar",-1))])]),default:withCtx(()=>[createBaseVNode("a",{href:"/tresholding",class:"dropdown-item",onClick:I[0]||(I[0]=withModifiers(F=>unref(g)("tresholding"),["prevent"]))},"Tresholding"),createBaseVNode("a",{href:"/negative",class:"dropdown-item",onClick:I[1]||(I[1]=withModifiers(F=>unref(g)("negative"),["prevent"]))},"Citra Negatif"),createBaseVNode("a",{href:"/brightness",class:"dropdown-item",onClick:I[2]||(I[2]=withModifiers(F=>unref(g)("brightness"),["prevent"]))},"Kecerahan Gambar"),createBaseVNode("a",{href:"/convert",class:"dropdown-item",onClick:I[3]||(I[3]=withModifiers(F=>unref(g)("convert"),["prevent"]))},"Konversi Grayscale")]),_:1}),createVNode(BaseDropdown,{tag:"li",class:"nav-item"},{title:withCtx(()=>[createBaseVNode("a",_hoisted_6$7,[createVNode(unref(FontAwesomeIcon),{icon:unref(faGears)},null,8,["icon"]),I[11]||(I[11]=createBaseVNode("span",{class:"nav-link-inner--text"},"Geometri Gambar",-1))])]),default:withCtx(()=>[createBaseVNode("a",{href:"/rotate",class:"dropdown-item",onClick:I[4]||(I[4]=withModifiers(F=>unref(g)("rotate"),["prevent"]))},"Rotasi Gambar"),createBaseVNode("a",{href:"/flip",class:"dropdown-item",onClick:I[5]||(I[5]=withModifiers(F=>unref(g)("flip"),["prevent"]))},"Flipping Gambar")]),_:1}),createBaseVNode("a",{href:"/equalise",class:"nav-link",onClick:I[6]||(I[6]=withModifiers(F=>unref(g)("equalise"),["prevent"]))},[createVNode(unref(FontAwesomeIcon),{icon:unref(faBolt)},null,8,["icon"]),I[12]||(I[12]=createBaseVNode("span",{class:"nav-link-inner--text"},"Ekualisasi Citra",-1))]),createBaseVNode("a",{href:"/convolution",class:"nav-link",onClick:I[7]||(I[7]=withModifiers(F=>unref(g)("convolution"),["prevent"]))},[createVNode(unref(FontAwesomeIcon),{icon:unref(faCircleUp)},null,8,["icon"]),I[13]||(I[13]=createBaseVNode("span",{class:"nav-link-inner--text"},"Konvolusi Citra",-1))])])]),_:1})])}}}),_hoisted_1$h={class:"header-global"},_hoisted_2$d={class:"row"},_hoisted_3$9={class:"col-6 collapse-close"},_hoisted_4$8={class:"navbar-nav navbar-nav-hover align-items-lg-center"},_hoisted_5$6={href:"#",class:"nav-link","data-toggle":"dropdown",role:"button"},_hoisted_6$6={href:"#",class:"nav-link","data-toggle":"dropdown",role:"button"},_sfc_main$p=defineComponent({__name:"AppHeaderPrimary",setup(d){let m=inject("initPct"),g=w=>{!m.value||m.value==null?Swal.fire({icon:"error",title:"Pengeditan Citra",text:"Mohon inputkan gambar terlebih dahulu!"}):router.push(`/${w}`)};return(w,I)=>{const P=resolveComponent("router-link");return openBlock(),createElementBlock("header",_hoisted_1$h,[createVNode(BaseNav,{class:"navbar-main",transparent:"",type:"primary",effect:"light",expand:""},{brand:withCtx(()=>[createVNode(P,{class:"navbar-brand mr-lg-5",to:"/"},{default:withCtx(()=>I[8]||(I[8]=[createBaseVNode("img",{src:_imports_0,alt:"logo"},null,-1)])),_:1})]),"content-header":withCtx(({closeMenu:F})=>[createBaseVNode("div",_hoisted_2$d,[I[9]||(I[9]=createBaseVNode("div",{class:"col-6 collapse-brand"},[createBaseVNode("a",{href:"/"},[createBaseVNode("img",{src:_imports_1})])],-1)),createBaseVNode("div",_hoisted_3$9,[createVNode(CloseButton,{onClick:F},null,8,["onClick"])])])]),default:withCtx(()=>[createBaseVNode("ul",_hoisted_4$8,[createVNode(BaseDropdown,{tag:"li",class:"nav-item"},{title:withCtx(()=>[createBaseVNode("a",_hoisted_5$6,[createVNode(unref(FontAwesomeIcon),{icon:unref(faPenFancy.faPenFancy)},null,8,["icon"]),I[10]||(I[10]=createBaseVNode("span",{class:"nav-link-inner--text"},"Pengolahan Gambar",-1))])]),default:withCtx(()=>[createBaseVNode("a",{href:"/tresholding",class:"dropdown-item",onClick:I[0]||(I[0]=withModifiers(F=>unref(g)("tresholding"),["prevent"]))},"Tresholding"),createBaseVNode("a",{href:"/negative",class:"dropdown-item",onClick:I[1]||(I[1]=withModifiers(F=>unref(g)("negative"),["prevent"]))},"Citra Negatif"),createBaseVNode("a",{href:"/brightness",class:"dropdown-item",onClick:I[2]||(I[2]=withModifiers(F=>unref(g)("brightness"),["prevent"]))},"Kecerahan Gambar"),createBaseVNode("a",{href:"/convert",class:"dropdown-item",onClick:I[3]||(I[3]=withModifiers(F=>unref(g)("convert"),["prevent"]))},"Konversi Grayscale")]),_:1}),createVNode(BaseDropdown,{tag:"li",class:"nav-item"},{title:withCtx(()=>[createBaseVNode("a",_hoisted_6$6,[createVNode(unref(FontAwesomeIcon),{icon:unref(faGears)},null,8,["icon"]),I[11]||(I[11]=createBaseVNode("span",{class:"nav-link-inner--text"},"Geometri Gambar",-1))])]),default:withCtx(()=>[createBaseVNode("a",{href:"/rotate",class:"dropdown-item",onClick:I[4]||(I[4]=withModifiers(F=>unref(g)("rotate"),["prevent"]))},"Rotasi Gambar"),createBaseVNode("a",{href:"/flip",class:"dropdown-item",onClick:I[5]||(I[5]=withModifiers(F=>unref(g)("flip"),["prevent"]))},"Flipping Gambar")]),_:1}),createBaseVNode("a",{href:"/equalise",class:"nav-link",onClick:I[6]||(I[6]=withModifiers(F=>unref(g)("equalise"),["prevent"]))},[createVNode(unref(FontAwesomeIcon),{icon:unref(faBolt)},null,8,["icon"]),I[12]||(I[12]=createBaseVNode("span",{class:"nav-link-inner--text"},"Ekualisasi Citra",-1))]),createBaseVNode("a",{href:"/convolution",class:"nav-link",onClick:I[7]||(I[7]=withModifiers(F=>unref(g)("convolution"),["prevent"]))},[createVNode(unref(FontAwesomeIcon),{icon:unref(faCircleUp)},null,8,["icon"]),I[13]||(I[13]=createBaseVNode("span",{class:"nav-link-inner--text"},"Konvolusi Citra",-1))])])]),_:1})])}}}),_sfc_main$o={name:"base-button",props:{tag:{type:String,default:"button",description:"Button tag (default -> button)"},type:{type:String,default:"default",description:"Button type (e,g primary, danger etc)"},size:{type:String,default:"",description:"Button size lg|sm"},textColor:{type:String,default:"",description:"Button text color (e.g primary, danger etc)"},nativeType:{type:String,default:"button",description:"Button native type (e.g submit,button etc)"},icon:{type:String,default:"",description:"Button icon"},text:{type:String,default:"",description:"Button text in case not provided via default slot"},outline:{type:Boolean,default:!1,description:"Whether button style is outline"},rounded:{type:Boolean,default:!1,description:"Whether button style is rounded"},iconOnly:{type:Boolean,default:!1,description:"Whether button contains only an icon"},block:{type:Boolean,default:!1,description:"Whether button is of block type"}},computed:{classes(){let d=[{"btn-block":this.block},{"rounded-circle":this.rounded},{"btn-icon-only":this.iconOnly},{[`text-${this.textColor}`]:this.textColor},{"btn-icon":this.icon||this.$slots.icon},this.type&&!this.outline?`btn-${this.type}`:"",this.outline?`btn-outline-${this.type}`:""];return this.size&&d.push(`btn-${this.size}`),d}},methods:{handleClick(d){this.$emit("click",d)}}},_hoisted_1$g={key:0,class:"btn-inner--icon"},_hoisted_2$c={key:2,class:"btn-inner--text"};function _sfc_render$h(d,m,g,w,I,P){return openBlock(),createBlock(resolveDynamicComponent(g.tag),{type:g.tag==="button"?g.nativeType:"",onClick:P.handleClick,class:normalizeClass(["btn",P.classes])},{default:withCtx(()=>[d.$slots.icon||g.icon&&d.$slots.default?(openBlock(),createElementBlock("span",_hoisted_1$g,[renderSlot(d.$slots,"icon",{},()=>[createBaseVNode("i",{class:normalizeClass(g.icon)},null,2)])])):createCommentVNode("",!0),d.$slots.default?createCommentVNode("",!0):(openBlock(),createElementBlock("i",{key:1,class:normalizeClass(g.icon)},null,2)),d.$slots.icon||g.icon&&d.$slots.default?(openBlock(),createElementBlock("span",_hoisted_2$c,[renderSlot(d.$slots,"default",{},()=>[createTextVNode(toDisplayString(g.text),1)])])):createCommentVNode("",!0),!d.$slots.icon&&!g.icon?renderSlot(d.$slots,"default",{key:3}):createCommentVNode("",!0)]),_:3},8,["type","onClick","class"])}const BaseButton=_export_sfc(_sfc_main$o,[["render",_sfc_render$h]]),_sfc_main$n={name:"ClipLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},size:{type:String,default:"35px"},radius:{type:String,default:"100%"}},computed:{spinnerStyle(){return{height:this.size,width:this.size,borderWidth:"2px",borderStyle:"solid",borderColor:this.color+" "+this.color+" transparent",borderRadius:this.radius,background:"transparent"}}}},_hoisted_1$f={class:"v-spinner"};function _sfc_render$g(d,m,g,w,I,P){return withDirectives((openBlock(),createElementBlock("div",_hoisted_1$f,[createBaseVNode("div",{class:"v-clip",style:normalizeStyle(P.spinnerStyle)},null,4)],512)),[[vShow,g.loading]])}const PulseLoader=_export_sfc(_sfc_main$n,[["render",_sfc_render$g]]);function createImgUrl(d){return URL.createObjectURL(d)}function bufferImgUrl(d,m,g){const w=new Blob([d],{type:g}),I=new File([w],m,{type:g});return createImgUrl(I)}var autoNumeric_min={exports:{}};(function(d,m){var g;g=()=>(()=>{var w={d:(we,et)=>{for(var rt in et)w.o(et,rt)&&!w.o(we,rt)&&Object.defineProperty(we,rt,{enumerable:!0,get:et[rt]})},o:(we,et)=>Object.prototype.hasOwnProperty.call(we,et)},I={};w.d(I,{default:()=>ut});var P={allowedTagList:["b","caption","cite","code","const","dd","del","div","dfn","dt","em","h1","h2","h3","h4","h5","h6","input","ins","kdb","label","li","option","output","p","q","s","sample","span","strong","td","th","u"]};Object.freeze(P.allowedTagList),Object.defineProperty(P,"allowedTagList",{configurable:!1,writable:!1}),P.fromCharCodeKeyCode={0:"LaunchCalculator",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",91:"OS",92:"OSRight",93:"ContextMenu",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",173:"-",182:"MyComputer",183:"MyCalculator",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Meta",225:"AltGraph"},Object.freeze(P.fromCharCodeKeyCode),Object.defineProperty(P,"fromCharCodeKeyCode",{configurable:!1,writable:!1}),P.keyName={Unidentified:"Unidentified",AndroidDefault:"AndroidDefault",Alt:"Alt",AltGr:"AltGraph",CapsLock:"CapsLock",Ctrl:"Control",Fn:"Fn",FnLock:"FnLock",Hyper:"Hyper",Meta:"Meta",OSLeft:"OS",OSRight:"OS",Command:"OS",NumLock:"NumLock",ScrollLock:"ScrollLock",Shift:"Shift",Super:"Super",Symbol:"Symbol",SymbolLock:"SymbolLock",Enter:"Enter",Tab:"Tab",Space:" ",LeftArrow:"ArrowLeft",UpArrow:"ArrowUp",RightArrow:"ArrowRight",DownArrow:"ArrowDown",End:"End",Home:"Home",PageUp:"PageUp",PageDown:"PageDown",Backspace:"Backspace",Clear:"Clear",Copy:"Copy",CrSel:"CrSel",Cut:"Cut",Delete:"Delete",EraseEof:"EraseEof",ExSel:"ExSel",Insert:"Insert",Paste:"Paste",Redo:"Redo",Undo:"Undo",Accept:"Accept",Again:"Again",Attn:"Attn",Cancel:"Cancel",ContextMenu:"ContextMenu",Esc:"Escape",Execute:"Execute",Find:"Find",Finish:"Finish",Help:"Help",Pause:"Pause",Play:"Play",Props:"Props",Select:"Select",ZoomIn:"ZoomIn",ZoomOut:"ZoomOut",BrightnessDown:"BrightnessDown",BrightnessUp:"BrightnessUp",Eject:"Eject",LogOff:"LogOff",Power:"Power",PowerOff:"PowerOff",PrintScreen:"PrintScreen",Hibernate:"Hibernate",Standby:"Standby",WakeUp:"WakeUp",Compose:"Compose",Dead:"Dead",F1:"F1",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",F10:"F10",F11:"F11",F12:"F12",Print:"Print",num0:"0",num1:"1",num2:"2",num3:"3",num4:"4",num5:"5",num6:"6",num7:"7",num8:"8",num9:"9",a:"a",b:"b",c:"c",d:"d",e:"e",f:"f",g:"g",h:"h",i:"i",j:"j",k:"k",l:"l",m:"m",n:"n",o:"o",p:"p",q:"q",r:"r",s:"s",t:"t",u:"u",v:"v",w:"w",x:"x",y:"y",z:"z",A:"A",B:"B",C:"C",D:"D",E:"E",F:"F",G:"G",H:"H",I:"I",J:"J",K:"K",L:"L",M:"M",N:"N",O:"O",P:"P",Q:"Q",R:"R",S:"S",T:"T",U:"U",V:"V",W:"W",X:"X",Y:"Y",Z:"Z",Semicolon:";",Equal:"=",Comma:",",Hyphen:"-",Minus:"-",Plus:"+",Dot:".",Slash:"/",Backquote:"`",LeftParenthesis:"(",RightParenthesis:")",LeftBracket:"[",RightBracket:"]",Backslash:"\\",Quote:"'",numpad0:"0",numpad1:"1",numpad2:"2",numpad3:"3",numpad4:"4",numpad5:"5",numpad6:"6",numpad7:"7",numpad8:"8",numpad9:"9",NumpadDot:".",NumpadDotAlt:",",NumpadMultiply:"*",NumpadPlus:"+",NumpadMinus:"-",NumpadSubtract:"-",NumpadSlash:"/",NumpadDotObsoleteBrowsers:"Decimal",NumpadMultiplyObsoleteBrowsers:"Multiply",NumpadPlusObsoleteBrowsers:"Add",NumpadMinusObsoleteBrowsers:"Subtract",NumpadSlashObsoleteBrowsers:"Divide",_allFnKeys:["F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12"],_someNonPrintableKeys:["Tab","Enter","Shift","ShiftLeft","ShiftRight","Control","ControlLeft","ControlRight","Alt","AltLeft","AltRight","Pause","CapsLock","Escape"],_directionKeys:["PageUp","PageDown","End","Home","ArrowDown","ArrowLeft","ArrowRight","ArrowUp"]},Object.freeze(P.keyName._allFnKeys),Object.freeze(P.keyName._someNonPrintableKeys),Object.freeze(P.keyName._directionKeys),Object.freeze(P.keyName),Object.defineProperty(P,"keyName",{configurable:!1,writable:!1}),Object.freeze(P);const F=P;function D(we){return function(et){if(Array.isArray(et))return G(et)}(we)||function(et){if(typeof Symbol<"u"&&et[Symbol.iterator]!=null||et["@@iterator"]!=null)return Array.from(et)}(we)||j(we)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $(){return $=Object.assign?Object.assign.bind():function(we){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var at in rt)Object.prototype.hasOwnProperty.call(rt,at)&&(we[at]=rt[at])}return we},$.apply(this,arguments)}function V(we,et){return function(rt){if(Array.isArray(rt))return rt}(we)||function(rt,at){var H=rt==null?null:typeof Symbol<"u"&&rt[Symbol.iterator]||rt["@@iterator"];if(H!=null){var q,pe,ne,Ce,Se=[],Ye=!0,it=!1;try{if(ne=(H=H.call(rt)).next,at!==0)for(;!(Ye=(q=ne.call(H)).done)&&(Se.push(q.value),Se.length!==at);Ye=!0);}catch(he){it=!0,pe=he}finally{try{if(!Ye&&H.return!=null&&(Ce=H.return(),Object(Ce)!==Ce))return}finally{if(it)throw pe}}return Se}}(we,et)||j(we,et)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function j(we,et){if(we){if(typeof we=="string")return G(we,et);var rt=Object.prototype.toString.call(we).slice(8,-1);return rt==="Object"&&we.constructor&&(rt=we.constructor.name),rt==="Map"||rt==="Set"?Array.from(we):rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt)?G(we,et):void 0}}function G(we,et){(et==null||et>we.length)&&(et=we.length);for(var rt=0,at=new Array(et);rt<et;rt++)at[rt]=we[rt];return at}function W(we){return W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},W(we)}function Z(we,et){for(var rt=0;rt<et.length;rt++){var at=et[rt];at.enumerable=at.enumerable||!1,at.configurable=!0,"value"in at&&(at.writable=!0),Object.defineProperty(we,(H=at.key,q=void 0,q=function(pe,ne){if(W(pe)!=="object"||pe===null)return pe;var Ce=pe[Symbol.toPrimitive];if(Ce!==void 0){var Se=Ce.call(pe,ne||"default");if(W(Se)!=="object")return Se;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ne==="string"?String:Number)(pe)}(H,"string"),W(q)==="symbol"?q:String(q)),at)}var H,q}var U=function(){function we(){(function(H,q){if(!(H instanceof q))throw new TypeError("Cannot call a class as a function")})(this,we)}var et,rt,at;return et=we,at=[{key:"isNull",value:function(H){return H===null}},{key:"isUndefined",value:function(H){return H===void 0}},{key:"isUndefinedOrNullOrEmpty",value:function(H){return H==null||H===""}},{key:"isString",value:function(H){return typeof H=="string"||H instanceof String}},{key:"isEmptyString",value:function(H){return H===""}},{key:"isBoolean",value:function(H){return typeof H=="boolean"}},{key:"isTrueOrFalseString",value:function(H){var q=String(H).toLowerCase();return q==="true"||q==="false"}},{key:"isObject",value:function(H){return W(H)==="object"&&H!==null&&!Array.isArray(H)}},{key:"isEmptyObj",value:function(H){for(var q in H)if(Object.prototype.hasOwnProperty.call(H,q))return!1;return!0}},{key:"isNumberStrict",value:function(H){return typeof H=="number"}},{key:"isNumber",value:function(H){return!this.isArray(H)&&!isNaN(parseFloat(H))&&isFinite(H)}},{key:"isDigit",value:function(H){return/\d/.test(H)}},{key:"isNumberOrArabic",value:function(H){var q=this.arabicToLatinNumbers(H,!1,!0,!0);return this.isNumber(q)}},{key:"isInt",value:function(H){return typeof H=="number"&&parseFloat(H)===parseInt(H,10)&&!isNaN(H)}},{key:"isFunction",value:function(H){return typeof H=="function"}},{key:"contains",value:function(H,q){return!(!this.isString(H)||!this.isString(q)||H===""||q==="")&&H.indexOf(q)!==-1}},{key:"isInArray",value:function(H,q){return!(!this.isArray(q)||q===[]||this.isUndefined(H))&&q.indexOf(H)!==-1}},{key:"isArray",value:function(H){if(Object.prototype.toString.call([])==="[object Array]")return Array.isArray(H)||W(H)==="object"&&Object.prototype.toString.call(H)==="[object Array]";throw new Error("toString message changed for Object Array")}},{key:"isElement",value:function(H){return typeof Element<"u"&&H instanceof Element}},{key:"isInputElement",value:function(H){return this.isElement(H)&&H.tagName.toLowerCase()==="input"}},{key:"decimalPlaces",value:function(H){var q=V(H.split("."),2)[1];return this.isUndefined(q)?0:q.length}},{key:"indexFirstNonZeroDecimalPlace",value:function(H){var q=V(String(Math.abs(H)).split("."),2)[1];if(this.isUndefined(q))return 0;var pe=q.lastIndexOf("0");return pe===-1?pe=0:pe+=2,pe}},{key:"keyCodeNumber",value:function(H){return H.which===void 0?H.keyCode:H.which}},{key:"character",value:function(H){var q;if(H.key==="Unidentified"||H.key===void 0||this.isSeleniumBot()){var pe=this.keyCodeNumber(H);if(pe===229)return F.keyName.AndroidDefault;var ne=F.fromCharCodeKeyCode[pe];q=we.isUndefinedOrNullOrEmpty(ne)?String.fromCharCode(pe):ne}else switch(H.key){case"Add":q=F.keyName.NumpadPlus;break;case"Apps":q=F.keyName.ContextMenu;break;case"Crsel":q=F.keyName.CrSel;break;case"Decimal":q=H.char?H.char:F.keyName.NumpadDot;break;case"Del":q=F.keyName.Delete;break;case"Divide":q=F.keyName.NumpadSlash;break;case"Down":q=F.keyName.DownArrow;break;case"Esc":q=F.keyName.Esc;break;case"Exsel":q=F.keyName.ExSel;break;case"Left":q=F.keyName.LeftArrow;break;case"Meta":case"Super":q=F.keyName.OSLeft;break;case"Multiply":q=F.keyName.NumpadMultiply;break;case"Right":q=F.keyName.RightArrow;break;case"Spacebar":q=F.keyName.Space;break;case"Subtract":q=F.keyName.NumpadMinus;break;case"Up":q=F.keyName.UpArrow;break;default:q=H.key}return q}},{key:"browser",value:function(){var H,q=navigator.userAgent,pe=q.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(pe[1])?{name:"ie",version:(H=/\brv[ :]+(\d+)/g.exec(q)||[])[1]||""}:pe[1]==="Chrome"&&(H=q.match(/\b(OPR|Edge)\/(\d+)/))!==null?{name:H[1].replace("OPR","opera"),version:H[2]}:(pe=pe[2]?[pe[1],pe[2]]:[navigator.appName,navigator.appVersion,"-?"],(H=q.match(/version\/(\d+)/i))!==null&&pe.splice(1,1,H[1]),{name:pe[0].toLowerCase(),version:pe[1]})}},{key:"isSeleniumBot",value:function(){return window.navigator.webdriver===!0}},{key:"isNegative",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"-",pe=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return H===q||H!==""&&(we.isNumber(H)?H<0:pe?this.contains(H,q):this.isNegativeStrict(H,q))}},{key:"isNegativeStrict",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"-";return H.charAt(0)===q}},{key:"isNegativeWithBrackets",value:function(H,q,pe){return H.charAt(0)===q&&this.contains(H,pe)}},{key:"isZeroOrHasNoValue",value:function(H){return!/[1-9]/g.test(H)}},{key:"setRawNegativeSign",value:function(H){return this.isNegativeStrict(H,"-")?H:"-".concat(H)}},{key:"replaceCharAt",value:function(H,q,pe){return"".concat(H.substr(0,q)).concat(pe).concat(H.substr(q+pe.length))}},{key:"clampToRangeLimits",value:function(H,q){return Math.max(q.minimumValue,Math.min(q.maximumValue,H))}},{key:"countNumberCharactersOnTheCaretLeftSide",value:function(H,q,pe){for(var ne=new RegExp("[0-9".concat(pe,"-]")),Ce=0,Se=0;Se<q;Se++)ne.test(H[Se])&&Ce++;return Ce}},{key:"findCaretPositionInFormattedNumber",value:function(H,q,pe,ne){var Ce,Se=pe.length,Ye=H.length,it=0;for(Ce=0;Ce<Se&&it<Ye&&it<q;Ce++)(H[it]===pe[Ce]||H[it]==="."&&pe[Ce]===ne)&&it++;return Ce}},{key:"countCharInText",value:function(H,q){for(var pe=0,ne=0;ne<q.length;ne++)q[ne]===H&&pe++;return pe}},{key:"convertCharacterCountToIndexPosition",value:function(H){return Math.max(H,H-1)}},{key:"getElementSelection",value:function(H){var q,pe={};try{q=this.isUndefined(H.selectionStart)}catch{q=!1}try{if(q){var ne=window.getSelection().getRangeAt(0);pe.start=ne.startOffset,pe.end=ne.endOffset,pe.length=pe.end-pe.start}else pe.start=H.selectionStart,pe.end=H.selectionEnd,pe.length=pe.end-pe.start}catch{pe.start=0,pe.end=0,pe.length=0}return pe}},{key:"setElementSelection",value:function(H,q){var pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(this.isUndefinedOrNullOrEmpty(pe)&&(pe=q),this.isInputElement(H))H.setSelectionRange(q,pe);else if(!we.isNull(H.firstChild)){var ne=document.createRange();ne.setStart(H.firstChild,q),ne.setEnd(H.firstChild,pe);var Ce=window.getSelection();Ce.removeAllRanges(),Ce.addRange(ne)}}},{key:"throwError",value:function(H){throw new Error(H)}},{key:"warning",value:function(H){(!(arguments.length>1&&arguments[1]!==void 0)||arguments[1])&&console.warn("Warning: ".concat(H))}},{key:"isWheelEvent",value:function(H){return H instanceof WheelEvent}},{key:"isWheelUpEvent",value:function(H){return this.isWheelEvent(H)&&!this.isUndefinedOrNullOrEmpty(H.deltaY)||this.throwError("The event passed as a parameter is not a valid wheel event, '".concat(H.type,"' given.")),H.deltaY<0}},{key:"isWheelDownEvent",value:function(H){return this.isWheelEvent(H)&&!this.isUndefinedOrNullOrEmpty(H.deltaY)||this.throwError("The event passed as a parameter is not a valid wheel event, '".concat(H.type,"' given.")),H.deltaY>0}},{key:"isWheelEventWithZeroDeltaY",value:function(H){return this.isWheelEvent(H)&&!this.isUndefinedOrNullOrEmpty(H.deltaY)&&H.deltaY===0}},{key:"forceDecimalPlaces",value:function(H,q){var pe=V(String(H).split("."),2),ne=pe[0],Ce=pe[1];return Ce?"".concat(ne,".").concat(Ce.substr(0,q)):H}},{key:"roundToNearest",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;return H===0?0:(q===0&&this.throwError("The `stepPlace` used to round is equal to `0`. This value must not be equal to zero."),Math.round(H/q)*q)}},{key:"modifyAndRoundToNearestAuto",value:function(H,q,pe){H=Number(this.forceDecimalPlaces(H,pe));var ne=Math.abs(H);if(ne>=0&&ne<1){var Ce,Se=Math.pow(10,-pe);if(H===0)return q?Se:-Se;var Ye,it=pe,he=this.indexFirstNonZeroDecimalPlace(H);return Ce=he>=it-1?Se:Math.pow(10,-(he+1)),Ye=q?H+Ce:H-Ce,this.roundToNearest(Ye,Ce)}H=parseInt(H,10);var De,qe=Math.abs(H).toString().length;switch(qe){case 1:De=0;break;case 2:case 3:De=1;break;case 4:case 5:De=2;break;default:De=qe-3}var Ge,ke=Math.pow(10,De);return(Ge=q?H+ke:H-ke)<=10&&Ge>=-10?Ge:this.roundToNearest(Ge,ke)}},{key:"addAndRoundToNearestAuto",value:function(H,q){return this.modifyAndRoundToNearestAuto(H,!0,q)}},{key:"subtractAndRoundToNearestAuto",value:function(H,q){return this.modifyAndRoundToNearestAuto(H,!1,q)}},{key:"arabicToLatinNumbers",value:function(H){var q=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],pe=arguments.length>2&&arguments[2]!==void 0&&arguments[2],ne=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(this.isNull(H))return H;var Ce=H.toString();if(Ce==="")return H;if(Ce.match(/[٠١٢٣٤٥٦٧٨٩۴۵۶]/g)===null)return q&&(Ce=Number(Ce)),Ce;pe&&(Ce=Ce.replace(/٫/,".")),ne&&(Ce=Ce.replace(/٬/g,"")),Ce=Ce.replace(/[٠١٢٣٤٥٦٧٨٩]/g,function(Ye){return Ye.charCodeAt(0)-1632}).replace(/[۰۱۲۳۴۵۶۷۸۹]/g,function(Ye){return Ye.charCodeAt(0)-1776});var Se=Number(Ce);return isNaN(Se)?Se:(q&&(Ce=Se),Ce)}},{key:"triggerEvent",value:function(H){var q,pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,Ce=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],Se=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];window.CustomEvent?q=new CustomEvent(H,{detail:ne,bubbles:Ce,cancelable:Se}):(q=document.createEvent("CustomEvent")).initCustomEvent(H,Ce,Se,{detail:ne}),pe.dispatchEvent(q)}},{key:"parseStr",value:function(H){var q,pe,ne,Ce,Se={};if(H===0&&1/H<0&&(H="-0"),H=H.toString(),this.isNegativeStrict(H,"-")?(H=H.slice(1),Se.s=-1):Se.s=1,(q=H.indexOf("."))>-1&&(H=H.replace(".","")),q<0&&(q=H.length),(pe=H.search(/[1-9]/i)===-1?H.length:H.search(/[1-9]/i))===(ne=H.length))Se.e=0,Se.c=[0];else{for(Ce=ne-1;H.charAt(Ce)==="0";Ce-=1)ne-=1;for(ne-=1,Se.e=q-pe-1,Se.c=[],q=0;pe<=ne;pe+=1)Se.c[q]=+H.charAt(pe),q+=1}return Se}},{key:"testMinMax",value:function(H,q){var pe=q.c,ne=H.c,Ce=q.s,Se=H.s,Ye=q.e,it=H.e;if(!pe[0]||!ne[0])return pe[0]?Ce:ne[0]?-Se:0;if(Ce!==Se)return Ce;var he=Ce<0;if(Ye!==it)return Ye>it^he?1:-1;for(Ce=-1,Se=(Ye=pe.length)<(it=ne.length)?Ye:it,Ce+=1;Ce<Se;Ce+=1)if(pe[Ce]!==ne[Ce])return pe[Ce]>ne[Ce]^he?1:-1;return Ye===it?0:Ye>it^he?1:-1}},{key:"randomString",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:5;return Math.random().toString(36).substr(2,H)}},{key:"domElement",value:function(H){var q;return q=we.isString(H)?document.querySelector(H):H,q}},{key:"getElementValue",value:function(H){return H.tagName.toLowerCase()==="input"?H.value:this.text(H)}},{key:"setElementValue",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;H.tagName.toLowerCase()==="input"?H.value=q:H.textContent=q}},{key:"setInvalidState",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Invalid";(q===""||this.isNull(q))&&this.throwError("Cannot set the invalid state with an empty message."),H.setCustomValidity(q)}},{key:"setValidState",value:function(H){H.setCustomValidity("")}},{key:"cloneObject",value:function(H){return $({},H)}},{key:"camelize",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"-",pe=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],ne=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];if(this.isNull(H))return null;pe&&(H=H.replace(/^data-/,""));var Ce=H.split(q).map(function(Se){return"".concat(Se.charAt(0).toUpperCase()).concat(Se.slice(1))});return Ce=Ce.join(""),ne&&(Ce="".concat(Ce.charAt(0).toLowerCase()).concat(Ce.slice(1))),Ce}},{key:"text",value:function(H){var q=H.nodeType;return q===Node.ELEMENT_NODE||q===Node.DOCUMENT_NODE||q===Node.DOCUMENT_FRAGMENT_NODE?H.textContent:q===Node.TEXT_NODE?H.nodeValue:""}},{key:"setText",value:function(H,q){var pe=H.nodeType;pe!==Node.ELEMENT_NODE&&pe!==Node.DOCUMENT_NODE&&pe!==Node.DOCUMENT_FRAGMENT_NODE||(H.textContent=q)}},{key:"filterOut",value:function(H,q){var pe=this;return H.filter(function(ne){return!pe.isInArray(ne,q)})}},{key:"trimPaddedZerosFromDecimalPlaces",value:function(H){if((H=String(H))==="")return"";var q=V(H.split("."),2),pe=q[0],ne=q[1];if(this.isUndefinedOrNullOrEmpty(ne))return pe;var Ce=ne.replace(/0+$/g,"");return Ce===""?pe:"".concat(pe,".").concat(Ce)}},{key:"getHoveredElement",value:function(){var H=D(document.querySelectorAll(":hover"));return H[H.length-1]}},{key:"arrayTrim",value:function(H,q){var pe=H.length;return pe===0||q>pe?H:q<0?[]:(H.length=parseInt(q,10),H)}},{key:"arrayUnique",value:function(){var H;return D(new Set((H=[]).concat.apply(H,arguments)))}},{key:"mergeMaps",value:function(){for(var H=arguments.length,q=new Array(H),pe=0;pe<H;pe++)q[pe]=arguments[pe];return new Map(q.reduce(function(ne,Ce){return ne.concat(D(Ce))},[]))}},{key:"objectKeyLookup",value:function(H,q){var pe=Object.entries(H).find(function(Ce){return Ce[1]===q}),ne=null;return pe!==void 0&&(ne=pe[0]),ne}},{key:"insertAt",value:function(H,q,pe){if(pe>(H=String(H)).length)throw new Error("The given index is out of the string range.");if(q.length!==1)throw new Error("The given string `char` should be only one character long.");return H===""&&pe===0?q:"".concat(H.slice(0,pe)).concat(q).concat(H.slice(pe))}},{key:"scientificToDecimal",value:function(H){var q=Number(H);if(isNaN(q))return NaN;if(H=String(H),!this.contains(H,"e")&&!this.contains(H,"E"))return H;var pe=V(H.split(/e/i),2),ne=pe[0],Ce=pe[1],Se=ne<0;Se&&(ne=ne.replace("-",""));var Ye=+Ce<0;Ye&&(Ce=Ce.replace("-",""));var it,he=V(ne.split(/\./),2),De=he[0],qe=he[1];return Ye?(it=De.length>Ce?this.insertAt(De,".",De.length-Ce):"0.".concat("0".repeat(Ce-De.length)).concat(De),it="".concat(it).concat(qe||"")):qe?(ne="".concat(De).concat(qe),it=Ce<qe.length?this.insertAt(ne,".",+Ce+De.length):"".concat(ne).concat("0".repeat(Ce-qe.length))):(ne=ne.replace(".",""),it="".concat(ne).concat("0".repeat(Number(Ce)))),Se&&(it="-".concat(it)),it}}],(rt=null)&&Z(et.prototype,rt),at&&Z(et,at),Object.defineProperty(et,"prototype",{writable:!1}),we}();function Q(we){return Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},Q(we)}function K(we,et){for(var rt=0;rt<et.length;rt++){var at=et[rt];at.enumerable=at.enumerable||!1,at.configurable=!0,"value"in at&&(at.writable=!0),Object.defineProperty(we,(H=at.key,q=void 0,q=function(pe,ne){if(Q(pe)!=="object"||pe===null)return pe;var Ce=pe[Symbol.toPrimitive];if(Ce!==void 0){var Se=Ce.call(pe,ne||"default");if(Q(Se)!=="object")return Se;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ne==="string"?String:Number)(pe)}(H,"string"),Q(q)==="symbol"?q:String(q)),at)}var H,q}var te=function(){function we(at){if(function(H,q){if(!(H instanceof q))throw new TypeError("Cannot call a class as a function")}(this,we),at===null)throw new Error("Invalid AST")}var et,rt;return et=we,(rt=[{key:"evaluate",value:function(at){if(at==null)throw new Error("Invalid AST sub-tree");if(at.type==="number")return at.value;if(at.type==="unaryMinus")return-this.evaluate(at.left);var H=this.evaluate(at.left),q=this.evaluate(at.right);switch(at.type){case"op_+":return Number(H)+Number(q);case"op_-":return H-q;case"op_*":return H*q;case"op_/":return H/q;default:throw new Error("Invalid operator '".concat(at.type,"'"))}}}])&&K(et.prototype,rt),Object.defineProperty(et,"prototype",{writable:!1}),we}();function X(we){return X=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},X(we)}function J(we,et){for(var rt=0;rt<et.length;rt++){var at=et[rt];at.enumerable=at.enumerable||!1,at.configurable=!0,"value"in at&&(at.writable=!0),Object.defineProperty(we,(H=at.key,q=void 0,q=function(pe,ne){if(X(pe)!=="object"||pe===null)return pe;var Ce=pe[Symbol.toPrimitive];if(Ce!==void 0){var Se=Ce.call(pe,ne||"default");if(X(Se)!=="object")return Se;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ne==="string"?String:Number)(pe)}(H,"string"),X(q)==="symbol"?q:String(q)),at)}var H,q}var ee=function(){function we(){(function(H,q){if(!(H instanceof q))throw new TypeError("Cannot call a class as a function")})(this,we)}var et,rt,at;return et=we,at=[{key:"createNode",value:function(H,q,pe){var ne=new we;return ne.type=H,ne.left=q,ne.right=pe,ne}},{key:"createUnaryNode",value:function(H){var q=new we;return q.type="unaryMinus",q.left=H,q.right=null,q}},{key:"createLeaf",value:function(H){var q=new we;return q.type="number",q.value=H,q}}],(rt=null)&&J(et.prototype,rt),at&&J(et,at),Object.defineProperty(et,"prototype",{writable:!1}),we}();function ie(we,et,rt){return Object.defineProperty(we,"prototype",{writable:!1}),we}var fe=ie(function we(et,rt,at){(function(H,q){if(!(H instanceof q))throw new TypeError("Cannot call a class as a function")})(this,we),this.type=et,this.value=rt,this.symbol=at});function se(we){return se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},se(we)}function de(we,et){for(var rt=0;rt<et.length;rt++){var at=et[rt];at.enumerable=at.enumerable||!1,at.configurable=!0,"value"in at&&(at.writable=!0),Object.defineProperty(we,(H=at.key,q=void 0,q=function(pe,ne){if(se(pe)!=="object"||pe===null)return pe;var Ce=pe[Symbol.toPrimitive];if(Ce!==void 0){var Se=Ce.call(pe,ne||"default");if(se(Se)!=="object")return Se;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ne==="string"?String:Number)(pe)}(H,"string"),se(q)==="symbol"?q:String(q)),at)}var H,q}var le=function(){function we(at){(function(H,q){if(!(H instanceof q))throw new TypeError("Cannot call a class as a function")})(this,we),this.text=at,this.textLength=at.length,this.index=0,this.token=new fe("Error",0,0)}var et,rt;return et=we,rt=[{key:"_skipSpaces",value:function(){for(;this.text[this.index]===" "&&this.index<=this.textLength;)this.index++}},{key:"getIndex",value:function(){return this.index}},{key:"getNextToken",value:function(){var at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:".";if(this._skipSpaces(),this.textLength===this.index)return this.token.type="EOT",this.token;if(U.isDigit(this.text[this.index]))return this.token.type="num",this.token.value=this._getNumber(at),this.token;switch(this.token.type="Error",this.text[this.index]){case"+":this.token.type="+";break;case"-":this.token.type="-";break;case"*":this.token.type="*";break;case"/":this.token.type="/";break;case"(":this.token.type="(";break;case")":this.token.type=")"}if(this.token.type==="Error")throw new Error("Unexpected token '".concat(this.token.symbol,"' at position '").concat(this.token.index,"' in the token function"));return this.token.symbol=this.text[this.index],this.index++,this.token}},{key:"_getNumber",value:function(at){this._skipSpaces();for(var H=this.index;this.index<=this.textLength&&U.isDigit(this.text[this.index]);)this.index++;for(this.text[this.index]===at&&this.index++;this.index<=this.textLength&&U.isDigit(this.text[this.index]);)this.index++;if(this.index===H)throw new Error("No number has been found while it was expected");return this.text.substring(H,this.index).replace(at,".")}}],rt&&de(et.prototype,rt),Object.defineProperty(et,"prototype",{writable:!1}),we}();function ye(we){return ye=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},ye(we)}function ae(we,et){for(var rt=0;rt<et.length;rt++){var at=et[rt];at.enumerable=at.enumerable||!1,at.configurable=!0,"value"in at&&(at.writable=!0),Object.defineProperty(we,(H=at.key,q=void 0,q=function(pe,ne){if(ye(pe)!=="object"||pe===null)return pe;var Ce=pe[Symbol.toPrimitive];if(Ce!==void 0){var Se=Ce.call(pe,ne||"default");if(ye(Se)!=="object")return Se;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ne==="string"?String:Number)(pe)}(H,"string"),ye(q)==="symbol"?q:String(q)),at)}var H,q}var ge=function(){function we(at){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:".";return function(q,pe){if(!(q instanceof pe))throw new TypeError("Cannot call a class as a function")}(this,we),this.text=at,this.decimalCharacter=H,this.lexer=new le(at),this.token=this.lexer.getNextToken(this.decimalCharacter),this._exp()}var et,rt;return et=we,(rt=[{key:"_exp",value:function(){var at=this._term(),H=this._moreExp();return ee.createNode("op_+",at,H)}},{key:"_moreExp",value:function(){var at,H;switch(this.token.type){case"+":return this.token=this.lexer.getNextToken(this.decimalCharacter),at=this._term(),H=this._moreExp(),ee.createNode("op_+",H,at);case"-":return this.token=this.lexer.getNextToken(this.decimalCharacter),at=this._term(),H=this._moreExp(),ee.createNode("op_-",H,at)}return ee.createLeaf(0)}},{key:"_term",value:function(){var at=this._factor(),H=this._moreTerms();return ee.createNode("op_*",at,H)}},{key:"_moreTerms",value:function(){var at,H;switch(this.token.type){case"*":return this.token=this.lexer.getNextToken(this.decimalCharacter),at=this._factor(),H=this._moreTerms(),ee.createNode("op_*",H,at);case"/":return this.token=this.lexer.getNextToken(this.decimalCharacter),at=this._factor(),H=this._moreTerms(),ee.createNode("op_/",H,at)}return ee.createLeaf(1)}},{key:"_factor",value:function(){var at,H,q;switch(this.token.type){case"num":return q=this.token.value,this.token=this.lexer.getNextToken(this.decimalCharacter),ee.createLeaf(q);case"-":return this.token=this.lexer.getNextToken(this.decimalCharacter),H=this._factor(),ee.createUnaryNode(H);case"(":return this.token=this.lexer.getNextToken(this.decimalCharacter),at=this._exp(),this._match(")"),at;default:throw new Error("Unexpected token '".concat(this.token.symbol,"' with type '").concat(this.token.type,"' at position '").concat(this.token.index,"' in the factor function"))}}},{key:"_match",value:function(at){var H=this.lexer.getIndex()-1;if(this.text[H]!==at)throw new Error("Unexpected token '".concat(this.token.symbol,"' at position '").concat(H,"' in the match function"));this.token=this.lexer.getNextToken(this.decimalCharacter)}}])&&ae(et.prototype,rt),Object.defineProperty(et,"prototype",{writable:!1}),we}();function Pe(we){return function(et){if(Array.isArray(et))return ve(et)}(we)||function(et){if(typeof Symbol<"u"&&et[Symbol.iterator]!=null||et["@@iterator"]!=null)return Array.from(et)}(we)||Ee(we)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function be(we,et){return function(rt){if(Array.isArray(rt))return rt}(we)||function(rt,at){var H=rt==null?null:typeof Symbol<"u"&&rt[Symbol.iterator]||rt["@@iterator"];if(H!=null){var q,pe,ne,Ce,Se=[],Ye=!0,it=!1;try{if(ne=(H=H.call(rt)).next,at===0){if(Object(H)!==H)return;Ye=!1}else for(;!(Ye=(q=ne.call(H)).done)&&(Se.push(q.value),Se.length!==at);Ye=!0);}catch(he){it=!0,pe=he}finally{try{if(!Ye&&H.return!=null&&(Ce=H.return(),Object(Ce)!==Ce))return}finally{if(it)throw pe}}return Se}}(we,et)||Ee(we,et)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ee(we,et){if(we){if(typeof we=="string")return ve(we,et);var rt=Object.prototype.toString.call(we).slice(8,-1);return rt==="Object"&&we.constructor&&(rt=we.constructor.name),rt==="Map"||rt==="Set"?Array.from(we):rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt)?ve(we,et):void 0}}function ve(we,et){(et==null||et>we.length)&&(et=we.length);for(var rt=0,at=new Array(et);rt<et;rt++)at[rt]=we[rt];return at}function Re(){return Re=Object.assign?Object.assign.bind():function(we){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var at in rt)Object.prototype.hasOwnProperty.call(rt,at)&&(we[at]=rt[at])}return we},Re.apply(this,arguments)}function Oe(we){return Oe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},Oe(we)}function Ae(we,et){for(var rt=0;rt<et.length;rt++){var at=et[rt];at.enumerable=at.enumerable||!1,at.configurable=!0,"value"in at&&(at.writable=!0),Object.defineProperty(we,Me(at.key),at)}}function He(we,et,rt){return(et=Me(et))in we?Object.defineProperty(we,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):we[et]=rt,we}function Me(we){var et=function(rt,at){if(Oe(rt)!=="object"||rt===null)return rt;var H=rt[Symbol.toPrimitive];if(H!==void 0){var q=H.call(rt,at||"default");if(Oe(q)!=="object")return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return(at==="string"?String:Number)(rt)}(we,"string");return Oe(et)==="symbol"?et:String(et)}var je,Ne=function(){function we(){var H=this,q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;(function(De,qe){if(!(De instanceof qe))throw new TypeError("Cannot call a class as a function")})(this,we);var Ce=we._setArgumentsValues(q,pe,ne),Se=Ce.domElement,Ye=Ce.initialValue,it=Ce.userOptions;if(this.domElement=Se,this.defaultRawValue="",this._setSettings(it,!1),this._checkElement(),this.savedCancellableValue=null,this.historyTable=[],this.historyTableIndex=-1,this.onGoingRedo=!1,this.parentForm=this._getParentForm(),!this.runOnce&&this.settings.formatOnPageLoad)this._formatDefaultValueOnPageLoad(Ye);else{var he;if(U.isNull(Ye))switch(this.settings.emptyInputBehavior){case we.options.emptyInputBehavior.min:he=this.settings.minimumValue;break;case we.options.emptyInputBehavior.max:he=this.settings.maximumValue;break;case we.options.emptyInputBehavior.zero:he="0";break;case we.options.emptyInputBehavior.focus:case we.options.emptyInputBehavior.press:case we.options.emptyInputBehavior.always:he="";break;case we.options.emptyInputBehavior.null:he=null;break;default:he=this.settings.emptyInputBehavior}else he=Ye;this._setElementAndRawValue(he)}this.runOnce=!0,this.hasEventListeners=!1,(this.isInputElement||this.isContentEditable)&&(this.settings.noEventListeners||this._createEventListeners(),this._setWritePermissions(!0)),this._saveInitialValues(Ye),this.storageNamePrefix="AUTO_",this._setPersistentStorageName(),this.validState=!0,this.isFocused=!1,this.isWheelEvent=!1,this.isDropEvent=!1,this.isEditing=!1,this.rawValueOnFocus=void 0,this.internalModification=!1,this.attributeToWatch=this._getAttributeToWatch(),this.getterSetter=Object.getOwnPropertyDescriptor(this.domElement.__proto__,this.attributeToWatch),this._addWatcher(),this.settings.createLocalList&&this._createLocalList(),this.constructor._addToGlobalList(this),this.global={set:function(De){var qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;H.autoNumericLocalList.forEach(function(Ge){Ge.set(De,qe)})},setUnformatted:function(De){var qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;H.autoNumericLocalList.forEach(function(Ge){Ge.setUnformatted(De,qe)})},get:function(){var De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,qe=[];return H.autoNumericLocalList.forEach(function(Ge){qe.push(Ge.get())}),H._executeCallback(qe,De),qe},getNumericString:function(){var De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,qe=[];return H.autoNumericLocalList.forEach(function(Ge){qe.push(Ge.getNumericString())}),H._executeCallback(qe,De),qe},getFormatted:function(){var De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,qe=[];return H.autoNumericLocalList.forEach(function(Ge){qe.push(Ge.getFormatted())}),H._executeCallback(qe,De),qe},getNumber:function(){var De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,qe=[];return H.autoNumericLocalList.forEach(function(Ge){qe.push(Ge.getNumber())}),H._executeCallback(qe,De),qe},getLocalized:function(){var De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,qe=[];return H.autoNumericLocalList.forEach(function(Ge){qe.push(Ge.getLocalized())}),H._executeCallback(qe,De),qe},reformat:function(){H.autoNumericLocalList.forEach(function(De){De.reformat()})},unformat:function(){H.autoNumericLocalList.forEach(function(De){De.unformat()})},unformatLocalized:function(){var De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;H.autoNumericLocalList.forEach(function(qe){qe.unformatLocalized(De)})},update:function(){for(var De=arguments.length,qe=new Array(De),Ge=0;Ge<De;Ge++)qe[Ge]=arguments[Ge];H.autoNumericLocalList.forEach(function(ke){ke.update.apply(ke,qe)})},isPristine:function(){var De=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],qe=!0;return H.autoNumericLocalList.forEach(function(Ge){qe&&!Ge.isPristine(De)&&(qe=!1)}),qe},clear:function(){var De=arguments.length>0&&arguments[0]!==void 0&&arguments[0];H.autoNumericLocalList.forEach(function(qe){qe.clear(De)})},remove:function(){H.autoNumericLocalList.forEach(function(De){De.remove()})},wipe:function(){H.autoNumericLocalList.forEach(function(De){De.wipe()})},nuke:function(){H.autoNumericLocalList.forEach(function(De){De.nuke()})},has:function(De){return De instanceof we?H.autoNumericLocalList.has(De.node()):H.autoNumericLocalList.has(De)},addObject:function(De){var qe,Ge;De instanceof we?(qe=De.node(),Ge=De):(qe=De,Ge=we.getAutoNumericElement(qe)),H._hasLocalList()||H._createLocalList();var ke,Ue=Ge._getLocalList();Ue.size===0&&(Ge._createLocalList(),Ue=Ge._getLocalList()),Ue instanceof Map?ke=U.mergeMaps(H._getLocalList(),Ue):(H._addToLocalList(qe,Ge),ke=H._getLocalList()),ke.forEach(function(Je){Je._setLocalList(ke)})},removeObject:function(De){var qe,Ge,ke=arguments.length>1&&arguments[1]!==void 0&&arguments[1];De instanceof we?(qe=De.node(),Ge=De):(qe=De,Ge=we.getAutoNumericElement(qe));var Ue=H.autoNumericLocalList;H.autoNumericLocalList.delete(qe),Ue.forEach(function(Je){Je._setLocalList(H.autoNumericLocalList)}),ke||qe!==H.node()?Ge._createLocalList():Ge._setLocalList(new Map)},empty:function(){var De=arguments.length>0&&arguments[0]!==void 0&&arguments[0];H.autoNumericLocalList.forEach(function(qe){De?qe._createLocalList():qe._setLocalList(new Map)})},elements:function(){var De=[];return H.autoNumericLocalList.forEach(function(qe){De.push(qe.node())}),De},getList:function(){return H.autoNumericLocalList},size:function(){return H.autoNumericLocalList.size}},this.options={reset:function(){return H.settings={rawValue:H.defaultRawValue},H.update(we.defaultSettings),H},allowDecimalPadding:function(De){return H.update({allowDecimalPadding:De}),H},alwaysAllowDecimalCharacter:function(De){return H.update({alwaysAllowDecimalCharacter:De}),H},caretPositionOnFocus:function(De){return H.settings.caretPositionOnFocus=De,H},createLocalList:function(De){return H.settings.createLocalList=De,H.settings.createLocalList?H._hasLocalList()||H._createLocalList():H._deleteLocalList(),H},currencySymbol:function(De){return H.update({currencySymbol:De}),H},currencySymbolPlacement:function(De){return H.update({currencySymbolPlacement:De}),H},decimalCharacter:function(De){return H.update({decimalCharacter:De}),H},decimalCharacterAlternative:function(De){return H.settings.decimalCharacterAlternative=De,H},decimalPlaces:function(De){return U.warning("Using `options.decimalPlaces()` instead of calling the specific `options.decimalPlacesRawValue()`, `options.decimalPlacesShownOnFocus()` and `options.decimalPlacesShownOnBlur()` methods will reset those options.\nPlease call the specific methods if you do not want to reset those.",H.settings.showWarnings),H.update({decimalPlaces:De}),H},decimalPlacesRawValue:function(De){return H.update({decimalPlacesRawValue:De}),H},decimalPlacesShownOnBlur:function(De){return H.update({decimalPlacesShownOnBlur:De}),H},decimalPlacesShownOnFocus:function(De){return H.update({decimalPlacesShownOnFocus:De}),H},defaultValueOverride:function(De){return H.update({defaultValueOverride:De}),H},digitalGroupSpacing:function(De){return H.update({digitalGroupSpacing:De}),H},digitGroupSeparator:function(De){return H.update({digitGroupSeparator:De}),H},divisorWhenUnfocused:function(De){return H.update({divisorWhenUnfocused:De}),H},emptyInputBehavior:function(De){return H.rawValue===null&&De!==we.options.emptyInputBehavior.null&&(U.warning("You are trying to modify the `emptyInputBehavior` option to something different than `'null'` (".concat(De,"), but the element raw value is currently set to `null`. This would result in an invalid `rawValue`. In order to fix that, the element value has been changed to the empty string `''`."),H.settings.showWarnings),H.rawValue=""),H.update({emptyInputBehavior:De}),H},eventBubbles:function(De){return H.settings.eventBubbles=De,H},eventIsCancelable:function(De){return H.settings.eventIsCancelable=De,H},failOnUnknownOption:function(De){return H.settings.failOnUnknownOption=De,H},formatOnPageLoad:function(De){return H.settings.formatOnPageLoad=De,H},formulaMode:function(De){return H.settings.formulaMode=De,H},historySize:function(De){return H.settings.historySize=De,H},invalidClass:function(De){return H.settings.invalidClass=De,H},isCancellable:function(De){return H.settings.isCancellable=De,H},leadingZero:function(De){return H.update({leadingZero:De}),H},maximumValue:function(De){return H.update({maximumValue:De}),H},minimumValue:function(De){return H.update({minimumValue:De}),H},modifyValueOnUpDownArrow:function(De){return H.settings.modifyValueOnUpDownArrow=De,H},modifyValueOnWheel:function(De){return H.settings.modifyValueOnWheel=De,H},negativeBracketsTypeOnBlur:function(De){return H.update({negativeBracketsTypeOnBlur:De}),H},negativePositiveSignPlacement:function(De){return H.update({negativePositiveSignPlacement:De}),H},negativeSignCharacter:function(De){return H.update({negativeSignCharacter:De}),H},negativePositiveSignBehavior:function(De){return H.settings.negativePositiveSignBehavior=De,H},noEventListeners:function(De){return De===we.options.noEventListeners.noEvents&&H.settings.noEventListeners===we.options.noEventListeners.addEvents&&H._removeEventListeners(),H.update({noEventListeners:De}),H},onInvalidPaste:function(De){return H.settings.onInvalidPaste=De,H},outputFormat:function(De){return H.settings.outputFormat=De,H},overrideMinMaxLimits:function(De){return H.update({overrideMinMaxLimits:De}),H},positiveSignCharacter:function(De){return H.update({positiveSignCharacter:De}),H},rawValueDivisor:function(De){return H.update({rawValueDivisor:De}),H},readOnly:function(De){return H.settings.readOnly=De,H._setWritePermissions(),H},roundingMethod:function(De){return H.update({roundingMethod:De}),H},saveValueToSessionStorage:function(De){return H.update({saveValueToSessionStorage:De}),H},symbolWhenUnfocused:function(De){return H.update({symbolWhenUnfocused:De}),H},selectNumberOnly:function(De){return H.settings.selectNumberOnly=De,H},selectOnFocus:function(De){return H.settings.selectOnFocus=De,H},serializeSpaces:function(De){return H.settings.serializeSpaces=De,H},showOnlyNumbersOnFocus:function(De){return H.update({showOnlyNumbersOnFocus:De}),H},showPositiveSign:function(De){return H.update({showPositiveSign:De}),H},showWarnings:function(De){return H.settings.showWarnings=De,H},styleRules:function(De){return H.update({styleRules:De}),H},suffixText:function(De){return H.update({suffixText:De}),H},unformatOnHover:function(De){return H.settings.unformatOnHover=De,H},unformatOnSubmit:function(De){return H.settings.unformatOnSubmit=De,H},upDownStep:function(De){return H.settings.upDownStep=De,H},valuesToStrings:function(De){return H.update({valuesToStrings:De}),H},watchExternalChanges:function(De){return H.update({watchExternalChanges:De}),H},wheelOn:function(De){return H.settings.wheelOn=De,H},wheelStep:function(De){return H.settings.wheelStep=De,H}},this._triggerEvent(we.events.initialized,this.domElement,{newValue:U.getElementValue(this.domElement),newRawValue:this.rawValue,error:null,aNElement:this})}var et,rt,at;return et=we,rt=[{key:"_saveInitialValues",value:function(H){this.initialValueHtmlAttribute=U.scientificToDecimal(this.domElement.getAttribute("value")),U.isNull(this.initialValueHtmlAttribute)&&(this.initialValueHtmlAttribute=""),this.initialValue=H,U.isNull(this.initialValue)&&(this.initialValue="")}},{key:"_createEventListeners",value:function(){var H=this;this.formulaMode=!1,this._onFocusInFunc=function(q){H._onFocusIn(q)},this._onFocusInAndMouseEnterFunc=function(q){H._onFocusInAndMouseEnter(q)},this._onFocusFunc=function(){H._onFocus()},this._onKeydownFunc=function(q){H._onKeydown(q)},this._onKeypressFunc=function(q){H._onKeypress(q)},this._onKeyupFunc=function(q){H._onKeyup(q)},this._onFocusOutAndMouseLeaveFunc=function(q){H._onFocusOutAndMouseLeave(q)},this._onPasteFunc=function(q){H._onPaste(q)},this._onWheelFunc=function(q){H._onWheel(q)},this._onDropFunc=function(q){H._onDrop(q)},this._onKeydownGlobalFunc=function(q){H._onKeydownGlobal(q)},this._onKeyupGlobalFunc=function(q){H._onKeyupGlobal(q)},this.domElement.addEventListener("focusin",this._onFocusInFunc,!1),this.domElement.addEventListener("focus",this._onFocusInAndMouseEnterFunc,!1),this.domElement.addEventListener("focus",this._onFocusFunc,!1),this.domElement.addEventListener("mouseenter",this._onFocusInAndMouseEnterFunc,!1),this.domElement.addEventListener("keydown",this._onKeydownFunc,!1),this.domElement.addEventListener("keypress",this._onKeypressFunc,!1),this.domElement.addEventListener("keyup",this._onKeyupFunc,!1),this.domElement.addEventListener("blur",this._onFocusOutAndMouseLeaveFunc,!1),this.domElement.addEventListener("mouseleave",this._onFocusOutAndMouseLeaveFunc,!1),this.domElement.addEventListener("paste",this._onPasteFunc,!1),this.domElement.addEventListener("wheel",this._onWheelFunc,!1),this.domElement.addEventListener("drop",this._onDropFunc,!1),this._setupFormListener(),this.hasEventListeners=!0,we._doesGlobalListExists()||(document.addEventListener("keydown",this._onKeydownGlobalFunc,!1),document.addEventListener("keyup",this._onKeyupGlobalFunc,!1))}},{key:"_removeEventListeners",value:function(){this.domElement.removeEventListener("focusin",this._onFocusInFunc,!1),this.domElement.removeEventListener("focus",this._onFocusInAndMouseEnterFunc,!1),this.domElement.removeEventListener("focus",this._onFocusFunc,!1),this.domElement.removeEventListener("mouseenter",this._onFocusInAndMouseEnterFunc,!1),this.domElement.removeEventListener("blur",this._onFocusOutAndMouseLeaveFunc,!1),this.domElement.removeEventListener("mouseleave",this._onFocusOutAndMouseLeaveFunc,!1),this.domElement.removeEventListener("keydown",this._onKeydownFunc,!1),this.domElement.removeEventListener("keypress",this._onKeypressFunc,!1),this.domElement.removeEventListener("keyup",this._onKeyupFunc,!1),this.domElement.removeEventListener("paste",this._onPasteFunc,!1),this.domElement.removeEventListener("wheel",this._onWheelFunc,!1),this.domElement.removeEventListener("drop",this._onDropFunc,!1),this._removeFormListener(),this.hasEventListeners=!1,document.removeEventListener("keydown",this._onKeydownGlobalFunc,!1),document.removeEventListener("keyup",this._onKeyupGlobalFunc,!1)}},{key:"_updateEventListeners",value:function(){this.settings.noEventListeners||this.hasEventListeners||this._createEventListeners(),this.settings.noEventListeners&&this.hasEventListeners&&this._removeEventListeners()}},{key:"_setupFormListener",value:function(){var H=this;U.isNull(this.parentForm)||(this._onFormSubmitFunc=function(){H._onFormSubmit()},this._onFormResetFunc=function(){H._onFormReset()},this._hasParentFormCounter()?this._incrementParentFormCounter():(this._initializeFormCounterToOne(),this.parentForm.addEventListener("submit",this._onFormSubmitFunc,!1),this.parentForm.addEventListener("reset",this._onFormResetFunc,!1),this._storeFormHandlerFunction()))}},{key:"_removeFormListener",value:function(){if(!U.isNull(this.parentForm)){var H=this._getParentFormCounter();H===1?(this.parentForm.removeEventListener("submit",this._getFormHandlerFunction().submitFn,!1),this.parentForm.removeEventListener("reset",this._getFormHandlerFunction().resetFn,!1),this._removeFormDataSetInfo()):H>1?this._decrementParentFormCounter():U.throwError("The AutoNumeric object count on the form is incoherent.")}}},{key:"_hasParentFormCounter",value:function(){return"anCount"in this.parentForm.dataset}},{key:"_getParentFormCounter",value:function(){return Number(this.parentForm.dataset.anCount)}},{key:"_initializeFormCounterToOne",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this._getFormElement(H).dataset.anCount=1}},{key:"_incrementParentFormCounter",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this._getFormElement(H).dataset.anCount++}},{key:"_decrementParentFormCounter",value:function(){this.parentForm.dataset.anCount--}},{key:"_hasFormHandlerFunction",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return"anFormHandler"in this._getFormElement(H).dataset}},{key:"_getFormElement",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return U.isNull(H)?this.parentForm:H}},{key:"_storeFormHandlerFunction",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.constructor._doesFormHandlerListExists()||this.constructor._createFormHandlerList();var q=U.randomString();this._getFormElement(H).dataset.anFormHandler=q,window.aNFormHandlerMap.set(q,{submitFn:this._onFormSubmitFunc,resetFn:this._onFormResetFunc})}},{key:"_getFormHandlerKey",value:function(){this._hasFormHandlerFunction()||U.throwError("Unable to retrieve the form handler name");var H=this.parentForm.dataset.anFormHandler;return H===""&&U.throwError("The form handler name is invalid"),H}},{key:"_getFormHandlerFunction",value:function(){var H=this._getFormHandlerKey();return window.aNFormHandlerMap.get(H)}},{key:"_removeFormDataSetInfo",value:function(){this._decrementParentFormCounter(),window.aNFormHandlerMap.delete(this._getFormHandlerKey()),this.parentForm.removeAttribute("data-an-count"),this.parentForm.removeAttribute("data-an-form-handler")}},{key:"_setWritePermissions",value:function(){arguments.length>0&&arguments[0]!==void 0&&arguments[0]&&this.domElement.readOnly||this.settings.readOnly?this._setReadOnly():this._setReadWrite()}},{key:"_setReadOnly",value:function(){this.isInputElement?this.domElement.readOnly=!0:this.domElement.setAttribute("contenteditable",!1)}},{key:"_setReadWrite",value:function(){this.isInputElement?this.domElement.readOnly=!1:this.domElement.setAttribute("contenteditable",!0)}},{key:"_addWatcher",value:function(){var H=this;if(!U.isUndefined(this.getterSetter)){var q=this.getterSetter,pe=q.set,ne=q.get;Object.defineProperty(this.domElement,this.attributeToWatch,{configurable:!0,get:function(){return ne.call(H.domElement)},set:function(Ce){pe.call(H.domElement,Ce),H.settings.watchExternalChanges&&!H.internalModification&&H.set(Ce)}})}}},{key:"_removeWatcher",value:function(){var H=this;if(!U.isUndefined(this.getterSetter)){var q=this.getterSetter,pe=q.set,ne=q.get;Object.defineProperty(this.domElement,this.attributeToWatch,{configurable:!0,get:function(){return ne.call(H.domElement)},set:function(Ce){pe.call(H.domElement,Ce)}})}}},{key:"_getAttributeToWatch",value:function(){var H;if(this.isInputElement)H="value";else{var q=this.domElement.nodeType;q===Node.ELEMENT_NODE||q===Node.DOCUMENT_NODE||q===Node.DOCUMENT_FRAGMENT_NODE?H="textContent":q===Node.TEXT_NODE&&(H="nodeValue")}return H}},{key:"_historyTableAdd",value:function(){var H=this.historyTable.length===0;if(H||this.rawValue!==this._historyTableCurrentValueUsed()){var q=!0;if(!H){var pe=this.historyTableIndex+1;pe<this.historyTable.length&&this.rawValue===this.historyTable[pe].value?q=!1:U.arrayTrim(this.historyTable,this.historyTableIndex+1)}if(this.historyTableIndex++,q){var ne=U.getElementSelection(this.domElement);this.selectionStart=ne.start,this.selectionEnd=ne.end,this.historyTable.push({value:this.rawValue,start:this.selectionStart+1,end:this.selectionEnd+1}),this.historyTable.length>1&&(this.historyTable[this.historyTableIndex-1].start=this.selectionStart,this.historyTable[this.historyTableIndex-1].end=this.selectionEnd)}this.historyTable.length>this.settings.historySize&&this._historyTableForget()}}},{key:"_historyTableUndoOrRedo",value:function(){var H;if(arguments.length>0&&arguments[0]!==void 0&&!arguments[0]?(H=this.historyTableIndex+1<this.historyTable.length)&&this.historyTableIndex++:(H=this.historyTableIndex>0)&&this.historyTableIndex--,H){var q=this.historyTable[this.historyTableIndex];this.set(q.value,null,!1),U.setElementSelection(this.domElement,q.start,q.end)}}},{key:"_historyTableUndo",value:function(){this._historyTableUndoOrRedo(!0)}},{key:"_historyTableRedo",value:function(){this._historyTableUndoOrRedo(!1)}},{key:"_historyTableForget",value:function(){for(var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,q=[],pe=0;pe<H;pe++)q.push(this.historyTable.shift()),this.historyTableIndex--,this.historyTableIndex<0&&(this.historyTableIndex=0);return q.length===1?q[0]:q}},{key:"_historyTableCurrentValueUsed",value:function(){var H=this.historyTableIndex;return H<0&&(H=0),U.isUndefinedOrNullOrEmpty(this.historyTable[H])?"":this.historyTable[H].value}},{key:"_parseStyleRules",value:function(){var H=this;U.isUndefinedOrNullOrEmpty(this.settings.styleRules)||this.rawValue===""||(U.isUndefinedOrNullOrEmpty(this.settings.styleRules.positive)||(this.rawValue>=0?this._addCSSClass(this.settings.styleRules.positive):this._removeCSSClass(this.settings.styleRules.positive)),U.isUndefinedOrNullOrEmpty(this.settings.styleRules.negative)||(this.rawValue<0?this._addCSSClass(this.settings.styleRules.negative):this._removeCSSClass(this.settings.styleRules.negative)),U.isUndefinedOrNullOrEmpty(this.settings.styleRules.ranges)||this.settings.styleRules.ranges.length===0||this.settings.styleRules.ranges.forEach(function(q){H.rawValue>=q.min&&H.rawValue<q.max?H._addCSSClass(q.class):H._removeCSSClass(q.class)}),U.isUndefinedOrNullOrEmpty(this.settings.styleRules.userDefined)||this.settings.styleRules.userDefined.length===0||this.settings.styleRules.userDefined.forEach(function(q){if(U.isFunction(q.callback))if(U.isString(q.classes))q.callback(H.rawValue)?H._addCSSClass(q.classes):H._removeCSSClass(q.classes);else if(U.isArray(q.classes))if(q.classes.length===2)q.callback(H.rawValue)?(H._addCSSClass(q.classes[0]),H._removeCSSClass(q.classes[1])):(H._removeCSSClass(q.classes[0]),H._addCSSClass(q.classes[1]));else if(q.classes.length>2){var pe=q.callback(H.rawValue);U.isArray(pe)?q.classes.forEach(function(ne,Ce){U.isInArray(Ce,pe)?H._addCSSClass(ne):H._removeCSSClass(ne)}):U.isInt(pe)?q.classes.forEach(function(ne,Ce){Ce===pe?H._addCSSClass(ne):H._removeCSSClass(ne)}):U.isNull(pe)?q.classes.forEach(function(ne){H._removeCSSClass(ne)}):U.throwError("The callback result is not an array nor a valid array index, ".concat(Oe(pe)," given."))}else U.throwError("The classes attribute is not valid for the `styleRules` option.");else U.isUndefinedOrNullOrEmpty(q.classes)?q.callback(H):U.throwError("The callback/classes structure is not valid for the `styleRules` option.");else U.warning("The given `styleRules` callback is not a function, ".concat(Oe(q.callback)," given."),H.settings.showWarnings)}))}},{key:"_addCSSClass",value:function(H){this.domElement.classList.add(H)}},{key:"_removeCSSClass",value:function(H){this.domElement.classList.remove(H)}},{key:"update",value:function(){for(var H=this,q=arguments.length,pe=new Array(q),ne=0;ne<q;ne++)pe[ne]=arguments[ne];Array.isArray(pe)&&Array.isArray(pe[0])&&(pe=pe[0]);var Ce=U.cloneObject(this.settings),Se=this.rawValue,Ye={};U.isUndefinedOrNullOrEmpty(pe)||pe.length===0?Ye=null:pe.length>=1&&pe.forEach(function(it){H.constructor._isPreDefinedOptionValid(it)&&(it=H.constructor._getOptionObject(it)),Re(Ye,it)});try{this._setSettings(Ye,!0),this._setWritePermissions(),this._updateEventListeners(),this.set(Se)}catch(it){return this._setSettings(Ce,!0),U.throwError("Unable to update the settings, those are invalid: [".concat(it,"]")),this}return this}},{key:"getSettings",value:function(){return this.settings}},{key:"set",value:function(H){var q,pe,ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Ce=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(U.isUndefined(H))return U.warning("You are trying to set an 'undefined' value ; an error could have occurred.",this.settings.showWarnings),this;if(U.isNull(ne)||this._setSettings(ne,!0),H===null&&this.settings.emptyInputBehavior!==we.options.emptyInputBehavior.null)return U.warning("You are trying to set the `null` value while the `emptyInputBehavior` option is set to ".concat(this.settings.emptyInputBehavior,". If you want to be able to set the `null` value, you need to change the 'emptyInputBehavior' option to `'null'`."),this.settings.showWarnings),this;if(H===null)return this._setElementAndRawValue(null,null,Ce),this._saveValueToPersistentStorage(),this;if(q=this.constructor._toNumericValue(H,this.settings),isNaN(Number(q)))return U.warning("The value you are trying to set results in `NaN`. The element value is set to the empty string instead.",this.settings.showWarnings),this.setValue("",Ce),this;if(q==="")switch(this.settings.emptyInputBehavior){case we.options.emptyInputBehavior.zero:q=0;break;case we.options.emptyInputBehavior.min:q=this.settings.minimumValue;break;case we.options.emptyInputBehavior.max:q=this.settings.maximumValue;break;default:U.isNumber(this.settings.emptyInputBehavior)&&(q=Number(this.settings.emptyInputBehavior))}if(q!==""){var Se=be(this.constructor._checkIfInRangeWithOverrideOption(q,this.settings),2),Ye=Se[0],it=Se[1];if(Ye&&it&&this.settings.valuesToStrings&&this._checkValuesToStrings(q))return this._setElementAndRawValue(this.settings.valuesToStrings[q],q,Ce),this._saveValueToPersistentStorage(),this;if(U.isZeroOrHasNoValue(q)&&(q="0"),Ye&&it){var he=this.constructor._roundRawValue(q,this.settings);return he=this._trimLeadingAndTrailingZeros(he.replace(this.settings.decimalCharacter,".")),q=this._getRawValueToFormat(q),this.isFocused?q=this.constructor._roundFormattedValueShownOnFocus(q,this.settings):(this.settings.divisorWhenUnfocused&&(q=(q/=this.settings.divisorWhenUnfocused).toString()),q=this.constructor._roundFormattedValueShownOnBlur(q,this.settings)),q=this.constructor._modifyNegativeSignAndDecimalCharacterForFormattedValue(q,this.settings),q=this.constructor._addGroupSeparators(q,this.settings,this.isFocused,this.rawValue,he),!this.isFocused&&this.settings.symbolWhenUnfocused&&(q="".concat(q).concat(this.settings.symbolWhenUnfocused)),(this.settings.decimalPlacesShownOnFocus||this.settings.divisorWhenUnfocused)&&this._saveValueToPersistentStorage(),this._setElementAndRawValue(q,he,Ce),this._setValidOrInvalidState(he),this}return this._triggerRangeEvents(Ye,it),U.throwError("The value [".concat(q,"] being set falls outside of the minimumValue [").concat(this.settings.minimumValue,"] and maximumValue [").concat(this.settings.maximumValue,"] range set for this element")),this._removeValueFromPersistentStorage(),this.setValue("",Ce),this}return pe=this.settings.emptyInputBehavior===we.options.emptyInputBehavior.always?this.settings.currencySymbol:"",this._setElementAndRawValue(pe,"",Ce),this}},{key:"setUnformatted",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(H===null||U.isUndefined(H))return this;U.isNull(q)||this._setSettings(q,!0);var pe=this.constructor._removeBrackets(H,this.settings),ne=this.constructor._stripAllNonNumberCharacters(pe,this.settings,!0,this.isFocused);return U.isNumber(ne)||U.throwError("The value is not a valid one, it's not a numeric string nor a recognized currency."),this.constructor._isWithinRangeWithOverrideOption(ne,this.settings)?this.setValue(H):U.throwError("The value is out of the range limits [".concat(this.settings.minimumValue,", ").concat(this.settings.maximumValue,"].")),this}},{key:"setValue",value:function(H){var q=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return this._setElementAndRawValue(H,q),this}},{key:"_setRawValue",value:function(H){var q=this,pe=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(this.rawValue!==H){var ne=this.rawValue;this.rawValue=H,!U.isNull(this.settings.rawValueDivisor)&&this.settings.rawValueDivisor!==0&&H!==""&&H!==null&&this._isUserManuallyEditingTheValue()&&(this.rawValue/=this.settings.rawValueDivisor),this._triggerEvent(we.events.rawValueModified,this.domElement,{oldRawValue:ne,newRawValue:this.rawValue,isPristine:this.isPristine(!0),error:null,aNElement:this}),this._parseStyleRules(),pe&&window.requestAnimationFrame(function(){return q._historyTableAdd()})}}},{key:"_setElementValue",value:function(H){var q=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],pe=U.getElementValue(this.domElement);return H!==pe&&(this.internalModification=!0,U.setElementValue(this.domElement,H),this.internalModification=!1,q&&this._triggerEvent(we.events.formatted,this.domElement,{oldValue:pe,newValue:H,oldRawValue:this.rawValue,newRawValue:this.rawValue,isPristine:this.isPristine(!1),error:null,aNElement:this})),this}},{key:"_setElementAndRawValue",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,pe=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return U.isNull(q)?q=H:U.isBoolean(q)&&(pe=q,q=H),this._setElementValue(H),this._setRawValue(q,pe),this}},{key:"_getRawValueToFormat",value:function(H){return U.isNull(this.settings.rawValueDivisor)||this.settings.rawValueDivisor===0||H===""||H===null?H:H*this.settings.rawValueDivisor}},{key:"_checkValuesToStrings",value:function(H){return this.constructor._checkValuesToStringsArray(H,this.valuesToStringsKeys)}},{key:"_isUserManuallyEditingTheValue",value:function(){return this.isFocused&&this.isEditing||this.isDropEvent}},{key:"_executeCallback",value:function(H,q){!U.isNull(q)&&U.isFunction(q)&&q(H,this)}},{key:"_triggerEvent",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document,pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;U.triggerEvent(H,q,pe,this.settings.eventBubbles,this.settings.eventIsCancelable)}},{key:"get",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.getNumericString(H)}},{key:"getNumericString",value:function(){var H,q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return H=U.isNull(this.rawValue)?null:U.trimPaddedZerosFromDecimalPlaces(this.rawValue),this._executeCallback(H,q),H}},{key:"getFormatted",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;"value"in this.domElement||"textContent"in this.domElement||U.throwError("Unable to get the formatted string from the element.");var q=U.getElementValue(this.domElement);return this._executeCallback(q,H),q}},{key:"getNumber",value:function(){var H,q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return H=this.rawValue===null?null:this.constructor._toLocale(this.getNumericString(),"number",this.settings),this._executeCallback(H,q),H}},{key:"getLocalized",value:function(){var H,q,pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;U.isFunction(pe)&&U.isNull(ne)&&(ne=pe,pe=null),(H=U.isEmptyString(this.rawValue)?"":""+Number(this.rawValue))!=""&&Number(H)===0&&this.settings.leadingZero!==we.options.leadingZero.keep&&(H="0"),q=U.isNull(pe)?this.settings.outputFormat:pe;var Ce=this.constructor._toLocale(H,q,this.settings);return this._executeCallback(Ce,ne),Ce}},{key:"reformat",value:function(){return this.set(this.rawValue),this}},{key:"unformat",value:function(){return this._setElementValue(this.getNumericString()),this}},{key:"unformatLocalized",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this._setElementValue(this.getLocalized(H)),this}},{key:"isPristine",value:function(){return arguments.length>0&&arguments[0]!==void 0&&!arguments[0]?this.initialValueHtmlAttribute===this.getFormatted():this.initialValue===this.getNumericString()}},{key:"select",value:function(){return this.settings.selectNumberOnly?this.selectNumber():this._defaultSelectAll(),this}},{key:"_defaultSelectAll",value:function(){U.setElementSelection(this.domElement,0,U.getElementValue(this.domElement).length)}},{key:"selectNumber",value:function(){var H,q,pe=U.getElementValue(this.domElement),ne=pe.length,Ce=this.settings.currencySymbol.length,Se=this.settings.currencySymbolPlacement,Ye=U.isNegative(pe,this.settings.negativeSignCharacter)?1:0,it=this.settings.suffixText.length;if(H=Se===we.options.currencySymbolPlacement.suffix?0:this.settings.negativePositiveSignPlacement===we.options.negativePositiveSignPlacement.left&&Ye===1&&Ce>0?Ce+1:Ce,Se===we.options.currencySymbolPlacement.prefix)q=ne-it;else switch(this.settings.negativePositiveSignPlacement){case we.options.negativePositiveSignPlacement.left:q=ne-(it+Ce);break;case we.options.negativePositiveSignPlacement.right:q=Ce>0?ne-(Ce+Ye+it):ne-(Ce+it);break;default:q=ne-(Ce+it)}return U.setElementSelection(this.domElement,H,q),this}},{key:"selectInteger",value:function(){var H=0,q=this.rawValue>=0;this.settings.currencySymbolPlacement!==we.options.currencySymbolPlacement.prefix&&(this.settings.currencySymbolPlacement!==we.options.currencySymbolPlacement.suffix||this.settings.negativePositiveSignPlacement!==we.options.negativePositiveSignPlacement.prefix&&this.settings.negativePositiveSignPlacement!==we.options.negativePositiveSignPlacement.none)||(this.settings.showPositiveSign&&q||!q&&this.settings.currencySymbolPlacement===we.options.currencySymbolPlacement.prefix&&this.settings.negativePositiveSignPlacement===we.options.negativePositiveSignPlacement.left)&&(H+=1),this.settings.currencySymbolPlacement===we.options.currencySymbolPlacement.prefix&&(H+=this.settings.currencySymbol.length);var pe=U.getElementValue(this.domElement),ne=pe.indexOf(this.settings.decimalCharacter);return ne===-1&&(ne=this.settings.currencySymbolPlacement===we.options.currencySymbolPlacement.suffix?pe.length-this.settings.currencySymbol.length:pe.length,q||this.settings.negativePositiveSignPlacement!==we.options.negativePositiveSignPlacement.suffix&&this.settings.currencySymbolPlacement!==we.options.currencySymbolPlacement.suffix||(ne-=1),ne-=this.settings.suffixText.length),U.setElementSelection(this.domElement,H,ne),this}},{key:"selectDecimal",value:function(){var H,q,pe=U.getElementValue(this.domElement).indexOf(this.settings.decimalCharacter);return pe===-1?(pe=0,H=0):(pe+=1,q=this.isFocused?this.settings.decimalPlacesShownOnFocus:this.settings.decimalPlacesShownOnBlur,H=pe+Number(q)),U.setElementSelection(this.domElement,pe,H),this}},{key:"node",value:function(){return this.domElement}},{key:"parent",value:function(){return this.domElement.parentNode}},{key:"detach",value:function(){var H,q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return H=U.isNull(q)?this.domElement:q.node(),this._removeFromLocalList(H),this}},{key:"attach",value:function(H){var q=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return this._addToLocalList(H.node()),q&&H.update(this.settings),this}},{key:"formatOther",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return this._formatOrUnformatOther(!0,H,q)}},{key:"unformatOther",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return this._formatOrUnformatOther(!1,H,q)}},{key:"_formatOrUnformatOther",value:function(H,q){var pe,ne,Ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(pe=U.isNull(Ce)?this.settings:this._cloneAndMergeSettings(Ce),U.isElement(q)){var Se=U.getElementValue(q);return ne=H?we.format(Se,pe):we.unformat(Se,pe),U.setElementValue(q,ne),null}return ne=H?we.format(q,pe):we.unformat(q,pe)}},{key:"init",value:function(H){var q=this,pe=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],ne=!1,Ce=[];if(U.isString(H)?Ce=Pe(document.querySelectorAll(H)):U.isElement(H)?(Ce.push(H),ne=!0):U.isArray(H)?Ce=H:U.throwError("The given parameters to the 'init' function are invalid."),Ce.length===0)return U.warning("No valid DOM elements were given hence no AutoNumeric object were instantiated.",!0),[];var Se=this._getLocalList(),Ye=[];return Ce.forEach(function(it){var he=q.settings.createLocalList;pe&&(q.settings.createLocalList=!1);var De=new we(it,U.getElementValue(it),q.settings);pe&&(De._setLocalList(Se),q._addToLocalList(it,De),q.settings.createLocalList=he),Ye.push(De)}),ne?Ye[0]:Ye}},{key:"clear",value:function(){if(arguments.length>0&&arguments[0]!==void 0&&arguments[0]){var H={emptyInputBehavior:we.options.emptyInputBehavior.focus};this.set("",H)}else this.set("");return this}},{key:"remove",value:function(){this._removeValueFromPersistentStorage(),this._removeEventListeners(),this._removeWatcher(),this._removeFromLocalList(this.domElement),this.constructor._removeFromGlobalList(this)}},{key:"wipe",value:function(){this._setElementValue("",!1),this.remove()}},{key:"nuke",value:function(){this.remove(),this.domElement.parentNode.removeChild(this.domElement)}},{key:"form",value:function(){if(arguments.length>0&&arguments[0]!==void 0&&arguments[0]||U.isUndefinedOrNullOrEmpty(this.parentForm)){var H=this._getParentForm();if(!U.isNull(H)&&H!==this.parentForm){var q=this._getFormAutoNumericChildren(this.parentForm);this.parentForm.dataset.anCount=q.length,this._hasFormHandlerFunction(H)?this._incrementParentFormCounter(H):(this._storeFormHandlerFunction(H),this._initializeFormCounterToOne(H))}this.parentForm=H}return this.parentForm}},{key:"_getFormAutoNumericChildren",value:function(H){var q=this,pe=Pe(H.elements),ne=this._getContenteditableElements(H);return U.arrayUnique(pe,ne).filter(function(Ce){return q.constructor.isManagedByAutoNumeric(Ce)})}},{key:"_getContenteditableElements",value:function(H){if(U.isUndefinedOrNullOrEmpty(H)||!H.hasAttribute("id"))return[];var q=Pe(H.querySelectorAll("[contenteditable=true]")),pe=Pe(document.querySelectorAll("*:not(input)[form=".concat(H.id,"][contenteditable=true]")));return U.arrayUnique(q,pe)}},{key:"_getParentForm",value:function(){if(!U.isUndefined(this.domElement.form))return this.domElement.form;if(this.domElement.tagName.toLowerCase()==="body")return null;var H,q=this.domElement;do{if(q=q.parentNode,U.isNull(q))return null;if((H=q.tagName?q.tagName.toLowerCase():"")==="body")break}while(H!=="form");return H==="form"?q:null}},{key:"formNumericString",value:function(){return this.constructor._serializeNumericString(this.form(),this.settings.serializeSpaces)}},{key:"formFormatted",value:function(){return this.constructor._serializeFormatted(this.form(),this.settings.serializeSpaces)}},{key:"formLocalized",value:function(){var H,q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return H=U.isNull(q)?this.settings.outputFormat:q,this.constructor._serializeLocalized(this.form(),this.settings.serializeSpaces,H)}},{key:"formArrayNumericString",value:function(){return this.constructor._serializeNumericStringArray(this.form(),this.settings.serializeSpaces)}},{key:"formArrayFormatted",value:function(){return this.constructor._serializeFormattedArray(this.form(),this.settings.serializeSpaces)}},{key:"formArrayLocalized",value:function(){var H,q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return H=U.isNull(q)?this.settings.outputFormat:q,this.constructor._serializeLocalizedArray(this.form(),this.settings.serializeSpaces,H)}},{key:"formJsonNumericString",value:function(){return JSON.stringify(this.formArrayNumericString())}},{key:"formJsonFormatted",value:function(){return JSON.stringify(this.formArrayFormatted())}},{key:"formJsonLocalized",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return JSON.stringify(this.formArrayLocalized(H))}},{key:"formUnformat",value:function(){return this.constructor._getChildANInputElement(this.form()).forEach(function(H){we.getAutoNumericElement(H).unformat()}),this}},{key:"formUnformatLocalized",value:function(){return this.constructor._getChildANInputElement(this.form()).forEach(function(H){we.getAutoNumericElement(H).unformatLocalized()}),this}},{key:"formReformat",value:function(){return this.constructor._getChildANInputElement(this.form()).forEach(function(H){we.getAutoNumericElement(H).reformat()}),this}},{key:"formSubmitNumericString",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return U.isNull(H)?(this.formUnformat(),this.form().submit(),this.formReformat()):U.isFunction(H)?H(this.formNumericString()):U.throwError("The given callback is not a function."),this}},{key:"formSubmitFormatted",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return U.isNull(H)?this.form().submit():U.isFunction(H)?H(this.formFormatted()):U.throwError("The given callback is not a function."),this}},{key:"formSubmitLocalized",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return U.isNull(q)?(this.formUnformatLocalized(),this.form().submit(),this.formReformat()):U.isFunction(q)?q(this.formLocalized(H)):U.throwError("The given callback is not a function."),this}},{key:"formSubmitArrayNumericString",value:function(H){return U.isFunction(H)?H(this.formArrayNumericString()):U.throwError("The given callback is not a function."),this}},{key:"formSubmitArrayFormatted",value:function(H){return U.isFunction(H)?H(this.formArrayFormatted()):U.throwError("The given callback is not a function."),this}},{key:"formSubmitArrayLocalized",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return U.isFunction(H)?H(this.formArrayLocalized(q)):U.throwError("The given callback is not a function."),this}},{key:"formSubmitJsonNumericString",value:function(H){return U.isFunction(H)?H(this.formJsonNumericString()):U.throwError("The given callback is not a function."),this}},{key:"formSubmitJsonFormatted",value:function(H){return U.isFunction(H)?H(this.formJsonFormatted()):U.throwError("The given callback is not a function."),this}},{key:"formSubmitJsonLocalized",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return U.isFunction(H)?H(this.formJsonLocalized(q)):U.throwError("The given callback is not a function."),this}},{key:"_createLocalList",value:function(){this.autoNumericLocalList=new Map,this._addToLocalList(this.domElement)}},{key:"_deleteLocalList",value:function(){delete this.autoNumericLocalList}},{key:"_setLocalList",value:function(H){this.autoNumericLocalList=H}},{key:"_getLocalList",value:function(){return this.autoNumericLocalList}},{key:"_hasLocalList",value:function(){return this.autoNumericLocalList instanceof Map&&this.autoNumericLocalList.size!==0}},{key:"_addToLocalList",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;U.isNull(q)&&(q=this),U.isUndefined(this.autoNumericLocalList)?U.throwError("The local list provided does not exists when trying to add an element. [".concat(this.autoNumericLocalList,"] given.")):this.autoNumericLocalList.set(H,q)}},{key:"_removeFromLocalList",value:function(H){U.isUndefined(this.autoNumericLocalList)?this.settings.createLocalList&&U.throwError("The local list provided does not exists when trying to remove an element. [".concat(this.autoNumericLocalList,"] given.")):this.autoNumericLocalList.delete(H)}},{key:"_mergeSettings",value:function(){for(var H=arguments.length,q=new Array(H),pe=0;pe<H;pe++)q[pe]=arguments[pe];Re.apply(void 0,[this.settings].concat(q))}},{key:"_cloneAndMergeSettings",value:function(){for(var H={},q=arguments.length,pe=new Array(q),ne=0;ne<q;ne++)pe[ne]=arguments[ne];return Re.apply(void 0,[H,this.settings].concat(pe)),H}},{key:"_updatePredefinedOptions",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return U.isNull(q)?this.update(H):(this._mergeSettings(H,q),this.update(this.settings)),this}},{key:"french",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this._updatePredefinedOptions(we.getPredefinedOptions().French,H),this}},{key:"northAmerican",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this._updatePredefinedOptions(we.getPredefinedOptions().NorthAmerican,H),this}},{key:"british",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this._updatePredefinedOptions(we.getPredefinedOptions().British,H),this}},{key:"swiss",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this._updatePredefinedOptions(we.getPredefinedOptions().Swiss,H),this}},{key:"japanese",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this._updatePredefinedOptions(we.getPredefinedOptions().Japanese,H),this}},{key:"spanish",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this._updatePredefinedOptions(we.getPredefinedOptions().Spanish,H),this}},{key:"chinese",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this._updatePredefinedOptions(we.getPredefinedOptions().Chinese,H),this}},{key:"brazilian",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this._updatePredefinedOptions(we.getPredefinedOptions().Brazilian,H),this}},{key:"_runCallbacksFoundInTheSettingsObject",value:function(){for(var H in this.settings)if(Object.prototype.hasOwnProperty.call(this.settings,H)){var q=this.settings[H];if(typeof q=="function")this.settings[H]=q(this,H);else{var pe="";H in this.domElement.dataset&&(pe=this.domElement.dataset[H]),pe=U.camelize(pe),typeof this.settings[pe]=="function"&&(this.settings[H]=pe(this,H))}}}},{key:"_setTrailingNegativeSignInfo",value:function(){this.isTrailingNegative=this.settings.currencySymbolPlacement===we.options.currencySymbolPlacement.prefix&&this.settings.negativePositiveSignPlacement===we.options.negativePositiveSignPlacement.suffix||this.settings.currencySymbolPlacement===we.options.currencySymbolPlacement.suffix&&(this.settings.negativePositiveSignPlacement===we.options.negativePositiveSignPlacement.left||this.settings.negativePositiveSignPlacement===we.options.negativePositiveSignPlacement.right)}},{key:"_modifyNegativeSignAndDecimalCharacterForRawValue",value:function(H){return this.settings.decimalCharacter!=="."&&(H=H.replace(this.settings.decimalCharacter,".")),this.settings.negativeSignCharacter!=="-"&&this.settings.isNegativeSignAllowed&&(H=H.replace(this.settings.negativeSignCharacter,"-")),H.match(/\d/)||(H+="0"),H}},{key:"_initialCaretPosition",value:function(H){U.isNull(this.settings.caretPositionOnFocus)&&this.settings.selectOnFocus===we.options.selectOnFocus.doNotSelect&&U.throwError("`_initialCaretPosition()` should never be called when the `caretPositionOnFocus` option is `null`.");var q=this.rawValue<0,pe=U.isZeroOrHasNoValue(H),ne=H.length,Ce=0,Se=0,Ye=!1,it=0;this.settings.caretPositionOnFocus!==we.options.caretPositionOnFocus.start&&(Ce=(H=(H=(H=H.replace(this.settings.negativeSignCharacter,"")).replace(this.settings.positiveSignCharacter,"")).replace(this.settings.currencySymbol,"")).length,Ye=U.contains(H,this.settings.decimalCharacter),this.settings.caretPositionOnFocus!==we.options.caretPositionOnFocus.decimalLeft&&this.settings.caretPositionOnFocus!==we.options.caretPositionOnFocus.decimalRight||(Ye?(Se=H.indexOf(this.settings.decimalCharacter),it=this.settings.decimalCharacter.length):(Se=Ce,it=0)));var he="";q?he=this.settings.negativeSignCharacter:this.settings.showPositiveSign&&!pe&&(he=this.settings.positiveSignCharacter);var De,qe=he.length,Ge=this.settings.currencySymbol.length;if(this.settings.currencySymbolPlacement===we.options.currencySymbolPlacement.prefix){if(this.settings.caretPositionOnFocus===we.options.caretPositionOnFocus.start)if(this.settings.negativePositiveSignPlacement!==we.options.negativePositiveSignPlacement.none&&(q||!q&&this.settings.showPositiveSign&&!pe))switch(this.settings.negativePositiveSignPlacement){case we.options.negativePositiveSignPlacement.prefix:case we.options.negativePositiveSignPlacement.left:case we.options.negativePositiveSignPlacement.right:De=qe+Ge;break;case we.options.negativePositiveSignPlacement.suffix:De=Ge}else De=Ge;else if(this.settings.caretPositionOnFocus===we.options.caretPositionOnFocus.end)if(this.settings.negativePositiveSignPlacement!==we.options.negativePositiveSignPlacement.none&&(q||!q&&this.settings.showPositiveSign&&!pe))switch(this.settings.negativePositiveSignPlacement){case we.options.negativePositiveSignPlacement.prefix:case we.options.negativePositiveSignPlacement.left:case we.options.negativePositiveSignPlacement.right:De=ne;break;case we.options.negativePositiveSignPlacement.suffix:De=Ge+Ce}else De=ne;else if(this.settings.caretPositionOnFocus===we.options.caretPositionOnFocus.decimalLeft)if(this.settings.negativePositiveSignPlacement!==we.options.negativePositiveSignPlacement.none&&(q||!q&&this.settings.showPositiveSign&&!pe))switch(this.settings.negativePositiveSignPlacement){case we.options.negativePositiveSignPlacement.prefix:case we.options.negativePositiveSignPlacement.left:case we.options.negativePositiveSignPlacement.right:De=qe+Ge+Se;break;case we.options.negativePositiveSignPlacement.suffix:De=Ge+Se}else De=Ge+Se;else if(this.settings.caretPositionOnFocus===we.options.caretPositionOnFocus.decimalRight)if(this.settings.negativePositiveSignPlacement!==we.options.negativePositiveSignPlacement.none&&(q||!q&&this.settings.showPositiveSign&&!pe))switch(this.settings.negativePositiveSignPlacement){case we.options.negativePositiveSignPlacement.prefix:case we.options.negativePositiveSignPlacement.left:case we.options.negativePositiveSignPlacement.right:De=qe+Ge+Se+it;break;case we.options.negativePositiveSignPlacement.suffix:De=Ge+Se+it}else De=Ge+Se+it}else if(this.settings.currencySymbolPlacement===we.options.currencySymbolPlacement.suffix){if(this.settings.caretPositionOnFocus===we.options.caretPositionOnFocus.start)if(this.settings.negativePositiveSignPlacement!==we.options.negativePositiveSignPlacement.none&&(q||!q&&this.settings.showPositiveSign&&!pe))switch(this.settings.negativePositiveSignPlacement){case we.options.negativePositiveSignPlacement.suffix:case we.options.negativePositiveSignPlacement.right:case we.options.negativePositiveSignPlacement.left:De=0;break;case we.options.negativePositiveSignPlacement.prefix:De=qe}else De=0;else if(this.settings.caretPositionOnFocus===we.options.caretPositionOnFocus.end)if(this.settings.negativePositiveSignPlacement!==we.options.negativePositiveSignPlacement.none&&(q||!q&&this.settings.showPositiveSign&&!pe))switch(this.settings.negativePositiveSignPlacement){case we.options.negativePositiveSignPlacement.suffix:case we.options.negativePositiveSignPlacement.right:case we.options.negativePositiveSignPlacement.left:De=Ce;break;case we.options.negativePositiveSignPlacement.prefix:De=qe+Ce}else De=Ce;else if(this.settings.caretPositionOnFocus===we.options.caretPositionOnFocus.decimalLeft)if(this.settings.negativePositiveSignPlacement!==we.options.negativePositiveSignPlacement.none&&(q||!q&&this.settings.showPositiveSign&&!pe))switch(this.settings.negativePositiveSignPlacement){case we.options.negativePositiveSignPlacement.suffix:case we.options.negativePositiveSignPlacement.right:case we.options.negativePositiveSignPlacement.left:De=Se;break;case we.options.negativePositiveSignPlacement.prefix:De=qe+Se}else De=Se;else if(this.settings.caretPositionOnFocus===we.options.caretPositionOnFocus.decimalRight)if(this.settings.negativePositiveSignPlacement!==we.options.negativePositiveSignPlacement.none&&(q||!q&&this.settings.showPositiveSign&&!pe))switch(this.settings.negativePositiveSignPlacement){case we.options.negativePositiveSignPlacement.suffix:case we.options.negativePositiveSignPlacement.right:case we.options.negativePositiveSignPlacement.left:De=Se+it;break;case we.options.negativePositiveSignPlacement.prefix:De=qe+Se+it}else De=Se+it}return De}},{key:"_triggerRangeEvents",value:function(H,q){H||this._triggerEvent(we.events.minRangeExceeded,this.domElement),q||this._triggerEvent(we.events.maxRangeExceeded,this.domElement)}},{key:"_setInvalidState",value:function(){this.isInputElement?U.setInvalidState(this.domElement):this._addCSSClass(this.settings.invalidClass),this._triggerEvent(we.events.invalidValue,this.domElement),this.validState=!1}},{key:"_setValidState",value:function(){this.isInputElement?U.setValidState(this.domElement):this._removeCSSClass(this.settings.invalidClass),this.validState||this._triggerEvent(we.events.correctedValue,this.domElement),this.validState=!0}},{key:"_setValidOrInvalidState",value:function(H){if(this.settings.overrideMinMaxLimits===we.options.overrideMinMaxLimits.invalid){var q=this.constructor._isMinimumRangeRespected(H,this.settings),pe=this.constructor._isMaximumRangeRespected(H,this.settings);q&&pe?this._setValidState():this._setInvalidState(),this._triggerRangeEvents(q,pe)}}},{key:"_keepAnOriginalSettingsCopy",value:function(){this.originalDigitGroupSeparator=this.settings.digitGroupSeparator,this.originalCurrencySymbol=this.settings.currencySymbol,this.originalSuffixText=this.settings.suffixText}},{key:"_trimLeadingAndTrailingZeros",value:function(H){if(H===""||H===null)return H;if(this.settings.leadingZero!==we.options.leadingZero.keep){if(Number(H)===0)return"0";H=H.replace(/^(-)?0+(?=\d)/g,"$1")}return U.contains(H,".")&&(H=H.replace(/(\.[0-9]*?)0+$/,"$1")),H=H.replace(/\.$/,"")}},{key:"_setPersistentStorageName",value:function(){this.settings.saveValueToSessionStorage&&(this.domElement.name===""||U.isUndefined(this.domElement.name)?this.rawValueStorageName="".concat(this.storageNamePrefix).concat(this.domElement.id):this.rawValueStorageName="".concat(this.storageNamePrefix).concat(decodeURIComponent(this.domElement.name)))}},{key:"_saveValueToPersistentStorage",value:function(){this.settings.saveValueToSessionStorage&&sessionStorage.setItem(this.rawValueStorageName,this.rawValue)}},{key:"_getValueFromPersistentStorage",value:function(){return this.settings.saveValueToSessionStorage?sessionStorage.getItem(this.rawValueStorageName):(U.warning("`_getValueFromPersistentStorage()` is called but `settings.saveValueToSessionStorage` is false. There must be an error that needs fixing.",this.settings.showWarnings),null)}},{key:"_removeValueFromPersistentStorage",value:function(){this.settings.saveValueToSessionStorage&&sessionStorage.removeItem(this.rawValueStorageName)}},{key:"_getDefaultValue",value:function(H){var q=H.getAttribute("value");return U.isNull(q)?"":q}},{key:"_onFocusInAndMouseEnter",value:function(H){if(this.isEditing=!1,!this.formulaMode&&this.settings.unformatOnHover&&H.type==="mouseenter"&&H.altKey)this.constructor._unformatAltHovered(this);else if(H.type==="focus"&&(this.isFocused=!0,this.rawValueOnFocus=this.rawValue),H.type==="focus"&&this.settings.unformatOnHover&&this.hoveredWithAlt&&this.constructor._reformatAltHovered(this),H.type==="focus"||H.type==="mouseenter"&&!this.isFocused){var q=null;this.settings.emptyInputBehavior===we.options.emptyInputBehavior.focus&&this.rawValue<0&&this.settings.negativeBracketsTypeOnBlur!==null&&this.settings.isNegativeSignAllowed&&(q=this.constructor._removeBrackets(U.getElementValue(this.domElement),this.settings));var pe=this._getRawValueToFormat(this.rawValue);if(pe!==""){var ne=this.constructor._roundFormattedValueShownOnFocusOrBlur(pe,this.settings,this.isFocused);this.settings.showOnlyNumbersOnFocus===we.options.showOnlyNumbersOnFocus.onlyNumbers?(this.settings.digitGroupSeparator="",this.settings.currencySymbol="",this.settings.suffixText="",q=ne.replace(".",this.settings.decimalCharacter)):q=U.isNull(ne)?"":this.constructor._addGroupSeparators(ne.replace(".",this.settings.decimalCharacter),this.settings,this.isFocused,pe)}U.isNull(q)?this.valueOnFocus="":this.valueOnFocus=q,this.lastVal=this.valueOnFocus;var Ce=this.constructor._isElementValueEmptyOrOnlyTheNegativeSign(this.valueOnFocus,this.settings),Se=this.constructor._orderValueCurrencySymbolAndSuffixText(this.valueOnFocus,this.settings,!0),Ye=Ce&&Se!==""&&this.settings.emptyInputBehavior===we.options.emptyInputBehavior.focus;Ye&&(q=Se),U.isNull(q)||this._setElementValue(q),Ye&&Se===this.settings.currencySymbol&&this.settings.currencySymbolPlacement===we.options.currencySymbolPlacement.suffix&&U.setElementSelection(H.target,0)}}},{key:"_onFocus",value:function(){this.settings.isCancellable&&this._saveCancellableValue()}},{key:"_onFocusIn",value:function(H){this.settings.selectOnFocus?this.select():U.isNull(this.settings.caretPositionOnFocus)||U.setElementSelection(H.target,this._initialCaretPosition(U.getElementValue(this.domElement)))}},{key:"_enterFormulaMode",value:function(){this.settings.formulaMode&&(this.formulaMode=!0,U.setElementValue(this.domElement,"="),U.setElementSelection(this.domElement,1))}},{key:"_exitFormulaMode",value:function(){var H,q=U.getElementValue(this.domElement);q=q.replace(/^\s*=/,"");try{var pe=new ge(q,this.settings.decimalCharacter);H=new te().evaluate(pe)}catch{return this._triggerEvent(we.events.invalidFormula,this.domElement,{formula:q,aNElement:this}),this.reformat(),void(this.formulaMode=!1)}this._triggerEvent(we.events.validFormula,this.domElement,{formula:q,result:H,aNElement:this}),this.set(H),this.formulaMode=!1}},{key:"_acceptNonPrintableKeysInFormulaMode",value:function(){return this.eventKey===F.keyName.Backspace||this.eventKey===F.keyName.Delete||this.eventKey===F.keyName.LeftArrow||this.eventKey===F.keyName.RightArrow||this.eventKey===F.keyName.Home||this.eventKey===F.keyName.End}},{key:"_onKeydown",value:function(H){if(this.formatted=!1,this.isEditing=!0,this.formulaMode||this.isFocused||!this.settings.unformatOnHover||!H.altKey||this.domElement!==U.getHoveredElement()){if(this._updateEventKeyInfo(H),this.keydownEventCounter+=1,this.keydownEventCounter===1&&(this.initialValueOnFirstKeydown=U.getElementValue(H.target),this.initialRawValueOnFirstKeydown=this.rawValue),this.formulaMode){if(this.eventKey===F.keyName.Esc)return this.formulaMode=!1,void this.reformat();if(this.eventKey===F.keyName.Enter)return void this._exitFormulaMode();if(this._acceptNonPrintableKeysInFormulaMode())return}else{if(this.eventKey===F.keyName.Equal)return void this._enterFormulaMode();if(this.settings.modifyValueOnUpDownArrow&&(this.eventKey===F.keyName.UpArrow||this.eventKey===F.keyName.DownArrow))return void this.upDownArrowAction(H)}if(this.domElement.readOnly||this.settings.readOnly||this.domElement.disabled)this.processed=!0;else{this.eventKey===F.keyName.Esc&&(H.preventDefault(),this.settings.isCancellable&&this.rawValue!==this.savedCancellableValue&&(this.set(this.savedCancellableValue),this._triggerEvent(we.events.native.input,H.target)),this.select());var q=U.getElementValue(H.target);if(this.eventKey===F.keyName.Enter&&this.rawValue!==this.rawValueOnFocus&&(this._triggerEvent(we.events.native.change,H.target),this.valueOnFocus=q,this.rawValueOnFocus=this.rawValue,this.settings.isCancellable&&this._saveCancellableValue()),this._updateInternalProperties(H),this._processNonPrintableKeysAndShortcuts(H))this.processed=!0;else if(this.eventKey===F.keyName.Backspace||this.eventKey===F.keyName.Delete){var pe=this._processCharacterDeletion(H);if(this.processed=!0,!pe)return void H.preventDefault();this._formatValue(H),(q=U.getElementValue(H.target))!==this.lastVal&&this.throwInput&&(this._triggerEvent(we.events.native.input,H.target),H.preventDefault()),this.lastVal=q,this.throwInput=!0}}}else this.constructor._unformatAltHovered(this)}},{key:"_onKeypress",value:function(H){if(this.formulaMode){if(this._acceptNonPrintableKeysInFormulaMode()||this.settings.formulaChars.test(this.eventKey))return;H.preventDefault()}else if(this.eventKey!==F.keyName.Insert){var q=this.processed;if(this._updateInternalProperties(H),!this._processNonPrintableKeysAndShortcuts(H))if(q)H.preventDefault();else{if(this._processCharacterInsertion()){this._formatValue(H);var pe=U.getElementValue(H.target);if(pe!==this.lastVal&&this.throwInput)this._triggerEvent(we.events.native.input,H.target),H.preventDefault();else{if((this.eventKey===this.settings.decimalCharacter||this.eventKey===this.settings.decimalCharacterAlternative)&&U.getElementSelection(H.target).start===U.getElementSelection(H.target).end&&U.getElementSelection(H.target).start===pe.indexOf(this.settings.decimalCharacter)){var ne=U.getElementSelection(H.target).start+1;U.setElementSelection(H.target,ne)}H.preventDefault()}return this.lastVal=U.getElementValue(H.target),this.throwInput=!0,void this._setValidOrInvalidState(this.rawValue)}H.preventDefault()}}}},{key:"_onKeyup",value:function(H){if(this.isEditing=!1,this.keydownEventCounter=0,!this.formulaMode)if(this.settings.isCancellable&&this.eventKey===F.keyName.Esc)H.preventDefault();else{if(this._updateEventKeyInfo(H),this.eventKey===F.keyName.Z||this.eventKey===F.keyName.z){if(H.ctrlKey&&H.shiftKey)return H.preventDefault(),this._historyTableRedo(),this._triggerEvent(we.events.native.input,H.target),void(this.onGoingRedo=!0);if(H.ctrlKey&&!H.shiftKey){if(!this.onGoingRedo)return H.preventDefault(),this._historyTableUndo(),void this._triggerEvent(we.events.native.input,H.target);this.onGoingRedo=!1}}else if((this.eventKey===F.keyName.Y||this.eventKey===F.keyName.y)&&H.ctrlKey)return H.preventDefault(),this._historyTableRedo(),this._triggerEvent(we.events.native.input,H.target),void(this.onGoingRedo=!0);if(this.onGoingRedo&&(H.ctrlKey||H.shiftKey)&&(this.onGoingRedo=!1),(H.ctrlKey||H.metaKey)&&(this.eventKey===F.keyName.X||this.eventKey===F.keyName.x)){var q=U.getElementSelection(this.domElement).start,pe=this.constructor._toNumericValue(U.getElementValue(H.target),this.settings);this.set(pe),this._setCaretPosition(q)}if(this.eventKey===F.keyName.Alt&&this.settings.unformatOnHover&&this.hoveredWithAlt)this.constructor._reformatAltHovered(this);else if(!H.ctrlKey&&!H.metaKey||this.eventKey!==F.keyName.Backspace&&this.eventKey!==F.keyName.Delete){this._updateInternalProperties(H);var ne=this._processNonPrintableKeysAndShortcuts(H);delete this.valuePartsBeforePaste;var Ce=U.getElementValue(H.target);if(!(ne||Ce===""&&this.initialValueOnFirstKeydown==="")&&(Ce===this.settings.currencySymbol?this.settings.currencySymbolPlacement===we.options.currencySymbolPlacement.suffix?U.setElementSelection(H.target,0):U.setElementSelection(H.target,this.settings.currencySymbol.length):this.eventKey===F.keyName.Tab&&U.setElementSelection(H.target,0,Ce.length),(Ce===this.settings.suffixText||this.rawValue===""&&this.settings.currencySymbol!==""&&this.settings.suffixText!=="")&&U.setElementSelection(H.target,0),this.settings.decimalPlacesShownOnFocus!==null&&this._saveValueToPersistentStorage(),this.formatted||this._formatValue(H),this._setValidOrInvalidState(this.rawValue),this._saveRawValueForAndroid(),Ce!==this.initialValueOnFirstKeydown&&this._triggerEvent(we.events.formatted,H.target,{oldValue:this.initialValueOnFirstKeydown,newValue:Ce,oldRawValue:this.initialRawValueOnFirstKeydown,newRawValue:this.rawValue,isPristine:this.isPristine(!1),error:null,aNElement:this}),this.historyTable.length>1)){var Se=U.getElementSelection(this.domElement);this.selectionStart=Se.start,this.selectionEnd=Se.end,this.historyTable[this.historyTableIndex].start=this.selectionStart,this.historyTable[this.historyTableIndex].end=this.selectionEnd}}else{var Ye=U.getElementValue(H.target);this._setRawValue(this._formatOrUnformatOther(!1,Ye))}}}},{key:"_saveRawValueForAndroid",value:function(){if(this.eventKey===F.keyName.AndroidDefault){var H=this.constructor._stripAllNonNumberCharactersExceptCustomDecimalChar(this.getFormatted(),this.settings,!0,this.isFocused);H=this.constructor._convertToNumericString(H,this.settings),this._setRawValue(H)}}},{key:"_onFocusOutAndMouseLeave",value:function(H){if(this.isEditing=!1,H.type!=="mouseleave"||!this.formulaMode){if(this.settings.unformatOnHover&&H.type==="mouseleave"&&this.hoveredWithAlt)this.constructor._reformatAltHovered(this);else if(H.type==="mouseleave"&&!this.isFocused||H.type==="blur"){H.type==="blur"&&this.formulaMode&&this._exitFormulaMode(),this._saveValueToPersistentStorage(),this.settings.showOnlyNumbersOnFocus===we.options.showOnlyNumbersOnFocus.onlyNumbers&&(this.settings.digitGroupSeparator=this.originalDigitGroupSeparator,this.settings.currencySymbol=this.originalCurrencySymbol,this.settings.suffixText=this.originalSuffixText);var q=this._getRawValueToFormat(this.rawValue),pe=U.isNull(q),ne=be(this.constructor._checkIfInRangeWithOverrideOption(q,this.settings),2),Ce=ne[0],Se=ne[1],Ye=!1;if(q===""||pe||(this._triggerRangeEvents(Ce,Se),this.settings.valuesToStrings&&this._checkValuesToStrings(q)&&(this._setElementValue(this.settings.valuesToStrings[q]),Ye=!0)),!Ye){var it;if(it=pe||q===""?q:String(q),q===""||pe){if(q==="")switch(this.settings.emptyInputBehavior){case we.options.emptyInputBehavior.zero:this._setRawValue("0"),it=this.constructor._roundValue("0",this.settings,0);break;case we.options.emptyInputBehavior.min:this._setRawValue(this.settings.minimumValue),it=this.constructor._roundFormattedValueShownOnFocusOrBlur(this.settings.minimumValue,this.settings,this.isFocused);break;case we.options.emptyInputBehavior.max:this._setRawValue(this.settings.maximumValue),it=this.constructor._roundFormattedValueShownOnFocusOrBlur(this.settings.maximumValue,this.settings,this.isFocused);break;default:U.isNumber(this.settings.emptyInputBehavior)&&(this._setRawValue(this.settings.emptyInputBehavior),it=this.constructor._roundFormattedValueShownOnFocusOrBlur(this.settings.emptyInputBehavior,this.settings,this.isFocused))}}else Ce&&Se&&!this.constructor._isElementValueEmptyOrOnlyTheNegativeSign(q,this.settings)?(it=this._modifyNegativeSignAndDecimalCharacterForRawValue(it),this.settings.divisorWhenUnfocused&&!U.isNull(it)&&(it=(it/=this.settings.divisorWhenUnfocused).toString()),it=this.constructor._roundFormattedValueShownOnBlur(it,this.settings),it=this.constructor._modifyNegativeSignAndDecimalCharacterForFormattedValue(it,this.settings)):this._triggerRangeEvents(Ce,Se);var he=this.constructor._orderValueCurrencySymbolAndSuffixText(it,this.settings,!1);this.constructor._isElementValueEmptyOrOnlyTheNegativeSign(it,this.settings)||pe&&this.settings.emptyInputBehavior===we.options.emptyInputBehavior.null||(he=this.constructor._addGroupSeparators(it,this.settings,!1,q)),he===q&&q!==""&&this.settings.allowDecimalPadding!==we.options.allowDecimalPadding.never&&this.settings.allowDecimalPadding!==we.options.allowDecimalPadding.floats||(this.settings.symbolWhenUnfocused&&q!==""&&q!==null&&(he="".concat(he).concat(this.settings.symbolWhenUnfocused)),this._setElementValue(he))}this._setValidOrInvalidState(this.rawValue),H.type==="blur"&&this._onBlur(H)}}}},{key:"_onPaste",value:function(H){if(H.preventDefault(),!(this.settings.readOnly||this.domElement.readOnly||this.domElement.disabled)){var q,pe;H.clipboardData&&H.clipboardData.getData?q=H.clipboardData.getData("text/plain"):U.throwError("Unable to retrieve the pasted value. Please use a modern browser (i.e. Firefox or Chromium)."),pe=H.target.tagName?H.target:H.explicitOriginalTarget;var ne=U.getElementValue(pe),Ce=pe.selectionStart||0,Se=pe.selectionEnd||0,Ye=Se-Ce;if(Ye===ne.length){var it=this._preparePastedText(q),he=U.arabicToLatinNumbers(it,!1,!1,!1);return he==="."||he===""||he!=="."&&!U.isNumber(he)?(this.formatted=!0,void(this.settings.onInvalidPaste===we.options.onInvalidPaste.error&&U.throwError("The pasted value '".concat(q,"' is not a valid paste content.")))):(this.set(he),this.formatted=!0,void this._triggerEvent(we.events.native.input,pe))}var De=U.isNegativeStrict(q,this.settings.negativeSignCharacter);De&&(q=q.slice(1,q.length));var qe,Ge,ke=this._preparePastedText(q);if((qe=ke==="."?".":U.arabicToLatinNumbers(ke,!1,!1,!1))!=="."&&(!U.isNumber(qe)||qe===""))return this.formatted=!0,void(this.settings.onInvalidPaste===we.options.onInvalidPaste.error&&U.throwError("The pasted value '".concat(q,"' is not a valid paste content.")));var Ue,Je,st=U.isNegativeStrict(this.getNumericString(),this.settings.negativeSignCharacter);De&&!st?(st=!0,Ue=!0):Ue=!1;var ct=ne.slice(0,Ce),ft=ne.slice(Se,ne.length);Je=Ce!==Se?this._preparePastedText(ct+ft):this._preparePastedText(ne),st&&(Je=U.setRawNegativeSign(Je)),Ge=U.convertCharacterCountToIndexPosition(U.countNumberCharactersOnTheCaretLeftSide(ne,Ce,this.settings.decimalCharacter)),Ue&&Ge++;var pt=Je.slice(0,Ge),ht=Je.slice(Ge,Je.length),gt=!1;qe==="."&&(U.contains(pt,".")&&(gt=!0,pt=pt.replace(".","")),ht=ht.replace(".",""));var _t=!1;switch(pt===""&&ht==="-"&&(pt="-",ht="",_t=!0),this.settings.onInvalidPaste){case we.options.onInvalidPaste.truncate:case we.options.onInvalidPaste.replace:for(var vt=U.parseStr(this.settings.minimumValue),It=U.parseStr(this.settings.maximumValue),wt=Je,yt=0,xt=pt;yt<qe.length&&(Je=(xt+=qe[yt])+ht,this.constructor._checkIfInRange(Je,vt,It));)wt=Je,yt++;if(Ge+=yt,_t&&Ge++,this.settings.onInvalidPaste===we.options.onInvalidPaste.truncate){Je=wt,gt&&Ge--;break}for(var Et=Ge,St=wt.length;yt<qe.length&&Et<St;)if(wt[Et]!=="."){if(Je=U.replaceCharAt(wt,Et,qe[yt]),!this.constructor._checkIfInRange(Je,vt,It))break;wt=Je,yt++,Et++}else Et++;Ge=Et,gt&&Ge--,Je=wt;break;case we.options.onInvalidPaste.error:case we.options.onInvalidPaste.ignore:case we.options.onInvalidPaste.clamp:default:if(Je="".concat(pt).concat(qe).concat(ht),Ce===Se)Ge=U.convertCharacterCountToIndexPosition(U.countNumberCharactersOnTheCaretLeftSide(ne,Ce,this.settings.decimalCharacter))+qe.length;else if(ht==="")Ge=U.convertCharacterCountToIndexPosition(U.countNumberCharactersOnTheCaretLeftSide(ne,Ce,this.settings.decimalCharacter))+qe.length,_t&&Ge++;else{var Pt=U.convertCharacterCountToIndexPosition(U.countNumberCharactersOnTheCaretLeftSide(ne,Se,this.settings.decimalCharacter)),Tt=U.getElementValue(pe).slice(Ce,Se);Ge=Pt-Ye+U.countCharInText(this.settings.digitGroupSeparator,Tt)+qe.length}Ue&&Ge++,gt&&Ge--}if(U.isNumber(Je)&&Je!==""){var At=!1,Rt=!1;try{this.set(Je),At=!0}catch{var kt;switch(this.settings.onInvalidPaste){case we.options.onInvalidPaste.clamp:kt=U.clampToRangeLimits(Je,this.settings);try{this.set(kt)}catch{U.throwError("Fatal error: Unable to set the clamped value '".concat(kt,"'."))}Rt=!0,At=!0,Je=kt;break;case we.options.onInvalidPaste.error:case we.options.onInvalidPaste.truncate:case we.options.onInvalidPaste.replace:U.throwError("The pasted value '".concat(q,"' results in a value '").concat(Je,"' that is outside of the minimum [").concat(this.settings.minimumValue,"] and maximum [").concat(this.settings.maximumValue,"] value range."));case we.options.onInvalidPaste.ignore:default:return}}var Mt,Ot=U.getElementValue(pe);if(At)switch(this.settings.onInvalidPaste){case we.options.onInvalidPaste.clamp:if(Rt){this.settings.currencySymbolPlacement===we.options.currencySymbolPlacement.suffix?U.setElementSelection(pe,Ot.length-this.settings.currencySymbol.length):U.setElementSelection(pe,Ot.length);break}case we.options.onInvalidPaste.error:case we.options.onInvalidPaste.ignore:case we.options.onInvalidPaste.truncate:case we.options.onInvalidPaste.replace:default:Mt=U.findCaretPositionInFormattedNumber(Je,Ge,Ot,this.settings.decimalCharacter),U.setElementSelection(pe,Mt)}At&&ne!==Ot&&this._triggerEvent(we.events.native.input,pe)}else this.settings.onInvalidPaste===we.options.onInvalidPaste.error&&U.throwError("The pasted value '".concat(q,"' would result into an invalid content '").concat(Je,"'."))}}},{key:"_onBlur",value:function(H){this.isFocused=!1,this.isEditing=!1,U.trimPaddedZerosFromDecimalPlaces(this.rawValue)!==U.trimPaddedZerosFromDecimalPlaces(this.rawValueOnFocus)&&this._triggerEvent(we.events.native.change,H.target),this.rawValueOnFocus=void 0}},{key:"_wheelAndUpDownActions",value:function(H,q,pe,ne){var Ce,Se=H.target.selectionStart||0,Ye=H.target.selectionEnd||0,it=this.rawValue;if(Ce=+(Ce=U.isUndefinedOrNullOrEmpty(it)?this.settings.minimumValue>0||this.settings.maximumValue<0?q?this.settings.minimumValue:this.settings.maximumValue:0:it),U.isNumber(ne)){var he=+ne;q?Ce+=he:pe&&(Ce-=he)}else q?Ce=U.addAndRoundToNearestAuto(Ce,this.settings.decimalPlacesRawValue):pe&&(Ce=U.subtractAndRoundToNearestAuto(Ce,this.settings.decimalPlacesRawValue));(Ce=U.clampToRangeLimits(Ce,this.settings))!==+it&&(this.set(Ce),this._triggerEvent(we.events.native.input,H.target)),H.preventDefault(),this._setSelection(Se,Ye)}},{key:"upDownArrowAction",value:function(H){if(!(this.formulaMode||this.settings.readOnly||this.domElement.readOnly||this.domElement.disabled)){var q=!1,pe=!1;this.eventKey===F.keyName.UpArrow?q=!0:this.eventKey===F.keyName.DownArrow?pe=!0:U.throwError("Something has gone wrong since neither an Up or Down arrow key is detected, but the function was still called!"),this._wheelAndUpDownActions(H,q,pe,this.settings.upDownStep)}}},{key:"_onWheel",value:function(H){this.formulaMode||this.settings.readOnly||this.domElement.readOnly||this.domElement.disabled||this.settings.modifyValueOnWheel&&(this.settings.wheelOn===we.options.wheelOn.focus?this.isFocused?H.shiftKey||this.wheelAction(H):H.shiftKey&&this.wheelAction(H):this.settings.wheelOn===we.options.wheelOn.hover?H.shiftKey?(H.preventDefault(),window.scrollBy(0,U.isNegativeStrict(String(H.deltaY))?-50:50)):this.wheelAction(H):U.throwError("Unknown `wheelOn` option."))}},{key:"wheelAction",value:function(H){this.isWheelEvent=!0;var q=!1,pe=!1,ne=!1;U.isWheelUpEvent(H)?q=!0:U.isWheelDownEvent(H)?pe=!0:U.isWheelEventWithZeroDeltaY(H)?ne=!0:U.throwError("The event is not a 'wheel' event."),ne||this._wheelAndUpDownActions(H,q,pe,this.settings.wheelStep),this.isWheelEvent=!1}},{key:"_onDrop",value:function(H){if(!this.formulaMode){this.isDropEvent=!0,H.preventDefault();var q=H.dataTransfer.getData("text/plain"),pe=this.unformatOther(q),ne=this.rawValue;this.set(pe),this.isDropEvent=!1;var Ce=this.constructor._toNumericValue(pe,this.settings);isNaN(Number(Ce))||U.trimPaddedZerosFromDecimalPlaces(ne)!==U.trimPaddedZerosFromDecimalPlaces(Ce)&&this._triggerEvent(we.events.native.change,this.domElement)}}},{key:"_onFormSubmit",value:function(){var H=this;return this._getFormAutoNumericChildren(this.parentForm).map(function(q){return H.constructor.getAutoNumericElement(q)}).forEach(function(q){return q._unformatOnSubmit()}),!0}},{key:"_onFormReset",value:function(){var H=this;this._getFormAutoNumericChildren(this.parentForm).map(function(q){return H.constructor.getAutoNumericElement(q)}).forEach(function(q){var pe=H._getDefaultValue(q.node());setTimeout(function(){return q.set(pe)},0)})}},{key:"_unformatOnSubmit",value:function(){this.settings.unformatOnSubmit&&this._setElementValue(this.rawValue)}},{key:"_onKeydownGlobal",value:function(H){if(U.character(H)===F.keyName.Alt){var q=U.getHoveredElement();if(we.isManagedByAutoNumeric(q)){var pe=we.getAutoNumericElement(q);!pe.formulaMode&&pe.settings.unformatOnHover&&this.constructor._unformatAltHovered(pe)}}}},{key:"_onKeyupGlobal",value:function(H){if(U.character(H)===F.keyName.Alt){var q=U.getHoveredElement();if(we.isManagedByAutoNumeric(q)){var pe=we.getAutoNumericElement(q);if(pe.formulaMode||!pe.settings.unformatOnHover)return;this.constructor._reformatAltHovered(pe)}}}},{key:"_isElementTagSupported",value:function(){return U.isElement(this.domElement)||U.throwError("The DOM element is not valid, ".concat(this.domElement," given.")),U.isInArray(this.domElement.tagName.toLowerCase(),this.allowedTagList)}},{key:"_isInputElement",value:function(){return this.domElement.tagName.toLowerCase()==="input"}},{key:"_isInputTypeSupported",value:function(){return this.domElement.type==="text"||this.domElement.type==="hidden"||this.domElement.type==="tel"||U.isUndefinedOrNullOrEmpty(this.domElement.type)}},{key:"_checkElement",value:function(){var H=this.domElement.tagName.toLowerCase();this._isElementTagSupported()||U.throwError("The <".concat(H,"> tag is not supported by autoNumeric")),this._isInputElement()?(this._isInputTypeSupported()||U.throwError('The input type "'.concat(this.domElement.type,'" is not supported by autoNumeric')),this.isInputElement=!0):(this.isInputElement=!1,this.isContentEditable=this._isContentEditable(this.domElement))}},{key:"_isContentEditable",value:function(H){return H.hasAttribute("contenteditable")&&H.getAttribute("contenteditable")==="true"}},{key:"_formatDefaultValueOnPageLoad",value:function(){var H,q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,pe=!0;if(U.isNull(q)?(H=U.getElementValue(this.domElement).trim(),this.domElement.setAttribute("value",H)):H=q,this.isInputElement||this.isContentEditable){var ne=this.constructor._toNumericValue(H,this.settings);if(this.domElement.hasAttribute("value")&&this.domElement.getAttribute("value")!==""){if(this.settings.defaultValueOverride!==null&&this.settings.defaultValueOverride.toString()!==H||this.settings.defaultValueOverride===null&&H!==""&&H!==this.domElement.getAttribute("value")||H!==""&&this.domElement.getAttribute("type")==="hidden"&&!U.isNumber(ne)){if(this.settings.saveValueToSessionStorage&&(this.settings.decimalPlacesShownOnFocus!==null||this.settings.divisorWhenUnfocused)&&this._setRawValue(this._getValueFromPersistentStorage()),!this.settings.saveValueToSessionStorage){var Ce=this.constructor._removeBrackets(H,this.settings);(this.settings.negativePositiveSignPlacement===we.options.negativePositiveSignPlacement.suffix||this.settings.negativePositiveSignPlacement!==we.options.negativePositiveSignPlacement.prefix&&this.settings.currencySymbolPlacement===we.options.currencySymbolPlacement.suffix)&&this.settings.negativeSignCharacter!==""&&U.isNegative(H,this.settings.negativeSignCharacter)?this._setRawValue("-".concat(this.constructor._stripAllNonNumberCharacters(Ce,this.settings,!0,this.isFocused))):this._setRawValue(this.constructor._stripAllNonNumberCharacters(Ce,this.settings,!0,this.isFocused))}pe=!1}}else isNaN(Number(ne))||ne===1/0?U.throwError("The value [".concat(H,"] used in the input is not a valid value autoNumeric can work with.")):(this.set(ne),pe=!1);if(H==="")switch(this.settings.emptyInputBehavior){case we.options.emptyInputBehavior.focus:case we.options.emptyInputBehavior.press:break;case we.options.emptyInputBehavior.always:this._setElementValue(this.settings.currencySymbol);break;case we.options.emptyInputBehavior.min:this.set(this.settings.minimumValue);break;case we.options.emptyInputBehavior.max:this.set(this.settings.maximumValue);break;case we.options.emptyInputBehavior.zero:this.set("0");break;case we.options.emptyInputBehavior.null:this.set(null);break;default:this.set(this.settings.emptyInputBehavior)}else pe&&H===this.domElement.getAttribute("value")&&this.set(H)}else this.settings.defaultValueOverride!==null&&this.settings.defaultValueOverride!==H||this.set(H)}},{key:"_calculateVMinAndVMaxIntegerSizes",value:function(){var H=be(this.settings.maximumValue.toString().split("."),1)[0],q=be(this.settings.minimumValue||this.settings.minimumValue===0?this.settings.minimumValue.toString().split("."):[],1)[0];H=H.replace(this.settings.negativeSignCharacter,""),q=q.replace(this.settings.negativeSignCharacter,""),this.settings.mIntPos=Math.max(H.length,1),this.settings.mIntNeg=Math.max(q.length,1)}},{key:"_calculateValuesToStringsKeys",value:function(){this.settings.valuesToStrings?this.valuesToStringsKeys=Object.keys(this.settings.valuesToStrings):this.valuesToStringsKeys=[]}},{key:"_transformOptionsValuesToDefaultTypes",value:function(){for(var H in this.settings)if(Object.prototype.hasOwnProperty.call(this.settings,H)){var q=this.settings[H];q!=="true"&&q!=="false"||(this.settings[H]=q==="true"),typeof q=="number"&&(this.settings[H]=q.toString())}}},{key:"_setSettings",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0&&arguments[1];!q&&U.isNull(H)||this.constructor._convertOldOptionsToNewOnes(H),q?("decimalPlacesRawValue"in H&&(this.settings.originalDecimalPlacesRawValue=H.decimalPlacesRawValue),"decimalPlaces"in H&&(this.settings.originalDecimalPlaces=H.decimalPlaces),this.constructor._calculateDecimalPlacesOnUpdate(H,this.settings),this._mergeSettings(H)):(this.settings={},this._mergeSettings(this.constructor.getDefaultConfig(),this.domElement.dataset,H,{rawValue:this.defaultRawValue}),this.caretFix=!1,this.throwInput=!0,this.allowedTagList=F.allowedTagList,this.runOnce=!1,this.hoveredWithAlt=!1),this._transformOptionsValuesToDefaultTypes(),this._runCallbacksFoundInTheSettingsObject(),this.constructor._correctNegativePositiveSignPlacementOption(this.settings),this.constructor._correctCaretPositionOnFocusAndSelectOnFocusOptions(this.settings),this.constructor._setNegativePositiveSignPermissions(this.settings),q||(U.isNull(H)||!H.decimalPlaces?this.settings.originalDecimalPlaces=null:this.settings.originalDecimalPlaces=H.decimalPlaces,this.settings.originalDecimalPlacesRawValue=this.settings.decimalPlacesRawValue,this.constructor._calculateDecimalPlacesOnInit(this.settings)),this._calculateVMinAndVMaxIntegerSizes(),this._setTrailingNegativeSignInfo(),this.regex={},this.constructor._cachesUsualRegularExpressions(this.settings,this.regex),this.constructor._setBrackets(this.settings),this._calculateValuesToStringsKeys(),U.isEmptyObj(this.settings)&&U.throwError("Unable to set the settings, those are invalid ; an empty object was given."),this.constructor.validate(this.settings,!1,H),this._keepAnOriginalSettingsCopy()}},{key:"_preparePastedText",value:function(H){return this.constructor._stripAllNonNumberCharacters(H,this.settings,!0,this.isFocused)}},{key:"_updateInternalProperties",value:function(){this.selection=U.getElementSelection(this.domElement),this.processed=!1}},{key:"_updateEventKeyInfo",value:function(H){this.eventKey=U.character(H)}},{key:"_saveCancellableValue",value:function(){this.savedCancellableValue=this.rawValue}},{key:"_setSelection",value:function(H,q){H=Math.max(H,0),q=Math.min(q,U.getElementValue(this.domElement).length),this.selection={start:H,end:q,length:q-H},U.setElementSelection(this.domElement,H,q)}},{key:"_setCaretPosition",value:function(H){this._setSelection(H,H)}},{key:"_getLeftAndRightPartAroundTheSelection",value:function(){var H=U.getElementValue(this.domElement);return[H.substring(0,this.selection.start),H.substring(this.selection.end,H.length)]}},{key:"_getUnformattedLeftAndRightPartAroundTheSelection",value:function(){var H=be(this._getLeftAndRightPartAroundTheSelection(),2),q=H[0],pe=H[1];if(q===""&&pe==="")return["",""];var ne=!0;return this.eventKey!==F.keyName.Hyphen&&this.eventKey!==F.keyName.Minus||Number(q)!==0||(ne=!1),this.isTrailingNegative&&(U.isNegative(pe,this.settings.negativeSignCharacter)&&!U.isNegative(q,this.settings.negativeSignCharacter)||pe===""&&U.isNegative(q,this.settings.negativeSignCharacter,!0))&&(q=q.replace(this.settings.negativeSignCharacter,""),pe=pe.replace(this.settings.negativeSignCharacter,""),q=q.replace("-",""),pe=pe.replace("-",""),q="-".concat(q)),[q=we._stripAllNonNumberCharactersExceptCustomDecimalChar(q,this.settings,ne,this.isFocused),pe=we._stripAllNonNumberCharactersExceptCustomDecimalChar(pe,this.settings,!1,this.isFocused)]}},{key:"_normalizeParts",value:function(H,q){var pe=!0;this.eventKey!==F.keyName.Hyphen&&this.eventKey!==F.keyName.Minus||Number(H)!==0||(pe=!1),this.isTrailingNegative&&U.isNegative(q,this.settings.negativeSignCharacter)&&!U.isNegative(H,this.settings.negativeSignCharacter)&&(H="-".concat(H),q=q.replace(this.settings.negativeSignCharacter,"")),H=we._stripAllNonNumberCharactersExceptCustomDecimalChar(H,this.settings,pe,this.isFocused),q=we._stripAllNonNumberCharactersExceptCustomDecimalChar(q,this.settings,!1,this.isFocused),this.settings.leadingZero!==we.options.leadingZero.deny||this.eventKey!==F.keyName.num0&&this.eventKey!==F.keyName.numpad0||Number(H)!==0||U.contains(H,this.settings.decimalCharacter)||q===""||(H=H.substring(0,H.length-1));var ne=H+q;if(this.settings.decimalCharacter){var Ce=ne.match(new RegExp("^".concat(this.regex.aNegRegAutoStrip,"\\").concat(this.settings.decimalCharacter)));Ce&&(ne=(H=H.replace(Ce[1],Ce[1]+"0"))+q)}return[H,q,ne]}},{key:"_setValueParts",value:function(H,q){var pe=arguments.length>2&&arguments[2]!==void 0&&arguments[2],ne=be(this._normalizeParts(H,q),3),Ce=ne[0],Se=ne[1],Ye=ne[2],it=be(we._checkIfInRangeWithOverrideOption(Ye,this.settings),2),he=it[0],De=it[1];if(he&&De){var qe=we._truncateDecimalPlaces(Ye,this.settings,pe,this.settings.decimalPlacesRawValue).replace(this.settings.decimalCharacter,".");if(qe===""||qe===this.settings.negativeSignCharacter){var Ge;switch(this.settings.emptyInputBehavior){case we.options.emptyInputBehavior.focus:case we.options.emptyInputBehavior.press:case we.options.emptyInputBehavior.always:Ge="";break;case we.options.emptyInputBehavior.min:Ge=this.settings.minimumValue;break;case we.options.emptyInputBehavior.max:Ge=this.settings.maximumValue;break;case we.options.emptyInputBehavior.zero:Ge="0";break;case we.options.emptyInputBehavior.null:Ge=null;break;default:Ge=this.settings.emptyInputBehavior}this._setRawValue(Ge)}else this._setRawValue(this._trimLeadingAndTrailingZeros(qe));var ke=we._truncateDecimalPlaces(Ye,this.settings,pe,this.settings.decimalPlacesShownOnFocus),Ue=Ce.length;return Ue>ke.length&&(Ue=ke.length),Ue===1&&Ce==="0"&&this.settings.leadingZero===we.options.leadingZero.deny&&(Ue=Se===""||Ce==="0"&&Se!==""?1:0),this._setElementValue(ke,!1),this._setCaretPosition(Ue),!0}return this._triggerRangeEvents(he,De),!1}},{key:"_getSignPosition",value:function(){var H;if(this.settings.currencySymbol){var q=this.settings.currencySymbol.length,pe=U.getElementValue(this.domElement);if(this.settings.currencySymbolPlacement===we.options.currencySymbolPlacement.prefix)H=this.settings.negativeSignCharacter&&pe&&pe.charAt(0)===this.settings.negativeSignCharacter?[1,q+1]:[0,q];else{var ne=pe.length;H=[ne-q,ne]}}else H=[1e3,-1];return H}},{key:"_expandSelectionOnSign",value:function(){var H=be(this._getSignPosition(),2),q=H[0],pe=H[1],ne=this.selection;ne.start<pe&&ne.end>q&&((ne.start<q||ne.end>pe)&&U.getElementValue(this.domElement).substring(Math.max(ne.start,q),Math.min(ne.end,pe)).match(/^\s*$/)?ne.start<q?this._setSelection(ne.start,q):this._setSelection(pe,ne.end):this._setSelection(Math.min(ne.start,q),Math.max(ne.end,pe)))}},{key:"_checkPaste",value:function(){if(!this.formatted&&!U.isUndefined(this.valuePartsBeforePaste)){var H=this.valuePartsBeforePaste,q=be(this._getLeftAndRightPartAroundTheSelection(),2),pe=q[0],ne=q[1];delete this.valuePartsBeforePaste;var Ce=pe.substr(0,H[0].length)+we._stripAllNonNumberCharactersExceptCustomDecimalChar(pe.substr(H[0].length),this.settings,!0,this.isFocused);this._setValueParts(Ce,ne,!0)||(this._setElementValue(H.join(""),!1),this._setCaretPosition(H[0].length))}}},{key:"_processNonPrintableKeysAndShortcuts",value:function(H){if((H.ctrlKey||H.metaKey)&&H.type==="keyup"&&!U.isUndefined(this.valuePartsBeforePaste)||H.shiftKey&&this.eventKey===F.keyName.Insert)return this._checkPaste(),!1;if(this.constructor._shouldSkipEventKey(this.eventKey))return!0;if((H.ctrlKey||H.metaKey)&&this.eventKey===F.keyName.a)return this.settings.selectNumberOnly&&(H.preventDefault(),this.selectNumber()),!0;if((H.ctrlKey||H.metaKey)&&(this.eventKey===F.keyName.c||this.eventKey===F.keyName.v||this.eventKey===F.keyName.x))return H.type==="keydown"&&this._expandSelectionOnSign(),this.eventKey!==F.keyName.v&&this.eventKey!==F.keyName.Insert||(H.type==="keydown"||H.type==="keypress"?U.isUndefined(this.valuePartsBeforePaste)&&(this.valuePartsBeforePaste=this._getLeftAndRightPartAroundTheSelection()):this._checkPaste()),H.type==="keydown"||H.type==="keypress"||this.eventKey===F.keyName.c;if(H.ctrlKey||H.metaKey)return!(this.eventKey===F.keyName.Z||this.eventKey===F.keyName.z);if(this.eventKey===F.keyName.LeftArrow||this.eventKey===F.keyName.RightArrow){if(H.type==="keydown"&&!H.shiftKey){var q=U.getElementValue(this.domElement);this.eventKey!==F.keyName.LeftArrow||q.charAt(this.selection.start-2)!==this.settings.digitGroupSeparator&&q.charAt(this.selection.start-2)!==this.settings.decimalCharacter?this.eventKey!==F.keyName.RightArrow||q.charAt(this.selection.start+1)!==this.settings.digitGroupSeparator&&q.charAt(this.selection.start+1)!==this.settings.decimalCharacter||this._setCaretPosition(this.selection.start+1):this._setCaretPosition(this.selection.start-1)}return!0}return U.isInArray(this.eventKey,F.keyName._directionKeys)}},{key:"_processCharacterDeletionIfTrailingNegativeSign",value:function(H){var q=be(H,2),pe=q[0],ne=q[1],Ce=U.getElementValue(this.domElement),Se=U.isNegative(Ce,this.settings.negativeSignCharacter);if(this.settings.currencySymbolPlacement===we.options.currencySymbolPlacement.prefix&&this.settings.negativePositiveSignPlacement===we.options.negativePositiveSignPlacement.suffix&&(this.eventKey===F.keyName.Backspace?(this.caretFix=this.selection.start>=Ce.indexOf(this.settings.suffixText)&&this.settings.suffixText!=="",Ce.charAt(this.selection.start-1)==="-"?pe=pe.substring(1):this.selection.start<=Ce.length-this.settings.suffixText.length&&(pe=pe.substring(0,pe.length-1))):(this.caretFix=this.selection.start>=Ce.indexOf(this.settings.suffixText)&&this.settings.suffixText!=="",this.selection.start>=Ce.indexOf(this.settings.currencySymbol)+this.settings.currencySymbol.length&&(ne=ne.substring(1,ne.length)),U.isNegative(pe,this.settings.negativeSignCharacter)&&Ce.charAt(this.selection.start)==="-"&&(pe=pe.substring(1)))),this.settings.currencySymbolPlacement===we.options.currencySymbolPlacement.suffix)switch(this.settings.negativePositiveSignPlacement){case we.options.negativePositiveSignPlacement.left:this.caretFix=this.selection.start>=Ce.indexOf(this.settings.negativeSignCharacter)+this.settings.negativeSignCharacter.length,this.eventKey===F.keyName.Backspace?this.selection.start===Ce.indexOf(this.settings.negativeSignCharacter)+this.settings.negativeSignCharacter.length&&Se?pe=pe.substring(1):pe!=="-"&&(this.selection.start<=Ce.indexOf(this.settings.negativeSignCharacter)||!Se)&&(pe=pe.substring(0,pe.length-1)):(pe[0]==="-"&&(ne=ne.substring(1)),this.selection.start===Ce.indexOf(this.settings.negativeSignCharacter)&&Se&&(pe=pe.substring(1)));break;case we.options.negativePositiveSignPlacement.right:this.caretFix=this.selection.start>=Ce.indexOf(this.settings.negativeSignCharacter)+this.settings.negativeSignCharacter.length,this.eventKey===F.keyName.Backspace?this.selection.start===Ce.indexOf(this.settings.negativeSignCharacter)+this.settings.negativeSignCharacter.length?pe=pe.substring(1):pe!=="-"&&this.selection.start<=Ce.indexOf(this.settings.negativeSignCharacter)-this.settings.currencySymbol.length?pe=pe.substring(0,pe.length-1):pe===""||Se||(pe=pe.substring(0,pe.length-1)):(this.caretFix=this.selection.start>=Ce.indexOf(this.settings.currencySymbol)&&this.settings.currencySymbol!=="",this.selection.start===Ce.indexOf(this.settings.negativeSignCharacter)&&(pe=pe.substring(1)),ne=ne.substring(1))}return[pe,ne]}},{key:"_processCharacterDeletion",value:function(H){var q,pe;if(this.selection.length){this._expandSelectionOnSign();var ne=be(this._getUnformattedLeftAndRightPartAroundTheSelection(),2);q=ne[0],pe=ne[1]}else{var Ce=be(this._getUnformattedLeftAndRightPartAroundTheSelection(),2);if(q=Ce[0],pe=Ce[1],q===""&&pe===""&&(this.throwInput=!1),this.isTrailingNegative&&U.isNegative(U.getElementValue(this.domElement),this.settings.negativeSignCharacter)){var Se=be(this._processCharacterDeletionIfTrailingNegativeSign([q,pe]),2);q=Se[0],pe=Se[1]}else this.eventKey===F.keyName.Backspace?q=q.substring(0,q.length-1):pe=pe.substring(1,pe.length)}return!!this.constructor._isWithinRangeWithOverrideOption("".concat(q).concat(pe),this.settings)&&U.getElementValue(H.target)!==this.settings.currencySymbol&&(this._setValueParts(q,pe),!0)}},{key:"_isDecimalCharacterInsertionAllowed",value:function(){return String(this.settings.decimalPlacesShownOnFocus)!==String(we.options.decimalPlacesShownOnFocus.none)&&String(this.settings.decimalPlaces)!==String(we.options.decimalPlaces.none)}},{key:"_processCharacterInsertion",value:function(){var H=be(this._getUnformattedLeftAndRightPartAroundTheSelection(),2),q=H[0],pe=H[1];if(this.eventKey!==F.keyName.AndroidDefault&&(this.throwInput=!0),this.eventKey===this.settings.decimalCharacter||this.settings.decimalCharacterAlternative&&this.eventKey===this.settings.decimalCharacterAlternative){if(!this._isDecimalCharacterInsertionAllowed()||!this.settings.decimalCharacter)return!1;if(this.settings.alwaysAllowDecimalCharacter)q=q.replace(this.settings.decimalCharacter,""),pe=pe.replace(this.settings.decimalCharacter,"");else{if(U.contains(q,this.settings.decimalCharacter)||pe.indexOf(this.settings.decimalCharacter)>0)return!0;pe.indexOf(this.settings.decimalCharacter)===0&&(pe=pe.substr(1))}return this.settings.negativeSignCharacter&&U.contains(pe,this.settings.negativeSignCharacter)&&(q="".concat(this.settings.negativeSignCharacter).concat(q),pe=pe.replace(this.settings.negativeSignCharacter,"")),this._setValueParts(q+this.settings.decimalCharacter,pe),!0}if((this.eventKey==="-"||this.eventKey==="+")&&this.settings.isNegativeSignAllowed)return q===""&&U.contains(pe,"-")?(this.settings.negativePositiveSignBehavior||!this.settings.negativePositiveSignBehavior&&this.eventKey==="+")&&(pe=pe.replace("-","")):U.isNegativeStrict(q,"-")?(this.settings.negativePositiveSignBehavior||!this.settings.negativePositiveSignBehavior&&this.eventKey==="+")&&(q=q.replace("-","")):(this.settings.negativePositiveSignBehavior||!this.settings.negativePositiveSignBehavior&&this.eventKey==="-")&&(q="".concat(this.settings.negativeSignCharacter).concat(q)),this._setValueParts(q,pe),!0;var ne=Number(this.eventKey);return ne>=0&&ne<=9?(this.settings.isNegativeSignAllowed&&q===""&&U.contains(pe,"-")&&(q="-",pe=pe.substring(1,pe.length)),this.settings.maximumValue<=0&&this.settings.minimumValue<this.settings.maximumValue&&!U.contains(U.getElementValue(this.domElement),this.settings.negativeSignCharacter)&&this.eventKey!=="0"&&(q="-".concat(q)),this._setValueParts("".concat(q).concat(this.eventKey),pe),!0):(this.throwInput=!1,!1)}},{key:"_formatValue",value:function(H){var q=U.getElementValue(this.domElement),pe=be(this._getUnformattedLeftAndRightPartAroundTheSelection(),1)[0];if((this.settings.digitGroupSeparator===""||this.settings.digitGroupSeparator!==""&&!U.contains(q,this.settings.digitGroupSeparator))&&(this.settings.currencySymbol===""||this.settings.currencySymbol!==""&&!U.contains(q,this.settings.currencySymbol))){var ne=be(q.split(this.settings.decimalCharacter),1)[0],Ce="";U.isNegative(ne,this.settings.negativeSignCharacter)&&(Ce=this.settings.negativeSignCharacter,ne=ne.replace(this.settings.negativeSignCharacter,""),pe=pe.replace("-","")),Ce===""&&ne.length>this.settings.mIntPos&&pe.charAt(0)==="0"&&(pe=pe.slice(1)),Ce===this.settings.negativeSignCharacter&&ne.length>this.settings.mIntNeg&&pe.charAt(0)==="0"&&(pe=pe.slice(1)),this.isTrailingNegative||(pe="".concat(Ce).concat(pe))}var Se=this.constructor._addGroupSeparators(q,this.settings,this.isFocused,this.rawValue),Ye=Se.length;if(Se){var it,he=pe.split("");if((this.settings.negativePositiveSignPlacement===we.options.negativePositiveSignPlacement.suffix||this.settings.negativePositiveSignPlacement!==we.options.negativePositiveSignPlacement.prefix&&this.settings.currencySymbolPlacement===we.options.currencySymbolPlacement.suffix)&&he[0]===this.settings.negativeSignCharacter&&!this.settings.isNegativeSignAllowed&&(he.shift(),(this.eventKey===F.keyName.Backspace||this.eventKey===F.keyName.Delete)&&this.caretFix&&((this.settings.currencySymbolPlacement===we.options.currencySymbolPlacement.suffix&&this.settings.negativePositiveSignPlacement===we.options.negativePositiveSignPlacement.left||this.settings.currencySymbolPlacement===we.options.currencySymbolPlacement.prefix&&this.settings.negativePositiveSignPlacement===we.options.negativePositiveSignPlacement.suffix)&&(he.push(this.settings.negativeSignCharacter),this.caretFix=H.type==="keydown"),this.settings.currencySymbolPlacement===we.options.currencySymbolPlacement.suffix&&this.settings.negativePositiveSignPlacement===we.options.negativePositiveSignPlacement.right))){var De=this.settings.currencySymbol.split(""),qe=["\\","^","$",".","|","?","*","+","(",")","["],Ge=[];De.forEach(function(Je,st){st=De[Je],U.isInArray(st,qe)?Ge.push("\\"+st):Ge.push(st)}),this.eventKey===F.keyName.Backspace&&this.settings.negativeSignCharacter==="-"&&Ge.push("-"),he.push(Ge.join("")),this.caretFix=H.type==="keydown"}for(var ke=0;ke<he.length;ke++)he[ke].match("\\d")||(he[ke]="\\"+he[ke]);it=this.settings.currencySymbolPlacement===we.options.currencySymbolPlacement.suffix?new RegExp("^.*?".concat(he.join(".*?"))):new RegExp("^.*?[".concat(this.settings.currencySymbol,"]*").concat(he.join(".*?")));var Ue=Se.match(it);Ue?(Ye=Ue[0].length,this.settings.showPositiveSign&&(Ye===0&&Ue.input.charAt(0)===this.settings.positiveSignCharacter&&(Ye=Ue.input.indexOf(this.settings.currencySymbol)===1?this.settings.currencySymbol.length+1:1),Ye===0&&Ue.input.charAt(this.settings.currencySymbol.length)===this.settings.positiveSignCharacter&&(Ye=this.settings.currencySymbol.length+1)),(Ye===0&&Se.charAt(0)!==this.settings.negativeSignCharacter||Ye===1&&Se.charAt(0)===this.settings.negativeSignCharacter)&&this.settings.currencySymbol&&this.settings.currencySymbolPlacement===we.options.currencySymbolPlacement.prefix&&(Ye=this.settings.currencySymbol.length+(U.isNegativeStrict(Se,this.settings.negativeSignCharacter)?1:0))):(this.settings.currencySymbol&&this.settings.currencySymbolPlacement===we.options.currencySymbolPlacement.suffix&&(Ye-=this.settings.currencySymbol.length),this.settings.suffixText&&(Ye-=this.settings.suffixText.length))}Se!==q&&(this._setElementValue(Se,!1),this._setCaretPosition(Ye)),this.formatted=!0}}],at=[{key:"version",value:function(){return"4.10.5"}},{key:"_setArgumentsValues",value:function(H,q,pe){U.isNull(H)&&U.throwError("At least one valid parameter is needed in order to initialize an AutoNumeric object");var ne,Ce,Se,Ye=U.isElement(H),it=U.isString(H),he=U.isObject(q),De=Array.isArray(q)&&q.length>0,qe=U.isNumberOrArabic(q)||q==="",Ge=this._isPreDefinedOptionValid(q),ke=U.isNull(q),Ue=U.isEmptyString(q),Je=U.isObject(pe),st=Array.isArray(pe)&&pe.length>0,ct=U.isNull(pe),ft=this._isPreDefinedOptionValid(pe);return Ye&&ke&&ct?(ne=H,Se=null,Ce=null):Ye&&qe&&ct?(ne=H,Se=q,Ce=null):Ye&&he&&ct?(ne=H,Se=null,Ce=q):Ye&&Ge&&ct?(ne=H,Se=null,Ce=this._getOptionObject(q)):Ye&&De&&ct?(ne=H,Se=null,Ce=this.mergeOptions(q)):Ye&&(ke||Ue)&&Je?(ne=H,Se=null,Ce=pe):Ye&&(ke||Ue)&&st?(ne=H,Se=null,Ce=this.mergeOptions(pe)):it&&ke&&ct?(ne=document.querySelector(H),Se=null,Ce=null):it&&he&&ct?(ne=document.querySelector(H),Se=null,Ce=q):it&&Ge&&ct?(ne=document.querySelector(H),Se=null,Ce=this._getOptionObject(q)):it&&De&&ct?(ne=document.querySelector(H),Se=null,Ce=this.mergeOptions(q)):it&&(ke||Ue)&&Je?(ne=document.querySelector(H),Se=null,Ce=pe):it&&(ke||Ue)&&st?(ne=document.querySelector(H),Se=null,Ce=this.mergeOptions(pe)):it&&qe&&ct?(ne=document.querySelector(H),Se=q,Ce=null):it&&qe&&Je?(ne=document.querySelector(H),Se=q,Ce=pe):it&&qe&&ft?(ne=document.querySelector(H),Se=q,Ce=this._getOptionObject(pe)):it&&qe&&st?(ne=document.querySelector(H),Se=q,Ce=this.mergeOptions(pe)):Ye&&qe&&Je?(ne=H,Se=q,Ce=pe):Ye&&qe&&ft?(ne=H,Se=q,Ce=this._getOptionObject(pe)):Ye&&qe&&st?(ne=H,Se=q,Ce=this.mergeOptions(pe)):U.throwError("The parameters given to the AutoNumeric object are not valid, '".concat(H,"', '").concat(q,"' and '").concat(pe,"' given.")),U.isNull(ne)&&U.throwError("The selector '".concat(H,"' did not select any valid DOM element. Please check on which element you called AutoNumeric.")),{domElement:ne,initialValue:Se,userOptions:Ce}}},{key:"mergeOptions",value:function(H){var q=this,pe={};return H.forEach(function(ne){Re(pe,q._getOptionObject(ne))}),pe}},{key:"_isPreDefinedOptionValid",value:function(H){return Object.prototype.hasOwnProperty.call(we.predefinedOptions,H)}},{key:"_getOptionObject",value:function(H){var q;return U.isString(H)?(q=we.getPredefinedOptions()[H])==null&&U.warning("The given pre-defined option [".concat(H,"] is not recognized by autoNumeric. Please check that pre-defined option name."),!0):q=H,q}},{key:"_doesFormHandlerListExists",value:function(){var H=Oe(window.aNFormHandlerMap);return H!=="undefined"&&H==="object"}},{key:"_createFormHandlerList",value:function(){window.aNFormHandlerMap=new Map}},{key:"_checkValuesToStringsArray",value:function(H,q){return U.isInArray(String(H),q)}},{key:"_checkValuesToStringsSettings",value:function(H,q){return this._checkValuesToStringsArray(H,Object.keys(q.valuesToStrings))}},{key:"_checkStringsToValuesSettings",value:function(H,q){return this._checkValuesToStringsArray(H,Object.values(q.valuesToStrings))}},{key:"_unformatAltHovered",value:function(H){H.hoveredWithAlt=!0,H.unformat()}},{key:"_reformatAltHovered",value:function(H){H.hoveredWithAlt=!1,H.reformat()}},{key:"_getChildANInputElement",value:function(H){var q=this,pe=H.getElementsByTagName("input"),ne=[];return Array.prototype.slice.call(pe,0).forEach(function(Ce){q.test(Ce)&&ne.push(Ce)}),ne}},{key:"test",value:function(H){return this._isInGlobalList(U.domElement(H))}},{key:"_createWeakMap",value:function(H){window[H]=new WeakMap}},{key:"_createGlobalList",value:function(){this.autoNumericGlobalListName="autoNumericGlobalList",this._createWeakMap(this.autoNumericGlobalListName)}},{key:"_doesGlobalListExists",value:function(){var H=Oe(window[this.autoNumericGlobalListName]);return H!=="undefined"&&H==="object"}},{key:"_addToGlobalList",value:function(H){this._doesGlobalListExists()||this._createGlobalList();var q=H.node();if(this._isInGlobalList(q)){if(this._getFromGlobalList(q)===this)return;U.warning("A reference to the DOM element you just initialized already exists in the global AutoNumeric element list. Please make sure to not initialize the same DOM element multiple times.",H.getSettings().showWarnings)}window[this.autoNumericGlobalListName].set(q,H)}},{key:"_removeFromGlobalList",value:function(H){this._doesGlobalListExists()&&window[this.autoNumericGlobalListName].delete(H.node())}},{key:"_getFromGlobalList",value:function(H){return this._doesGlobalListExists()?window[this.autoNumericGlobalListName].get(H):null}},{key:"_isInGlobalList",value:function(H){return!!this._doesGlobalListExists()&&window[this.autoNumericGlobalListName].has(H)}},{key:"validate",value:function(H){var q=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;!U.isUndefinedOrNullOrEmpty(H)&&U.isObject(H)||U.throwError("The userOptions are invalid ; it should be a valid object, [".concat(H,"] given."));var ne,Ce=U.isObject(pe);Ce||U.isNull(pe)||U.throwError("The 'originalOptions' parameter is invalid ; it should either be a valid option object or `null`, [".concat(H,"] given.")),U.isNull(H)||this._convertOldOptionsToNewOnes(H),ne=q?Re({},this.getDefaultConfig(),H):H,U.isTrueOrFalseString(ne.showWarnings)||U.isBoolean(ne.showWarnings)||U.throwError("The debug option 'showWarnings' is invalid ; it should be either 'true' or 'false', [".concat(ne.showWarnings,"] given."));var Se,Ye=/^[0-9]+$/,it=/[0-9]+/,he=/^-?[0-9]+(\.?[0-9]+)?$/,De=/^[0-9]+(\.?[0-9]+)?$/;U.isTrueOrFalseString(ne.allowDecimalPadding)||U.isBoolean(ne.allowDecimalPadding)||ne.allowDecimalPadding===we.options.allowDecimalPadding.floats||U.isNumber(ne.allowDecimalPadding)&&ne.allowDecimalPadding>0||U.throwError("The decimal padding option 'allowDecimalPadding' is invalid ; it should either be `false`, `true`, `'floats'` or a positive integer superior to 0, [".concat(ne.allowDecimalPadding,"] given.")),U.isNumber(ne.allowDecimalPadding)&&ne.allowDecimalPadding>ne.decimalPlaces&&U.warning("Setting 'allowDecimalPadding' to a number [".concat(ne.allowDecimalPadding,"] superior to the current 'decimalPlaces' settings [").concat(ne.decimalPlaces,"] is useless, since the padding will not be shown."),ne.showWarnings),ne.allowDecimalPadding!==we.options.allowDecimalPadding.never&&ne.allowDecimalPadding!=="false"||ne.decimalPlaces===we.options.decimalPlaces.none&&ne.decimalPlacesShownOnBlur===we.options.decimalPlacesShownOnBlur.none&&ne.decimalPlacesShownOnFocus===we.options.decimalPlacesShownOnFocus.none||U.warning("Setting 'allowDecimalPadding' to [".concat(ne.allowDecimalPadding,"] will override the current 'decimalPlaces*' settings [").concat(ne.decimalPlaces,", ").concat(ne.decimalPlacesShownOnBlur," and ").concat(ne.decimalPlacesShownOnFocus,"]."),ne.showWarnings),U.isTrueOrFalseString(ne.alwaysAllowDecimalCharacter)||U.isBoolean(ne.alwaysAllowDecimalCharacter)||U.throwError("The option 'alwaysAllowDecimalCharacter' is invalid ; it should either be `true` or `false`, [".concat(ne.alwaysAllowDecimalCharacter,"] given.")),U.isNull(ne.caretPositionOnFocus)||U.isInArray(ne.caretPositionOnFocus,[we.options.caretPositionOnFocus.start,we.options.caretPositionOnFocus.end,we.options.caretPositionOnFocus.decimalLeft,we.options.caretPositionOnFocus.decimalRight])||U.throwError("The display on empty string option 'caretPositionOnFocus' is invalid ; it should either be `null`, 'focus', 'press', 'always' or 'zero', [".concat(ne.caretPositionOnFocus,"] given.")),Se=Ce?pe:this._correctCaretPositionOnFocusAndSelectOnFocusOptions(H),U.isNull(Se)||Se.caretPositionOnFocus===we.options.caretPositionOnFocus.doNoForceCaretPosition||Se.selectOnFocus!==we.options.selectOnFocus.select||U.warning("The 'selectOnFocus' option is set to 'select', which is in conflict with the 'caretPositionOnFocus' which is set to '".concat(Se.caretPositionOnFocus,"'. As a result, if this has been called when instantiating an AutoNumeric object, the 'selectOnFocus' option is forced to 'doNotSelect'."),ne.showWarnings),U.isInArray(ne.digitGroupSeparator,[we.options.digitGroupSeparator.comma,we.options.digitGroupSeparator.dot,we.options.digitGroupSeparator.normalSpace,we.options.digitGroupSeparator.thinSpace,we.options.digitGroupSeparator.narrowNoBreakSpace,we.options.digitGroupSeparator.noBreakSpace,we.options.digitGroupSeparator.noSeparator,we.options.digitGroupSeparator.apostrophe,we.options.digitGroupSeparator.arabicThousandsSeparator,we.options.digitGroupSeparator.dotAbove,we.options.digitGroupSeparator.privateUseTwo])||U.throwError(`The thousand separator character option 'digitGroupSeparator' is invalid ; it should be ',', '.', '٬', '˙', "'", '', ' ', ' ', ' ', ' ' or empty (''), [`.concat(ne.digitGroupSeparator,"] given.")),U.isTrueOrFalseString(ne.showOnlyNumbersOnFocus)||U.isBoolean(ne.showOnlyNumbersOnFocus)||U.throwError("The 'showOnlyNumbersOnFocus' option is invalid ; it should be either 'true' or 'false', [".concat(ne.showOnlyNumbersOnFocus,"] given.")),U.isInArray(ne.digitalGroupSpacing,[we.options.digitalGroupSpacing.two,we.options.digitalGroupSpacing.twoThree,we.options.digitalGroupSpacing.twoScaled,we.options.digitalGroupSpacing.three,we.options.digitalGroupSpacing.four])||ne.digitalGroupSpacing>=2&&ne.digitalGroupSpacing<=4||U.throwError("The grouping separator option for thousands 'digitalGroupSpacing' is invalid ; it should be '2', '2t', '2s', '3', or '4', [".concat(ne.digitalGroupSpacing,"] given.")),U.isInArray(ne.decimalCharacter,[we.options.decimalCharacter.comma,we.options.decimalCharacter.dot,we.options.decimalCharacter.middleDot,we.options.decimalCharacter.arabicDecimalSeparator,we.options.decimalCharacter.decimalSeparatorKeySymbol])||U.throwError("The decimal separator character option 'decimalCharacter' is invalid ; it should be '.', ',', '·', '⎖' or '٫', [".concat(ne.decimalCharacter,"] given.")),ne.decimalCharacter===ne.digitGroupSeparator&&U.throwError("autoNumeric will not function properly when the decimal character 'decimalCharacter' [".concat(ne.decimalCharacter,"] and the thousand separator 'digitGroupSeparator' [").concat(ne.digitGroupSeparator,"] are the same character.")),U.isNull(ne.decimalCharacterAlternative)||U.isString(ne.decimalCharacterAlternative)||U.throwError("The alternate decimal separator character option 'decimalCharacterAlternative' is invalid ; it should be a string, [".concat(ne.decimalCharacterAlternative,"] given.")),ne.currencySymbol===""||U.isString(ne.currencySymbol)||U.throwError("The currency symbol option 'currencySymbol' is invalid ; it should be a string, [".concat(ne.currencySymbol,"] given.")),U.isInArray(ne.currencySymbolPlacement,[we.options.currencySymbolPlacement.prefix,we.options.currencySymbolPlacement.suffix])||U.throwError("The placement of the currency sign option 'currencySymbolPlacement' is invalid ; it should either be 'p' (prefix) or 's' (suffix), [".concat(ne.currencySymbolPlacement,"] given.")),U.isInArray(ne.negativePositiveSignPlacement,[we.options.negativePositiveSignPlacement.prefix,we.options.negativePositiveSignPlacement.suffix,we.options.negativePositiveSignPlacement.left,we.options.negativePositiveSignPlacement.right,we.options.negativePositiveSignPlacement.none])||U.throwError("The placement of the negative sign option 'negativePositiveSignPlacement' is invalid ; it should either be 'p' (prefix), 's' (suffix), 'l' (left), 'r' (right) or 'null', [".concat(ne.negativePositiveSignPlacement,"] given.")),U.isTrueOrFalseString(ne.showPositiveSign)||U.isBoolean(ne.showPositiveSign)||U.throwError("The show positive sign option 'showPositiveSign' is invalid ; it should be either 'true' or 'false', [".concat(ne.showPositiveSign,"] given.")),(!U.isString(ne.suffixText)||ne.suffixText!==""&&(U.isNegative(ne.suffixText,ne.negativeSignCharacter)||it.test(ne.suffixText)))&&U.throwError("The additional suffix option 'suffixText' is invalid ; it should not contains the negative sign '".concat(ne.negativeSignCharacter,"' nor any numerical characters, [").concat(ne.suffixText,"] given.")),(!U.isString(ne.negativeSignCharacter)||ne.negativeSignCharacter.length!==1||U.isUndefinedOrNullOrEmpty(ne.negativeSignCharacter)||it.test(ne.negativeSignCharacter))&&U.throwError("The negative sign character option 'negativeSignCharacter' is invalid ; it should be a single character, and cannot be any numerical characters, [".concat(ne.negativeSignCharacter,"] given.")),(!U.isString(ne.positiveSignCharacter)||ne.positiveSignCharacter.length!==1||U.isUndefinedOrNullOrEmpty(ne.positiveSignCharacter)||it.test(ne.positiveSignCharacter))&&U.throwError("The positive sign character option 'positiveSignCharacter' is invalid ; it should be a single character, and cannot be any numerical characters, [".concat(ne.positiveSignCharacter,"] given.\nIf you want to show the positive sign character, you need to set the `showPositiveSign` option to `true`.")),ne.negativeSignCharacter===ne.positiveSignCharacter&&U.throwError("The positive 'positiveSignCharacter' and negative 'negativeSignCharacter' sign characters cannot be identical ; [".concat(ne.negativeSignCharacter,"] given.")),U.isTrueOrFalseString(ne.negativePositiveSignBehavior)||U.isBoolean(ne.negativePositiveSignBehavior)||U.throwError("The option 'negativePositiveSignBehavior' is invalid ; it should be either 'true' or 'false', [".concat(ne.negativePositiveSignBehavior,"] given."));var qe=be(U.isNull(ne.negativeBracketsTypeOnBlur)?["",""]:ne.negativeBracketsTypeOnBlur.split(","),2),Ge=qe[0],ke=qe[1];(U.contains(ne.digitGroupSeparator,ne.negativeSignCharacter)||U.contains(ne.decimalCharacter,ne.negativeSignCharacter)||U.contains(ne.decimalCharacterAlternative,ne.negativeSignCharacter)||U.contains(Ge,ne.negativeSignCharacter)||U.contains(ke,ne.negativeSignCharacter)||U.contains(ne.suffixText,ne.negativeSignCharacter))&&U.throwError("The negative sign character option 'negativeSignCharacter' is invalid ; it should not be equal or a part of the digit separator, the decimal character, the decimal character alternative, the negative brackets or the suffix text, [".concat(ne.negativeSignCharacter,"] given.")),(U.contains(ne.digitGroupSeparator,ne.positiveSignCharacter)||U.contains(ne.decimalCharacter,ne.positiveSignCharacter)||U.contains(ne.decimalCharacterAlternative,ne.positiveSignCharacter)||U.contains(Ge,ne.positiveSignCharacter)||U.contains(ke,ne.positiveSignCharacter)||U.contains(ne.suffixText,ne.positiveSignCharacter))&&U.throwError("The positive sign character option 'positiveSignCharacter' is invalid ; it should not be equal or a part of the digit separator, the decimal character, the decimal character alternative, the negative brackets or the suffix text, [".concat(ne.positiveSignCharacter,"] given.")),U.isNull(ne.overrideMinMaxLimits)||U.isInArray(ne.overrideMinMaxLimits,[we.options.overrideMinMaxLimits.ceiling,we.options.overrideMinMaxLimits.floor,we.options.overrideMinMaxLimits.ignore,we.options.overrideMinMaxLimits.invalid])||U.throwError("The override min & max limits option 'overrideMinMaxLimits' is invalid ; it should either be 'ceiling', 'floor', 'ignore' or 'invalid', [".concat(ne.overrideMinMaxLimits,"] given.")),ne.overrideMinMaxLimits!==we.options.overrideMinMaxLimits.invalid&&ne.overrideMinMaxLimits!==we.options.overrideMinMaxLimits.ignore&&(ne.minimumValue>0||ne.maximumValue<0)&&U.warning("You've set a `minimumValue` or a `maximumValue` excluding the value `0`. AutoNumeric will force the users to always have a valid value in the input, hence preventing them to clear the field. If you want to allow for temporary invalid values (i.e. out-of-range), you should use the 'invalid' option for the 'overrideMinMaxLimits' setting."),U.isString(ne.maximumValue)&&he.test(ne.maximumValue)||U.throwError("The maximum possible value option 'maximumValue' is invalid ; it should be a string that represents a positive or negative number, [".concat(ne.maximumValue,"] given.")),U.isString(ne.minimumValue)&&he.test(ne.minimumValue)||U.throwError("The minimum possible value option 'minimumValue' is invalid ; it should be a string that represents a positive or negative number, [".concat(ne.minimumValue,"] given.")),parseFloat(ne.minimumValue)>parseFloat(ne.maximumValue)&&U.throwError("The minimum possible value option is greater than the maximum possible value option ; 'minimumValue' [".concat(ne.minimumValue,"] should be smaller than 'maximumValue' [").concat(ne.maximumValue,"].")),U.isInt(ne.decimalPlaces)&&ne.decimalPlaces>=0||U.isString(ne.decimalPlaces)&&Ye.test(ne.decimalPlaces)||U.throwError("The number of decimal places option 'decimalPlaces' is invalid ; it should be a positive integer, [".concat(ne.decimalPlaces,"] given.")),U.isNull(ne.decimalPlacesRawValue)||U.isInt(ne.decimalPlacesRawValue)&&ne.decimalPlacesRawValue>=0||U.isString(ne.decimalPlacesRawValue)&&Ye.test(ne.decimalPlacesRawValue)||U.throwError("The number of decimal places for the raw value option 'decimalPlacesRawValue' is invalid ; it should be a positive integer or `null`, [".concat(ne.decimalPlacesRawValue,"] given.")),this._validateDecimalPlacesRawValue(ne),U.isNull(ne.decimalPlacesShownOnFocus)||Ye.test(String(ne.decimalPlacesShownOnFocus))||U.throwError("The number of expanded decimal places option 'decimalPlacesShownOnFocus' is invalid ; it should be a positive integer or `null`, [".concat(ne.decimalPlacesShownOnFocus,"] given.")),!U.isNull(ne.decimalPlacesShownOnFocus)&&Number(ne.decimalPlaces)>Number(ne.decimalPlacesShownOnFocus)&&U.warning("The extended decimal places 'decimalPlacesShownOnFocus' [".concat(ne.decimalPlacesShownOnFocus,"] should be greater than the 'decimalPlaces' [").concat(ne.decimalPlaces,"] value. Currently, this will limit the ability of your user to manually change some of the decimal places. Do you really want to do that?"),ne.showWarnings),(U.isNull(ne.divisorWhenUnfocused)||De.test(ne.divisorWhenUnfocused))&&ne.divisorWhenUnfocused!==0&&ne.divisorWhenUnfocused!=="0"&&ne.divisorWhenUnfocused!==1&&ne.divisorWhenUnfocused!=="1"||U.throwError("The divisor option 'divisorWhenUnfocused' is invalid ; it should be a positive number higher than one, preferably an integer, [".concat(ne.divisorWhenUnfocused,"] given.")),U.isNull(ne.decimalPlacesShownOnBlur)||Ye.test(ne.decimalPlacesShownOnBlur)||U.throwError("The number of decimals shown when unfocused option 'decimalPlacesShownOnBlur' is invalid ; it should be a positive integer or `null`, [".concat(ne.decimalPlacesShownOnBlur,"] given.")),U.isNull(ne.symbolWhenUnfocused)||U.isString(ne.symbolWhenUnfocused)||U.throwError("The symbol to show when unfocused option 'symbolWhenUnfocused' is invalid ; it should be a string, [".concat(ne.symbolWhenUnfocused,"] given.")),U.isTrueOrFalseString(ne.saveValueToSessionStorage)||U.isBoolean(ne.saveValueToSessionStorage)||U.throwError("The save to session storage option 'saveValueToSessionStorage' is invalid ; it should be either 'true' or 'false', [".concat(ne.saveValueToSessionStorage,"] given.")),U.isInArray(ne.onInvalidPaste,[we.options.onInvalidPaste.error,we.options.onInvalidPaste.ignore,we.options.onInvalidPaste.clamp,we.options.onInvalidPaste.truncate,we.options.onInvalidPaste.replace])||U.throwError("The paste behavior option 'onInvalidPaste' is invalid ; it should either be 'error', 'ignore', 'clamp', 'truncate' or 'replace' (cf. documentation), [".concat(ne.onInvalidPaste,"] given.")),U.isInArray(ne.roundingMethod,[we.options.roundingMethod.halfUpSymmetric,we.options.roundingMethod.halfUpAsymmetric,we.options.roundingMethod.halfDownSymmetric,we.options.roundingMethod.halfDownAsymmetric,we.options.roundingMethod.halfEvenBankersRounding,we.options.roundingMethod.upRoundAwayFromZero,we.options.roundingMethod.downRoundTowardZero,we.options.roundingMethod.toCeilingTowardPositiveInfinity,we.options.roundingMethod.toFloorTowardNegativeInfinity,we.options.roundingMethod.toNearest05,we.options.roundingMethod.toNearest05Alt,we.options.roundingMethod.upToNext05,we.options.roundingMethod.downToNext05])||U.throwError("The rounding method option 'roundingMethod' is invalid ; it should either be 'S', 'A', 's', 'a', 'B', 'U', 'D', 'C', 'F', 'N05', 'CHF', 'U05' or 'D05' (cf. documentation), [".concat(ne.roundingMethod,"] given.")),U.isNull(ne.negativeBracketsTypeOnBlur)||U.isInArray(ne.negativeBracketsTypeOnBlur,[we.options.negativeBracketsTypeOnBlur.parentheses,we.options.negativeBracketsTypeOnBlur.brackets,we.options.negativeBracketsTypeOnBlur.chevrons,we.options.negativeBracketsTypeOnBlur.curlyBraces,we.options.negativeBracketsTypeOnBlur.angleBrackets,we.options.negativeBracketsTypeOnBlur.japaneseQuotationMarks,we.options.negativeBracketsTypeOnBlur.halfBrackets,we.options.negativeBracketsTypeOnBlur.whiteSquareBrackets,we.options.negativeBracketsTypeOnBlur.quotationMarks,we.options.negativeBracketsTypeOnBlur.guillemets])||U.throwError("The brackets for negative values option 'negativeBracketsTypeOnBlur' is invalid ; it should either be '(,)', '[,]', '<,>', '{,}', '〈,〉', '｢,｣', '⸤,⸥', '⟦,⟧', '‹,›' or '«,»', [".concat(ne.negativeBracketsTypeOnBlur,"] given.")),(U.isString(ne.emptyInputBehavior)||U.isNumber(ne.emptyInputBehavior))&&(U.isInArray(ne.emptyInputBehavior,[we.options.emptyInputBehavior.focus,we.options.emptyInputBehavior.press,we.options.emptyInputBehavior.always,we.options.emptyInputBehavior.min,we.options.emptyInputBehavior.max,we.options.emptyInputBehavior.zero,we.options.emptyInputBehavior.null])||he.test(ne.emptyInputBehavior))||U.throwError("The display on empty string option 'emptyInputBehavior' is invalid ; it should either be 'focus', 'press', 'always', 'min', 'max', 'zero', 'null', a number, or a string that represents a number, [".concat(ne.emptyInputBehavior,"] given.")),ne.emptyInputBehavior===we.options.emptyInputBehavior.zero&&(ne.minimumValue>0||ne.maximumValue<0)&&U.throwError("The 'emptyInputBehavior' option is set to 'zero', but this value is outside of the range defined by 'minimumValue' and 'maximumValue' [".concat(ne.minimumValue,", ").concat(ne.maximumValue,"].")),he.test(String(ne.emptyInputBehavior))&&(this._isWithinRangeWithOverrideOption(ne.emptyInputBehavior,ne)||U.throwError("The 'emptyInputBehavior' option is set to a number or a string that represents a number, but its value [".concat(ne.emptyInputBehavior,"] is outside of the range defined by the 'minimumValue' and 'maximumValue' options [").concat(ne.minimumValue,", ").concat(ne.maximumValue,"]."))),U.isTrueOrFalseString(ne.eventBubbles)||U.isBoolean(ne.eventBubbles)||U.throwError("The event bubbles option 'eventBubbles' is invalid ; it should be either 'true' or 'false', [".concat(ne.eventBubbles,"] given.")),U.isTrueOrFalseString(ne.eventIsCancelable)||U.isBoolean(ne.eventIsCancelable)||U.throwError("The event is cancelable option 'eventIsCancelable' is invalid ; it should be either 'true' or 'false', [".concat(ne.eventIsCancelable,"] given.")),!U.isBoolean(ne.invalidClass)&&/^-?[_a-zA-Z]+[_a-zA-Z0-9-]*$/.test(ne.invalidClass)||U.throwError("The name of the 'invalidClass' option is not a valid CSS class name ; it should not be empty, and should follow the '^-?[_a-zA-Z]+[_a-zA-Z0-9-]*$' regex, [".concat(ne.invalidClass,"] given.")),U.isInArray(ne.leadingZero,[we.options.leadingZero.allow,we.options.leadingZero.deny,we.options.leadingZero.keep])||U.throwError("The leading zero behavior option 'leadingZero' is invalid ; it should either be 'allow', 'deny' or 'keep', [".concat(ne.leadingZero,"] given.")),U.isTrueOrFalseString(ne.formatOnPageLoad)||U.isBoolean(ne.formatOnPageLoad)||U.throwError("The format on initialization option 'formatOnPageLoad' is invalid ; it should be either 'true' or 'false', [".concat(ne.formatOnPageLoad,"] given.")),U.isTrueOrFalseString(ne.formulaMode)||U.isBoolean(ne.formulaMode)||U.throwError("The formula mode option 'formulaMode' is invalid ; it should be either 'true' or 'false', [".concat(ne.formulaMode,"] given.")),Ye.test(ne.historySize)&&ne.historySize!==0||U.throwError("The history size option 'historySize' is invalid ; it should be a positive integer, [".concat(ne.historySize,"] given.")),U.isTrueOrFalseString(ne.selectNumberOnly)||U.isBoolean(ne.selectNumberOnly)||U.throwError("The select number only option 'selectNumberOnly' is invalid ; it should be either 'true' or 'false', [".concat(ne.selectNumberOnly,"] given.")),U.isTrueOrFalseString(ne.selectOnFocus)||U.isBoolean(ne.selectOnFocus)||U.throwError("The select on focus option 'selectOnFocus' is invalid ; it should be either 'true' or 'false', [".concat(ne.selectOnFocus,"] given.")),U.isNull(ne.defaultValueOverride)||ne.defaultValueOverride===""||he.test(ne.defaultValueOverride)||U.throwError("The unformatted default value option 'defaultValueOverride' is invalid ; it should be a string that represents a positive or negative number, [".concat(ne.defaultValueOverride,"] given.")),U.isTrueOrFalseString(ne.unformatOnSubmit)||U.isBoolean(ne.unformatOnSubmit)||U.throwError("The remove formatting on submit option 'unformatOnSubmit' is invalid ; it should be either 'true' or 'false', [".concat(ne.unformatOnSubmit,"] given.")),U.isNull(ne.valuesToStrings)||U.isObject(ne.valuesToStrings)||U.throwError("The option 'valuesToStrings' is invalid ; it should be an object, ideally with 'key -> value' entries, [".concat(ne.valuesToStrings,"] given.")),U.isNull(ne.outputFormat)||U.isInArray(ne.outputFormat,[we.options.outputFormat.string,we.options.outputFormat.number,we.options.outputFormat.dot,we.options.outputFormat.negativeDot,we.options.outputFormat.comma,we.options.outputFormat.negativeComma,we.options.outputFormat.dotNegative,we.options.outputFormat.commaNegative])||U.throwError("The custom locale format option 'outputFormat' is invalid ; it should either be null, 'string', 'number', '.', '-.', ',', '-,', '.-' or ',-', [".concat(ne.outputFormat,"] given.")),U.isTrueOrFalseString(ne.isCancellable)||U.isBoolean(ne.isCancellable)||U.throwError("The cancellable behavior option 'isCancellable' is invalid ; it should be either 'true' or 'false', [".concat(ne.isCancellable,"] given.")),U.isTrueOrFalseString(ne.modifyValueOnUpDownArrow)||U.isBoolean(ne.modifyValueOnUpDownArrow)||U.throwError("The increment/decrement on up and down arrow keys 'modifyValueOnUpDownArrow' is invalid ; it should be either 'true' or 'false', [".concat(ne.modifyValueOnUpDownArrow,"] given.")),U.isTrueOrFalseString(ne.modifyValueOnWheel)||U.isBoolean(ne.modifyValueOnWheel)||U.throwError("The increment/decrement on mouse wheel option 'modifyValueOnWheel' is invalid ; it should be either 'true' or 'false', [".concat(ne.modifyValueOnWheel,"] given.")),U.isTrueOrFalseString(ne.watchExternalChanges)||U.isBoolean(ne.watchExternalChanges)||U.throwError("The option 'watchExternalChanges' is invalid ; it should be either 'true' or 'false', [".concat(ne.watchExternalChanges,"] given.")),U.isInArray(ne.wheelOn,[we.options.wheelOn.focus,we.options.wheelOn.hover])||U.throwError("The wheel behavior option 'wheelOn' is invalid ; it should either be 'focus' or 'hover', [".concat(ne.wheelOn,"] given.")),(!U.isString(ne.upDownStep)&&!U.isNumber(ne.upDownStep)||ne.upDownStep!=="progressive"&&!De.test(ne.upDownStep)||Number(ne.upDownStep)===0)&&U.throwError("The up/down arrow step value option 'upDownStep' is invalid ; it should either be the string 'progressive', or a number or a string that represents a positive number (excluding zero), [".concat(ne.upDownStep,"] given.")),(!U.isString(ne.wheelStep)&&!U.isNumber(ne.wheelStep)||ne.wheelStep!=="progressive"&&!De.test(ne.wheelStep)||Number(ne.wheelStep)===0)&&U.throwError("The wheel step value option 'wheelStep' is invalid ; it should either be the string 'progressive', or a number or a string that represents a positive number (excluding zero), [".concat(ne.wheelStep,"] given.")),U.isInArray(ne.serializeSpaces,[we.options.serializeSpaces.plus,we.options.serializeSpaces.percent])||U.throwError("The space replacement character option 'serializeSpaces' is invalid ; it should either be '+' or '%20', [".concat(ne.serializeSpaces,"] given.")),U.isTrueOrFalseString(ne.noEventListeners)||U.isBoolean(ne.noEventListeners)||U.throwError("The option 'noEventListeners' that prevent the creation of event listeners is invalid ; it should be either 'true' or 'false', [".concat(ne.noEventListeners,"] given.")),U.isNull(ne.styleRules)||U.isObject(ne.styleRules)&&(Object.prototype.hasOwnProperty.call(ne.styleRules,"positive")||Object.prototype.hasOwnProperty.call(ne.styleRules,"negative")||Object.prototype.hasOwnProperty.call(ne.styleRules,"ranges")||Object.prototype.hasOwnProperty.call(ne.styleRules,"userDefined"))||U.throwError("The option 'styleRules' is invalid ; it should be a correctly structured object, with one or more 'positive', 'negative', 'ranges' or 'userDefined' attributes, [".concat(ne.styleRules,"] given.")),U.isNull(ne.styleRules)||!Object.prototype.hasOwnProperty.call(ne.styleRules,"userDefined")||U.isNull(ne.styleRules.userDefined)||ne.styleRules.userDefined.forEach(function(Ue){Object.prototype.hasOwnProperty.call(Ue,"callback")&&!U.isFunction(Ue.callback)&&U.throwError("The callback defined in the `userDefined` attribute is not a function, ".concat(Oe(Ue.callback)," given."))}),(U.isNull(ne.rawValueDivisor)||De.test(ne.rawValueDivisor))&&ne.rawValueDivisor!==0&&ne.rawValueDivisor!=="0"&&ne.rawValueDivisor!==1&&ne.rawValueDivisor!=="1"||U.throwError("The raw value divisor option 'rawValueDivisor' is invalid ; it should be a positive number higher than one, preferably an integer, [".concat(ne.rawValueDivisor,"] given.")),U.isTrueOrFalseString(ne.readOnly)||U.isBoolean(ne.readOnly)||U.throwError("The option 'readOnly' is invalid ; it should be either 'true' or 'false', [".concat(ne.readOnly,"] given.")),U.isTrueOrFalseString(ne.unformatOnHover)||U.isBoolean(ne.unformatOnHover)||U.throwError("The option 'unformatOnHover' is invalid ; it should be either 'true' or 'false', [".concat(ne.unformatOnHover,"] given.")),U.isTrueOrFalseString(ne.failOnUnknownOption)||U.isBoolean(ne.failOnUnknownOption)||U.throwError("The debug option 'failOnUnknownOption' is invalid ; it should be either 'true' or 'false', [".concat(ne.failOnUnknownOption,"] given.")),U.isTrueOrFalseString(ne.createLocalList)||U.isBoolean(ne.createLocalList)||U.throwError("The debug option 'createLocalList' is invalid ; it should be either 'true' or 'false', [".concat(ne.createLocalList,"] given."))}},{key:"_validateDecimalPlacesRawValue",value:function(H){U.isNull(H.decimalPlacesRawValue)||(H.decimalPlacesRawValue<H.decimalPlaces&&U.warning("The number of decimal places to store in the raw value [".concat(H.decimalPlacesRawValue,"] is lower than the ones to display [").concat(H.decimalPlaces,"]. This will likely confuse your users.\nTo solve that, you'd need to either set `decimalPlacesRawValue` to `null`, or set a number of decimal places for the raw value equal of bigger than `decimalPlaces`."),H.showWarnings),H.decimalPlacesRawValue<H.decimalPlacesShownOnFocus&&U.warning("The number of decimal places to store in the raw value [".concat(H.decimalPlacesRawValue,"] is lower than the ones shown on focus [").concat(H.decimalPlacesShownOnFocus,"]. This will likely confuse your users.\nTo solve that, you'd need to either set `decimalPlacesRawValue` to `null`, or set a number of decimal places for the raw value equal of bigger than `decimalPlacesShownOnFocus`."),H.showWarnings),H.decimalPlacesRawValue<H.decimalPlacesShownOnBlur&&U.warning("The number of decimal places to store in the raw value [".concat(H.decimalPlacesRawValue,"] is lower than the ones shown when unfocused [").concat(H.decimalPlacesShownOnBlur,"]. This will likely confuse your users.\nTo solve that, you'd need to either set `decimalPlacesRawValue` to `null`, or set a number of decimal places for the raw value equal of bigger than `decimalPlacesShownOnBlur`."),H.showWarnings))}},{key:"areSettingsValid",value:function(H){var q=!0;try{this.validate(H,!0)}catch{q=!1}return q}},{key:"getDefaultConfig",value:function(){return we.defaultSettings}},{key:"getPredefinedOptions",value:function(){return we.predefinedOptions}},{key:"_generateOptionsObjectFromOptionsArray",value:function(H){var q,pe=this;return U.isUndefinedOrNullOrEmpty(H)||H.length===0?q=null:(q={},H.length===1&&Array.isArray(H[0])?H[0].forEach(function(ne){Re(q,pe._getOptionObject(ne))}):H.length>=1&&H.forEach(function(ne){Re(q,pe._getOptionObject(ne))})),q}},{key:"format",value:function(H){if(U.isUndefined(H)||H===null)return null;var q;q=U.isElement(H)?U.getElementValue(H):H,U.isString(q)||U.isNumber(q)||U.throwError('The value "'.concat(q,'" being "set" is not numeric and therefore cannot be used appropriately.'));for(var pe=arguments.length,ne=new Array(pe>1?pe-1:0),Ce=1;Ce<pe;Ce++)ne[Ce-1]=arguments[Ce];var Se=this._generateOptionsObjectFromOptionsArray(ne),Ye=Re({},this.getDefaultConfig(),Se);Ye.isNegativeSignAllowed=q<0,Ye.isPositiveSignAllowed=q>=0,this._setBrackets(Ye),this._cachesUsualRegularExpressions(Ye,{});var it=this._toNumericValue(q,Ye);return isNaN(Number(it))&&U.throwError("The value [".concat(it,"] that you are trying to format is not a recognized number.")),this._isWithinRangeWithOverrideOption(it,Ye)||(U.triggerEvent(we.events.formatted,document,{oldValue:null,newValue:null,oldRawValue:null,newRawValue:null,isPristine:null,error:"Range test failed",aNElement:null},!0,!0),U.throwError("The value [".concat(it,"] being set falls outside of the minimumValue [").concat(Ye.minimumValue,"] and maximumValue [").concat(Ye.maximumValue,"] range set for this element"))),Ye.valuesToStrings&&this._checkValuesToStringsSettings(q,Ye)?Ye.valuesToStrings[q]:(this._correctNegativePositiveSignPlacementOption(Ye),this._calculateDecimalPlacesOnInit(Ye),U.isUndefinedOrNullOrEmpty(Ye.rawValueDivisor)||Ye.rawValueDivisor===0||it===""||it===null||(it*=Ye.rawValueDivisor),it=this._roundFormattedValueShownOnFocus(it,Ye),it=this._modifyNegativeSignAndDecimalCharacterForFormattedValue(it,Ye),it=this._addGroupSeparators(it,Ye,!1,it))}},{key:"formatAndSet",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,pe=this.format(H,q);return U.setElementValue(H,pe),pe}},{key:"unformat",value:function(H){if(U.isNumberStrict(H))return H;var q;if((q=U.isElement(H)?U.getElementValue(H):H)==="")return"";if(U.isUndefined(q)||q===null)return null;(U.isArray(q)||U.isObject(q))&&U.throwError("A number or a string representing a number is needed to be able to unformat it, [".concat(q,"] given."));for(var pe=arguments.length,ne=new Array(pe>1?pe-1:0),Ce=1;Ce<pe;Ce++)ne[Ce-1]=arguments[Ce];var Se=this._generateOptionsObjectFromOptionsArray(ne),Ye=Re({},this.getDefaultConfig(),Se);if(Ye.isNegativeSignAllowed=!1,Ye.isPositiveSignAllowed=!0,q=q.toString(),Ye.valuesToStrings&&this._checkStringsToValuesSettings(q,Ye))return U.objectKeyLookup(Ye.valuesToStrings,q);if(U.isNegative(q,Ye.negativeSignCharacter))Ye.isNegativeSignAllowed=!0,Ye.isPositiveSignAllowed=!1;else if(!U.isNull(Ye.negativeBracketsTypeOnBlur)){var it=be(Ye.negativeBracketsTypeOnBlur.split(","),2);Ye.firstBracket=it[0],Ye.lastBracket=it[1],q.charAt(0)===Ye.firstBracket&&q.charAt(q.length-1)===Ye.lastBracket&&(Ye.isNegativeSignAllowed=!0,Ye.isPositiveSignAllowed=!1,q=this._removeBrackets(q,Ye,!1))}return q=this._convertToNumericString(q,Ye),U.isNumber(Number(q))&&(q=U.scientificToDecimal(q)),new RegExp("[^+-0123456789.]","gi").test(q)?NaN:(this._correctNegativePositiveSignPlacementOption(Ye),Ye.decimalPlacesRawValue?Ye.originalDecimalPlacesRawValue=Ye.decimalPlacesRawValue:Ye.originalDecimalPlacesRawValue=Ye.decimalPlaces,this._calculateDecimalPlacesOnInit(Ye),U.isUndefinedOrNullOrEmpty(Ye.rawValueDivisor)||Ye.rawValueDivisor===0||q===""||q===null||(q/=Ye.rawValueDivisor),q=(q=this._roundRawValue(q,Ye)).replace(Ye.decimalCharacter,"."),q=this._toLocale(q,Ye.outputFormat,Ye))}},{key:"unformatAndSet",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,pe=this.unformat(H,q);return U.setElementValue(H,pe),pe}},{key:"localize",value:function(H){var q,pe,ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return(q=U.isElement(H)?U.getElementValue(H):H)===""?"":(U.isNull(ne)&&(ne=we.defaultSettings),q=this.unformat(q,ne),Number(q)===0&&ne.leadingZero!==we.options.leadingZero.keep&&(q="0"),pe=U.isNull(ne)?ne.outputFormat:we.defaultSettings.outputFormat,this._toLocale(q,pe,ne))}},{key:"localizeAndSet",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,pe=this.localize(H,q);return U.setElementValue(H,pe),pe}},{key:"isManagedByAutoNumeric",value:function(H){return this._isInGlobalList(U.domElement(H))}},{key:"getAutoNumericElement",value:function(H){var q=U.domElement(H);return this.isManagedByAutoNumeric(q)?this._getFromGlobalList(q):null}},{key:"set",value:function(H,q){var pe,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,Ce=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],Se=U.domElement(H);return this.isManagedByAutoNumeric(Se)?this.getAutoNumericElement(Se).set(q,ne,Ce):(pe=!(!U.isNull(ne)&&Object.prototype.hasOwnProperty.call(ne,"showWarnings"))||ne.showWarnings,U.warning("Impossible to find an AutoNumeric object for the given DOM element or selector.",pe),null)}},{key:"getNumericString",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return this._get(H,"getNumericString",q)}},{key:"getFormatted",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return this._get(H,"getFormatted",q)}},{key:"getNumber",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return this._get(H,"getNumber",q)}},{key:"_get",value:function(H,q){var pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,ne=U.domElement(H);return this.isManagedByAutoNumeric(ne)||U.throwError("Impossible to find an AutoNumeric object for the given DOM element or selector."),this.getAutoNumericElement(ne)[q](pe)}},{key:"getLocalized",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,ne=U.domElement(H);return this.isManagedByAutoNumeric(ne)||U.throwError("Impossible to find an AutoNumeric object for the given DOM element or selector."),this.getAutoNumericElement(ne).getLocalized(q,pe)}},{key:"_stripAllNonNumberCharacters",value:function(H,q,pe,ne){return this._stripAllNonNumberCharactersExceptCustomDecimalChar(H,q,pe,ne).replace(q.decimalCharacter,".")}},{key:"_stripAllNonNumberCharactersExceptCustomDecimalChar",value:function(H,q,pe,ne){var Ce=(H=(H=this._normalizeCurrencySuffixAndNegativeSignCharacters(H,q)).replace(q.allowedAutoStrip,"")).match(q.numRegAutoStrip);if(H=Ce?[Ce[1],Ce[2],Ce[3]].join(""):"",q.leadingZero===we.options.leadingZero.allow||q.leadingZero===we.options.leadingZero.keep){var Se="",Ye=be(H.split(q.decimalCharacter),2),it=Ye[0],he=Ye[1],De=it;U.contains(De,q.negativeSignCharacter)&&(Se=q.negativeSignCharacter,De=De.replace(q.negativeSignCharacter,"")),Se===""&&De.length>q.mIntPos&&De.charAt(0)==="0"&&(De=De.slice(1)),Se!==""&&De.length>q.mIntNeg&&De.charAt(0)==="0"&&(De=De.slice(1)),H="".concat(Se).concat(De).concat(U.isUndefined(he)?"":q.decimalCharacter+he)}return(pe&&q.leadingZero===we.options.leadingZero.deny||!ne&&q.leadingZero===we.options.leadingZero.allow)&&(H=H.replace(q.stripReg,"$1$2")),H}},{key:"_toggleNegativeBracket",value:function(H,q,pe){return pe?this._removeBrackets(H,q):this._addBrackets(H,q)}},{key:"_addBrackets",value:function(H,q){return U.isNull(q.negativeBracketsTypeOnBlur)?H:"".concat(q.firstBracket).concat(H.replace(q.negativeSignCharacter,"")).concat(q.lastBracket)}},{key:"_removeBrackets",value:function(H,q){var pe,ne=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return U.isNull(q.negativeBracketsTypeOnBlur)||H.charAt(0)!==q.firstBracket?pe=H:(pe=(pe=H.replace(q.firstBracket,"")).replace(q.lastBracket,""),ne?(pe=pe.replace(q.currencySymbol,""),pe=this._mergeCurrencySignNegativePositiveSignAndValue(pe,q,!0,!1)):pe="".concat(q.negativeSignCharacter).concat(pe)),pe}},{key:"_setBrackets",value:function(H){if(U.isNull(H.negativeBracketsTypeOnBlur))H.firstBracket="",H.lastBracket="";else{var q=be(H.negativeBracketsTypeOnBlur.split(","),2),pe=q[0],ne=q[1];H.firstBracket=pe,H.lastBracket=ne}}},{key:"_convertToNumericString",value:function(H,q){H=this._removeBrackets(H,q,!1),H=(H=this._normalizeCurrencySuffixAndNegativeSignCharacters(H,q)).replace(new RegExp("[".concat(q.digitGroupSeparator,"]"),"g"),""),q.decimalCharacter!=="."&&(H=H.replace(q.decimalCharacter,".")),U.isNegative(H)&&H.lastIndexOf("-")===H.length-1&&(H=H.replace("-",""),H="-".concat(H)),q.showPositiveSign&&(H=H.replace(q.positiveSignCharacter,""));var pe=q.leadingZero!==we.options.leadingZero.keep,ne=U.arabicToLatinNumbers(H,pe,!1,!1);return isNaN(ne)||(H=ne.toString()),H}},{key:"_normalizeCurrencySuffixAndNegativeSignCharacters",value:function(H,q){return H=String(H),q.currencySymbol!==we.options.currencySymbol.none&&(H=H.replace(q.currencySymbol,"")),q.suffixText!==we.options.suffixText.none&&(H=H.replace(q.suffixText,"")),q.negativeSignCharacter!==we.options.negativeSignCharacter.hyphen&&(H=H.replace(q.negativeSignCharacter,"-")),H}},{key:"_toLocale",value:function(H,q,pe){if(U.isNull(q)||q===we.options.outputFormat.string)return H;var ne;switch(q){case we.options.outputFormat.number:ne=Number(H);break;case we.options.outputFormat.dotNegative:ne=U.isNegative(H)?H.replace("-","")+"-":H;break;case we.options.outputFormat.comma:case we.options.outputFormat.negativeComma:ne=H.replace(".",",");break;case we.options.outputFormat.commaNegative:ne=H.replace(".",","),ne=U.isNegative(ne)?ne.replace("-","")+"-":ne;break;case we.options.outputFormat.dot:case we.options.outputFormat.negativeDot:ne=H;break;default:U.throwError("The given outputFormat [".concat(q,"] option is not recognized."))}return q!==we.options.outputFormat.number&&pe.negativeSignCharacter!=="-"&&(ne=ne.replace("-",pe.negativeSignCharacter)),ne}},{key:"_modifyNegativeSignAndDecimalCharacterForFormattedValue",value:function(H,q){return q.negativeSignCharacter!=="-"&&(H=H.replace("-",q.negativeSignCharacter)),q.decimalCharacter!=="."&&(H=H.replace(".",q.decimalCharacter)),H}},{key:"_isElementValueEmptyOrOnlyTheNegativeSign",value:function(H,q){return H===""||H===q.negativeSignCharacter}},{key:"_orderValueCurrencySymbolAndSuffixText",value:function(H,q,pe){var ne;if(q.emptyInputBehavior===we.options.emptyInputBehavior.always||pe)switch(q.negativePositiveSignPlacement){case we.options.negativePositiveSignPlacement.left:case we.options.negativePositiveSignPlacement.prefix:case we.options.negativePositiveSignPlacement.none:ne=H+q.currencySymbol+q.suffixText;break;default:ne=q.currencySymbol+H+q.suffixText}else ne=H;return ne}},{key:"_addGroupSeparators",value:function(H,q,pe,ne){var Ce,Se=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(Ce=U.isNull(Se)?U.isNegative(H,q.negativeSignCharacter)||U.isNegativeWithBrackets(H,q.firstBracket,q.lastBracket):Se<0,H=this._stripAllNonNumberCharactersExceptCustomDecimalChar(H,q,!1,pe),this._isElementValueEmptyOrOnlyTheNegativeSign(H,q))return this._orderValueCurrencySymbolAndSuffixText(H,q,!0);var Ye=U.isZeroOrHasNoValue(H);Ce&&(H=H.replace("-",""));var it,he=be(H.split(q.decimalCharacter),2),De=he[0],qe=he[1];if(q.decimalCharacterAlternative&&U.isUndefined(qe)){var Ge=be(H.split(q.decimalCharacterAlternative),2);De=Ge[0],qe=Ge[1]}if(q.digitGroupSeparator!==""){var ke;switch(q.digitalGroupSpacing=q.digitalGroupSpacing.toString(),q.digitalGroupSpacing){case we.options.digitalGroupSpacing.twoThree:ke=/(\d)((\d)(\d{2}?)+)$/;break;case we.options.digitalGroupSpacing.twoScaled:ke=/(\d)((?:\d{2}){0,2}\d{3}(?:(?:\d{2}){2}\d{3})*?)$/;break;case we.options.digitalGroupSpacing.two:case we.options.digitalGroupSpacing.three:case we.options.digitalGroupSpacing.four:default:ke=new RegExp("(\\d)((\\d{".concat(q.digitalGroupSpacing,"}?)+)$"))}for(;ke.test(De);)De=De.replace(ke,"$1".concat(q.digitGroupSeparator,"$2"))}return(it=pe?q.decimalPlacesShownOnFocus:q.decimalPlacesShownOnBlur)===0||U.isUndefined(qe)?H=De:(qe.length>it&&(qe=qe.substring(0,it)),H="".concat(De).concat(q.decimalCharacter).concat(qe)),H=we._mergeCurrencySignNegativePositiveSignAndValue(H,q,Ce,Ye),U.isNull(Se)&&(Se=ne),q.negativeBracketsTypeOnBlur!==null&&(Se<0||U.isNegativeStrict(H,q.negativeSignCharacter))&&(H=this._toggleNegativeBracket(H,q,pe)),q.suffixText?"".concat(H).concat(q.suffixText):H}},{key:"_mergeCurrencySignNegativePositiveSignAndValue",value:function(H,q,pe,ne){var Ce,Se="";if(pe?Se=q.negativeSignCharacter:q.showPositiveSign&&!ne&&(Se=q.positiveSignCharacter),q.currencySymbolPlacement===we.options.currencySymbolPlacement.prefix)if(q.negativePositiveSignPlacement!==we.options.negativePositiveSignPlacement.none&&(pe||!pe&&q.showPositiveSign&&!ne))switch(q.negativePositiveSignPlacement){case we.options.negativePositiveSignPlacement.prefix:case we.options.negativePositiveSignPlacement.left:Ce="".concat(Se).concat(q.currencySymbol).concat(H);break;case we.options.negativePositiveSignPlacement.right:Ce="".concat(q.currencySymbol).concat(Se).concat(H);break;case we.options.negativePositiveSignPlacement.suffix:Ce="".concat(q.currencySymbol).concat(H).concat(Se)}else Ce=q.currencySymbol+H;else if(q.currencySymbolPlacement===we.options.currencySymbolPlacement.suffix)if(q.negativePositiveSignPlacement!==we.options.negativePositiveSignPlacement.none&&(pe||!pe&&q.showPositiveSign&&!ne))switch(q.negativePositiveSignPlacement){case we.options.negativePositiveSignPlacement.suffix:case we.options.negativePositiveSignPlacement.right:Ce="".concat(H).concat(q.currencySymbol).concat(Se);break;case we.options.negativePositiveSignPlacement.left:Ce="".concat(H).concat(Se).concat(q.currencySymbol);break;case we.options.negativePositiveSignPlacement.prefix:Ce="".concat(Se).concat(H).concat(q.currencySymbol)}else Ce=H+q.currencySymbol;return Ce}},{key:"_truncateZeros",value:function(H,q){var pe;switch(q){case 0:pe=/(\.(?:\d*[1-9])?)0*$/;break;case 1:pe=/(\.\d(?:\d*[1-9])?)0*$/;break;default:pe=new RegExp("(\\.\\d{".concat(q,"}(?:\\d*[1-9])?)0*"))}return H=H.replace(pe,"$1"),q===0&&(H=H.replace(/\.$/,"")),H}},{key:"_roundRawValue",value:function(H,q){return this._roundValue(H,q,q.decimalPlacesRawValue)}},{key:"_roundFormattedValueShownOnFocus",value:function(H,q){return this._roundValue(H,q,Number(q.decimalPlacesShownOnFocus))}},{key:"_roundFormattedValueShownOnBlur",value:function(H,q){return this._roundValue(H,q,Number(q.decimalPlacesShownOnBlur))}},{key:"_roundFormattedValueShownOnFocusOrBlur",value:function(H,q,pe){return pe?this._roundFormattedValueShownOnFocus(H,q):this._roundFormattedValueShownOnBlur(H,q)}},{key:"_roundValue",value:function(H,q,pe){if(U.isNull(H))return H;if(H=H===""?"0":H.toString(),q.roundingMethod===we.options.roundingMethod.toNearest05||q.roundingMethod===we.options.roundingMethod.toNearest05Alt||q.roundingMethod===we.options.roundingMethod.upToNext05||q.roundingMethod===we.options.roundingMethod.downToNext05)return this._roundCloseTo05(H,q);var ne,Ce=be(we._prepareValueForRounding(H,q),2),Se=Ce[0],Ye=(H=Ce[1]).lastIndexOf("."),it=Ye===-1,he=be(H.split("."),2),De=he[0];if(!(he[1]>0||q.allowDecimalPadding!==we.options.allowDecimalPadding.never&&q.allowDecimalPadding!==we.options.allowDecimalPadding.floats))return Number(H)===0?De:"".concat(Se).concat(De);ne=q.allowDecimalPadding===we.options.allowDecimalPadding.always||q.allowDecimalPadding===we.options.allowDecimalPadding.floats?pe:q.allowDecimalPadding>0?q.allowDecimalPadding:0;var qe,Ge=it?H.length-1:Ye,ke=H.length-1-Ge,Ue="";if(ke<=pe){if(Ue=H,ke<ne){it&&(Ue="".concat(Ue).concat(q.decimalCharacter));for(var Je="000000";ke<ne;)Ue+=Je=Je.substring(0,ne-ke),ke+=Je.length}else ke>ne?Ue=this._truncateZeros(Ue,ne):ke===0&&ne===0&&(Ue=Ue.replace(/\.$/,""));return Number(Ue)===0?Ue:"".concat(Se).concat(Ue)}qe=it?pe-1:Number(pe)+Number(Ye);var st,ct=Number(H.charAt(qe+1)),ft=H.substring(0,qe+1).split("");if(st=H.charAt(qe)==="."?H.charAt(qe-1)%2:H.charAt(qe)%2,this._shouldRoundUp(ct,q,Se,st)){for(var pt=ft.length-1;pt>=0;pt-=1)if(ft[pt]!=="."){if(ft[pt]=+ft[pt]+1,ft[pt]<10)break;pt>0&&(ft[pt]="0")}}return ft=ft.slice(0,qe+1),Ue=this._truncateZeros(ft.join(""),ne),Number(Ue)===0?Ue:"".concat(Se).concat(Ue)}},{key:"_roundCloseTo05",value:function(H,q){switch(q.roundingMethod){case we.options.roundingMethod.toNearest05:case we.options.roundingMethod.toNearest05Alt:H=(Math.round(20*H)/20).toString();break;case we.options.roundingMethod.upToNext05:H=(Math.ceil(20*H)/20).toString();break;default:H=(Math.floor(20*H)/20).toString()}return U.contains(H,".")?H.length-H.indexOf(".")<3?H+"0":H:H+".00"}},{key:"_prepareValueForRounding",value:function(H,q){var pe="";return U.isNegativeStrict(H,"-")&&(pe="-",H=H.replace("-","")),H.match(/^\d/)||(H="0".concat(H)),Number(H)===0&&(pe=""),(Number(H)>0&&q.leadingZero!==we.options.leadingZero.keep||H.length>0&&q.leadingZero===we.options.leadingZero.allow)&&(H=H.replace(/^0*(\d)/,"$1")),[pe,H]}},{key:"_shouldRoundUp",value:function(H,q,pe,ne){return H>4&&q.roundingMethod===we.options.roundingMethod.halfUpSymmetric||H>4&&q.roundingMethod===we.options.roundingMethod.halfUpAsymmetric&&pe===""||H>5&&q.roundingMethod===we.options.roundingMethod.halfUpAsymmetric&&pe==="-"||H>5&&q.roundingMethod===we.options.roundingMethod.halfDownSymmetric||H>5&&q.roundingMethod===we.options.roundingMethod.halfDownAsymmetric&&pe===""||H>4&&q.roundingMethod===we.options.roundingMethod.halfDownAsymmetric&&pe==="-"||H>5&&q.roundingMethod===we.options.roundingMethod.halfEvenBankersRounding||H===5&&q.roundingMethod===we.options.roundingMethod.halfEvenBankersRounding&&ne===1||H>0&&q.roundingMethod===we.options.roundingMethod.toCeilingTowardPositiveInfinity&&pe===""||H>0&&q.roundingMethod===we.options.roundingMethod.toFloorTowardNegativeInfinity&&pe==="-"||H>0&&q.roundingMethod===we.options.roundingMethod.upRoundAwayFromZero}},{key:"_truncateDecimalPlaces",value:function(H,q,pe,ne){pe&&(H=this._roundFormattedValueShownOnFocus(H,q));var Ce=be(H.split(q.decimalCharacter),2),Se=Ce[0],Ye=Ce[1];if(Ye&&Ye.length>ne)if(ne>0){var it=Ye.substring(0,ne);H="".concat(Se).concat(q.decimalCharacter).concat(it)}else H=Se;return H}},{key:"_checkIfInRangeWithOverrideOption",value:function(H,q){if(U.isNull(H)&&q.emptyInputBehavior===we.options.emptyInputBehavior.null||q.overrideMinMaxLimits===we.options.overrideMinMaxLimits.ignore||q.overrideMinMaxLimits===we.options.overrideMinMaxLimits.invalid)return[!0,!0];H=(H=H.toString()).replace(",",".");var pe,ne=U.parseStr(q.minimumValue),Ce=U.parseStr(q.maximumValue),Se=U.parseStr(H);switch(q.overrideMinMaxLimits){case we.options.overrideMinMaxLimits.floor:pe=[U.testMinMax(ne,Se)>-1,!0];break;case we.options.overrideMinMaxLimits.ceiling:pe=[!0,U.testMinMax(Ce,Se)<1];break;default:pe=[U.testMinMax(ne,Se)>-1,U.testMinMax(Ce,Se)<1]}return pe}},{key:"_isWithinRangeWithOverrideOption",value:function(H,q){var pe=be(this._checkIfInRangeWithOverrideOption(H,q),2),ne=pe[0],Ce=pe[1];return ne&&Ce}},{key:"_cleanValueForRangeParse",value:function(H){return H=H.toString().replace(",","."),U.parseStr(H)}},{key:"_isMinimumRangeRespected",value:function(H,q){return U.testMinMax(U.parseStr(q.minimumValue),this._cleanValueForRangeParse(H))>-1}},{key:"_isMaximumRangeRespected",value:function(H,q){return U.testMinMax(U.parseStr(q.maximumValue),this._cleanValueForRangeParse(H))<1}},{key:"_correctNegativePositiveSignPlacementOption",value:function(H){if(U.isNull(H.negativePositiveSignPlacement))if(U.isUndefined(H)||!U.isUndefinedOrNullOrEmpty(H.negativePositiveSignPlacement)||U.isUndefinedOrNullOrEmpty(H.currencySymbol))H.negativePositiveSignPlacement=we.options.negativePositiveSignPlacement.left;else switch(H.currencySymbolPlacement){case we.options.currencySymbolPlacement.suffix:H.negativePositiveSignPlacement=we.options.negativePositiveSignPlacement.prefix;break;case we.options.currencySymbolPlacement.prefix:H.negativePositiveSignPlacement=we.options.negativePositiveSignPlacement.left}}},{key:"_correctCaretPositionOnFocusAndSelectOnFocusOptions",value:function(H){return U.isNull(H)?null:(!U.isUndefinedOrNullOrEmpty(H.caretPositionOnFocus)&&U.isUndefinedOrNullOrEmpty(H.selectOnFocus)&&(H.selectOnFocus=we.options.selectOnFocus.doNotSelect),U.isUndefinedOrNullOrEmpty(H.caretPositionOnFocus)&&!U.isUndefinedOrNullOrEmpty(H.selectOnFocus)&&H.selectOnFocus===we.options.selectOnFocus.select&&(H.caretPositionOnFocus=we.options.caretPositionOnFocus.doNoForceCaretPosition),H)}},{key:"_calculateDecimalPlacesOnInit",value:function(H){this._validateDecimalPlacesRawValue(H),H.decimalPlacesShownOnFocus===we.options.decimalPlacesShownOnFocus.useDefault&&(H.decimalPlacesShownOnFocus=H.decimalPlaces),H.decimalPlacesShownOnBlur===we.options.decimalPlacesShownOnBlur.useDefault&&(H.decimalPlacesShownOnBlur=H.decimalPlaces),H.decimalPlacesRawValue===we.options.decimalPlacesRawValue.useDefault&&(H.decimalPlacesRawValue=H.decimalPlaces);var q=0;H.rawValueDivisor&&H.rawValueDivisor!==we.options.rawValueDivisor.none&&(q=String(H.rawValueDivisor).length-1)<0&&(q=0),H.decimalPlacesRawValue=Math.max(Math.max(H.decimalPlacesShownOnBlur,H.decimalPlacesShownOnFocus)+q,Number(H.originalDecimalPlacesRawValue)+q)}},{key:"_calculateDecimalPlacesOnUpdate",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this._validateDecimalPlacesRawValue(H),U.isNull(q)&&U.throwError("When updating the settings, the previous ones should be passed as an argument.");var pe="decimalPlaces"in H;if(pe||"decimalPlacesRawValue"in H||"decimalPlacesShownOnFocus"in H||"decimalPlacesShownOnBlur"in H||"rawValueDivisor"in H){pe?("decimalPlacesShownOnFocus"in H&&H.decimalPlacesShownOnFocus!==we.options.decimalPlacesShownOnFocus.useDefault||(H.decimalPlacesShownOnFocus=H.decimalPlaces),"decimalPlacesShownOnBlur"in H&&H.decimalPlacesShownOnBlur!==we.options.decimalPlacesShownOnBlur.useDefault||(H.decimalPlacesShownOnBlur=H.decimalPlaces),"decimalPlacesRawValue"in H&&H.decimalPlacesRawValue!==we.options.decimalPlacesRawValue.useDefault||(H.decimalPlacesRawValue=H.decimalPlaces)):(U.isUndefined(H.decimalPlacesShownOnFocus)&&(H.decimalPlacesShownOnFocus=q.decimalPlacesShownOnFocus),U.isUndefined(H.decimalPlacesShownOnBlur)&&(H.decimalPlacesShownOnBlur=q.decimalPlacesShownOnBlur));var ne=0;H.rawValueDivisor&&H.rawValueDivisor!==we.options.rawValueDivisor.none&&(ne=String(H.rawValueDivisor).length-1)<0&&(ne=0),H.decimalPlaces||H.decimalPlacesRawValue?H.decimalPlacesRawValue=Math.max(Math.max(H.decimalPlacesShownOnBlur,H.decimalPlacesShownOnFocus)+ne,Number(H.decimalPlacesRawValue)+ne):H.decimalPlacesRawValue=Math.max(Math.max(H.decimalPlacesShownOnBlur,H.decimalPlacesShownOnFocus)+ne,Number(q.originalDecimalPlacesRawValue)+ne)}}},{key:"_cachesUsualRegularExpressions",value:function(H,q){var pe;pe=H.negativeSignCharacter!==we.options.negativeSignCharacter.hyphen?"([-\\".concat(H.negativeSignCharacter,"]?)"):"(-?)",q.aNegRegAutoStrip=pe,H.allowedAutoStrip=new RegExp("[^-0123456789\\".concat(H.decimalCharacter,"]"),"g"),H.numRegAutoStrip=new RegExp("".concat(pe,"(?:\\").concat(H.decimalCharacter,"?([0-9]+\\").concat(H.decimalCharacter,"[0-9]+)|([0-9]*(?:\\").concat(H.decimalCharacter,"[0-9]*)?))")),H.stripReg=new RegExp("^".concat(q.aNegRegAutoStrip,"0*([0-9])")),H.formulaChars=new RegExp("[0-9".concat(H.decimalCharacter,"+\\-*/() ]"))}},{key:"_convertOldOptionsToNewOnes",value:function(H){var q={aSep:"digitGroupSeparator",nSep:"showOnlyNumbersOnFocus",dGroup:"digitalGroupSpacing",aDec:"decimalCharacter",altDec:"decimalCharacterAlternative",aSign:"currencySymbol",pSign:"currencySymbolPlacement",pNeg:"negativePositiveSignPlacement",aSuffix:"suffixText",oLimits:"overrideMinMaxLimits",vMax:"maximumValue",vMin:"minimumValue",mDec:"decimalPlacesOverride",eDec:"decimalPlacesShownOnFocus",scaleDecimal:"decimalPlacesShownOnBlur",aStor:"saveValueToSessionStorage",mRound:"roundingMethod",aPad:"allowDecimalPadding",nBracket:"negativeBracketsTypeOnBlur",wEmpty:"emptyInputBehavior",lZero:"leadingZero",aForm:"formatOnPageLoad",sNumber:"selectNumberOnly",anDefault:"defaultValueOverride",unSetOnSubmit:"unformatOnSubmit",outputType:"outputFormat",debug:"showWarnings",allowDecimalPadding:!0,alwaysAllowDecimalCharacter:!0,caretPositionOnFocus:!0,createLocalList:!0,currencySymbol:!0,currencySymbolPlacement:!0,decimalCharacter:!0,decimalCharacterAlternative:!0,decimalPlaces:!0,decimalPlacesRawValue:!0,decimalPlacesShownOnBlur:!0,decimalPlacesShownOnFocus:!0,defaultValueOverride:!0,digitalGroupSpacing:!0,digitGroupSeparator:!0,divisorWhenUnfocused:!0,emptyInputBehavior:!0,eventBubbles:!0,eventIsCancelable:!0,failOnUnknownOption:!0,formatOnPageLoad:!0,formulaMode:!0,historySize:!0,isCancellable:!0,leadingZero:!0,maximumValue:!0,minimumValue:!0,modifyValueOnUpDownArrow:!0,modifyValueOnWheel:!0,negativeBracketsTypeOnBlur:!0,negativePositiveSignPlacement:!0,negativeSignCharacter:!0,negativePositiveSignBehavior:!0,noEventListeners:!0,onInvalidPaste:!0,outputFormat:!0,overrideMinMaxLimits:!0,positiveSignCharacter:!0,rawValueDivisor:!0,readOnly:!0,roundingMethod:!0,saveValueToSessionStorage:!0,selectNumberOnly:!0,selectOnFocus:!0,serializeSpaces:!0,showOnlyNumbersOnFocus:!0,showPositiveSign:!0,showWarnings:!0,styleRules:!0,suffixText:!0,symbolWhenUnfocused:!0,upDownStep:!0,unformatOnHover:!0,unformatOnSubmit:!0,valuesToStrings:!0,watchExternalChanges:!0,wheelOn:!0,wheelStep:!0,allowedAutoStrip:!0,formulaChars:!0,isNegativeSignAllowed:!0,isPositiveSignAllowed:!0,mIntNeg:!0,mIntPos:!0,numRegAutoStrip:!0,originalDecimalPlaces:!0,originalDecimalPlacesRawValue:!0,stripReg:!0};for(var pe in H)if(Object.prototype.hasOwnProperty.call(H,pe)){if(q[pe]===!0)continue;Object.prototype.hasOwnProperty.call(q,pe)?(U.warning("You are using the deprecated option name '".concat(pe,"'. Please use '").concat(q[pe],"' instead from now on. The old option name will be dropped very soon™."),!0),H[q[pe]]=H[pe],delete H[pe]):H.failOnUnknownOption&&U.throwError("Option name '".concat(pe,"' is unknown. Please fix the options passed to autoNumeric"))}"mDec"in H&&U.warning("The old `mDec` option has been deprecated in favor of more accurate options ; `decimalPlaces`, `decimalPlacesRawValue`, `decimalPlacesShownOnFocus` and `decimalPlacesShownOnBlur`.",!0)}},{key:"_setNegativePositiveSignPermissions",value:function(H){H.isNegativeSignAllowed=H.minimumValue<0,H.isPositiveSignAllowed=H.maximumValue>=0}},{key:"_toNumericValue",value:function(H,q){var pe;return U.isNumber(Number(H))?(U.isNumberStrict(H)||(H=String(H).trim()),pe=U.scientificToDecimal(H)):(pe=this._convertToNumericString(H.toString(),q),U.isNumber(Number(pe))||(U.warning('The given value "'.concat(H,'" cannot be converted to a numeric one and therefore cannot be used appropriately.'),q.showWarnings),pe=NaN)),pe}},{key:"_checkIfInRange",value:function(H,q,pe){var ne=U.parseStr(H);return U.testMinMax(q,ne)>-1&&U.testMinMax(pe,ne)<1}},{key:"_shouldSkipEventKey",value:function(H){var q=U.isInArray(H,F.keyName._allFnKeys),pe=H===F.keyName.OSLeft||H===F.keyName.OSRight,ne=H===F.keyName.ContextMenu,Ce=U.isInArray(H,F.keyName._someNonPrintableKeys),Se=H===F.keyName.NumLock||H===F.keyName.ScrollLock||H===F.keyName.Insert||H===F.keyName.Command,Ye=H===F.keyName.Unidentified;return q||pe||ne||Ce||Ye||Se}},{key:"_serialize",value:function(H){var q,pe=this,ne=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"unformatted",Se=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"+",Ye=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,it=[];return Oe(H)==="object"&&H.nodeName.toLowerCase()==="form"&&Array.prototype.slice.call(H.elements).forEach(function(he){if(he.name&&!he.disabled&&["file","reset","submit","button"].indexOf(he.type)===-1){if(he.type==="select-multiple")Array.prototype.slice.call(he.options).forEach(function(ke){ke.selected&&(ne?it.push({name:he.name,value:ke.value}):it.push("".concat(encodeURIComponent(he.name),"=").concat(encodeURIComponent(ke.value))))});else if(["checkbox","radio"].indexOf(he.type)===-1||he.checked){var De,qe;if(pe.isManagedByAutoNumeric(he))switch(Ce){case"unformatted":qe=pe.getAutoNumericElement(he),U.isNull(qe)||(De=pe.unformat(he,qe.getSettings()));break;case"localized":if(qe=pe.getAutoNumericElement(he),!U.isNull(qe)){var Ge=U.cloneObject(qe.getSettings());U.isNull(Ye)||(Ge.outputFormat=Ye),De=pe.localize(he,Ge)}break;default:De=he.value}else De=he.value;U.isUndefined(De)&&U.throwError("This error should never be hit. If it has, something really wrong happened!"),ne?it.push({name:he.name,value:De}):it.push("".concat(encodeURIComponent(he.name),"=").concat(encodeURIComponent(De)))}}}),ne?q=it:(q=it.join("&"),Se==="+"&&(q=q.replace(/%20/g,"+"))),q}},{key:"_serializeNumericString",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"+";return this._serialize(H,!1,"unformatted",q)}},{key:"_serializeFormatted",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"+";return this._serialize(H,!1,"formatted",q)}},{key:"_serializeLocalized",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"+",pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return this._serialize(H,!1,"localized",q,pe)}},{key:"_serializeNumericStringArray",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"+";return this._serialize(H,!0,"unformatted",q)}},{key:"_serializeFormattedArray",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"+";return this._serialize(H,!0,"formatted",q)}},{key:"_serializeLocalizedArray",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"+",pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return this._serialize(H,!0,"localized",q,pe)}}],rt&&Ae(et.prototype,rt),at&&Ae(et,at),Object.defineProperty(et,"prototype",{writable:!1}),we}();He(Ne,"options",void 0),He(Ne,"events",void 0),He(Ne,"defaultSettings",void 0),He(Ne,"predefinedOptions",void 0),Ne.multiple=function(we){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,at=[];if(U.isObject(et)&&(rt=et,et=null),U.isString(we))we=Pe(document.querySelectorAll(we));else if(U.isObject(we)){Object.prototype.hasOwnProperty.call(we,"rootElement")||U.throwError("The object passed to the 'multiple' function is invalid ; no 'rootElement' attribute found.");var H=Pe(we.rootElement.querySelectorAll("input"));Object.prototype.hasOwnProperty.call(we,"exclude")?(Array.isArray(we.exclude)||U.throwError("The 'exclude' array passed to the 'multiple' function is invalid."),we=U.filterOut(H,we.exclude)):we=H}else U.isArray(we)||U.throwError("The given parameters to the 'multiple' function are invalid.");if(we.length===0){var q=!0;return!U.isNull(rt)&&U.isBoolean(rt.showWarnings)&&(q=rt.showWarnings),U.warning("No valid DOM elements were given hence no AutoNumeric objects were instantiated.",q),[]}var pe=U.isArray(et)&&et.length>=1,ne=!1,Ce=!1;if(pe){var Se=Oe(Number(et[0]));(ne=Se==="number"&&!isNaN(Number(et[0])))||(Se==="string"||isNaN(Se)||Se==="object")&&(Ce=!0)}var Ye,it=!1;if(U.isArray(rt)&&rt.length>=1){var he=Oe(rt[0]);he!=="string"&&he!=="object"||(it=!0)}Ye=Ce?Ne.mergeOptions(et):it?Ne.mergeOptions(rt):rt;var De,qe=U.isNumber(et);return ne&&(De=et.length),we.forEach(function(Ge,ke){qe?at.push(new Ne(Ge,et,Ye)):ne&&ke<=De?at.push(new Ne(Ge,et[ke],Ye)):at.push(new Ne(Ge,null,Ye))}),at},Ne.events={correctedValue:"autoNumeric:correctedValue",initialized:"autoNumeric:initialized",invalidFormula:"autoNumeric:invalidFormula",invalidValue:"autoNumeric:invalidValue",formatted:"autoNumeric:formatted",rawValueModified:"autoNumeric:rawValueModified",minRangeExceeded:"autoNumeric:minExceeded",maxRangeExceeded:"autoNumeric:maxExceeded",native:{input:"input",change:"change"},validFormula:"autoNumeric:validFormula"},Object.freeze(Ne.events.native),Object.freeze(Ne.events),Object.defineProperty(Ne,"events",{configurable:!1,writable:!1}),Ne.options={allowDecimalPadding:{always:!0,never:!1,floats:"floats"},alwaysAllowDecimalCharacter:{alwaysAllow:!0,doNotAllow:!1},caretPositionOnFocus:{start:"start",end:"end",decimalLeft:"decimalLeft",decimalRight:"decimalRight",doNoForceCaretPosition:null},createLocalList:{createList:!0,doNotCreateList:!1},currencySymbol:{none:"",currencySign:"¤",austral:"₳",australCentavo:"¢",baht:"฿",cedi:"₵",cent:"¢",colon:"₡",cruzeiro:"₢",dollar:"$",dong:"₫",drachma:"₯",dram:"​֏",european:"₠",euro:"€",florin:"ƒ",franc:"₣",guarani:"₲",hryvnia:"₴",kip:"₭",att:"ອັດ",lepton:"Λ.",lira:"₺",liraOld:"₤",lari:"₾",mark:"ℳ",mill:"₥",naira:"₦",peseta:"₧",peso:"₱",pfennig:"₰",pound:"£",real:"R$ ",riel:"៛",ruble:"₽",rupee:"₹",rupeeOld:"₨",shekel:"₪",shekelAlt:"ש״ח‎‎",taka:"৳",tenge:"₸",togrog:"₮",won:"₩",yen:"¥"},currencySymbolPlacement:{prefix:"p",suffix:"s"},decimalCharacter:{comma:",",dot:".",middleDot:"·",arabicDecimalSeparator:"٫",decimalSeparatorKeySymbol:"⎖"},decimalCharacterAlternative:{none:null,comma:",",dot:"."},decimalPlaces:{none:0,one:1,two:2,three:3,four:4,five:5,six:6},decimalPlacesRawValue:{useDefault:null,none:0,one:1,two:2,three:3,four:4,five:5,six:6},decimalPlacesShownOnBlur:{useDefault:null,none:0,one:1,two:2,three:3,four:4,five:5,six:6},decimalPlacesShownOnFocus:{useDefault:null,none:0,one:1,two:2,three:3,four:4,five:5,six:6},defaultValueOverride:{doNotOverride:null},digitalGroupSpacing:{two:"2",twoThree:"2t",twoScaled:"2s",three:"3",four:"4"},digitGroupSeparator:{comma:",",dot:".",normalSpace:" ",thinSpace:" ",narrowNoBreakSpace:" ",noBreakSpace:" ",noSeparator:"",apostrophe:"'",arabicThousandsSeparator:"٬",dotAbove:"˙",privateUseTwo:"’"},divisorWhenUnfocused:{none:null,percentage:100,permille:1e3,basisPoint:1e4},emptyInputBehavior:{focus:"focus",press:"press",always:"always",zero:"zero",min:"min",max:"max",null:"null"},eventBubbles:{bubbles:!0,doesNotBubble:!1},eventIsCancelable:{isCancelable:!0,isNotCancelable:!1},failOnUnknownOption:{fail:!0,ignore:!1},formatOnPageLoad:{format:!0,doNotFormat:!1},formulaMode:{enabled:!0,disabled:!1},historySize:{verySmall:5,small:10,medium:20,large:50,veryLarge:100,insane:Number.MAX_SAFE_INTEGER},invalidClass:"an-invalid",isCancellable:{cancellable:!0,notCancellable:!1},leadingZero:{allow:"allow",deny:"deny",keep:"keep"},maximumValue:{tenTrillions:"10000000000000",oneBillion:"1000000000",zero:"0"},minimumValue:{tenTrillions:"-10000000000000",oneBillion:"-1000000000",zero:"0"},modifyValueOnUpDownArrow:{modifyValue:!0,doNothing:!1},modifyValueOnWheel:{modifyValue:!0,doNothing:!1},negativeBracketsTypeOnBlur:{parentheses:"(,)",brackets:"[,]",chevrons:"<,>",curlyBraces:"{,}",angleBrackets:"〈,〉",japaneseQuotationMarks:"｢,｣",halfBrackets:"⸤,⸥",whiteSquareBrackets:"⟦,⟧",quotationMarks:"‹,›",guillemets:"«,»",none:null},negativePositiveSignPlacement:{prefix:"p",suffix:"s",left:"l",right:"r",none:null},negativeSignCharacter:{hyphen:"-",minus:"−",heavyMinus:"➖",fullWidthHyphen:"－",circledMinus:"⊖",squaredMinus:"⊟",triangleMinus:"⨺",plusMinus:"±",minusPlus:"∓",dotMinus:"∸",minusTilde:"≂",not:"¬"},negativePositiveSignBehavior:{toggle:!0,doNotToggle:!1},noEventListeners:{noEvents:!0,addEvents:!1},onInvalidPaste:{error:"error",ignore:"ignore",clamp:"clamp",truncate:"truncate",replace:"replace"},outputFormat:{string:"string",number:"number",dot:".",negativeDot:"-.",comma:",",negativeComma:"-,",dotNegative:".-",commaNegative:",-",none:null},overrideMinMaxLimits:{ceiling:"ceiling",floor:"floor",ignore:"ignore",invalid:"invalid",doNotOverride:null},positiveSignCharacter:{plus:"+",fullWidthPlus:"＋",heavyPlus:"➕",doublePlus:"⧺",triplePlus:"⧻",circledPlus:"⊕",squaredPlus:"⊞",trianglePlus:"⨹",plusMinus:"±",minusPlus:"∓",dotPlus:"∔",altHebrewPlus:"﬩",normalSpace:" ",thinSpace:" ",narrowNoBreakSpace:" ",noBreakSpace:" "},rawValueDivisor:{none:null,percentage:100,permille:1e3,basisPoint:1e4},readOnly:{readOnly:!0,readWrite:!1},roundingMethod:{halfUpSymmetric:"S",halfUpAsymmetric:"A",halfDownSymmetric:"s",halfDownAsymmetric:"a",halfEvenBankersRounding:"B",upRoundAwayFromZero:"U",downRoundTowardZero:"D",toCeilingTowardPositiveInfinity:"C",toFloorTowardNegativeInfinity:"F",toNearest05:"N05",toNearest05Alt:"CHF",upToNext05:"U05",downToNext05:"D05"},saveValueToSessionStorage:{save:!0,doNotSave:!1},selectNumberOnly:{selectNumbersOnly:!0,selectAll:!1},selectOnFocus:{select:!0,doNotSelect:!1},serializeSpaces:{plus:"+",percent:"%20"},showOnlyNumbersOnFocus:{onlyNumbers:!0,showAll:!1},showPositiveSign:{show:!0,hide:!1},showWarnings:{show:!0,hide:!1},styleRules:{none:null,positiveNegative:{positive:"autoNumeric-positive",negative:"autoNumeric-negative"},range0To100With4Steps:{ranges:[{min:0,max:25,class:"autoNumeric-red"},{min:25,max:50,class:"autoNumeric-orange"},{min:50,max:75,class:"autoNumeric-yellow"},{min:75,max:100,class:"autoNumeric-green"}]},evenOdd:{userDefined:[{callback:function(we){return we%2==0},classes:["autoNumeric-even","autoNumeric-odd"]}]},rangeSmallAndZero:{userDefined:[{callback:function(we){return we>=-1&&we<0?0:Number(we)===0?1:we>0&&we<=1?2:null},classes:["autoNumeric-small-negative","autoNumeric-zero","autoNumeric-small-positive"]}]}},suffixText:{none:"",percentage:"%",permille:"‰",basisPoint:"‱"},symbolWhenUnfocused:{none:null,percentage:"%",permille:"‰",basisPoint:"‱"},unformatOnHover:{unformat:!0,doNotUnformat:!1},unformatOnSubmit:{unformat:!0,keepCurrentValue:!1},upDownStep:{progressive:"progressive"},valuesToStrings:{none:null,zeroDash:{0:"-"},oneAroundZero:{"-1":"Min",1:"Max"}},watchExternalChanges:{watch:!0,doNotWatch:!1},wheelOn:{focus:"focus",hover:"hover"},wheelStep:{progressive:"progressive"}},je=Ne.options,Object.getOwnPropertyNames(je).forEach(function(we){we==="valuesToStrings"?Object.getOwnPropertyNames(je.valuesToStrings).forEach(function(et){je.valuesToStrings[et]!==null&&Object.freeze(je.valuesToStrings[et])}):we!=="styleRules"&&je[we]!==null&&Object.freeze(je[we])}),Object.freeze(je),Object.defineProperty(Ne,"options",{configurable:!1,writable:!1}),Ne.defaultSettings={allowDecimalPadding:Ne.options.allowDecimalPadding.always,alwaysAllowDecimalCharacter:Ne.options.alwaysAllowDecimalCharacter.doNotAllow,caretPositionOnFocus:Ne.options.caretPositionOnFocus.doNoForceCaretPosition,createLocalList:Ne.options.createLocalList.createList,currencySymbol:Ne.options.currencySymbol.none,currencySymbolPlacement:Ne.options.currencySymbolPlacement.prefix,decimalCharacter:Ne.options.decimalCharacter.dot,decimalCharacterAlternative:Ne.options.decimalCharacterAlternative.none,decimalPlaces:Ne.options.decimalPlaces.two,decimalPlacesRawValue:Ne.options.decimalPlacesRawValue.useDefault,decimalPlacesShownOnBlur:Ne.options.decimalPlacesShownOnBlur.useDefault,decimalPlacesShownOnFocus:Ne.options.decimalPlacesShownOnFocus.useDefault,defaultValueOverride:Ne.options.defaultValueOverride.doNotOverride,digitalGroupSpacing:Ne.options.digitalGroupSpacing.three,digitGroupSeparator:Ne.options.digitGroupSeparator.comma,divisorWhenUnfocused:Ne.options.divisorWhenUnfocused.none,emptyInputBehavior:Ne.options.emptyInputBehavior.focus,eventBubbles:Ne.options.eventBubbles.bubbles,eventIsCancelable:Ne.options.eventIsCancelable.isCancelable,failOnUnknownOption:Ne.options.failOnUnknownOption.ignore,formatOnPageLoad:Ne.options.formatOnPageLoad.format,formulaMode:Ne.options.formulaMode.disabled,historySize:Ne.options.historySize.medium,invalidClass:Ne.options.invalidClass,isCancellable:Ne.options.isCancellable.cancellable,leadingZero:Ne.options.leadingZero.deny,maximumValue:Ne.options.maximumValue.tenTrillions,minimumValue:Ne.options.minimumValue.tenTrillions,modifyValueOnUpDownArrow:Ne.options.modifyValueOnUpDownArrow.modifyValue,modifyValueOnWheel:Ne.options.modifyValueOnWheel.modifyValue,negativeBracketsTypeOnBlur:Ne.options.negativeBracketsTypeOnBlur.none,negativePositiveSignPlacement:Ne.options.negativePositiveSignPlacement.none,negativeSignCharacter:Ne.options.negativeSignCharacter.hyphen,negativePositiveSignBehavior:Ne.options.negativePositiveSignBehavior.doNotToggle,noEventListeners:Ne.options.noEventListeners.addEvents,onInvalidPaste:Ne.options.onInvalidPaste.error,outputFormat:Ne.options.outputFormat.none,overrideMinMaxLimits:Ne.options.overrideMinMaxLimits.doNotOverride,positiveSignCharacter:Ne.options.positiveSignCharacter.plus,rawValueDivisor:Ne.options.rawValueDivisor.none,readOnly:Ne.options.readOnly.readWrite,roundingMethod:Ne.options.roundingMethod.halfUpSymmetric,saveValueToSessionStorage:Ne.options.saveValueToSessionStorage.doNotSave,selectNumberOnly:Ne.options.selectNumberOnly.selectNumbersOnly,selectOnFocus:Ne.options.selectOnFocus.select,serializeSpaces:Ne.options.serializeSpaces.plus,showOnlyNumbersOnFocus:Ne.options.showOnlyNumbersOnFocus.showAll,showPositiveSign:Ne.options.showPositiveSign.hide,showWarnings:Ne.options.showWarnings.show,styleRules:Ne.options.styleRules.none,suffixText:Ne.options.suffixText.none,symbolWhenUnfocused:Ne.options.symbolWhenUnfocused.none,unformatOnHover:Ne.options.unformatOnHover.unformat,unformatOnSubmit:Ne.options.unformatOnSubmit.keepCurrentValue,upDownStep:"1",valuesToStrings:Ne.options.valuesToStrings.none,watchExternalChanges:Ne.options.watchExternalChanges.doNotWatch,wheelOn:Ne.options.wheelOn.focus,wheelStep:Ne.options.wheelStep.progressive},Object.freeze(Ne.defaultSettings),Object.defineProperty(Ne,"defaultSettings",{configurable:!1,writable:!1});var We={digitGroupSeparator:Ne.options.digitGroupSeparator.dot,decimalCharacter:Ne.options.decimalCharacter.comma,decimalCharacterAlternative:Ne.options.decimalCharacterAlternative.dot,currencySymbol:" €",currencySymbolPlacement:Ne.options.currencySymbolPlacement.suffix,negativePositiveSignPlacement:Ne.options.negativePositiveSignPlacement.prefix},Ve={digitGroupSeparator:Ne.options.digitGroupSeparator.comma,decimalCharacter:Ne.options.decimalCharacter.dot,currencySymbol:Ne.options.currencySymbol.dollar,currencySymbolPlacement:Ne.options.currencySymbolPlacement.prefix,negativePositiveSignPlacement:Ne.options.negativePositiveSignPlacement.right},ze={digitGroupSeparator:Ne.options.digitGroupSeparator.comma,decimalCharacter:Ne.options.decimalCharacter.dot,currencySymbol:Ne.options.currencySymbol.yen,currencySymbolPlacement:Ne.options.currencySymbolPlacement.prefix,negativePositiveSignPlacement:Ne.options.negativePositiveSignPlacement.right};U.cloneObject(We).formulaMode=Ne.options.formulaMode.enabled;var Le=U.cloneObject(We);Le.minimumValue=0;var Qe=U.cloneObject(We);Qe.maximumValue=0,Qe.negativePositiveSignPlacement=Ne.options.negativePositiveSignPlacement.prefix;var Ke=U.cloneObject(We);Ke.digitGroupSeparator=Ne.options.digitGroupSeparator.normalSpace;var Fe=U.cloneObject(Ke);Fe.minimumValue=0;var ce=U.cloneObject(Ke);ce.maximumValue=0,ce.negativePositiveSignPlacement=Ne.options.negativePositiveSignPlacement.prefix;var $e=U.cloneObject(We);$e.currencySymbol=Ne.options.currencySymbol.none,$e.suffixText=" ".concat(Ne.options.suffixText.percentage),$e.wheelStep=1e-4,$e.rawValueDivisor=Ne.options.rawValueDivisor.percentage;var oe=U.cloneObject($e);oe.minimumValue=0;var ue=U.cloneObject($e);ue.maximumValue=0,ue.negativePositiveSignPlacement=Ne.options.negativePositiveSignPlacement.prefix;var _e=U.cloneObject($e);_e.decimalPlaces=3;var Te=U.cloneObject(oe);Te.decimalPlaces=3;var Be=U.cloneObject(ue);Be.decimalPlaces=3,U.cloneObject(Ve).formulaMode=Ne.options.formulaMode.enabled;var re=U.cloneObject(Ve);re.minimumValue=0;var me=U.cloneObject(Ve);me.maximumValue=0,me.negativePositiveSignPlacement=Ne.options.negativePositiveSignPlacement.prefix;var Ie=U.cloneObject(me);Ie.negativeBracketsTypeOnBlur=Ne.options.negativeBracketsTypeOnBlur.parentheses;var xe=U.cloneObject(Ve);xe.currencySymbol=Ne.options.currencySymbol.none,xe.suffixText=Ne.options.suffixText.percentage,xe.wheelStep=1e-4,xe.rawValueDivisor=Ne.options.rawValueDivisor.percentage;var Ze=U.cloneObject(xe);Ze.minimumValue=0;var Xe=U.cloneObject(xe);Xe.maximumValue=0,Xe.negativePositiveSignPlacement=Ne.options.negativePositiveSignPlacement.prefix;var nt=U.cloneObject(xe);nt.decimalPlaces=3;var lt=U.cloneObject(Ze);lt.decimalPlaces=3;var ot=U.cloneObject(Xe);ot.decimalPlaces=3;var dt=U.cloneObject(We);dt.currencySymbol=Ne.options.currencySymbol.lira,Ne.predefinedOptions={euro:We,euroPos:Le,euroNeg:Qe,euroSpace:Ke,euroSpacePos:Fe,euroSpaceNeg:ce,percentageEU2dec:$e,percentageEU2decPos:oe,percentageEU2decNeg:ue,percentageEU3dec:_e,percentageEU3decPos:Te,percentageEU3decNeg:Be,dollar:Ve,dollarPos:re,dollarNeg:me,dollarNegBrackets:Ie,percentageUS2dec:xe,percentageUS2decPos:Ze,percentageUS2decNeg:Xe,percentageUS3dec:nt,percentageUS3decPos:lt,percentageUS3decNeg:ot,French:We,Spanish:We,NorthAmerican:Ve,British:{digitGroupSeparator:Ne.options.digitGroupSeparator.comma,decimalCharacter:Ne.options.decimalCharacter.dot,currencySymbol:Ne.options.currencySymbol.pound,currencySymbolPlacement:Ne.options.currencySymbolPlacement.prefix,negativePositiveSignPlacement:Ne.options.negativePositiveSignPlacement.right},Swiss:{digitGroupSeparator:Ne.options.digitGroupSeparator.apostrophe,decimalCharacter:Ne.options.decimalCharacter.dot,currencySymbol:" CHF",currencySymbolPlacement:Ne.options.currencySymbolPlacement.suffix,negativePositiveSignPlacement:Ne.options.negativePositiveSignPlacement.prefix},Japanese:ze,Chinese:ze,Brazilian:{digitGroupSeparator:Ne.options.digitGroupSeparator.dot,decimalCharacter:Ne.options.decimalCharacter.comma,currencySymbol:Ne.options.currencySymbol.real,currencySymbolPlacement:Ne.options.currencySymbolPlacement.prefix,negativePositiveSignPlacement:Ne.options.negativePositiveSignPlacement.right},Turkish:dt,dotDecimalCharCommaSeparator:{digitGroupSeparator:Ne.options.digitGroupSeparator.comma,decimalCharacter:Ne.options.decimalCharacter.dot},commaDecimalCharDotSeparator:{digitGroupSeparator:Ne.options.digitGroupSeparator.dot,decimalCharacter:Ne.options.decimalCharacter.comma,decimalCharacterAlternative:Ne.options.decimalCharacterAlternative.dot},integer:{decimalPlaces:0},integerPos:{minimumValue:Ne.options.minimumValue.zero,decimalPlaces:0},integerNeg:{maximumValue:Ne.options.maximumValue.zero,decimalPlaces:0},float:{allowDecimalPadding:Ne.options.allowDecimalPadding.never},floatPos:{allowDecimalPadding:Ne.options.allowDecimalPadding.never,minimumValue:Ne.options.minimumValue.zero,maximumValue:Ne.options.maximumValue.tenTrillions},floatNeg:{allowDecimalPadding:Ne.options.allowDecimalPadding.never,minimumValue:Ne.options.minimumValue.tenTrillions,maximumValue:Ne.options.maximumValue.zero},numeric:{digitGroupSeparator:Ne.options.digitGroupSeparator.noSeparator,decimalCharacter:Ne.options.decimalCharacter.dot,currencySymbol:Ne.options.currencySymbol.none},numericPos:{digitGroupSeparator:Ne.options.digitGroupSeparator.noSeparator,decimalCharacter:Ne.options.decimalCharacter.dot,currencySymbol:Ne.options.currencySymbol.none,minimumValue:Ne.options.minimumValue.zero,maximumValue:Ne.options.maximumValue.tenTrillions},numericNeg:{digitGroupSeparator:Ne.options.digitGroupSeparator.noSeparator,decimalCharacter:Ne.options.decimalCharacter.dot,currencySymbol:Ne.options.currencySymbol.none,minimumValue:Ne.options.minimumValue.tenTrillions,maximumValue:Ne.options.maximumValue.zero}},Object.getOwnPropertyNames(Ne.predefinedOptions).forEach(function(we){Object.freeze(Ne.predefinedOptions[we])}),Object.freeze(Ne.predefinedOptions),Object.defineProperty(Ne,"predefinedOptions",{configurable:!1,writable:!1});const ut=Ne;return I=I.default})(),d.exports=g()})(autoNumeric_min);var autoNumeric_minExports=autoNumeric_min.exports;const AutoNumeric=getDefaultExportFromCjs$1(autoNumeric_minExports),_hoisted_1$e=["placeholder"],_sfc_main$m=defineComponent({__name:"VueAutoNumeric",props:{value:{type:Number,required:!0},options:{type:Object,default:()=>({minimumValue:"0",maximumValue:"255"})},placeholder:{type:String,default:"Enter a value"}},emits:["valueNumber"],setup(d,{emit:m}){const g=ref(null),w=d,I=m;onMounted(()=>{g.value&&new AutoNumeric(g.value,w.options).set(w.value)});const P=()=>{if(g.value){const F=g.value.value;I("valueNumber",Number(F))}};return(F,D)=>(openBlock(),createElementBlock("div",null,[createBaseVNode("input",{ref_key:"autonumericInput",ref:g,class:"form-control",placeholder:d.placeholder,onKeydown:withKeys(P,["enter"])},null,40,_hoisted_1$e)]))}});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}function getAugmentedNamespace(d){if(d.__esModule)return d;var m=d.default;if(typeof m=="function"){var g=function w(){return this instanceof w?Reflect.construct(m,arguments,this.constructor):m.apply(this,arguments)};g.prototype=m.prototype}else g={};return Object.defineProperty(g,"__esModule",{value:!0}),Object.keys(d).forEach(function(w){var I=Object.getOwnPropertyDescriptor(d,w);Object.defineProperty(g,w,I.get?I:{enumerable:!0,get:function(){return d[w]}})}),g}typeof self>"u"&&typeof commonjsGlobal=="object"&&(commonjsGlobal.self=commonjsGlobal);var global$1=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,inited=!1;function init(){inited=!0;for(var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=0;m<64;++m)lookup[m]=d[m],revLookup[d.charCodeAt(m)]=m;revLookup[45]=62,revLookup[95]=63}function toByteArray(d){var m,g,w,I,P,F;inited||init();var D=d.length;if(D%4>0)throw new Error("Invalid string. Length must be a multiple of 4");P=d[D-2]==="="?2:d[D-1]==="="?1:0,F=new Arr(3*D/4-P),w=P>0?D-4:D;var $=0;for(m=0,g=0;m<w;m+=4,g+=3)I=revLookup[d.charCodeAt(m)]<<18|revLookup[d.charCodeAt(m+1)]<<12|revLookup[d.charCodeAt(m+2)]<<6|revLookup[d.charCodeAt(m+3)],F[$++]=I>>16&255,F[$++]=I>>8&255,F[$++]=255&I;return P===2?(I=revLookup[d.charCodeAt(m)]<<2|revLookup[d.charCodeAt(m+1)]>>4,F[$++]=255&I):P===1&&(I=revLookup[d.charCodeAt(m)]<<10|revLookup[d.charCodeAt(m+1)]<<4|revLookup[d.charCodeAt(m+2)]>>2,F[$++]=I>>8&255,F[$++]=255&I),F}function tripletToBase64(d){return lookup[d>>18&63]+lookup[d>>12&63]+lookup[d>>6&63]+lookup[63&d]}function encodeChunk(d,m,g){for(var w,I=[],P=m;P<g;P+=3)w=(d[P]<<16)+(d[P+1]<<8)+d[P+2],I.push(tripletToBase64(w));return I.join("")}function fromByteArray(d){var m;inited||init();for(var g=d.length,w=g%3,I="",P=[],F=16383,D=0,$=g-w;D<$;D+=F)P.push(encodeChunk(d,D,D+F>$?$:D+F));return w===1?(m=d[g-1],I+=lookup[m>>2],I+=lookup[m<<4&63],I+="=="):w===2&&(m=(d[g-2]<<8)+d[g-1],I+=lookup[m>>10],I+=lookup[m>>4&63],I+=lookup[m<<2&63],I+="="),P.push(I),P.join("")}function read(d,m,g,w,I){var P,F,D=8*I-w-1,$=(1<<D)-1,V=$>>1,j=-7,G=g?I-1:0,W=g?-1:1,Z=d[m+G];for(G+=W,P=Z&(1<<-j)-1,Z>>=-j,j+=D;j>0;P=256*P+d[m+G],G+=W,j-=8);for(F=P&(1<<-j)-1,P>>=-j,j+=w;j>0;F=256*F+d[m+G],G+=W,j-=8);if(P===0)P=1-V;else{if(P===$)return F?NaN:1/0*(Z?-1:1);F+=Math.pow(2,w),P-=V}return(Z?-1:1)*F*Math.pow(2,P-w)}function write$a(d,m,g,w,I,P){var F,D,$,V=8*P-I-1,j=(1<<V)-1,G=j>>1,W=I===23?Math.pow(2,-24)-Math.pow(2,-77):0,Z=w?0:P-1,U=w?1:-1,Q=m<0||m===0&&1/m<0?1:0;for(m=Math.abs(m),isNaN(m)||m===1/0?(D=isNaN(m)?1:0,F=j):(F=Math.floor(Math.log(m)/Math.LN2),m*($=Math.pow(2,-F))<1&&(F--,$*=2),(m+=F+G>=1?W/$:W*Math.pow(2,1-G))*$>=2&&(F++,$/=2),F+G>=j?(D=0,F=j):F+G>=1?(D=(m*$-1)*Math.pow(2,I),F+=G):(D=m*Math.pow(2,G-1)*Math.pow(2,I),F=0));I>=8;d[g+Z]=255&D,Z+=U,D/=256,I-=8);for(F=F<<I|D,V+=I;V>0;d[g+Z]=255&F,Z+=U,F/=256,V-=8);d[g+Z-U]|=128*Q}var toString$1={}.toString,isArray$1=Array.isArray||function(d){return toString$1.call(d)=="[object Array]"},INSPECT_MAX_BYTES=50;function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(d,m){if(kMaxLength()<m)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(d=new Uint8Array(m)).__proto__=Buffer.prototype:(d===null&&(d=new Buffer(m)),d.length=m),d}function Buffer(d,m,g){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(d,m,g);if(typeof d=="number"){if(typeof m=="string")throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,d)}return from(this,d,m,g)}function from(d,m,g,w){if(typeof m=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&m instanceof ArrayBuffer?fromArrayBuffer(d,m,g,w):typeof m=="string"?fromString(d,m,g):fromObject(d,m)}function assertSize(d){if(typeof d!="number")throw new TypeError('"size" argument must be a number');if(d<0)throw new RangeError('"size" argument must not be negative')}function alloc(d,m,g,w){return assertSize(m),m<=0?createBuffer(d,m):g!==void 0?typeof w=="string"?createBuffer(d,m).fill(g,w):createBuffer(d,m).fill(g):createBuffer(d,m)}function allocUnsafe(d,m){if(assertSize(m),d=createBuffer(d,m<0?0:0|checked(m)),!Buffer.TYPED_ARRAY_SUPPORT)for(var g=0;g<m;++g)d[g]=0;return d}function fromString(d,m,g){if(typeof g=="string"&&g!==""||(g="utf8"),!Buffer.isEncoding(g))throw new TypeError('"encoding" must be a valid string encoding');var w=0|byteLength(m,g),I=(d=createBuffer(d,w)).write(m,g);return I!==w&&(d=d.slice(0,I)),d}function fromArrayLike(d,m){var g=m.length<0?0:0|checked(m.length);d=createBuffer(d,g);for(var w=0;w<g;w+=1)d[w]=255&m[w];return d}function fromArrayBuffer(d,m,g,w){if(m.byteLength,g<0||m.byteLength<g)throw new RangeError("'offset' is out of bounds");if(m.byteLength<g+(w||0))throw new RangeError("'length' is out of bounds");return m=g===void 0&&w===void 0?new Uint8Array(m):w===void 0?new Uint8Array(m,g):new Uint8Array(m,g,w),Buffer.TYPED_ARRAY_SUPPORT?(d=m).__proto__=Buffer.prototype:d=fromArrayLike(d,m),d}function fromObject(d,m){if(internalIsBuffer(m)){var g=0|checked(m.length);return(d=createBuffer(d,g)).length===0||m.copy(d,0,0,g),d}if(m){if(typeof ArrayBuffer<"u"&&m.buffer instanceof ArrayBuffer||"length"in m)return typeof m.length!="number"||isnan(m.length)?createBuffer(d,0):fromArrayLike(d,m);if(m.type==="Buffer"&&isArray$1(m.data))return fromArrayLike(d,m.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(d){if(d>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|d}function internalIsBuffer(d){return!(d==null||!d._isBuffer)}function byteLength(d,m){if(internalIsBuffer(d))return d.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(d)||d instanceof ArrayBuffer))return d.byteLength;typeof d!="string"&&(d=""+d);var g=d.length;if(g===0)return 0;for(var w=!1;;)switch(m){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":case void 0:return utf8ToBytes(d).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*g;case"hex":return g>>>1;case"base64":return base64ToBytes(d).length;default:if(w)return utf8ToBytes(d).length;m=(""+m).toLowerCase(),w=!0}}function slowToString(d,m,g){var w=!1;if((m===void 0||m<0)&&(m=0),m>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0)<=(m>>>=0))return"";for(d||(d="utf8");;)switch(d){case"hex":return hexSlice(this,m,g);case"utf8":case"utf-8":return utf8Slice(this,m,g);case"ascii":return asciiSlice(this,m,g);case"latin1":case"binary":return latin1Slice(this,m,g);case"base64":return base64Slice(this,m,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,m,g);default:if(w)throw new TypeError("Unknown encoding: "+d);d=(d+"").toLowerCase(),w=!0}}function swap(d,m,g){var w=d[m];d[m]=d[g],d[g]=w}function bidirectionalIndexOf(d,m,g,w,I){if(d.length===0)return-1;if(typeof g=="string"?(w=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),g=+g,isNaN(g)&&(g=I?0:d.length-1),g<0&&(g=d.length+g),g>=d.length){if(I)return-1;g=d.length-1}else if(g<0){if(!I)return-1;g=0}if(typeof m=="string"&&(m=Buffer.from(m,w)),internalIsBuffer(m))return m.length===0?-1:arrayIndexOf(d,m,g,w,I);if(typeof m=="number")return m&=255,Buffer.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?I?Uint8Array.prototype.indexOf.call(d,m,g):Uint8Array.prototype.lastIndexOf.call(d,m,g):arrayIndexOf(d,[m],g,w,I);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(d,m,g,w,I){var P,F=1,D=d.length,$=m.length;if(w!==void 0&&((w=String(w).toLowerCase())==="ucs2"||w==="ucs-2"||w==="utf16le"||w==="utf-16le")){if(d.length<2||m.length<2)return-1;F=2,D/=2,$/=2,g/=2}function V(Z,U){return F===1?Z[U]:Z.readUInt16BE(U*F)}if(I){var j=-1;for(P=g;P<D;P++)if(V(d,P)===V(m,j===-1?0:P-j)){if(j===-1&&(j=P),P-j+1===$)return j*F}else j!==-1&&(P-=P-j),j=-1}else for(g+$>D&&(g=D-$),P=g;P>=0;P--){for(var G=!0,W=0;W<$;W++)if(V(d,P+W)!==V(m,W)){G=!1;break}if(G)return P}return-1}function hexWrite(d,m,g,w){g=Number(g)||0;var I=d.length-g;w?(w=Number(w))>I&&(w=I):w=I;var P=m.length;if(P%2!=0)throw new TypeError("Invalid hex string");w>P/2&&(w=P/2);for(var F=0;F<w;++F){var D=parseInt(m.substr(2*F,2),16);if(isNaN(D))return F;d[g+F]=D}return F}function utf8Write(d,m,g,w){return blitBuffer(utf8ToBytes(m,d.length-g),d,g,w)}function asciiWrite(d,m,g,w){return blitBuffer(asciiToBytes(m),d,g,w)}function latin1Write(d,m,g,w){return asciiWrite(d,m,g,w)}function base64Write(d,m,g,w){return blitBuffer(base64ToBytes(m),d,g,w)}function ucs2Write(d,m,g,w){return blitBuffer(utf16leToBytes(m,d.length-g),d,g,w)}function base64Slice(d,m,g){return m===0&&g===d.length?fromByteArray(d):fromByteArray(d.slice(m,g))}function utf8Slice(d,m,g){g=Math.min(d.length,g);for(var w=[],I=m;I<g;){var P,F,D,$,V=d[I],j=null,G=V>239?4:V>223?3:V>191?2:1;if(I+G<=g)switch(G){case 1:V<128&&(j=V);break;case 2:(192&(P=d[I+1]))==128&&($=(31&V)<<6|63&P)>127&&(j=$);break;case 3:P=d[I+1],F=d[I+2],(192&P)==128&&(192&F)==128&&($=(15&V)<<12|(63&P)<<6|63&F)>2047&&($<55296||$>57343)&&(j=$);break;case 4:P=d[I+1],F=d[I+2],D=d[I+3],(192&P)==128&&(192&F)==128&&(192&D)==128&&($=(15&V)<<18|(63&P)<<12|(63&F)<<6|63&D)>65535&&$<1114112&&(j=$)}j===null?(j=65533,G=1):j>65535&&(j-=65536,w.push(j>>>10&1023|55296),j=56320|1023&j),w.push(j),I+=G}return decodeCodePointsArray(w)}Buffer.TYPED_ARRAY_SUPPORT=global$1.TYPED_ARRAY_SUPPORT===void 0||global$1.TYPED_ARRAY_SUPPORT,kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(d){return d.__proto__=Buffer.prototype,d},Buffer.from=function(d,m,g){return from(null,d,m,g)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&Buffer[Symbol.species]),Buffer.alloc=function(d,m,g){return alloc(null,d,m,g)},Buffer.allocUnsafe=function(d){return allocUnsafe(null,d)},Buffer.allocUnsafeSlow=function(d){return allocUnsafe(null,d)},Buffer.isBuffer=isBuffer,Buffer.compare=function(d,m){if(!internalIsBuffer(d)||!internalIsBuffer(m))throw new TypeError("Arguments must be Buffers");if(d===m)return 0;for(var g=d.length,w=m.length,I=0,P=Math.min(g,w);I<P;++I)if(d[I]!==m[I]){g=d[I],w=m[I];break}return g<w?-1:w<g?1:0},Buffer.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(d,m){if(!isArray$1(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return Buffer.alloc(0);var g;if(m===void 0)for(m=0,g=0;g<d.length;++g)m+=d[g].length;var w=Buffer.allocUnsafe(m),I=0;for(g=0;g<d.length;++g){var P=d[g];if(!internalIsBuffer(P))throw new TypeError('"list" argument must be an Array of Buffers');P.copy(w,I),I+=P.length}return w},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var d=this.length;if(d%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var m=0;m<d;m+=2)swap(this,m,m+1);return this},Buffer.prototype.swap32=function(){var d=this.length;if(d%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var m=0;m<d;m+=4)swap(this,m,m+3),swap(this,m+1,m+2);return this},Buffer.prototype.swap64=function(){var d=this.length;if(d%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var m=0;m<d;m+=8)swap(this,m,m+7),swap(this,m+1,m+6),swap(this,m+2,m+5),swap(this,m+3,m+4);return this},Buffer.prototype.toString=function(){var d=0|this.length;return d===0?"":arguments.length===0?utf8Slice(this,0,d):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(d){if(!internalIsBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d||Buffer.compare(this,d)===0},Buffer.prototype.inspect=function(){var d="",m=INSPECT_MAX_BYTES;return this.length>0&&(d=this.toString("hex",0,m).match(/.{2}/g).join(" "),this.length>m&&(d+=" ... ")),"<Buffer "+d+">"},Buffer.prototype.compare=function(d,m,g,w,I){if(!internalIsBuffer(d))throw new TypeError("Argument must be a Buffer");if(m===void 0&&(m=0),g===void 0&&(g=d?d.length:0),w===void 0&&(w=0),I===void 0&&(I=this.length),m<0||g>d.length||w<0||I>this.length)throw new RangeError("out of range index");if(w>=I&&m>=g)return 0;if(w>=I)return-1;if(m>=g)return 1;if(this===d)return 0;for(var P=(I>>>=0)-(w>>>=0),F=(g>>>=0)-(m>>>=0),D=Math.min(P,F),$=this.slice(w,I),V=d.slice(m,g),j=0;j<D;++j)if($[j]!==V[j]){P=$[j],F=V[j];break}return P<F?-1:F<P?1:0},Buffer.prototype.includes=function(d,m,g){return this.indexOf(d,m,g)!==-1},Buffer.prototype.indexOf=function(d,m,g){return bidirectionalIndexOf(this,d,m,g,!0)},Buffer.prototype.lastIndexOf=function(d,m,g){return bidirectionalIndexOf(this,d,m,g,!1)},Buffer.prototype.write=function(d,m,g,w){if(m===void 0)w="utf8",g=this.length,m=0;else if(g===void 0&&typeof m=="string")w=m,g=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m|=0,isFinite(g)?(g|=0,w===void 0&&(w="utf8")):(w=g,g=void 0)}var I=this.length-m;if((g===void 0||g>I)&&(g=I),d.length>0&&(g<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");w||(w="utf8");for(var P=!1;;)switch(w){case"hex":return hexWrite(this,d,m,g);case"utf8":case"utf-8":return utf8Write(this,d,m,g);case"ascii":return asciiWrite(this,d,m,g);case"latin1":case"binary":return latin1Write(this,d,m,g);case"base64":return base64Write(this,d,m,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,d,m,g);default:if(P)throw new TypeError("Unknown encoding: "+w);w=(""+w).toLowerCase(),P=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(d){var m=d.length;if(m<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,d);for(var g="",w=0;w<m;)g+=String.fromCharCode.apply(String,d.slice(w,w+=MAX_ARGUMENTS_LENGTH));return g}function asciiSlice(d,m,g){var w="";g=Math.min(d.length,g);for(var I=m;I<g;++I)w+=String.fromCharCode(127&d[I]);return w}function latin1Slice(d,m,g){var w="";g=Math.min(d.length,g);for(var I=m;I<g;++I)w+=String.fromCharCode(d[I]);return w}function hexSlice(d,m,g){var w=d.length;(!m||m<0)&&(m=0),(!g||g<0||g>w)&&(g=w);for(var I="",P=m;P<g;++P)I+=toHex(d[P]);return I}function utf16leSlice(d,m,g){for(var w=d.slice(m,g),I="",P=0;P<w.length;P+=2)I+=String.fromCharCode(w[P]+256*w[P+1]);return I}function checkOffset(d,m,g){if(d%1!=0||d<0)throw new RangeError("offset is not uint");if(d+m>g)throw new RangeError("Trying to access beyond buffer length")}function checkInt(d,m,g,w,I,P){if(!internalIsBuffer(d))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>I||m<P)throw new RangeError('"value" argument is out of bounds');if(g+w>d.length)throw new RangeError("Index out of range")}function objectWriteUInt16(d,m,g,w){m<0&&(m=65535+m+1);for(var I=0,P=Math.min(d.length-g,2);I<P;++I)d[g+I]=(m&255<<8*(w?I:1-I))>>>8*(w?I:1-I)}function objectWriteUInt32(d,m,g,w){m<0&&(m=4294967295+m+1);for(var I=0,P=Math.min(d.length-g,4);I<P;++I)d[g+I]=m>>>8*(w?I:3-I)&255}function checkIEEE754(d,m,g,w,I,P){if(g+w>d.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function writeFloat(d,m,g,w,I){return I||checkIEEE754(d,m,g,4),write$a(d,m,g,w,23,4),g+4}function writeDouble(d,m,g,w,I){return I||checkIEEE754(d,m,g,8),write$a(d,m,g,w,52,8),g+8}Buffer.prototype.slice=function(d,m){var g,w=this.length;if((d=~~d)<0?(d+=w)<0&&(d=0):d>w&&(d=w),(m=m===void 0?w:~~m)<0?(m+=w)<0&&(m=0):m>w&&(m=w),m<d&&(m=d),Buffer.TYPED_ARRAY_SUPPORT)(g=this.subarray(d,m)).__proto__=Buffer.prototype;else{var I=m-d;g=new Buffer(I,void 0);for(var P=0;P<I;++P)g[P]=this[P+d]}return g},Buffer.prototype.readUIntLE=function(d,m,g){d|=0,m|=0,g||checkOffset(d,m,this.length);for(var w=this[d],I=1,P=0;++P<m&&(I*=256);)w+=this[d+P]*I;return w},Buffer.prototype.readUIntBE=function(d,m,g){d|=0,m|=0,g||checkOffset(d,m,this.length);for(var w=this[d+--m],I=1;m>0&&(I*=256);)w+=this[d+--m]*I;return w},Buffer.prototype.readUInt8=function(d,m){return m||checkOffset(d,1,this.length),this[d]},Buffer.prototype.readUInt16LE=function(d,m){return m||checkOffset(d,2,this.length),this[d]|this[d+1]<<8},Buffer.prototype.readUInt16BE=function(d,m){return m||checkOffset(d,2,this.length),this[d]<<8|this[d+1]},Buffer.prototype.readUInt32LE=function(d,m){return m||checkOffset(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+16777216*this[d+3]},Buffer.prototype.readUInt32BE=function(d,m){return m||checkOffset(d,4,this.length),16777216*this[d]+(this[d+1]<<16|this[d+2]<<8|this[d+3])},Buffer.prototype.readIntLE=function(d,m,g){d|=0,m|=0,g||checkOffset(d,m,this.length);for(var w=this[d],I=1,P=0;++P<m&&(I*=256);)w+=this[d+P]*I;return w>=(I*=128)&&(w-=Math.pow(2,8*m)),w},Buffer.prototype.readIntBE=function(d,m,g){d|=0,m|=0,g||checkOffset(d,m,this.length);for(var w=m,I=1,P=this[d+--w];w>0&&(I*=256);)P+=this[d+--w]*I;return P>=(I*=128)&&(P-=Math.pow(2,8*m)),P},Buffer.prototype.readInt8=function(d,m){return m||checkOffset(d,1,this.length),128&this[d]?-1*(255-this[d]+1):this[d]},Buffer.prototype.readInt16LE=function(d,m){m||checkOffset(d,2,this.length);var g=this[d]|this[d+1]<<8;return 32768&g?4294901760|g:g},Buffer.prototype.readInt16BE=function(d,m){m||checkOffset(d,2,this.length);var g=this[d+1]|this[d]<<8;return 32768&g?4294901760|g:g},Buffer.prototype.readInt32LE=function(d,m){return m||checkOffset(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},Buffer.prototype.readInt32BE=function(d,m){return m||checkOffset(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},Buffer.prototype.readFloatLE=function(d,m){return m||checkOffset(d,4,this.length),read(this,d,!0,23,4)},Buffer.prototype.readFloatBE=function(d,m){return m||checkOffset(d,4,this.length),read(this,d,!1,23,4)},Buffer.prototype.readDoubleLE=function(d,m){return m||checkOffset(d,8,this.length),read(this,d,!0,52,8)},Buffer.prototype.readDoubleBE=function(d,m){return m||checkOffset(d,8,this.length),read(this,d,!1,52,8)},Buffer.prototype.writeUIntLE=function(d,m,g,w){d=+d,m|=0,g|=0,w||checkInt(this,d,m,g,Math.pow(2,8*g)-1,0);var I=1,P=0;for(this[m]=255&d;++P<g&&(I*=256);)this[m+P]=d/I&255;return m+g},Buffer.prototype.writeUIntBE=function(d,m,g,w){d=+d,m|=0,g|=0,w||checkInt(this,d,m,g,Math.pow(2,8*g)-1,0);var I=g-1,P=1;for(this[m+I]=255&d;--I>=0&&(P*=256);)this[m+I]=d/P&255;return m+g},Buffer.prototype.writeUInt8=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(d=Math.floor(d)),this[m]=255&d,m+1},Buffer.prototype.writeUInt16LE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=255&d,this[m+1]=d>>>8):objectWriteUInt16(this,d,m,!0),m+2},Buffer.prototype.writeUInt16BE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=d>>>8,this[m+1]=255&d):objectWriteUInt16(this,d,m,!1),m+2},Buffer.prototype.writeUInt32LE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[m+3]=d>>>24,this[m+2]=d>>>16,this[m+1]=d>>>8,this[m]=255&d):objectWriteUInt32(this,d,m,!0),m+4},Buffer.prototype.writeUInt32BE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=d>>>24,this[m+1]=d>>>16,this[m+2]=d>>>8,this[m+3]=255&d):objectWriteUInt32(this,d,m,!1),m+4},Buffer.prototype.writeIntLE=function(d,m,g,w){if(d=+d,m|=0,!w){var I=Math.pow(2,8*g-1);checkInt(this,d,m,g,I-1,-I)}var P=0,F=1,D=0;for(this[m]=255&d;++P<g&&(F*=256);)d<0&&D===0&&this[m+P-1]!==0&&(D=1),this[m+P]=(d/F|0)-D&255;return m+g},Buffer.prototype.writeIntBE=function(d,m,g,w){if(d=+d,m|=0,!w){var I=Math.pow(2,8*g-1);checkInt(this,d,m,g,I-1,-I)}var P=g-1,F=1,D=0;for(this[m+P]=255&d;--P>=0&&(F*=256);)d<0&&D===0&&this[m+P+1]!==0&&(D=1),this[m+P]=(d/F|0)-D&255;return m+g},Buffer.prototype.writeInt8=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(d=Math.floor(d)),d<0&&(d=255+d+1),this[m]=255&d,m+1},Buffer.prototype.writeInt16LE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=255&d,this[m+1]=d>>>8):objectWriteUInt16(this,d,m,!0),m+2},Buffer.prototype.writeInt16BE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=d>>>8,this[m+1]=255&d):objectWriteUInt16(this,d,m,!1),m+2},Buffer.prototype.writeInt32LE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=255&d,this[m+1]=d>>>8,this[m+2]=d>>>16,this[m+3]=d>>>24):objectWriteUInt32(this,d,m,!0),m+4},Buffer.prototype.writeInt32BE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=d>>>24,this[m+1]=d>>>16,this[m+2]=d>>>8,this[m+3]=255&d):objectWriteUInt32(this,d,m,!1),m+4},Buffer.prototype.writeFloatLE=function(d,m,g){return writeFloat(this,d,m,!0,g)},Buffer.prototype.writeFloatBE=function(d,m,g){return writeFloat(this,d,m,!1,g)},Buffer.prototype.writeDoubleLE=function(d,m,g){return writeDouble(this,d,m,!0,g)},Buffer.prototype.writeDoubleBE=function(d,m,g){return writeDouble(this,d,m,!1,g)},Buffer.prototype.copy=function(d,m,g,w){if(g||(g=0),w||w===0||(w=this.length),m>=d.length&&(m=d.length),m||(m=0),w>0&&w<g&&(w=g),w===g||d.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(g<0||g>=this.length)throw new RangeError("sourceStart out of bounds");if(w<0)throw new RangeError("sourceEnd out of bounds");w>this.length&&(w=this.length),d.length-m<w-g&&(w=d.length-m+g);var I,P=w-g;if(this===d&&g<m&&m<w)for(I=P-1;I>=0;--I)d[I+m]=this[I+g];else if(P<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(I=0;I<P;++I)d[I+m]=this[I+g];else Uint8Array.prototype.set.call(d,this.subarray(g,g+P),m);return P},Buffer.prototype.fill=function(d,m,g,w){if(typeof d=="string"){if(typeof m=="string"?(w=m,m=0,g=this.length):typeof g=="string"&&(w=g,g=this.length),d.length===1){var I=d.charCodeAt(0);I<256&&(d=I)}if(w!==void 0&&typeof w!="string")throw new TypeError("encoding must be a string");if(typeof w=="string"&&!Buffer.isEncoding(w))throw new TypeError("Unknown encoding: "+w)}else typeof d=="number"&&(d&=255);if(m<0||this.length<m||this.length<g)throw new RangeError("Out of range index");if(g<=m)return this;var P;if(m>>>=0,g=g===void 0?this.length:g>>>0,d||(d=0),typeof d=="number")for(P=m;P<g;++P)this[P]=d;else{var F=internalIsBuffer(d)?d:utf8ToBytes(new Buffer(d,w).toString()),D=F.length;for(P=0;P<g-m;++P)this[P+m]=F[P%D]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g,HeaderTypes;function base64clean(d){if((d=stringtrim(d).replace(INVALID_BASE64_RE,"")).length<2)return"";for(;d.length%4!=0;)d+="=";return d}function stringtrim(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function toHex(d){return d<16?"0"+d.toString(16):d.toString(16)}function utf8ToBytes(d,m){var g;m=m||1/0;for(var w=d.length,I=null,P=[],F=0;F<w;++F){if((g=d.charCodeAt(F))>55295&&g<57344){if(!I){if(g>56319){(m-=3)>-1&&P.push(239,191,189);continue}if(F+1===w){(m-=3)>-1&&P.push(239,191,189);continue}I=g;continue}if(g<56320){(m-=3)>-1&&P.push(239,191,189),I=g;continue}g=65536+(I-55296<<10|g-56320)}else I&&(m-=3)>-1&&P.push(239,191,189);if(I=null,g<128){if((m-=1)<0)break;P.push(g)}else if(g<2048){if((m-=2)<0)break;P.push(g>>6|192,63&g|128)}else if(g<65536){if((m-=3)<0)break;P.push(g>>12|224,g>>6&63|128,63&g|128)}else{if(!(g<1114112))throw new Error("Invalid code point");if((m-=4)<0)break;P.push(g>>18|240,g>>12&63|128,g>>6&63|128,63&g|128)}}return P}function asciiToBytes(d){for(var m=[],g=0;g<d.length;++g)m.push(255&d.charCodeAt(g));return m}function utf16leToBytes(d,m){for(var g,w,I,P=[],F=0;F<d.length&&!((m-=2)<0);++F)w=(g=d.charCodeAt(F))>>8,I=g%256,P.push(I),P.push(w);return P}function base64ToBytes(d){return toByteArray(base64clean(d))}function blitBuffer(d,m,g,w){for(var I=0;I<w&&!(I+g>=m.length||I>=d.length);++I)m[I+g]=d[I];return I}function isnan(d){return d!=d}function isBuffer(d){return d!=null&&(!!d._isBuffer||isFastBuffer(d)||isSlowBuffer(d))}function isFastBuffer(d){return!!d.constructor&&typeof d.constructor.isBuffer=="function"&&d.constructor.isBuffer(d)}function isSlowBuffer(d){return typeof d.readFloatLE=="function"&&typeof d.slice=="function"&&isFastBuffer(d.slice(0,0))}(function(d){d[d.BITMAP_INFO_HEADER=40]="BITMAP_INFO_HEADER",d[d.BITMAP_V2_INFO_HEADER=52]="BITMAP_V2_INFO_HEADER",d[d.BITMAP_V3_INFO_HEADER=56]="BITMAP_V3_INFO_HEADER",d[d.BITMAP_V4_HEADER=108]="BITMAP_V4_HEADER",d[d.BITMAP_V5_HEADER=124]="BITMAP_V5_HEADER"})(HeaderTypes||(HeaderTypes={}));var HeaderTypes$1=HeaderTypes,BmpCompression;function maskColor(d,m,g,w){const I=1+~d&d,P=1+~m&m,F=1+~g&g,D=1+~w&w,$=d/I+1,V=m/P+1,j=g/F+1,G=w/D+1;return{shiftRed:W=>(W&d)/I*256/$,shiftGreen:W=>(W&m)/P*256/V,shiftBlue:W=>(W&g)/F*256/j,shiftAlpha:w!==0?W=>(W&w)/D*256/G:()=>255}}(function(d){d[d.NONE=0]="NONE",d[d.BI_RLE8=1]="BI_RLE8",d[d.BI_RLE4=2]="BI_RLE4",d[d.BI_BIT_FIELDS=3]="BI_BIT_FIELDS",d[d.BI_ALPHA_BIT_FIELDS=6]="BI_ALPHA_BIT_FIELDS"})(BmpCompression||(BmpCompression={}));class BmpDecoder{constructor(m,{toRGBA:g}={toRGBA:!1}){mt(this,"flag");mt(this,"fileSize");mt(this,"reserved1");mt(this,"reserved2");mt(this,"offset");mt(this,"headerSize");mt(this,"width");mt(this,"height");mt(this,"planes");mt(this,"bitPP");mt(this,"compression");mt(this,"rawSize");mt(this,"hr");mt(this,"vr");mt(this,"colors");mt(this,"importantColors");mt(this,"palette");mt(this,"data");mt(this,"maskRed");mt(this,"maskGreen");mt(this,"maskBlue");mt(this,"maskAlpha");mt(this,"toRGBA");mt(this,"pos");mt(this,"bottomUp");mt(this,"buffer");mt(this,"locRed");mt(this,"locGreen");mt(this,"locBlue");mt(this,"locAlpha");mt(this,"shiftRed");mt(this,"shiftGreen");mt(this,"shiftBlue");mt(this,"shiftAlpha");if(this.buffer=m,this.toRGBA=!!g,this.pos=0,this.bottomUp=!0,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),this.flag!=="BM")throw new Error("Invalid BMP File");this.locRed=this.toRGBA?0:3,this.locGreen=this.toRGBA?1:2,this.locBlue=this.toRGBA?2:1,this.locAlpha=this.toRGBA?3:0,this.parseHeader(),this.parseRGBA()}parseHeader(){if(this.fileSize=this.readUInt32LE(),this.reserved1=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.reserved2=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.offset=this.readUInt32LE(),this.headerSize=this.readUInt32LE(),!(this.headerSize in HeaderTypes$1))throw new Error(`Unsupported BMP header size ${this.headerSize}`);if(this.width=this.readUInt32LE(),this.height=this.readUInt32LE(),this.height=this.height>2147483647?this.height-4294967296:this.height,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compression=this.readUInt32LE(),this.rawSize=this.readUInt32LE(),this.hr=this.readUInt32LE(),this.vr=this.readUInt32LE(),this.colors=this.readUInt32LE(),this.importantColors=this.readUInt32LE(),this.bitPP===32?(this.maskAlpha=0,this.maskRed=16711680,this.maskGreen=65280,this.maskBlue=255):this.bitPP===16&&(this.maskAlpha=0,this.maskRed=31744,this.maskGreen=992,this.maskBlue=31),(this.headerSize>HeaderTypes$1.BITMAP_INFO_HEADER||this.compression===BmpCompression.BI_BIT_FIELDS||this.compression===BmpCompression.BI_ALPHA_BIT_FIELDS)&&(this.maskRed=this.readUInt32LE(),this.maskGreen=this.readUInt32LE(),this.maskBlue=this.readUInt32LE()),(this.headerSize>HeaderTypes$1.BITMAP_V2_INFO_HEADER||this.compression===BmpCompression.BI_ALPHA_BIT_FIELDS)&&(this.maskAlpha=this.readUInt32LE()),this.headerSize>HeaderTypes$1.BITMAP_V3_INFO_HEADER&&(this.pos+=HeaderTypes$1.BITMAP_V4_HEADER-HeaderTypes$1.BITMAP_V3_INFO_HEADER),this.headerSize>HeaderTypes$1.BITMAP_V4_HEADER&&(this.pos+=HeaderTypes$1.BITMAP_V5_HEADER-HeaderTypes$1.BITMAP_V4_HEADER),this.bitPP<=8||this.colors>0){const g=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(g);for(let w=0;w<g;w++){const I=this.buffer.readUInt8(this.pos++),P=this.buffer.readUInt8(this.pos++),F=this.buffer.readUInt8(this.pos++),D=this.buffer.readUInt8(this.pos++);this.palette[w]={red:F,green:P,blue:I,quad:D}}}this.height<0&&(this.height*=-1,this.bottomUp=!1);const m=maskColor(this.maskRed,this.maskGreen,this.maskBlue,this.maskAlpha);this.shiftRed=m.shiftRed,this.shiftGreen=m.shiftGreen,this.shiftBlue=m.shiftBlue,this.shiftAlpha=m.shiftAlpha}parseRGBA(){switch(this.data=Buffer.alloc(this.width*this.height*4),this.bitPP){case 1:this.bit1();break;case 4:this.bit4();break;case 8:this.bit8();break;case 16:this.bit16();break;case 24:this.bit24();break;default:this.bit32()}}bit1(){const m=Math.ceil(this.width/8),g=m%4,w=g!==0?4-g:0;this.scanImage(w,m,(I,P)=>{const F=this.buffer.readUInt8(this.pos++),D=P*this.width*4+8*I*4;for(let $=0;$<8&&8*I+$<this.width;$++){const V=this.palette[F>>7-$&1];this.data[D+$*this.locAlpha]=0,this.data[D+4*$+this.locBlue]=V.blue,this.data[D+4*$+this.locGreen]=V.green,this.data[D+4*$+this.locRed]=V.red}})}bit4(){if(this.compression===BmpCompression.BI_RLE4){this.data.fill(0);let m=!1,g=this.bottomUp?this.height-1:0,w=0;for(;w<this.data.length;){const I=this.buffer.readUInt8(this.pos++),P=this.buffer.readUInt8(this.pos++);if(I===0){if(P===0){g+=this.bottomUp?-1:1,w=g*this.width*4,m=!1;continue}if(P===1)break;if(P===2){const F=this.buffer.readUInt8(this.pos++),D=this.buffer.readUInt8(this.pos++);g+=this.bottomUp?-D:D,w+=D*this.width*4+4*F}else{let F=this.buffer.readUInt8(this.pos++);for(let D=0;D<P;D++)w=this.setPixelData(w,m?15&F:(240&F)>>4),1&D&&D+1<P&&(F=this.buffer.readUInt8(this.pos++)),m=!m;(P+1>>1&1)==1&&this.pos++}}else for(let F=0;F<I;F++)w=this.setPixelData(w,m?15&P:(240&P)>>4),m=!m}}else{const m=Math.ceil(this.width/2),g=m%4,w=g!==0?4-g:0;this.scanImage(w,m,(I,P)=>{const F=this.buffer.readUInt8(this.pos++),D=P*this.width*4+2*I*4,$=F>>4;let V=this.palette[$];if(this.data[D]=0,this.data[D+1]=V.blue,this.data[D+2]=V.green,this.data[D+3]=V.red,2*I+1>=this.width)return!1;const j=15&F;V=this.palette[j],this.data[D+4]=0,this.data[D+4+1]=V.blue,this.data[D+4+2]=V.green,this.data[D+4+3]=V.red})}}bit8(){if(this.compression===BmpCompression.BI_RLE8){this.data.fill(0);let m=this.bottomUp?this.height-1:0,g=0;for(;g<this.data.length;){const w=this.buffer.readUInt8(this.pos++),I=this.buffer.readUInt8(this.pos++);if(w===0){if(I===0){m+=this.bottomUp?-1:1,g=m*this.width*4;continue}if(I===1)break;if(I===2){const P=this.buffer.readUInt8(this.pos++),F=this.buffer.readUInt8(this.pos++);m+=this.bottomUp?-F:F,g+=F*this.width*4+4*P}else{for(let P=0;P<I;P++){const F=this.buffer.readUInt8(this.pos++);g=this.setPixelData(g,F)}!0&I&&this.pos++}}else for(let P=0;P<w;P++)g=this.setPixelData(g,I)}}else{const m=this.width%4,g=m!==0?4-m:0;this.scanImage(g,this.width,(w,I)=>{const P=this.buffer.readUInt8(this.pos++),F=I*this.width*4+4*w;if(P<this.palette.length){const D=this.palette[P];this.data[F]=0,this.data[F+1]=D.blue,this.data[F+2]=D.green,this.data[F+3]=D.red}else this.data[F]=0,this.data[F+1]=255,this.data[F+2]=255,this.data[F+3]=255})}}bit16(){const m=this.width%2*2;this.scanImage(m,this.width,(g,w)=>{const I=w*this.width*4+4*g,P=this.buffer.readUInt16LE(this.pos);this.pos+=2,this.data[I+this.locRed]=this.shiftRed(P),this.data[I+this.locGreen]=this.shiftGreen(P),this.data[I+this.locBlue]=this.shiftBlue(P),this.data[I+this.locAlpha]=this.shiftAlpha(P)})}bit24(){const m=this.width%4;this.scanImage(m,this.width,(g,w)=>{const I=w*this.width*4+4*g,P=this.buffer.readUInt8(this.pos++),F=this.buffer.readUInt8(this.pos++),D=this.buffer.readUInt8(this.pos++);this.data[I+this.locRed]=D,this.data[I+this.locGreen]=F,this.data[I+this.locBlue]=P,this.data[I+this.locAlpha]=0})}bit32(){this.scanImage(0,this.width,(m,g)=>{const w=g*this.width*4+4*m,I=this.readUInt32LE();this.data[w+this.locRed]=this.shiftRed(I),this.data[w+this.locGreen]=this.shiftGreen(I),this.data[w+this.locBlue]=this.shiftBlue(I),this.data[w+this.locAlpha]=this.shiftAlpha(I)})}scanImage(m=0,g=this.width,w){for(let I=this.height-1;I>=0;I--){const P=this.bottomUp?I:this.height-1-I;for(let F=0;F<g;F++)if(w.call(this,F,P)===!1)return;this.pos+=m}}readUInt32LE(){const m=this.buffer.readUInt32LE(this.pos);return this.pos+=4,m}setPixelData(m,g){const{blue:w,green:I,red:P}=this.palette[g];return this.data[m+this.locAlpha]=0,this.data[m+1+this.locBlue]=w,this.data[m+2+this.locGreen]=I,this.data[m+3+this.locRed]=P,m+4}}function createInteger(d){return d.reduce((m,g)=>m<<1|g,0)}function createColor(d){return d.quad<<24|d.red<<16|d.green<<8|d.blue}class BmpEncoder{constructor(m){mt(this,"fileSize");mt(this,"reserved1");mt(this,"reserved2");mt(this,"offset");mt(this,"width");mt(this,"flag");mt(this,"height");mt(this,"planes");mt(this,"bitPP");mt(this,"compress");mt(this,"hr");mt(this,"vr");mt(this,"colors");mt(this,"importantColors");mt(this,"rawSize");mt(this,"headerSize");mt(this,"data");mt(this,"palette");mt(this,"extraBytes");mt(this,"buffer");mt(this,"bytesInColor");mt(this,"pos");switch(this.buffer=m.data,this.width=m.width,this.height=m.height,this.headerSize=HeaderTypes$1.BITMAP_INFO_HEADER,this.flag="BM",this.bitPP=m.bitPP||24,this.offset=54,this.reserved1=m.reserved1||0,this.reserved2=m.reserved2||0,this.planes=1,this.compress=0,this.hr=m.hr||0,this.vr=m.vr||0,this.importantColors=m.importantColors||0,this.colors=Math.min(2**(this.bitPP-1||1),m.colors||1/0),this.palette=m.palette||[],this.colors&&this.bitPP<16?this.offset+=4*this.colors:this.colors=0,this.bitPP){case 32:this.bytesInColor=4;break;case 16:this.bytesInColor=2;break;case 8:this.bytesInColor=1;break;case 4:this.bytesInColor=.5;break;case 1:this.bytesInColor=1/8;break;default:this.bytesInColor=3,this.bitPP=24}const g=this.width*this.bitPP/32,w=Math.ceil(g);this.extraBytes=4*(w-g),this.rawSize=this.height*w*4+2,this.fileSize=this.rawSize+this.offset,this.data=Buffer.alloc(this.fileSize,1),this.pos=0,this.encode()}encode(){switch(this.pos=0,this.writeHeader(),this.bitPP){case 32:this.bit32();break;case 16:this.bit16();break;case 8:this.bit8();break;case 4:this.bit4();break;case 1:this.bit1();break;default:this.bit24()}}writeHeader(){this.data.write(this.flag,this.pos,2),this.pos+=2,this.writeUInt32LE(this.fileSize),this.writeUInt32LE(this.reserved1<<16|this.reserved2),this.writeUInt32LE(this.offset),this.writeUInt32LE(this.headerSize),this.writeUInt32LE(this.width),this.writeUInt32LE(this.height),this.data.writeUInt16LE(this.planes,this.pos),this.pos+=2,this.data.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,this.writeUInt32LE(this.compress),this.writeUInt32LE(this.rawSize),this.writeUInt32LE(this.hr),this.writeUInt32LE(this.vr),this.writeUInt32LE(this.colors),this.writeUInt32LE(this.importantColors)}bit1(){this.palette.length&&this.colors===2?this.initColors(1):(this.writeUInt32LE(16777215),this.writeUInt32LE(0)),this.pos+=1;let m=[];this.writeImage((g,w,I)=>{let P=w;P++;const F=this.buffer[P++],D=this.buffer[P++],$=.2126*this.buffer[P++]+.7152*D+.0722*F;return m.push($>127?0:1),(I+1)%8==0?(this.data[g-1]=createInteger(m),m=[]):I===this.width-1&&m.length>0&&(this.data[g-1]=createInteger(m)<<4,m=[]),P})}bit4(){const m=this.initColors(4);let g=[];this.writeImage((w,I,P)=>{let F=I;const D=createColor({quad:this.buffer[F++],blue:this.buffer[F++],green:this.buffer[F++],red:this.buffer[F++]}),$=m.findIndex(V=>V===D);return $!==-1?g.push($):g.push(0),(P+1)%2==0&&(this.data[w]=g[0]<<4|g[1],g=[]),F})}bit8(){const m=this.initColors(8);this.writeImage((g,w)=>{let I=w;const P=createColor({quad:this.buffer[I++],blue:this.buffer[I++],green:this.buffer[I++],red:this.buffer[I++]}),F=m.findIndex(D=>D===P);return this.data[g]=F!==-1?F:0,I})}bit16(){this.writeImage((m,g)=>{let w=g+1;const I=this.buffer[w++]/8,P=this.buffer[w++]/8,F=this.buffer[w++]/8<<10|P<<5|I;return this.data[m]=255&F,this.data[m+1]=(65280&F)>>8,w})}bit24(){this.writeImage((m,g)=>{let w=g+1;return this.data[m]=this.buffer[w++],this.data[m+1]=this.buffer[w++],this.data[m+2]=this.buffer[w++],w})}bit32(){this.writeImage((m,g)=>{let w=g;return this.data[m+3]=this.buffer[w++],this.data[m]=this.buffer[w++],this.data[m+1]=this.buffer[w++],this.data[m+2]=this.buffer[w++],w})}writeImage(m){const g=this.extraBytes+this.width*this.bytesInColor;let w=0;for(let I=0;I<this.height;I++)for(let P=0;P<this.width;P++){const F=Math.floor(this.pos+(this.height-1-I)*g+P*this.bytesInColor);w=m.call(this,F,w,P,I)}}initColors(m){const g=[];if(!this.palette.length)throw new Error(`To encode ${m}-bit BMPs a pallette is needed. Please choose up to ${this.colors} colors. Colors must be 32-bit integers.`);for(let w=0;w<this.colors;w++){const I=createColor(this.palette[w]);this.writeUInt32LE(I),g.push(I)}return g}writeUInt32LE(m){this.data.writeUInt32LE(m,this.pos),this.pos+=4}}function decode$2(d,m){return new BmpDecoder(d,m)}function encode$2(d){return new BmpEncoder(d)}function _typeof(d){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},_typeof(d)}var trimLeft=/^\s+/,trimRight=/\s+$/;function tinycolor(d,m){if(m=m||{},(d=d||"")instanceof tinycolor)return d;if(!(this instanceof tinycolor))return new tinycolor(d,m);var g=inputToRGB(d);this._originalInput=d,this._r=g.r,this._g=g.g,this._b=g.b,this._a=g.a,this._roundA=Math.round(100*this._a)/100,this._format=m.format||g.format,this._gradientType=m.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=g.ok}function inputToRGB(d){var m={r:0,g:0,b:0},g=1,w=null,I=null,P=null,F=!1,D=!1;return typeof d=="string"&&(d=stringInputToObject(d)),_typeof(d)=="object"&&(isValidCSSUnit(d.r)&&isValidCSSUnit(d.g)&&isValidCSSUnit(d.b)?(m=rgbToRgb(d.r,d.g,d.b),F=!0,D=String(d.r).substr(-1)==="%"?"prgb":"rgb"):isValidCSSUnit(d.h)&&isValidCSSUnit(d.s)&&isValidCSSUnit(d.v)?(w=convertToPercentage(d.s),I=convertToPercentage(d.v),m=hsvToRgb(d.h,w,I),F=!0,D="hsv"):isValidCSSUnit(d.h)&&isValidCSSUnit(d.s)&&isValidCSSUnit(d.l)&&(w=convertToPercentage(d.s),P=convertToPercentage(d.l),m=hslToRgb(d.h,w,P),F=!0,D="hsl"),d.hasOwnProperty("a")&&(g=d.a)),g=boundAlpha(g),{ok:F,format:d.format||D,r:Math.min(255,Math.max(m.r,0)),g:Math.min(255,Math.max(m.g,0)),b:Math.min(255,Math.max(m.b,0)),a:g}}function rgbToRgb(d,m,g){return{r:255*bound01(d,255),g:255*bound01(m,255),b:255*bound01(g,255)}}function rgbToHsl(d,m,g){d=bound01(d,255),m=bound01(m,255),g=bound01(g,255);var w,I,P=Math.max(d,m,g),F=Math.min(d,m,g),D=(P+F)/2;if(P==F)w=I=0;else{var $=P-F;switch(I=D>.5?$/(2-P-F):$/(P+F),P){case d:w=(m-g)/$+(m<g?6:0);break;case m:w=(g-d)/$+2;break;case g:w=(d-m)/$+4}w/=6}return{h:w,s:I,l:D}}function hslToRgb(d,m,g){var w,I,P;function F(V,j,G){return G<0&&(G+=1),G>1&&(G-=1),G<1/6?V+6*(j-V)*G:G<.5?j:G<2/3?V+(j-V)*(2/3-G)*6:V}if(d=bound01(d,360),m=bound01(m,100),g=bound01(g,100),m===0)w=I=P=g;else{var D=g<.5?g*(1+m):g+m-g*m,$=2*g-D;w=F($,D,d+1/3),I=F($,D,d),P=F($,D,d-1/3)}return{r:255*w,g:255*I,b:255*P}}function rgbToHsv(d,m,g){d=bound01(d,255),m=bound01(m,255),g=bound01(g,255);var w,I,P=Math.max(d,m,g),F=Math.min(d,m,g),D=P,$=P-F;if(I=P===0?0:$/P,P==F)w=0;else{switch(P){case d:w=(m-g)/$+(m<g?6:0);break;case m:w=(g-d)/$+2;break;case g:w=(d-m)/$+4}w/=6}return{h:w,s:I,v:D}}function hsvToRgb(d,m,g){d=6*bound01(d,360),m=bound01(m,100),g=bound01(g,100);var w=Math.floor(d),I=d-w,P=g*(1-m),F=g*(1-I*m),D=g*(1-(1-I)*m),$=w%6;return{r:255*[g,F,P,P,D,g][$],g:255*[D,g,g,F,P,P][$],b:255*[P,P,D,g,g,F][$]}}function rgbToHex(d,m,g,w){var I=[pad2(Math.round(d).toString(16)),pad2(Math.round(m).toString(16)),pad2(Math.round(g).toString(16))];return w&&I[0].charAt(0)==I[0].charAt(1)&&I[1].charAt(0)==I[1].charAt(1)&&I[2].charAt(0)==I[2].charAt(1)?I[0].charAt(0)+I[1].charAt(0)+I[2].charAt(0):I.join("")}function rgbaToHex(d,m,g,w,I){var P=[pad2(Math.round(d).toString(16)),pad2(Math.round(m).toString(16)),pad2(Math.round(g).toString(16)),pad2(convertDecimalToHex(w))];return I&&P[0].charAt(0)==P[0].charAt(1)&&P[1].charAt(0)==P[1].charAt(1)&&P[2].charAt(0)==P[2].charAt(1)&&P[3].charAt(0)==P[3].charAt(1)?P[0].charAt(0)+P[1].charAt(0)+P[2].charAt(0)+P[3].charAt(0):P.join("")}function rgbaToArgbHex(d,m,g,w){return[pad2(convertDecimalToHex(w)),pad2(Math.round(d).toString(16)),pad2(Math.round(m).toString(16)),pad2(Math.round(g).toString(16))].join("")}function _desaturate(d,m){m=m===0?0:m||10;var g=tinycolor(d).toHsl();return g.s-=m/100,g.s=clamp01(g.s),tinycolor(g)}function _saturate(d,m){m=m===0?0:m||10;var g=tinycolor(d).toHsl();return g.s+=m/100,g.s=clamp01(g.s),tinycolor(g)}function _greyscale(d){return tinycolor(d).desaturate(100)}function _lighten(d,m){m=m===0?0:m||10;var g=tinycolor(d).toHsl();return g.l+=m/100,g.l=clamp01(g.l),tinycolor(g)}function _brighten(d,m){m=m===0?0:m||10;var g=tinycolor(d).toRgb();return g.r=Math.max(0,Math.min(255,g.r-Math.round(-m/100*255))),g.g=Math.max(0,Math.min(255,g.g-Math.round(-m/100*255))),g.b=Math.max(0,Math.min(255,g.b-Math.round(-m/100*255))),tinycolor(g)}function _darken(d,m){m=m===0?0:m||10;var g=tinycolor(d).toHsl();return g.l-=m/100,g.l=clamp01(g.l),tinycolor(g)}function _spin(d,m){var g=tinycolor(d).toHsl(),w=(g.h+m)%360;return g.h=w<0?360+w:w,tinycolor(g)}function _complement(d){var m=tinycolor(d).toHsl();return m.h=(m.h+180)%360,tinycolor(m)}function polyad(d,m){if(isNaN(m)||m<=0)throw new Error("Argument to polyad must be a positive number");for(var g=tinycolor(d).toHsl(),w=[tinycolor(d)],I=360/m,P=1;P<m;P++)w.push(tinycolor({h:(g.h+P*I)%360,s:g.s,l:g.l}));return w}function _splitcomplement(d){var m=tinycolor(d).toHsl(),g=m.h;return[tinycolor(d),tinycolor({h:(g+72)%360,s:m.s,l:m.l}),tinycolor({h:(g+216)%360,s:m.s,l:m.l})]}function _analogous(d,m,g){m=m||6,g=g||30;var w=tinycolor(d).toHsl(),I=360/g,P=[tinycolor(d)];for(w.h=(w.h-(I*m>>1)+720)%360;--m;)w.h=(w.h+I)%360,P.push(tinycolor(w));return P}function _monochromatic(d,m){m=m||6;for(var g=tinycolor(d).toHsv(),w=g.h,I=g.s,P=g.v,F=[],D=1/m;m--;)F.push(tinycolor({h:w,s:I,v:P})),P=(P+D)%1;return F}tinycolor.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var d=this.toRgb();return(299*d.r+587*d.g+114*d.b)/1e3},getLuminance:function(){var d,m,g,w=this.toRgb();return d=w.r/255,m=w.g/255,g=w.b/255,.2126*(d<=.03928?d/12.92:Math.pow((d+.055)/1.055,2.4))+.7152*(m<=.03928?m/12.92:Math.pow((m+.055)/1.055,2.4))+.0722*(g<=.03928?g/12.92:Math.pow((g+.055)/1.055,2.4))},setAlpha:function(d){return this._a=boundAlpha(d),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var d=rgbToHsv(this._r,this._g,this._b);return{h:360*d.h,s:d.s,v:d.v,a:this._a}},toHsvString:function(){var d=rgbToHsv(this._r,this._g,this._b),m=Math.round(360*d.h),g=Math.round(100*d.s),w=Math.round(100*d.v);return this._a==1?"hsv("+m+", "+g+"%, "+w+"%)":"hsva("+m+", "+g+"%, "+w+"%, "+this._roundA+")"},toHsl:function(){var d=rgbToHsl(this._r,this._g,this._b);return{h:360*d.h,s:d.s,l:d.l,a:this._a}},toHslString:function(){var d=rgbToHsl(this._r,this._g,this._b),m=Math.round(360*d.h),g=Math.round(100*d.s),w=Math.round(100*d.l);return this._a==1?"hsl("+m+", "+g+"%, "+w+"%)":"hsla("+m+", "+g+"%, "+w+"%, "+this._roundA+")"},toHex:function(d){return rgbToHex(this._r,this._g,this._b,d)},toHexString:function(d){return"#"+this.toHex(d)},toHex8:function(d){return rgbaToHex(this._r,this._g,this._b,this._a,d)},toHex8String:function(d){return"#"+this.toHex8(d)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*bound01(this._r,255))+"%",g:Math.round(100*bound01(this._g,255))+"%",b:Math.round(100*bound01(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(100*bound01(this._r,255))+"%, "+Math.round(100*bound01(this._g,255))+"%, "+Math.round(100*bound01(this._b,255))+"%)":"rgba("+Math.round(100*bound01(this._r,255))+"%, "+Math.round(100*bound01(this._g,255))+"%, "+Math.round(100*bound01(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(hexNames[rgbToHex(this._r,this._g,this._b,!0)]||!1)},toFilter:function(d){var m="#"+rgbaToArgbHex(this._r,this._g,this._b,this._a),g=m,w=this._gradientType?"GradientType = 1, ":"";if(d){var I=tinycolor(d);g="#"+rgbaToArgbHex(I._r,I._g,I._b,I._a)}return"progid:DXImageTransform.Microsoft.gradient("+w+"startColorstr="+m+",endColorstr="+g+")"},toString:function(d){var m=!!d;d=d||this._format;var g=!1,w=this._a<1&&this._a>=0;return m||!w||d!=="hex"&&d!=="hex6"&&d!=="hex3"&&d!=="hex4"&&d!=="hex8"&&d!=="name"?(d==="rgb"&&(g=this.toRgbString()),d==="prgb"&&(g=this.toPercentageRgbString()),d!=="hex"&&d!=="hex6"||(g=this.toHexString()),d==="hex3"&&(g=this.toHexString(!0)),d==="hex4"&&(g=this.toHex8String(!0)),d==="hex8"&&(g=this.toHex8String()),d==="name"&&(g=this.toName()),d==="hsl"&&(g=this.toHslString()),d==="hsv"&&(g=this.toHsvString()),g||this.toHexString()):d==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return tinycolor(this.toString())},_applyModification:function(d,m){var g=d.apply(null,[this].concat([].slice.call(m)));return this._r=g._r,this._g=g._g,this._b=g._b,this.setAlpha(g._a),this},lighten:function(){return this._applyModification(_lighten,arguments)},brighten:function(){return this._applyModification(_brighten,arguments)},darken:function(){return this._applyModification(_darken,arguments)},desaturate:function(){return this._applyModification(_desaturate,arguments)},saturate:function(){return this._applyModification(_saturate,arguments)},greyscale:function(){return this._applyModification(_greyscale,arguments)},spin:function(){return this._applyModification(_spin,arguments)},_applyCombination:function(d,m){return d.apply(null,[this].concat([].slice.call(m)))},analogous:function(){return this._applyCombination(_analogous,arguments)},complement:function(){return this._applyCombination(_complement,arguments)},monochromatic:function(){return this._applyCombination(_monochromatic,arguments)},splitcomplement:function(){return this._applyCombination(_splitcomplement,arguments)},triad:function(){return this._applyCombination(polyad,[3])},tetrad:function(){return this._applyCombination(polyad,[4])}},tinycolor.fromRatio=function(d,m){if(_typeof(d)=="object"){var g={};for(var w in d)d.hasOwnProperty(w)&&(g[w]=w==="a"?d[w]:convertToPercentage(d[w]));d=g}return tinycolor(d,m)},tinycolor.equals=function(d,m){return!(!d||!m)&&tinycolor(d).toRgbString()==tinycolor(m).toRgbString()},tinycolor.random=function(){return tinycolor.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},tinycolor.mix=function(d,m,g){g=g===0?0:g||50;var w=tinycolor(d).toRgb(),I=tinycolor(m).toRgb(),P=g/100;return tinycolor({r:(I.r-w.r)*P+w.r,g:(I.g-w.g)*P+w.g,b:(I.b-w.b)*P+w.b,a:(I.a-w.a)*P+w.a})},tinycolor.readability=function(d,m){var g=tinycolor(d),w=tinycolor(m);return(Math.max(g.getLuminance(),w.getLuminance())+.05)/(Math.min(g.getLuminance(),w.getLuminance())+.05)},tinycolor.isReadable=function(d,m,g){var w,I,P=tinycolor.readability(d,m);switch(I=!1,(w=validateWCAG2Parms(g)).level+w.size){case"AAsmall":case"AAAlarge":I=P>=4.5;break;case"AAlarge":I=P>=3;break;case"AAAsmall":I=P>=7}return I},tinycolor.mostReadable=function(d,m,g){var w,I,P,F,D=null,$=0;I=(g=g||{}).includeFallbackColors,P=g.level,F=g.size;for(var V=0;V<m.length;V++)(w=tinycolor.readability(d,m[V]))>$&&($=w,D=tinycolor(m[V]));return tinycolor.isReadable(d,D,{level:P,size:F})||!I?D:(g.includeFallbackColors=!1,tinycolor.mostReadable(d,["#fff","#000"],g))};var names$1=tinycolor.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},hexNames=tinycolor.hexNames=flip(names$1);function flip(d){var m={};for(var g in d)d.hasOwnProperty(g)&&(m[d[g]]=g);return m}function boundAlpha(d){return d=parseFloat(d),(isNaN(d)||d<0||d>1)&&(d=1),d}function bound01(d,m){isOnePointZero(d)&&(d="100%");var g=isPercentage$1(d);return d=Math.min(m,Math.max(0,parseFloat(d))),g&&(d=parseInt(d*m,10)/100),Math.abs(d-m)<1e-6?1:d%m/parseFloat(m)}function clamp01(d){return Math.min(1,Math.max(0,d))}function parseIntFromHex(d){return parseInt(d,16)}function isOnePointZero(d){return typeof d=="string"&&d.indexOf(".")!=-1&&parseFloat(d)===1}function isPercentage$1(d){return typeof d=="string"&&d.indexOf("%")!=-1}function pad2(d){return d.length==1?"0"+d:""+d}function convertToPercentage(d){return d<=1&&(d=100*d+"%"),d}function convertDecimalToHex(d){return Math.round(255*parseFloat(d)).toString(16)}function convertHexToDecimal(d){return parseIntFromHex(d)/255}var matchers=(CSS_UNIT="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",PERMISSIVE_MATCH3="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",PERMISSIVE_MATCH4="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",{CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}),CSS_UNIT,PERMISSIVE_MATCH3,PERMISSIVE_MATCH4;function isValidCSSUnit(d){return!!matchers.CSS_UNIT.exec(d)}function stringInputToObject(d){d=d.replace(trimLeft,"").replace(trimRight,"").toLowerCase();var m,g=!1;if(names$1[d])d=names$1[d],g=!0;else if(d=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(m=matchers.rgb.exec(d))?{r:m[1],g:m[2],b:m[3]}:(m=matchers.rgba.exec(d))?{r:m[1],g:m[2],b:m[3],a:m[4]}:(m=matchers.hsl.exec(d))?{h:m[1],s:m[2],l:m[3]}:(m=matchers.hsla.exec(d))?{h:m[1],s:m[2],l:m[3],a:m[4]}:(m=matchers.hsv.exec(d))?{h:m[1],s:m[2],v:m[3]}:(m=matchers.hsva.exec(d))?{h:m[1],s:m[2],v:m[3],a:m[4]}:(m=matchers.hex8.exec(d))?{r:parseIntFromHex(m[1]),g:parseIntFromHex(m[2]),b:parseIntFromHex(m[3]),a:convertHexToDecimal(m[4]),format:g?"name":"hex8"}:(m=matchers.hex6.exec(d))?{r:parseIntFromHex(m[1]),g:parseIntFromHex(m[2]),b:parseIntFromHex(m[3]),format:g?"name":"hex"}:(m=matchers.hex4.exec(d))?{r:parseIntFromHex(m[1]+""+m[1]),g:parseIntFromHex(m[2]+""+m[2]),b:parseIntFromHex(m[3]+""+m[3]),a:convertHexToDecimal(m[4]+""+m[4]),format:g?"name":"hex8"}:!!(m=matchers.hex3.exec(d))&&{r:parseIntFromHex(m[1]+""+m[1]),g:parseIntFromHex(m[2]+""+m[2]),b:parseIntFromHex(m[3]+""+m[3]),format:g?"name":"hex"}}function validateWCAG2Parms(d){var m,g;return(m=((d=d||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&m!=="AAA"&&(m="AA"),(g=(d.size||"small").toLowerCase())!=="small"&&g!=="large"&&(g="small"),{level:m,size:g}}function clone(d){const m={width:d.bitmap.width,height:d.bitmap.height,data:Buffer.from(d.bitmap.data)};return new d.constructor(m)}function scan(d,m,g,w,I,P){let F,D,$,V,j;if(typeof m=="function")j=m,F=0,D=0,$=d.bitmap.width,V=d.bitmap.height;else{if(F=m,typeof g!="number")throw new Error("y must be a number");if(D=g,typeof w!="number")throw new Error("w must be a number");if($=w,typeof I!="number")throw new Error("h must be a number");if(V=I,typeof P!="function")throw new Error("cb must be a function");j=P}F=Math.round(F),D=Math.round(D),$=Math.round($),V=Math.round(V);const G=j.bind(d);for(let W=D;W<D+V;W++)for(let Z=F;Z<F+$;Z++)G(Z,W,d.bitmap.width*W+Z<<2);return d}function*scanIterator(d,m,g,w,I){m=Math.round(m),g=Math.round(g),w=Math.round(w),I=Math.round(I);for(let P=g;P<g+I;P++)for(let F=m;F<m+w;F++){const D=d.bitmap.width*P+F<<2;yield{x:F,y:P,idx:D,image:d}}}function intToRGBA$1(d){if(typeof d!="number")throw new Error("i must be a number");const m={r:0,g:0,b:0,a:0};return m.r=Math.floor(d/Math.pow(256,3)),m.g=Math.floor((d-m.r*Math.pow(256,3))/Math.pow(256,2)),m.b=Math.floor((d-m.r*Math.pow(256,3)-m.g*Math.pow(256,2))/Math.pow(256,1)),m.a=Math.floor((d-m.r*Math.pow(256,3)-m.g*Math.pow(256,2)-m.b*Math.pow(256,1))/Math.pow(256,0)),m}function colorDiff(d,m){const g=F=>Math.pow(F,2),{max:w}=Math,I="a"in d?d.a:255,P="a"in m?m.a:255;return(w(g(d.r-m.r),g(d.r-m.r-I+P))+w(g(d.g-m.g),g(d.g-m.g-I+P))+w(g(d.b-m.b),g(d.b-m.b-I+P)))/195075}function limit255(d){return d=Math.max(d,0),d=Math.min(d,255)}function cssColorToHex(d){return typeof d=="number"?d:parseInt(tinycolor(d).toHex8(),16)}function encode$1(d,m={}){return scan({bitmap:d},0,0,d.width,d.height,function(g,w,I){const P=d.data[I+0],F=d.data[I+1],D=d.data[I+2],$=d.data[I+3];d.data[I+0]=$,d.data[I+1]=D,d.data[I+2]=F,d.data[I+3]=P}),encode$2({...d,...m}).data}function decode$1(d,m){const g=decode$2(d,m);return scan({bitmap:g},0,0,g.width,g.height,function(w,I,P){const F=g.data[P+1],D=g.data[P+2],$=g.data[P+3];g.data[P+0]=$,g.data[P+1]=D,g.data[P+2]=F,g.data[P+3]=255}),g}function msBmp(){return{mime:"image/x-ms-bmp",encode:encode$1,decode:decode$1}}function bmp(){return{mime:"image/bmp",encode:encode$1,decode:decode$1}}var omggif={},GifReader_1,GifWriter_1;function GifWriter(d,m,g,w){var I=0,P=(w=w===void 0?{}:w).loop===void 0?null:w.loop,F=w.palette===void 0?null:w.palette;if(m<=0||g<=0||m>65535||g>65535)throw new Error("Width/Height invalid.");function D(Q){var K=Q.length;if(K<2||K>256||K&K-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return K}d[I++]=71,d[I++]=73,d[I++]=70,d[I++]=56,d[I++]=57,d[I++]=97;var $=0,V=0;if(F!==null){for(var j=D(F);j>>=1;)++$;if(j=1<<$,--$,w.background!==void 0){if((V=w.background)>=j)throw new Error("Background index out of range.");if(V===0)throw new Error("Background index explicitly passed as 0.")}}if(d[I++]=255&m,d[I++]=m>>8&255,d[I++]=255&g,d[I++]=g>>8&255,d[I++]=(F!==null?128:0)|$,d[I++]=V,d[I++]=0,F!==null)for(var G=0,W=F.length;G<W;++G){var Z=F[G];d[I++]=Z>>16&255,d[I++]=Z>>8&255,d[I++]=255&Z}if(P!==null){if(P<0||P>65535)throw new Error("Loop count invalid.");d[I++]=33,d[I++]=255,d[I++]=11,d[I++]=78,d[I++]=69,d[I++]=84,d[I++]=83,d[I++]=67,d[I++]=65,d[I++]=80,d[I++]=69,d[I++]=50,d[I++]=46,d[I++]=48,d[I++]=3,d[I++]=1,d[I++]=255&P,d[I++]=P>>8&255,d[I++]=0}var U=!1;this.addFrame=function(Q,K,te,X,J,ee){if(U===!0&&(--I,U=!1),ee=ee===void 0?{}:ee,Q<0||K<0||Q>65535||K>65535)throw new Error("x/y invalid.");if(te<=0||X<=0||te>65535||X>65535)throw new Error("Width/Height invalid.");if(J.length<te*X)throw new Error("Not enough pixels for the frame size.");var ie=!0,fe=ee.palette;if(fe==null&&(ie=!1,fe=F),fe==null)throw new Error("Must supply either a local or global palette.");for(var se=D(fe),de=0;se>>=1;)++de;se=1<<de;var le=ee.delay===void 0?0:ee.delay,ye=ee.disposal===void 0?0:ee.disposal;if(ye<0||ye>3)throw new Error("Disposal out of range.");var ae=!1,ge=0;if(ee.transparent!==void 0&&ee.transparent!==null&&(ae=!0,(ge=ee.transparent)<0||ge>=se))throw new Error("Transparent color index.");if((ye!==0||ae||le!==0)&&(d[I++]=33,d[I++]=249,d[I++]=4,d[I++]=ye<<2|(ae===!0?1:0),d[I++]=255&le,d[I++]=le>>8&255,d[I++]=ge,d[I++]=0),d[I++]=44,d[I++]=255&Q,d[I++]=Q>>8&255,d[I++]=255&K,d[I++]=K>>8&255,d[I++]=255&te,d[I++]=te>>8&255,d[I++]=255&X,d[I++]=X>>8&255,d[I++]=ie===!0?128|de-1:0,ie===!0)for(var Pe=0,be=fe.length;Pe<be;++Pe){var Ee=fe[Pe];d[I++]=Ee>>16&255,d[I++]=Ee>>8&255,d[I++]=255&Ee}return I=GifWriterOutputLZWCodeStream(d,I,de<2?2:de,J)},this.end=function(){return U===!1&&(d[I++]=59,U=!0),I},this.getOutputBuffer=function(){return d},this.setOutputBuffer=function(Q){d=Q},this.getOutputBufferPosition=function(){return I},this.setOutputBufferPosition=function(Q){I=Q}}function GifWriterOutputLZWCodeStream(d,m,g,w){d[m++]=g;var I=m++,P=1<<g,F=P-1,D=P+1,$=D+1,V=g+1,j=0,G=0;function W(ie){for(;j>=ie;)d[m++]=255&G,G>>=8,j-=8,m===I+256&&(d[I]=255,I=m++)}function Z(ie){G|=ie<<j,j+=V,W(8)}var U=w[0]&F,Q={};Z(P);for(var K=1,te=w.length;K<te;++K){var X=w[K]&F,J=U<<8|X,ee=Q[J];if(ee===void 0){for(G|=U<<j,j+=V;j>=8;)d[m++]=255&G,G>>=8,j-=8,m===I+256&&(d[I]=255,I=m++);$===4096?(Z(P),$=D+1,V=g+1,Q={}):($>=1<<V&&++V,Q[J]=$++),U=X}else U=ee}return Z(U),Z(D),W(1),I+1===m?d[I]=0:(d[I]=m-I-1,d[m++]=0),m}function GifReader(d){var m=0;if(d[m++]!==71||d[m++]!==73||d[m++]!==70||d[m++]!==56||(d[m++]+1&253)!=56||d[m++]!==97)throw new Error("Invalid GIF 87a/89a header.");var g=d[m++]|d[m++]<<8,w=d[m++]|d[m++]<<8,I=d[m++],P=I>>7,F=1<<(7&I)+1;d[m++],d[m++];var D=null,$=null;P&&(D=m,$=F,m+=3*F);var V=!0,j=[],G=0,W=null,Z=0,U=null;for(this.width=g,this.height=w;V&&m<d.length;)switch(d[m++]){case 33:switch(d[m++]){case 255:if(d[m]!==11||d[m+1]==78&&d[m+2]==69&&d[m+3]==84&&d[m+4]==83&&d[m+5]==67&&d[m+6]==65&&d[m+7]==80&&d[m+8]==69&&d[m+9]==50&&d[m+10]==46&&d[m+11]==48&&d[m+12]==3&&d[m+13]==1&&d[m+16]==0)m+=14,U=d[m++]|d[m++]<<8,m++;else for(m+=12;;){if(!((ae=d[m++])>=0))throw Error("Invalid block size");if(ae===0)break;m+=ae}break;case 249:if(d[m++]!==4||d[m+4]!==0)throw new Error("Invalid graphics extension block.");var Q=d[m++];G=d[m++]|d[m++]<<8,W=d[m++],1&Q||(W=null),Z=Q>>2&7,m++;break;case 254:for(;;){if(!((ae=d[m++])>=0))throw Error("Invalid block size");if(ae===0)break;m+=ae}break;default:throw new Error("Unknown graphic control label: 0x"+d[m-1].toString(16))}break;case 44:var K=d[m++]|d[m++]<<8,te=d[m++]|d[m++]<<8,X=d[m++]|d[m++]<<8,J=d[m++]|d[m++]<<8,ee=d[m++],ie=ee>>6&1,fe=1<<(7&ee)+1,se=D,de=$,le=!1;ee>>7&&(le=!0,se=m,de=fe,m+=3*fe);var ye=m;for(m++;;){var ae;if(!((ae=d[m++])>=0))throw Error("Invalid block size");if(ae===0)break;m+=ae}j.push({x:K,y:te,width:X,height:J,has_local_palette:le,palette_offset:se,palette_size:de,data_offset:ye,data_length:m-ye,transparent_index:W,interlaced:!!ie,delay:G,disposal:Z});break;case 59:V=!1;break;default:throw new Error("Unknown gif block: 0x"+d[m-1].toString(16))}this.numFrames=function(){return j.length},this.loopCount=function(){return U},this.frameInfo=function(ge){if(ge<0||ge>=j.length)throw new Error("Frame index out of range.");return j[ge]},this.decodeAndBlitFrameBGRA=function(ge,Pe){var be=this.frameInfo(ge),Ee=be.width*be.height,ve=new Uint8Array(Ee);GifReaderLZWOutputIndexStream(d,be.data_offset,ve,Ee);var Re=be.palette_offset,Oe=be.transparent_index;Oe===null&&(Oe=256);var Ae=be.width,He=g-Ae,Me=Ae,je=4*(be.y*g+be.x),Ne=4*((be.y+be.height)*g+be.x),We=je,Ve=4*He;be.interlaced===!0&&(Ve+=4*g*7);for(var ze=8,Le=0,Qe=ve.length;Le<Qe;++Le){var Ke=ve[Le];if(Me===0&&(Me=Ae,(We+=Ve)>=Ne&&(Ve=4*He+4*g*(ze-1),We=je+(Ae+He)*(ze<<1),ze>>=1)),Ke===Oe)We+=4;else{var Fe=d[Re+3*Ke],ce=d[Re+3*Ke+1],$e=d[Re+3*Ke+2];Pe[We++]=$e,Pe[We++]=ce,Pe[We++]=Fe,Pe[We++]=255}--Me}},this.decodeAndBlitFrameRGBA=function(ge,Pe){var be=this.frameInfo(ge),Ee=be.width*be.height,ve=new Uint8Array(Ee);GifReaderLZWOutputIndexStream(d,be.data_offset,ve,Ee);var Re=be.palette_offset,Oe=be.transparent_index;Oe===null&&(Oe=256);var Ae=be.width,He=g-Ae,Me=Ae,je=4*(be.y*g+be.x),Ne=4*((be.y+be.height)*g+be.x),We=je,Ve=4*He;be.interlaced===!0&&(Ve+=4*g*7);for(var ze=8,Le=0,Qe=ve.length;Le<Qe;++Le){var Ke=ve[Le];if(Me===0&&(Me=Ae,(We+=Ve)>=Ne&&(Ve=4*He+4*g*(ze-1),We=je+(Ae+He)*(ze<<1),ze>>=1)),Ke===Oe)We+=4;else{var Fe=d[Re+3*Ke],ce=d[Re+3*Ke+1],$e=d[Re+3*Ke+2];Pe[We++]=Fe,Pe[We++]=ce,Pe[We++]=$e,Pe[We++]=255}--Me}}}function GifReaderLZWOutputIndexStream(d,m,g,w){for(var I=d[m++],P=1<<I,F=P+1,D=F+1,$=I+1,V=(1<<$)-1,j=0,G=0,W=0,Z=d[m++],U=new Int32Array(4096),Q=null;;){for(;j<16&&Z!==0;)G|=d[m++]<<j,j+=8,Z===1?Z=d[m++]:--Z;if(j<$)break;var K=G&V;if(G>>=$,j-=$,K!==P){if(K===F)break;for(var te=K<D?K:Q,X=0,J=te;J>P;)J=U[J]>>8,++X;var ee=J;if(W+X+(te!==K?1:0)>w)return void console.log("Warning, gif stream longer than expected.");g[W++]=ee;var ie=W+=X;for(te!==K&&(g[W++]=ee),J=te;X--;)J=U[J],g[--ie]=255&J,J>>=8;Q!==null&&D<4096&&(U[D++]=Q<<8|ee,D>=V+1&&$<12&&(++$,V=V<<1|1)),Q=K}else D=F+1,V=(1<<($=I+1))-1,Q=null}return W!==w&&console.log("Warning, gif stream shorter than expected."),g}try{GifWriter_1=omggif.GifWriter=GifWriter,GifReader_1=omggif.GifReader=GifReader}catch{}let BitmapImage$2=class Nt{constructor(...m){if(m.length===0)throw new Error("constructor requires parameters");const g=m[0];if(g!==null&&typeof g=="object")if(g instanceof Nt){const w=g.bitmap;this.bitmap={width:w.width,height:w.height,data:new Buffer(w.width*w.height*4)},w.data.copy(this.bitmap.data)}else{if(!(g.width&&g.height&&g.data))throw new Error("unrecognized constructor parameters");this.bitmap=g}else{if(typeof g!="number"||typeof m[1]!="number")throw new Error("unrecognized constructor parameters");{const w=g,I=m[1],P=m[2];this.bitmap={width:w,height:I},Buffer.isBuffer(P)?this.bitmap.data=P:(this.bitmap.data=new Buffer(w*I*4),typeof P=="number"&&this.fillRGBA(P))}}}blit(m,g,w,I,P,F,D){if(I+F>this.bitmap.width)throw new Error("copy exceeds width of source bitmap");if(g+F>m.bitmap.width)throw new Error("copy exceeds width of target bitmap");if(P+D>this.bitmap.height)throw new Error("copy exceeds height of source bitmap");if(w+D>m.bitmap.height)throw new Erro("copy exceeds height of target bitmap");const $=this.bitmap.data,V=m.bitmap.data,j=4*this.bitmap.width,G=4*m.bitmap.width,W=4*F;let Z=P*j+4*I,U=w*G+4*g;for(;--D>=0;)$.copy(V,U,Z,Z+W),Z+=j,U+=G;return this}fillRGBA(m){const g=this.bitmap.data,w=4*this.bitmap.height;let I=0;for(;I<w;)g.writeUInt32BE(m,I),I+=4;for(;I<g.length;)g.copy(g,I,0,w),I+=w;return this}getRGBA(m,g){const w=4*(g*this.bitmap.width+m);return this.bitmap.data.readUInt32BE(w)}getRGBASet(){const m=new Set,g=this.bitmap.data;for(let w=0;w<g.length;w+=4)m.add(g.readUInt32BE(w,!0));return m}greyscale(){const m=this.bitmap.data;return this.scan(0,0,this.bitmap.width,this.bitmap.height,(g,w,I)=>{const P=Math.round(.299*m[I]+.587*m[I+1]+.114*m[I+2]);m[I]=P,m[I+1]=P,m[I+2]=P}),this}reframe(m,g,w,I,P){const F=m<0?0:m,D=g<0?0:g,$=w+F>this.bitmap.width?this.bitmap.width-F:w,V=I+D>this.bitmap.height?this.bitmap.height-D:I,j=m<0?-m:0,G=g<0?-g:0;let W;if(P===void 0){if(F!==m||D!=g||$!==w||V!==I)throw new GifError("fillRGBA required for this reframing");W=new Nt(w,I)}else W=new Nt(w,I,P);return this.blit(W,j,G,F,D,$,V),this.bitmap=W.bitmap,this}scale(m){if(m===1)return;if(!Number.isInteger(m)||m<1)throw new Error("the scale must be an integer >= 1");const g=this.bitmap.width,w=this.bitmap.height,I=g*m*4,P=this.bitmap.data,F=new Buffer(w*I*m);let D,$=0,V=0;for(let j=0;j<w;++j){D=V;for(let G=0;G<g;++G){const W=P.readUInt32BE($,!0);for(let Z=0;Z<m;++Z)F.writeUInt32BE(W,V),V+=4;$+=4}for(let G=1;G<m;++G)F.copy(F,V,D,V),V+=I,D+=I}return this.bitmap={width:g*m,height:w*m,data:F},this}scanAllCoords(m){const g=this.bitmap.width,w=this.bitmap.data.length;let I=0,P=0;for(let F=0;F<w;F+=4)m(I,P,F),++I===g&&(I=0,++P)}scanAllIndexes(m){const g=this.bitmap.data.length;for(let w=0;w<g;w+=4)m(w)}};var bitmapimage=BitmapImage$2,gif$1={};let Gif$1=class{constructor(d,m,g){this.width=g.width,this.height=g.height,this.loops=g.loops,this.usesTransparency=g.usesTransparency,this.colorScope=g.colorScope,this.frames=m,this.buffer=d}};Gif$1.GlobalColorsPreferred=0,Gif$1.GlobalColorsOnly=1,Gif$1.LocalColorsOnly=2;let GifError$2=class extends Error{constructor(d){super(d),d instanceof Error&&(this.stack="Gif"+d.stack)}};gif$1.Gif=Gif$1,gif$1.GifError=GifError$2;var gifcodec={},gifutil={},_polyfillNode_fs={},_polyfillNode_fs$1=Object.freeze({__proto__:null,default:_polyfillNode_fs}),require$$0=getAugmentedNamespace(_polyfillNode_fs$1),__defProp$3=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__hasOwnProp=Object.prototype.hasOwnProperty,__defNormalProp$3=(d,m,g)=>m in d?__defProp$3(d,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[m]=g,__markAsModule=d=>__defProp$3(d,"__esModule",{value:!0}),__export$1=(d,m)=>{for(var g in m)__defProp$3(d,g,{get:m[g],enumerable:!0})},__reExport=(d,m,g,w)=>{if(m&&typeof m=="object"||typeof m=="function")for(let I of __getOwnPropNames(m))!__hasOwnProp.call(d,I)&&g&&__defProp$3(d,I,{get:()=>m[I],enumerable:!(w=__getOwnPropDesc(m,I))||w.enumerable});return d},__toCommonJS=(d=>(m,g)=>d&&d.get(m)||(g=__reExport(__markAsModule({}),m,1),d&&d.set(m,g),g))(typeof WeakMap<"u"?new WeakMap:0),__publicField$3=(d,m,g)=>(__defNormalProp$3(d,typeof m!="symbol"?m+"":m,g),g),src_exports={};__export$1(src_exports,{applyPalette:()=>applyPalette,applyPaletteSync:()=>applyPaletteSync$1,buildPalette:()=>buildPalette,buildPaletteSync:()=>buildPaletteSync$1,constants:()=>constants_exports$1,conversion:()=>conversion_exports$1,distance:()=>distance_exports$1,image:()=>image_exports$1,palette:()=>palette_exports$1,quality:()=>quality_exports$1,utils:()=>utils_exports$1});var constants_exports$1={};__export$1(constants_exports$1,{bt709:()=>bt709_exports$1});var bt709_exports$1={};__export$1(bt709_exports$1,{Y:()=>Y$1,x:()=>x$2,y:()=>y$2});var Y$1=(d=>(d[d.RED=.2126]="RED",d[d.GREEN=.7152]="GREEN",d[d.BLUE=.0722]="BLUE",d[d.WHITE=1]="WHITE",d))(Y$1||{}),x$2=(d=>(d[d.RED=.64]="RED",d[d.GREEN=.3]="GREEN",d[d.BLUE=.15]="BLUE",d[d.WHITE=.3127]="WHITE",d))(x$2||{}),y$2=(d=>(d[d.RED=.33]="RED",d[d.GREEN=.6]="GREEN",d[d.BLUE=.06]="BLUE",d[d.WHITE=.329]="WHITE",d))(y$2||{}),conversion_exports$1={};function correctGamma$1(d){return d>.04045?((d+.055)/1.055)**2.4:d/12.92}function rgb2xyz$1(d,m,g){return{x:.4124*(d=correctGamma$1(d/255))+.3576*(m=correctGamma$1(m/255))+.1805*(g=correctGamma$1(g/255)),y:.2126*d+.7152*m+.0722*g,z:.0193*d+.1192*m+.9505*g}}__export$1(conversion_exports$1,{lab2rgb:()=>lab2rgb$1,lab2xyz:()=>lab2xyz$1,rgb2hsl:()=>rgb2hsl$1,rgb2lab:()=>rgb2lab$1,rgb2xyz:()=>rgb2xyz$1,xyz2lab:()=>xyz2lab$1,xyz2rgb:()=>xyz2rgb$1});var arithmetic_exports$1={};function degrees2radians$1(d){return d*(Math.PI/180)}function max3$1(d,m,g){let w=d;return w<m&&(w=m),w<g&&(w=g),w}function min3$1(d,m,g){let w=d;return w>m&&(w=m),w>g&&(w=g),w}function intInRange$1(d,m,g){return d>g&&(d=g),d<m&&(d=m),0|d}function inRange0to255Rounded$1(d){return(d=Math.round(d))>255?d=255:d<0&&(d=0),d}function inRange0to255$1(d){return d>255?d=255:d<0&&(d=0),d}function stableSort$1(d,m){const g=typeof d[0];let w;if(g==="number"||g==="string"){const I=Object.create(null);for(let P=0,F=d.length;P<F;P++){const D=d[P];I[D]||I[D]===0||(I[D]=P)}w=d.sort((P,F)=>m(P,F)||I[P]-I[F])}else{const I=d.slice(0);w=d.sort((P,F)=>m(P,F)||I.indexOf(P)-I.indexOf(F))}return w}function rgb2hsl$1(d,m,g){const w=min3$1(d,m,g),I=max3$1(d,m,g),P=I-w,F=(w+I)/510;let D=0;F>0&&F<1&&(D=P/(F<.5?I+w:510-I-w));let $=0;return P>0&&($=I===d?(m-g)/P:I===m?2+(g-d)/P:4+(d-m)/P,$*=60,$<0&&($+=360)),{h:$,s:D,l:F}}__export$1(arithmetic_exports$1,{degrees2radians:()=>degrees2radians$1,inRange0to255:()=>inRange0to255$1,inRange0to255Rounded:()=>inRange0to255Rounded$1,intInRange:()=>intInRange$1,max3:()=>max3$1,min3:()=>min3$1,stableSort:()=>stableSort$1});var refX$1=.95047,refY$1=1,refZ$1=1.08883;function pivot$1(d){return d>.008856?d**(1/3):7.787*d+16/116}function xyz2lab$1(d,m,g){if(d=pivot$1(d/refX$1),m=pivot$1(m/refY$1),g=pivot$1(g/refZ$1),116*m-16<0)throw new Error("xxx");return{L:Math.max(0,116*m-16),a:500*(d-m),b:200*(m-g)}}function rgb2lab$1(d,m,g){const w=rgb2xyz$1(d,m,g);return xyz2lab$1(w.x,w.y,w.z)}var refX2$1=.95047,refY2$1=1,refZ2$1=1.08883;function pivot2$1(d){return d>.206893034?d**3:(d-16/116)/7.787}function lab2xyz$1(d,m,g){const w=(d+16)/116,I=w-g/200;return{x:refX2$1*pivot2$1(m/500+w),y:refY2$1*pivot2$1(w),z:refZ2$1*pivot2$1(I)}}function correctGamma2$1(d){return d>.0031308?1.055*d**(1/2.4)-.055:12.92*d}function xyz2rgb$1(d,m,g){const w=correctGamma2$1(3.2406*d+-1.5372*m+-.4986*g),I=correctGamma2$1(-.9689*d+1.8758*m+.0415*g),P=correctGamma2$1(.0557*d+-.204*m+1.057*g);return{r:inRange0to255Rounded$1(255*w),g:inRange0to255Rounded$1(255*I),b:inRange0to255Rounded$1(255*P)}}function lab2rgb$1(d,m,g){const w=lab2xyz$1(d,m,g);return xyz2rgb$1(w.x,w.y,w.z)}var distance_exports$1={};__export$1(distance_exports$1,{AbstractDistanceCalculator:()=>AbstractDistanceCalculator$1,AbstractEuclidean:()=>AbstractEuclidean$1,AbstractManhattan:()=>AbstractManhattan$1,CIE94GraphicArts:()=>CIE94GraphicArts$1,CIE94Textiles:()=>CIE94Textiles$1,CIEDE2000:()=>CIEDE2000$1,CMetric:()=>CMetric$1,Euclidean:()=>Euclidean$1,EuclideanBT709:()=>EuclideanBT709$1,EuclideanBT709NoAlpha:()=>EuclideanBT709NoAlpha$1,Manhattan:()=>Manhattan$1,ManhattanBT709:()=>ManhattanBT709$1,ManhattanNommyde:()=>ManhattanNommyde$1,PNGQuant:()=>PNGQuant$1});var AbstractDistanceCalculator$1=class{constructor(){__publicField$3(this,"_maxDistance"),__publicField$3(this,"_whitePoint"),this._setDefaults(),this.setWhitePoint(255,255,255,255)}setWhitePoint(d,m,g,w){this._whitePoint={r:d>0?255/d:0,g:m>0?255/m:0,b:g>0?255/g:0,a:w>0?255/w:0},this._maxDistance=this.calculateRaw(d,m,g,w,0,0,0,0)}calculateNormalized(d,m){return this.calculateRaw(d.r,d.g,d.b,d.a,m.r,m.g,m.b,m.a)/this._maxDistance}},AbstractCIE94$1=class extends AbstractDistanceCalculator$1{calculateRaw(d,m,g,w,I,P,F,D){const $=rgb2lab$1(inRange0to255$1(d*this._whitePoint.r),inRange0to255$1(m*this._whitePoint.g),inRange0to255$1(g*this._whitePoint.b)),V=rgb2lab$1(inRange0to255$1(I*this._whitePoint.r),inRange0to255$1(P*this._whitePoint.g),inRange0to255$1(F*this._whitePoint.b)),j=$.L-V.L,G=$.a-V.a,W=$.b-V.b,Z=Math.sqrt($.a*$.a+$.b*$.b),U=Z-Math.sqrt(V.a*V.a+V.b*V.b);let Q=G*G+W*W-U*U;Q=Q<0?0:Math.sqrt(Q);const K=(D-w)*this._whitePoint.a*this._kA;return Math.sqrt((j/this._Kl)**2+(U/(1+this._K1*Z))**2+(Q/(1+this._K2*Z))**2+K**2)}},CIE94Textiles$1=class extends AbstractCIE94$1{_setDefaults(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=12.5/255}},CIE94GraphicArts$1=class extends AbstractCIE94$1{_setDefaults(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=25/255}},_CIEDE2000$1=class extends AbstractDistanceCalculator$1{_setDefaults(){}static _calculatehp(d,m){const g=Math.atan2(d,m);return g>=0?g:g+_CIEDE2000$1._deg360InRad}static _calculateRT(d,m){const g=m**7,w=2*Math.sqrt(g/(g+_CIEDE2000$1._pow25to7)),I=_CIEDE2000$1._deg30InRad*Math.exp(-(((d-_CIEDE2000$1._deg275InRad)/_CIEDE2000$1._deg25InRad)**2));return-Math.sin(2*I)*w}static _calculateT(d){return 1-.17*Math.cos(d-_CIEDE2000$1._deg30InRad)+.24*Math.cos(2*d)+.32*Math.cos(3*d+_CIEDE2000$1._deg6InRad)-.2*Math.cos(4*d-_CIEDE2000$1._deg63InRad)}static _calculate_ahp(d,m,g,w){const I=g+w;return d===0?I:m<=_CIEDE2000$1._deg180InRad?I/2:I<_CIEDE2000$1._deg360InRad?(I+_CIEDE2000$1._deg360InRad)/2:(I-_CIEDE2000$1._deg360InRad)/2}static _calculate_dHp(d,m,g,w){let I;return I=d===0?0:m<=_CIEDE2000$1._deg180InRad?g-w:g<=w?g-w+_CIEDE2000$1._deg360InRad:g-w-_CIEDE2000$1._deg360InRad,2*Math.sqrt(d)*Math.sin(I/2)}calculateRaw(d,m,g,w,I,P,F,D){const $=rgb2lab$1(inRange0to255$1(d*this._whitePoint.r),inRange0to255$1(m*this._whitePoint.g),inRange0to255$1(g*this._whitePoint.b)),V=rgb2lab$1(inRange0to255$1(I*this._whitePoint.r),inRange0to255$1(P*this._whitePoint.g),inRange0to255$1(F*this._whitePoint.b)),j=(D-w)*this._whitePoint.a*_CIEDE2000$1._kA,G=this.calculateRawInLab($,V);return Math.sqrt(G+j*j)}calculateRawInLab(d,m){const g=d.L,w=d.a,I=d.b,P=m.L,F=m.a,D=m.b,$=((Math.sqrt(w*w+I*I)+Math.sqrt(F*F+D*D))/2)**7,V=.5*(1-Math.sqrt($/($+_CIEDE2000$1._pow25to7))),j=(1+V)*w,G=(1+V)*F,W=Math.sqrt(j*j+I*I),Z=Math.sqrt(G*G+D*D),U=W*Z,Q=_CIEDE2000$1._calculatehp(I,j),K=_CIEDE2000$1._calculatehp(D,G),te=Math.abs(Q-K),X=P-g,J=Z-W,ee=_CIEDE2000$1._calculate_dHp(U,te,K,Q),ie=_CIEDE2000$1._calculate_ahp(U,te,Q,K),fe=(W+Z)/2,se=((g+P)/2-50)**2,de=J/(1+.045*fe),le=ee/(1+.015*_CIEDE2000$1._calculateT(ie)*fe);return(X/(1+.015*se/Math.sqrt(20+se)))**2+de**2+le**2+_CIEDE2000$1._calculateRT(ie,fe)*de*le}},CIEDE2000$1=_CIEDE2000$1;__publicField$3(CIEDE2000$1,"_kA",25/255),__publicField$3(CIEDE2000$1,"_pow25to7",25**7),__publicField$3(CIEDE2000$1,"_deg360InRad",degrees2radians$1(360)),__publicField$3(CIEDE2000$1,"_deg180InRad",degrees2radians$1(180)),__publicField$3(CIEDE2000$1,"_deg30InRad",degrees2radians$1(30)),__publicField$3(CIEDE2000$1,"_deg6InRad",degrees2radians$1(6)),__publicField$3(CIEDE2000$1,"_deg63InRad",degrees2radians$1(63)),__publicField$3(CIEDE2000$1,"_deg275InRad",degrees2radians$1(275)),__publicField$3(CIEDE2000$1,"_deg25InRad",degrees2radians$1(25));var CMetric$1=class extends AbstractDistanceCalculator$1{calculateRaw(d,m,g,w,I,P,F,D){const $=(d+I)/2*this._whitePoint.r,V=(d-I)*this._whitePoint.r,j=(m-P)*this._whitePoint.g,G=(g-F)*this._whitePoint.b,W=((512+$)*V*V>>8)+4*j*j+((767-$)*G*G>>8),Z=(D-w)*this._whitePoint.a;return Math.sqrt(W+Z*Z)}_setDefaults(){}},AbstractEuclidean$1=class extends AbstractDistanceCalculator$1{calculateRaw(d,m,g,w,I,P,F,D){const $=I-d,V=P-m,j=F-g,G=D-w;return Math.sqrt(this._kR*$*$+this._kG*V*V+this._kB*j*j+this._kA*G*G)}},Euclidean$1=class extends AbstractEuclidean$1{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},EuclideanBT709$1=class extends AbstractEuclidean$1{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},EuclideanBT709NoAlpha$1=class extends AbstractEuclidean$1{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=0}},AbstractManhattan$1=class extends AbstractDistanceCalculator$1{calculateRaw(d,m,g,w,I,P,F,D){let $=I-d,V=P-m,j=F-g,G=D-w;return $<0&&($=0-$),V<0&&(V=0-V),j<0&&(j=0-j),G<0&&(G=0-G),this._kR*$+this._kG*V+this._kB*j+this._kA*G}},Manhattan$1=class extends AbstractManhattan$1{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},ManhattanNommyde$1=class extends AbstractManhattan$1{_setDefaults(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1}},ManhattanBT709$1=class extends AbstractManhattan$1{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},PNGQuant$1=class extends AbstractDistanceCalculator$1{calculateRaw(d,m,g,w,I,P,F,D){const $=(D-w)*this._whitePoint.a;return this._colordifferenceCh(d*this._whitePoint.r,I*this._whitePoint.r,$)+this._colordifferenceCh(m*this._whitePoint.g,P*this._whitePoint.g,$)+this._colordifferenceCh(g*this._whitePoint.b,F*this._whitePoint.b,$)}_colordifferenceCh(d,m,g){const w=d-m,I=w+g;return w*w+I*I}_setDefaults(){}},palette_exports$1={};__export$1(palette_exports$1,{AbstractPaletteQuantizer:()=>AbstractPaletteQuantizer$1,ColorHistogram:()=>ColorHistogram$1,NeuQuant:()=>NeuQuant$1,NeuQuantFloat:()=>NeuQuantFloat$1,RGBQuant:()=>RGBQuant$1,WuColorCube:()=>WuColorCube$1,WuQuant:()=>WuQuant$1});var AbstractPaletteQuantizer$1=class{quantizeSync(){for(const d of this.quantize())if(d.palette)return d.palette;throw new Error("unreachable")}},Point$1=class{constructor(){__publicField$3(this,"r"),__publicField$3(this,"g"),__publicField$3(this,"b"),__publicField$3(this,"a"),__publicField$3(this,"uint32"),__publicField$3(this,"rgba"),this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}static createByQuadruplet(d){const m=new Point$1;return m.r=0|d[0],m.g=0|d[1],m.b=0|d[2],m.a=0|d[3],m._loadUINT32(),m._loadQuadruplet(),m}static createByRGBA(d,m,g,w){const I=new Point$1;return I.r=0|d,I.g=0|m,I.b=0|g,I.a=0|w,I._loadUINT32(),I._loadQuadruplet(),I}static createByUint32(d){const m=new Point$1;return m.uint32=d>>>0,m._loadRGBA(),m._loadQuadruplet(),m}from(d){this.r=d.r,this.g=d.g,this.b=d.b,this.a=d.a,this.uint32=d.uint32,this.rgba[0]=d.r,this.rgba[1]=d.g,this.rgba[2]=d.b,this.rgba[3]=d.a}getLuminosity(d){let m=this.r,g=this.g,w=this.b;return d&&(m=Math.min(255,255-this.a+this.a*m/255),g=Math.min(255,255-this.a+this.a*g/255),w=Math.min(255,255-this.a+this.a*w/255)),.2126*m+.7152*g+.0722*w}_loadUINT32(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0}_loadRGBA(){this.r=255&this.uint32,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255}_loadQuadruplet(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a}},PointContainer$1=class{constructor(){__publicField$3(this,"_pointArray"),__publicField$3(this,"_width"),__publicField$3(this,"_height"),this._width=0,this._height=0,this._pointArray=[]}getWidth(){return this._width}getHeight(){return this._height}setWidth(d){this._width=d}setHeight(d){this._height=d}getPointArray(){return this._pointArray}clone(){const d=new PointContainer$1;d._width=this._width,d._height=this._height;for(let m=0,g=this._pointArray.length;m<g;m++)d._pointArray[m]=Point$1.createByUint32(0|this._pointArray[m].uint32);return d}toUint32Array(){const d=this._pointArray.length,m=new Uint32Array(d);for(let g=0;g<d;g++)m[g]=this._pointArray[g].uint32;return m}toUint8Array(){return new Uint8Array(this.toUint32Array().buffer)}static fromHTMLImageElement(d){const m=d.naturalWidth,g=d.naturalHeight,w=document.createElement("canvas");return w.width=m,w.height=g,w.getContext("2d").drawImage(d,0,0,m,g,0,0,m,g),PointContainer$1.fromHTMLCanvasElement(w)}static fromHTMLCanvasElement(d){const m=d.width,g=d.height,w=d.getContext("2d").getImageData(0,0,m,g);return PointContainer$1.fromImageData(w)}static fromImageData(d){const m=d.width,g=d.height;return PointContainer$1.fromUint8Array(d.data,m,g)}static fromUint8Array(d,m,g){switch(Object.prototype.toString.call(d)){case"[object Uint8ClampedArray]":case"[object Uint8Array]":break;default:d=new Uint8Array(d)}const w=new Uint32Array(d.buffer);return PointContainer$1.fromUint32Array(w,m,g)}static fromUint32Array(d,m,g){const w=new PointContainer$1;w._width=m,w._height=g;for(let I=0,P=d.length;I<P;I++)w._pointArray[I]=Point$1.createByUint32(0|d[I]);return w}static fromBuffer(d,m,g){const w=new Uint32Array(d.buffer,d.byteOffset,d.byteLength/Uint32Array.BYTES_PER_ELEMENT);return PointContainer$1.fromUint32Array(w,m,g)}},hueGroups$1=10;function hueGroup$1(d,m){const g=360/m;for(let w=1,I=g-g/2;w<m;w++,I+=g)if(d>=I&&d<I+g)return w;return 0}var Palette$1=class{constructor(){__publicField$3(this,"_pointContainer"),__publicField$3(this,"_pointArray",[]),__publicField$3(this,"_i32idx",{}),this._pointContainer=new PointContainer$1,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}add(d){this._pointArray.push(d),this._pointContainer.setWidth(this._pointArray.length)}has(d){for(let m=this._pointArray.length-1;m>=0;m--)if(d.uint32===this._pointArray[m].uint32)return!0;return!1}getNearestColor(d,m){return this._pointArray[0|this._getNearestIndex(d,m)]}getPointContainer(){return this._pointContainer}_nearestPointFromCache(d){return typeof this._i32idx[d]=="number"?this._i32idx[d]:-1}_getNearestIndex(d,m){let g=this._nearestPointFromCache(""+m.uint32);if(g>=0)return g;let w=Number.MAX_VALUE;g=0;for(let I=0,P=this._pointArray.length;I<P;I++){const F=this._pointArray[I],D=d.calculateRaw(m.r,m.g,m.b,m.a,F.r,F.g,F.b,F.a);D<w&&(w=D,g=I)}return this._i32idx[m.uint32]=g,g}sort(){this._i32idx={},this._pointArray.sort((d,m)=>{const g=rgb2hsl$1(d.r,d.g,d.b),w=rgb2hsl$1(m.r,m.g,m.b),I=d.r===d.g&&d.g===d.b?0:1+hueGroup$1(g.h,hueGroups$1),P=(m.r===m.g&&m.g===m.b?0:1+hueGroup$1(w.h,hueGroups$1))-I;if(P)return-P;const F=d.getLuminosity(!0),D=m.getLuminosity(!0);if(D-F!=0)return D-F;const $=(100*w.s|0)-(100*g.s|0);return $?-$:0})}},utils_exports$1={};__export$1(utils_exports$1,{HueStatistics:()=>HueStatistics$1,Palette:()=>Palette$1,Point:()=>Point$1,PointContainer:()=>PointContainer$1,ProgressTracker:()=>ProgressTracker$1,arithmetic:()=>arithmetic_exports$1});var HueGroup$1=class{constructor(){__publicField$3(this,"num",0),__publicField$3(this,"cols",[])}},HueStatistics$1=class{constructor(d,m){__publicField$3(this,"_numGroups"),__publicField$3(this,"_minCols"),__publicField$3(this,"_stats"),__publicField$3(this,"_groupsFull"),this._numGroups=d,this._minCols=m,this._stats=[];for(let g=0;g<=d;g++)this._stats[g]=new HueGroup$1;this._groupsFull=0}check(d){this._groupsFull===this._numGroups+1&&(this.check=()=>{});const m=255&d,g=d>>>8&255,w=d>>>16&255,I=m===g&&g===w?0:1+hueGroup$1(rgb2hsl$1(m,g,w).h,this._numGroups),P=this._stats[I],F=this._minCols;P.num++,P.num>F||(P.num===F&&this._groupsFull++,P.num<=F&&this._stats[I].cols.push(d))}injectIntoDictionary(d){for(let m=0;m<=this._numGroups;m++)this._stats[m].num<=this._minCols&&this._stats[m].cols.forEach(g=>{d[g]?d[g]++:d[g]=1})}injectIntoArray(d){for(let m=0;m<=this._numGroups;m++)this._stats[m].num<=this._minCols&&this._stats[m].cols.forEach(g=>{d.indexOf(g)===-1&&d.push(g)})}},_ProgressTracker$1=class{constructor(d,m){__publicField$3(this,"progress"),__publicField$3(this,"_step"),__publicField$3(this,"_range"),__publicField$3(this,"_last"),__publicField$3(this,"_progressRange"),this._range=d,this._progressRange=m,this._step=Math.max(1,this._range/(_ProgressTracker$1.steps+1)|0),this._last=-this._step,this.progress=0}shouldNotify(d){return d-this._last>=this._step&&(this._last=d,this.progress=Math.min(this._progressRange*this._last/this._range,this._progressRange),!0)}},ProgressTracker$1=_ProgressTracker$1;__publicField$3(ProgressTracker$1,"steps",100);var networkBiasShift$1=3,Neuron$1=class{constructor(d){__publicField$3(this,"r"),__publicField$3(this,"g"),__publicField$3(this,"b"),__publicField$3(this,"a"),this.r=this.g=this.b=this.a=d}toPoint(){return Point$1.createByRGBA(this.r>>networkBiasShift$1,this.g>>networkBiasShift$1,this.b>>networkBiasShift$1,this.a>>networkBiasShift$1)}subtract(d,m,g,w){this.r-=0|d,this.g-=0|m,this.b-=0|g,this.a-=0|w}},_NeuQuant$1=class extends AbstractPaletteQuantizer$1{constructor(d,m=256){super(),__publicField$3(this,"_pointArray"),__publicField$3(this,"_networkSize"),__publicField$3(this,"_network"),__publicField$3(this,"_sampleFactor"),__publicField$3(this,"_radPower"),__publicField$3(this,"_freq"),__publicField$3(this,"_bias"),__publicField$3(this,"_distance"),this._distance=d,this._pointArray=[],this._sampleFactor=1,this._networkSize=m,this._distance.setWhitePoint(255<<networkBiasShift$1,255<<networkBiasShift$1,255<<networkBiasShift$1,255<<networkBiasShift$1)}sample(d){this._pointArray=this._pointArray.concat(d.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let d=0;d<this._networkSize;d++)this._network[d]=new Neuron$1((d<<networkBiasShift$1+8)/this._networkSize|0),this._freq[d]=_NeuQuant$1._initialBias/this._networkSize|0,this._bias[d]=0}*_learn(){let d=this._sampleFactor;const m=this._pointArray.length;m<_NeuQuant$1._minpicturebytes&&(d=1);const g=30+(d-1)/3|0,w=m/d|0;let I,P=w/_NeuQuant$1._nCycles|0,F=_NeuQuant$1._initAlpha,D=(this._networkSize>>3)*_NeuQuant$1._radiusBias,$=D>>_NeuQuant$1._radiusBiasShift;$<=1&&($=0);for(let j=0;j<$;j++)this._radPower[j]=F*(($*$-j*j)*_NeuQuant$1._radBias/($*$))>>>0;I=m<_NeuQuant$1._minpicturebytes?1:m%_NeuQuant$1._prime1!=0?_NeuQuant$1._prime1:m%_NeuQuant$1._prime2!=0?_NeuQuant$1._prime2:m%_NeuQuant$1._prime3!=0?_NeuQuant$1._prime3:_NeuQuant$1._prime4;const V=new ProgressTracker$1(w,99);for(let j=0,G=0;j<w;){V.shouldNotify(j)&&(yield{progress:V.progress});const W=this._pointArray[G],Z=W.b<<networkBiasShift$1,U=W.g<<networkBiasShift$1,Q=W.r<<networkBiasShift$1,K=W.a<<networkBiasShift$1,te=this._contest(Z,U,Q,K);if(this._alterSingle(F,te,Z,U,Q,K),$!==0&&this._alterNeighbour($,te,Z,U,Q,K),G+=I,G>=m&&(G-=m),j++,P===0&&(P=1),j%P==0){F-=F/g|0,D-=D/_NeuQuant$1._radiusDecrease|0,$=D>>_NeuQuant$1._radiusBiasShift,$<=1&&($=0);for(let X=0;X<$;X++)this._radPower[X]=F*(($*$-X*X)*_NeuQuant$1._radBias/($*$))>>>0}}}_buildPalette(){const d=new Palette$1;return this._network.forEach(m=>{d.add(m.toPoint())}),d.sort(),d}_alterNeighbour(d,m,g,w,I,P){let F=m-d;F<-1&&(F=-1);let D=m+d;D>this._networkSize&&(D=this._networkSize);let $=m+1,V=m-1,j=1;for(;$<D||V>F;){const G=this._radPower[j++]/_NeuQuant$1._alphaRadBias;if($<D){const W=this._network[$++];W.subtract(G*(W.r-I),G*(W.g-w),G*(W.b-g),G*(W.a-P))}if(V>F){const W=this._network[V--];W.subtract(G*(W.r-I),G*(W.g-w),G*(W.b-g),G*(W.a-P))}}}_alterSingle(d,m,g,w,I,P){d/=_NeuQuant$1._initAlpha;const F=this._network[m];F.subtract(d*(F.r-I),d*(F.g-w),d*(F.b-g),d*(F.a-P))}_contest(d,m,g,w){const I=1020<<networkBiasShift$1;let P=~(1<<31),F=P,D=-1,$=D;for(let V=0;V<this._networkSize;V++){const j=this._network[V],G=this._distance.calculateNormalized(j,{r:g,g:m,b:d,a:w})*I|0;G<P&&(P=G,D=V);const W=G-(this._bias[V]>>_NeuQuant$1._initialBiasShift-networkBiasShift$1);W<F&&(F=W,$=V);const Z=this._freq[V]>>_NeuQuant$1._betaShift;this._freq[V]-=Z,this._bias[V]+=Z<<_NeuQuant$1._gammaShift}return this._freq[D]+=_NeuQuant$1._beta,this._bias[D]-=_NeuQuant$1._betaGamma,$}},NeuQuant$1=_NeuQuant$1;__publicField$3(NeuQuant$1,"_prime1",499),__publicField$3(NeuQuant$1,"_prime2",491),__publicField$3(NeuQuant$1,"_prime3",487),__publicField$3(NeuQuant$1,"_prime4",503),__publicField$3(NeuQuant$1,"_minpicturebytes",_NeuQuant$1._prime4),__publicField$3(NeuQuant$1,"_nCycles",100),__publicField$3(NeuQuant$1,"_initialBiasShift",16),__publicField$3(NeuQuant$1,"_initialBias",1<<_NeuQuant$1._initialBiasShift),__publicField$3(NeuQuant$1,"_gammaShift",10),__publicField$3(NeuQuant$1,"_betaShift",10),__publicField$3(NeuQuant$1,"_beta",_NeuQuant$1._initialBias>>_NeuQuant$1._betaShift),__publicField$3(NeuQuant$1,"_betaGamma",_NeuQuant$1._initialBias<<_NeuQuant$1._gammaShift-_NeuQuant$1._betaShift),__publicField$3(NeuQuant$1,"_radiusBiasShift",6),__publicField$3(NeuQuant$1,"_radiusBias",1<<_NeuQuant$1._radiusBiasShift),__publicField$3(NeuQuant$1,"_radiusDecrease",30),__publicField$3(NeuQuant$1,"_alphaBiasShift",10),__publicField$3(NeuQuant$1,"_initAlpha",1<<_NeuQuant$1._alphaBiasShift),__publicField$3(NeuQuant$1,"_radBiasShift",8),__publicField$3(NeuQuant$1,"_radBias",1<<_NeuQuant$1._radBiasShift),__publicField$3(NeuQuant$1,"_alphaRadBiasShift",_NeuQuant$1._alphaBiasShift+_NeuQuant$1._radBiasShift),__publicField$3(NeuQuant$1,"_alphaRadBias",1<<_NeuQuant$1._alphaRadBiasShift);var networkBiasShift2$1=3,NeuronFloat$1=class{constructor(d){__publicField$3(this,"r"),__publicField$3(this,"g"),__publicField$3(this,"b"),__publicField$3(this,"a"),this.r=this.g=this.b=this.a=d}toPoint(){return Point$1.createByRGBA(this.r>>networkBiasShift2$1,this.g>>networkBiasShift2$1,this.b>>networkBiasShift2$1,this.a>>networkBiasShift2$1)}subtract(d,m,g,w){this.r-=d,this.g-=m,this.b-=g,this.a-=w}},_NeuQuantFloat$1=class extends AbstractPaletteQuantizer$1{constructor(d,m=256){super(),__publicField$3(this,"_pointArray"),__publicField$3(this,"_networkSize"),__publicField$3(this,"_network"),__publicField$3(this,"_sampleFactor"),__publicField$3(this,"_radPower"),__publicField$3(this,"_freq"),__publicField$3(this,"_bias"),__publicField$3(this,"_distance"),this._distance=d,this._pointArray=[],this._sampleFactor=1,this._networkSize=m,this._distance.setWhitePoint(255<<networkBiasShift2$1,255<<networkBiasShift2$1,255<<networkBiasShift2$1,255<<networkBiasShift2$1)}sample(d){this._pointArray=this._pointArray.concat(d.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let d=0;d<this._networkSize;d++)this._network[d]=new NeuronFloat$1((d<<networkBiasShift2$1+8)/this._networkSize),this._freq[d]=_NeuQuantFloat$1._initialBias/this._networkSize,this._bias[d]=0}*_learn(){let d=this._sampleFactor;const m=this._pointArray.length;m<_NeuQuantFloat$1._minpicturebytes&&(d=1);const g=30+(d-1)/3,w=m/d;let I,P=w/_NeuQuantFloat$1._nCycles|0,F=_NeuQuantFloat$1._initAlpha,D=(this._networkSize>>3)*_NeuQuantFloat$1._radiusBias,$=D>>_NeuQuantFloat$1._radiusBiasShift;$<=1&&($=0);for(let j=0;j<$;j++)this._radPower[j]=F*(($*$-j*j)*_NeuQuantFloat$1._radBias/($*$));I=m<_NeuQuantFloat$1._minpicturebytes?1:m%_NeuQuantFloat$1._prime1!=0?_NeuQuantFloat$1._prime1:m%_NeuQuantFloat$1._prime2!=0?_NeuQuantFloat$1._prime2:m%_NeuQuantFloat$1._prime3!=0?_NeuQuantFloat$1._prime3:_NeuQuantFloat$1._prime4;const V=new ProgressTracker$1(w,99);for(let j=0,G=0;j<w;){V.shouldNotify(j)&&(yield{progress:V.progress});const W=this._pointArray[G],Z=W.b<<networkBiasShift2$1,U=W.g<<networkBiasShift2$1,Q=W.r<<networkBiasShift2$1,K=W.a<<networkBiasShift2$1,te=this._contest(Z,U,Q,K);if(this._alterSingle(F,te,Z,U,Q,K),$!==0&&this._alterNeighbour($,te,Z,U,Q,K),G+=I,G>=m&&(G-=m),j++,P===0&&(P=1),j%P==0){F-=F/g,D-=D/_NeuQuantFloat$1._radiusDecrease,$=D>>_NeuQuantFloat$1._radiusBiasShift,$<=1&&($=0);for(let X=0;X<$;X++)this._radPower[X]=F*(($*$-X*X)*_NeuQuantFloat$1._radBias/($*$))}}}_buildPalette(){const d=new Palette$1;return this._network.forEach(m=>{d.add(m.toPoint())}),d.sort(),d}_alterNeighbour(d,m,g,w,I,P){let F=m-d;F<-1&&(F=-1);let D=m+d;D>this._networkSize&&(D=this._networkSize);let $=m+1,V=m-1,j=1;for(;$<D||V>F;){const G=this._radPower[j++]/_NeuQuantFloat$1._alphaRadBias;if($<D){const W=this._network[$++];W.subtract(G*(W.r-I),G*(W.g-w),G*(W.b-g),G*(W.a-P))}if(V>F){const W=this._network[V--];W.subtract(G*(W.r-I),G*(W.g-w),G*(W.b-g),G*(W.a-P))}}}_alterSingle(d,m,g,w,I,P){d/=_NeuQuantFloat$1._initAlpha;const F=this._network[m];F.subtract(d*(F.r-I),d*(F.g-w),d*(F.b-g),d*(F.a-P))}_contest(d,m,g,w){const I=1020<<networkBiasShift2$1;let P=~(1<<31),F=P,D=-1,$=D;for(let V=0;V<this._networkSize;V++){const j=this._network[V],G=this._distance.calculateNormalized(j,{r:g,g:m,b:d,a:w})*I;G<P&&(P=G,D=V);const W=G-(this._bias[V]>>_NeuQuantFloat$1._initialBiasShift-networkBiasShift2$1);W<F&&(F=W,$=V);const Z=this._freq[V]>>_NeuQuantFloat$1._betaShift;this._freq[V]-=Z,this._bias[V]+=Z<<_NeuQuantFloat$1._gammaShift}return this._freq[D]+=_NeuQuantFloat$1._beta,this._bias[D]-=_NeuQuantFloat$1._betaGamma,$}},NeuQuantFloat$1=_NeuQuantFloat$1;__publicField$3(NeuQuantFloat$1,"_prime1",499),__publicField$3(NeuQuantFloat$1,"_prime2",491),__publicField$3(NeuQuantFloat$1,"_prime3",487),__publicField$3(NeuQuantFloat$1,"_prime4",503),__publicField$3(NeuQuantFloat$1,"_minpicturebytes",_NeuQuantFloat$1._prime4),__publicField$3(NeuQuantFloat$1,"_nCycles",100),__publicField$3(NeuQuantFloat$1,"_initialBiasShift",16),__publicField$3(NeuQuantFloat$1,"_initialBias",1<<_NeuQuantFloat$1._initialBiasShift),__publicField$3(NeuQuantFloat$1,"_gammaShift",10),__publicField$3(NeuQuantFloat$1,"_betaShift",10),__publicField$3(NeuQuantFloat$1,"_beta",_NeuQuantFloat$1._initialBias>>_NeuQuantFloat$1._betaShift),__publicField$3(NeuQuantFloat$1,"_betaGamma",_NeuQuantFloat$1._initialBias<<_NeuQuantFloat$1._gammaShift-_NeuQuantFloat$1._betaShift),__publicField$3(NeuQuantFloat$1,"_radiusBiasShift",6),__publicField$3(NeuQuantFloat$1,"_radiusBias",1<<_NeuQuantFloat$1._radiusBiasShift),__publicField$3(NeuQuantFloat$1,"_radiusDecrease",30),__publicField$3(NeuQuantFloat$1,"_alphaBiasShift",10),__publicField$3(NeuQuantFloat$1,"_initAlpha",1<<_NeuQuantFloat$1._alphaBiasShift),__publicField$3(NeuQuantFloat$1,"_radBiasShift",8),__publicField$3(NeuQuantFloat$1,"_radBias",1<<_NeuQuantFloat$1._radBiasShift),__publicField$3(NeuQuantFloat$1,"_alphaRadBiasShift",_NeuQuantFloat$1._alphaBiasShift+_NeuQuantFloat$1._radBiasShift),__publicField$3(NeuQuantFloat$1,"_alphaRadBias",1<<_NeuQuantFloat$1._alphaRadBiasShift);var _ColorHistogram$1=class{constructor(d,m){__publicField$3(this,"_method"),__publicField$3(this,"_hueStats"),__publicField$3(this,"_histogram"),__publicField$3(this,"_initColors"),__publicField$3(this,"_minHueCols"),this._method=d,this._minHueCols=m<<2,this._initColors=m<<2,this._hueStats=new HueStatistics$1(_ColorHistogram$1._hueGroups,this._minHueCols),this._histogram=Object.create(null)}sample(d){switch(this._method){case 1:this._colorStats1D(d);break;case 2:this._colorStats2D(d)}}getImportanceSortedColorsIDXI32(){const d=stableSort$1(Object.keys(this._histogram),(g,w)=>this._histogram[w]-this._histogram[g]);if(d.length===0)return[];let m;switch(this._method){case 1:const g=Math.min(d.length,this._initColors),w=d[g-1],I=this._histogram[w];m=d.slice(0,g);let P=g;const F=d.length;for(;P<F&&this._histogram[d[P]]===I;)m.push(d[P++]);this._hueStats.injectIntoArray(m);break;case 2:m=d;break;default:throw new Error("Incorrect method")}return m.map(g=>+g)}_colorStats1D(d){const m=this._histogram,g=d.getPointArray(),w=g.length;for(let I=0;I<w;I++){const P=g[I].uint32;this._hueStats.check(P),P in m?m[P]++:m[P]=1}}_colorStats2D(d){const m=d.getWidth(),g=d.getHeight(),w=d.getPointArray(),I=_ColorHistogram$1._boxSize[0],P=_ColorHistogram$1._boxSize[1],F=I*P,D=this._makeBoxes(m,g,I,P),$=this._histogram;D.forEach(V=>{let j=Math.round(V.w*V.h/F)*_ColorHistogram$1._boxPixels;j<2&&(j=2);const G={};this._iterateBox(V,m,W=>{const Z=w[W].uint32;this._hueStats.check(Z),Z in $?$[Z]++:Z in G?++G[Z]>=j&&($[Z]=G[Z]):G[Z]=1})}),this._hueStats.injectIntoDictionary($)}_iterateBox(d,m,g){const w=d,I=w.y*m+w.x,P=(w.y+w.h-1)*m+(w.x+w.w-1),F=m-w.w+1;let D=0,$=I;do g.call(this,$),$+=++D%w.w==0?F:1;while($<=P)}_makeBoxes(d,m,g,w){const I=d%g,P=m%w,F=d-I,D=m-P,$=[];for(let V=0;V<m;V+=w)for(let j=0;j<d;j+=g)$.push({x:j,y:V,w:j===F?I:g,h:V===D?P:w});return $}},ColorHistogram$1=_ColorHistogram$1;__publicField$3(ColorHistogram$1,"_boxSize",[64,64]),__publicField$3(ColorHistogram$1,"_boxPixels",2),__publicField$3(ColorHistogram$1,"_hueGroups",10);var RemovedColor$1=class{constructor(d,m,g){__publicField$3(this,"index"),__publicField$3(this,"color"),__publicField$3(this,"distance"),this.index=d,this.color=m,this.distance=g}},RGBQuant$1=class extends AbstractPaletteQuantizer$1{constructor(d,m=256,g=2){super(),__publicField$3(this,"_colors"),__publicField$3(this,"_initialDistance"),__publicField$3(this,"_distanceIncrement"),__publicField$3(this,"_histogram"),__publicField$3(this,"_distance"),this._distance=d,this._colors=m,this._histogram=new ColorHistogram$1(g,m),this._initialDistance=.01,this._distanceIncrement=.005}sample(d){this._histogram.sample(d)}*quantize(){const d=this._histogram.getImportanceSortedColorsIDXI32();if(d.length===0)throw new Error("No colors in image");yield*this._buildPalette(d)}*_buildPalette(d){const m=new Palette$1,g=m.getPointContainer().getPointArray(),w=new Array(d.length);for(let j=0;j<d.length;j++)g.push(Point$1.createByUint32(d[j])),w[j]=1;const I=g.length,P=[];let F=I,D=this._initialDistance;const $=new ProgressTracker$1(F-this._colors,99);for(;F>this._colors;){P.length=0;for(let j=0;j<I;j++){if($.shouldNotify(I-F)&&(yield{progress:$.progress}),w[j]===0)continue;const G=g[j];for(let W=j+1;W<I;W++){if(w[W]===0)continue;const Z=g[W],U=this._distance.calculateNormalized(G,Z);U<D&&(P.push(new RemovedColor$1(W,Z,U)),w[W]=0,F--)}}D+=F>3*this._colors?this._initialDistance:this._distanceIncrement}if(F<this._colors){stableSort$1(P,(G,W)=>W.distance-G.distance);let j=0;for(;F<this._colors&&j<P.length;)w[P[j].index]=1,F++,j++}let V=g.length;for(let j=V-1;j>=0;j--)w[j]===0&&(j!==V-1&&(g[j]=g[V-1]),--V);g.length=V,m.sort(),yield{palette:m,progress:100}}};function createArray1D$1(d){const m=[];for(let g=0;g<d;g++)m[g]=0;return m}function createArray4D$1(d,m,g,w){const I=new Array(d);for(let P=0;P<d;P++){I[P]=new Array(m);for(let F=0;F<m;F++){I[P][F]=new Array(g);for(let D=0;D<g;D++){I[P][F][D]=new Array(w);for(let $=0;$<w;$++)I[P][F][D][$]=0}}}return I}function createArray3D$1(d,m,g){const w=new Array(d);for(let I=0;I<d;I++){w[I]=new Array(m);for(let P=0;P<m;P++){w[I][P]=new Array(g);for(let F=0;F<g;F++)w[I][P][F]=0}}return w}function fillArray3D$1(d,m,g,w,I){for(let P=0;P<m;P++){d[P]=[];for(let F=0;F<g;F++){d[P][F]=[];for(let D=0;D<w;D++)d[P][F][D]=I}}}function fillArray1D$1(d,m,g){for(let w=0;w<m;w++)d[w]=g}var WuColorCube$1=class{constructor(){__publicField$3(this,"redMinimum"),__publicField$3(this,"redMaximum"),__publicField$3(this,"greenMinimum"),__publicField$3(this,"greenMaximum"),__publicField$3(this,"blueMinimum"),__publicField$3(this,"blueMaximum"),__publicField$3(this,"volume"),__publicField$3(this,"alphaMinimum"),__publicField$3(this,"alphaMaximum")}},_WuQuant$1=class extends AbstractPaletteQuantizer$1{constructor(d,m=256,g=5){super(),__publicField$3(this,"_reds"),__publicField$3(this,"_greens"),__publicField$3(this,"_blues"),__publicField$3(this,"_alphas"),__publicField$3(this,"_sums"),__publicField$3(this,"_weights"),__publicField$3(this,"_momentsRed"),__publicField$3(this,"_momentsGreen"),__publicField$3(this,"_momentsBlue"),__publicField$3(this,"_momentsAlpha"),__publicField$3(this,"_moments"),__publicField$3(this,"_table"),__publicField$3(this,"_pixels"),__publicField$3(this,"_cubes"),__publicField$3(this,"_colors"),__publicField$3(this,"_significantBitsPerChannel"),__publicField$3(this,"_maxSideIndex"),__publicField$3(this,"_alphaMaxSideIndex"),__publicField$3(this,"_sideSize"),__publicField$3(this,"_alphaSideSize"),__publicField$3(this,"_distance"),this._distance=d,this._setQuality(g),this._initialize(m)}sample(d){const m=d.getPointArray();for(let g=0,w=m.length;g<w;g++)this._addColor(m[g]);this._pixels=this._pixels.concat(m)}*quantize(){yield*this._preparePalette();const d=new Palette$1;for(let m=0;m<this._colors;m++)if(this._sums[m]>0){const g=this._sums[m],w=this._reds[m]/g,I=this._greens[m]/g,P=this._blues[m]/g,F=this._alphas[m]/g,D=Point$1.createByRGBA(0|w,0|I,0|P,0|F);d.add(D)}d.sort(),yield{palette:d,progress:100}}*_preparePalette(){yield*this._calculateMoments();let d=0;const m=createArray1D$1(this._colors);for(let F=1;F<this._colors;++F){this._cut(this._cubes[d],this._cubes[F])?(m[d]=this._cubes[d].volume>1?this._calculateVariance(this._cubes[d]):0,m[F]=this._cubes[F].volume>1?this._calculateVariance(this._cubes[F]):0):(m[d]=0,F--),d=0;let D=m[0];for(let $=1;$<=F;++$)m[$]>D&&(D=m[$],d=$);if(D<=0){this._colors=F+1;break}}const g=[],w=[],I=[],P=[];for(let F=0;F<this._colors;++F){const D=_WuQuant$1._volume(this._cubes[F],this._weights);D>0?(g[F]=_WuQuant$1._volume(this._cubes[F],this._momentsRed)/D|0,w[F]=_WuQuant$1._volume(this._cubes[F],this._momentsGreen)/D|0,I[F]=_WuQuant$1._volume(this._cubes[F],this._momentsBlue)/D|0,P[F]=_WuQuant$1._volume(this._cubes[F],this._momentsAlpha)/D|0):(g[F]=0,w[F]=0,I[F]=0,P[F]=0)}this._reds=createArray1D$1(this._colors+1),this._greens=createArray1D$1(this._colors+1),this._blues=createArray1D$1(this._colors+1),this._alphas=createArray1D$1(this._colors+1),this._sums=createArray1D$1(this._colors+1);for(let F=0,D=this._pixels.length;F<D;F++){const $=this._pixels[F];let V=-1,j=Number.MAX_VALUE;for(let G=0;G<this._colors;G++){const W=g[G],Z=w[G],U=I[G],Q=P[G],K=this._distance.calculateRaw(W,Z,U,Q,$.r,$.g,$.b,$.a);K<j&&(j=K,V=G)}this._reds[V]+=$.r,this._greens[V]+=$.g,this._blues[V]+=$.b,this._alphas[V]+=$.a,this._sums[V]++}}_addColor(d){const m=8-this._significantBitsPerChannel,g=1+(d.r>>m),w=1+(d.g>>m),I=1+(d.b>>m),P=1+(d.a>>m);this._weights[P][g][w][I]++,this._momentsRed[P][g][w][I]+=d.r,this._momentsGreen[P][g][w][I]+=d.g,this._momentsBlue[P][g][w][I]+=d.b,this._momentsAlpha[P][g][w][I]+=d.a,this._moments[P][g][w][I]+=this._table[d.r]+this._table[d.g]+this._table[d.b]+this._table[d.a]}*_calculateMoments(){const d=[],m=[],g=[],w=[],I=[],P=[],F=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),D=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),$=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),V=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),j=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),G=createArray3D$1(this._sideSize,this._sideSize,this._sideSize);let W=0;const Z=new ProgressTracker$1(this._alphaMaxSideIndex*this._maxSideIndex,99);for(let U=1;U<=this._alphaMaxSideIndex;++U){fillArray3D$1(F,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(D,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1($,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(V,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(j,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(G,this._sideSize,this._sideSize,this._sideSize,0);for(let Q=1;Q<=this._maxSideIndex;++Q,++W){Z.shouldNotify(W)&&(yield{progress:Z.progress}),fillArray1D$1(d,this._sideSize,0),fillArray1D$1(m,this._sideSize,0),fillArray1D$1(g,this._sideSize,0),fillArray1D$1(w,this._sideSize,0),fillArray1D$1(I,this._sideSize,0),fillArray1D$1(P,this._sideSize,0);for(let K=1;K<=this._maxSideIndex;++K){let te=0,X=0,J=0,ee=0,ie=0,fe=0;for(let se=1;se<=this._maxSideIndex;++se)te+=this._weights[U][Q][K][se],X+=this._momentsRed[U][Q][K][se],J+=this._momentsGreen[U][Q][K][se],ee+=this._momentsBlue[U][Q][K][se],ie+=this._momentsAlpha[U][Q][K][se],fe+=this._moments[U][Q][K][se],d[se]+=te,m[se]+=X,g[se]+=J,w[se]+=ee,I[se]+=ie,P[se]+=fe,F[Q][K][se]=F[Q-1][K][se]+d[se],D[Q][K][se]=D[Q-1][K][se]+m[se],$[Q][K][se]=$[Q-1][K][se]+g[se],V[Q][K][se]=V[Q-1][K][se]+w[se],j[Q][K][se]=j[Q-1][K][se]+I[se],G[Q][K][se]=G[Q-1][K][se]+P[se],this._weights[U][Q][K][se]=this._weights[U-1][Q][K][se]+F[Q][K][se],this._momentsRed[U][Q][K][se]=this._momentsRed[U-1][Q][K][se]+D[Q][K][se],this._momentsGreen[U][Q][K][se]=this._momentsGreen[U-1][Q][K][se]+$[Q][K][se],this._momentsBlue[U][Q][K][se]=this._momentsBlue[U-1][Q][K][se]+V[Q][K][se],this._momentsAlpha[U][Q][K][se]=this._momentsAlpha[U-1][Q][K][se]+j[Q][K][se],this._moments[U][Q][K][se]=this._moments[U-1][Q][K][se]+G[Q][K][se]}}}}static _volumeFloat(d,m){return m[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMaximum]-m[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMaximum]-m[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMaximum]+m[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]-m[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMaximum]+m[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]+m[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-m[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(m[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMinimum]-m[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]-m[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+m[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]-m[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]+m[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]+m[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]-m[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum])}static _volume(d,m){return 0|_WuQuant$1._volumeFloat(d,m)}static _top(d,m,g,w){let I;switch(m){case _WuQuant$1._alpha:I=w[g][d.redMaximum][d.greenMaximum][d.blueMaximum]-w[g][d.redMaximum][d.greenMinimum][d.blueMaximum]-w[g][d.redMinimum][d.greenMaximum][d.blueMaximum]+w[g][d.redMinimum][d.greenMinimum][d.blueMaximum]-(w[g][d.redMaximum][d.greenMaximum][d.blueMinimum]-w[g][d.redMaximum][d.greenMinimum][d.blueMinimum]-w[g][d.redMinimum][d.greenMaximum][d.blueMinimum]+w[g][d.redMinimum][d.greenMinimum][d.blueMinimum]);break;case _WuQuant$1._red:I=w[d.alphaMaximum][g][d.greenMaximum][d.blueMaximum]-w[d.alphaMaximum][g][d.greenMinimum][d.blueMaximum]-w[d.alphaMinimum][g][d.greenMaximum][d.blueMaximum]+w[d.alphaMinimum][g][d.greenMinimum][d.blueMaximum]-(w[d.alphaMaximum][g][d.greenMaximum][d.blueMinimum]-w[d.alphaMaximum][g][d.greenMinimum][d.blueMinimum]-w[d.alphaMinimum][g][d.greenMaximum][d.blueMinimum]+w[d.alphaMinimum][g][d.greenMinimum][d.blueMinimum]);break;case _WuQuant$1._green:I=w[d.alphaMaximum][d.redMaximum][g][d.blueMaximum]-w[d.alphaMaximum][d.redMinimum][g][d.blueMaximum]-w[d.alphaMinimum][d.redMaximum][g][d.blueMaximum]+w[d.alphaMinimum][d.redMinimum][g][d.blueMaximum]-(w[d.alphaMaximum][d.redMaximum][g][d.blueMinimum]-w[d.alphaMaximum][d.redMinimum][g][d.blueMinimum]-w[d.alphaMinimum][d.redMaximum][g][d.blueMinimum]+w[d.alphaMinimum][d.redMinimum][g][d.blueMinimum]);break;case _WuQuant$1._blue:I=w[d.alphaMaximum][d.redMaximum][d.greenMaximum][g]-w[d.alphaMaximum][d.redMaximum][d.greenMinimum][g]-w[d.alphaMaximum][d.redMinimum][d.greenMaximum][g]+w[d.alphaMaximum][d.redMinimum][d.greenMinimum][g]-(w[d.alphaMinimum][d.redMaximum][d.greenMaximum][g]-w[d.alphaMinimum][d.redMaximum][d.greenMinimum][g]-w[d.alphaMinimum][d.redMinimum][d.greenMaximum][g]+w[d.alphaMinimum][d.redMinimum][d.greenMinimum][g]);break;default:throw new Error("impossible")}return 0|I}static _bottom(d,m,g){switch(m){case _WuQuant$1._alpha:return-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMaximum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant$1._red:return-g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMaximum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant$1._green:return-g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMaximum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant$1._blue:return-g[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]-(-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);default:return 0}}_calculateVariance(d){const m=_WuQuant$1._volume(d,this._momentsRed),g=_WuQuant$1._volume(d,this._momentsGreen),w=_WuQuant$1._volume(d,this._momentsBlue),I=_WuQuant$1._volume(d,this._momentsAlpha);return _WuQuant$1._volumeFloat(d,this._moments)-(m*m+g*g+w*w+I*I)/_WuQuant$1._volume(d,this._weights)}_maximize(d,m,g,w,I,P,F,D,$){const V=0|_WuQuant$1._bottom(d,m,this._momentsRed),j=0|_WuQuant$1._bottom(d,m,this._momentsGreen),G=0|_WuQuant$1._bottom(d,m,this._momentsBlue),W=0|_WuQuant$1._bottom(d,m,this._momentsAlpha),Z=0|_WuQuant$1._bottom(d,m,this._weights);let U=0,Q=-1;for(let K=g;K<w;++K){let te=V+_WuQuant$1._top(d,m,K,this._momentsRed),X=j+_WuQuant$1._top(d,m,K,this._momentsGreen),J=G+_WuQuant$1._top(d,m,K,this._momentsBlue),ee=W+_WuQuant$1._top(d,m,K,this._momentsAlpha),ie=Z+_WuQuant$1._top(d,m,K,this._weights);if(ie!==0){let fe=te*te+X*X+J*J+ee*ee,se=fe/ie;te=I-te,X=P-X,J=F-J,ee=D-ee,ie=$-ie,ie!==0&&(fe=te*te+X*X+J*J+ee*ee,se+=fe/ie,se>U&&(U=se,Q=K))}}return{max:U,position:Q}}_cut(d,m){let g;const w=_WuQuant$1._volume(d,this._momentsRed),I=_WuQuant$1._volume(d,this._momentsGreen),P=_WuQuant$1._volume(d,this._momentsBlue),F=_WuQuant$1._volume(d,this._momentsAlpha),D=_WuQuant$1._volume(d,this._weights),$=this._maximize(d,_WuQuant$1._red,d.redMinimum+1,d.redMaximum,w,I,P,F,D),V=this._maximize(d,_WuQuant$1._green,d.greenMinimum+1,d.greenMaximum,w,I,P,F,D),j=this._maximize(d,_WuQuant$1._blue,d.blueMinimum+1,d.blueMaximum,w,I,P,F,D),G=this._maximize(d,_WuQuant$1._alpha,d.alphaMinimum+1,d.alphaMaximum,w,I,P,F,D);if(G.max>=$.max&&G.max>=V.max&&G.max>=j.max){if(g=_WuQuant$1._alpha,G.position<0)return!1}else g=$.max>=G.max&&$.max>=V.max&&$.max>=j.max?_WuQuant$1._red:V.max>=G.max&&V.max>=$.max&&V.max>=j.max?_WuQuant$1._green:_WuQuant$1._blue;switch(m.redMaximum=d.redMaximum,m.greenMaximum=d.greenMaximum,m.blueMaximum=d.blueMaximum,m.alphaMaximum=d.alphaMaximum,g){case _WuQuant$1._red:m.redMinimum=d.redMaximum=$.position,m.greenMinimum=d.greenMinimum,m.blueMinimum=d.blueMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant$1._green:m.greenMinimum=d.greenMaximum=V.position,m.redMinimum=d.redMinimum,m.blueMinimum=d.blueMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant$1._blue:m.blueMinimum=d.blueMaximum=j.position,m.redMinimum=d.redMinimum,m.greenMinimum=d.greenMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant$1._alpha:m.alphaMinimum=d.alphaMaximum=G.position,m.blueMinimum=d.blueMinimum,m.redMinimum=d.redMinimum,m.greenMinimum=d.greenMinimum}return d.volume=(d.redMaximum-d.redMinimum)*(d.greenMaximum-d.greenMinimum)*(d.blueMaximum-d.blueMinimum)*(d.alphaMaximum-d.alphaMinimum),m.volume=(m.redMaximum-m.redMinimum)*(m.greenMaximum-m.greenMinimum)*(m.blueMaximum-m.blueMinimum)*(m.alphaMaximum-m.alphaMinimum),!0}_initialize(d){this._colors=d,this._cubes=[];for(let m=0;m<d;m++)this._cubes[m]=new WuColorCube$1;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(let m=0;m<256;++m)this._table[m]=m*m;this._pixels=[]}_setQuality(d=5){this._significantBitsPerChannel=d,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1}},WuQuant$1=_WuQuant$1;__publicField$3(WuQuant$1,"_alpha",3),__publicField$3(WuQuant$1,"_red",2),__publicField$3(WuQuant$1,"_green",1),__publicField$3(WuQuant$1,"_blue",0);var image_exports$1={};__export$1(image_exports$1,{AbstractImageQuantizer:()=>AbstractImageQuantizer$1,ErrorDiffusionArray:()=>ErrorDiffusionArray$1,ErrorDiffusionArrayKernel:()=>ErrorDiffusionArrayKernel$1,ErrorDiffusionRiemersma:()=>ErrorDiffusionRiemersma$1,NearestColor:()=>NearestColor$1});var AbstractImageQuantizer$1=class{quantizeSync(d,m){for(const g of this.quantize(d,m))if(g.pointContainer)return g.pointContainer;throw new Error("unreachable")}},NearestColor$1=class extends AbstractImageQuantizer$1{constructor(d){super(),__publicField$3(this,"_distance"),this._distance=d}*quantize(d,m){const g=d.getPointArray(),w=d.getWidth(),I=d.getHeight(),P=new ProgressTracker$1(I,99);for(let F=0;F<I;F++){P.shouldNotify(F)&&(yield{progress:P.progress});for(let D=0,$=F*w;D<w;D++,$++){const V=g[$];V.from(m.getNearestColor(this._distance,V))}}yield{pointContainer:d,progress:100}}},ErrorDiffusionArrayKernel$1=(d=>(d[d.FloydSteinberg=0]="FloydSteinberg",d[d.FalseFloydSteinberg=1]="FalseFloydSteinberg",d[d.Stucki=2]="Stucki",d[d.Atkinson=3]="Atkinson",d[d.Jarvis=4]="Jarvis",d[d.Burkes=5]="Burkes",d[d.Sierra=6]="Sierra",d[d.TwoSierra=7]="TwoSierra",d[d.SierraLite=8]="SierraLite",d))(ErrorDiffusionArrayKernel$1||{}),ErrorDiffusionArray$1=class extends AbstractImageQuantizer$1{constructor(d,m,g=!0,w=0,I=!1){super(),__publicField$3(this,"_minColorDistance"),__publicField$3(this,"_serpentine"),__publicField$3(this,"_kernel"),__publicField$3(this,"_calculateErrorLikeGIMP"),__publicField$3(this,"_distance"),this._setKernel(m),this._distance=d,this._minColorDistance=w,this._serpentine=g,this._calculateErrorLikeGIMP=I}*quantize(d,m){const g=d.getPointArray(),w=new Point$1,I=d.getWidth(),P=d.getHeight(),F=[];let D=1,$=1;for(const j of this._kernel){const G=j[2]+1;$<G&&($=G)}for(let j=0;j<$;j++)this._fillErrorLine(F[j]=[],I);const V=new ProgressTracker$1(P,99);for(let j=0;j<P;j++){V.shouldNotify(j)&&(yield{progress:V.progress}),this._serpentine&&(D*=-1);const G=j*I,W=D===1?0:I-1,Z=D===1?I:-1;this._fillErrorLine(F[0],I),F.push(F.shift());const U=F[0];for(let Q=W,K=G+W;Q!==Z;Q+=D,K+=D){const te=g[K],X=U[Q];w.from(te);const J=Point$1.createByRGBA(inRange0to255Rounded$1(te.r+X[0]),inRange0to255Rounded$1(te.g+X[1]),inRange0to255Rounded$1(te.b+X[2]),inRange0to255Rounded$1(te.a+X[3])),ee=m.getNearestColor(this._distance,J);if(te.from(ee),this._minColorDistance&&this._distance.calculateNormalized(w,ee)<this._minColorDistance)continue;let ie,fe,se,de;this._calculateErrorLikeGIMP?(ie=J.r-ee.r,fe=J.g-ee.g,se=J.b-ee.b,de=J.a-ee.a):(ie=w.r-ee.r,fe=w.g-ee.g,se=w.b-ee.b,de=w.a-ee.a);const le=D===1?0:this._kernel.length-1,ye=D===1?this._kernel.length:-1;for(let ae=le;ae!==ye;ae+=D){const ge=this._kernel[ae][1]*D,Pe=this._kernel[ae][2];if(ge+Q>=0&&ge+Q<I&&Pe+j>=0&&Pe+j<P){const be=this._kernel[ae][0],Ee=F[Pe][ge+Q];Ee[0]+=ie*be,Ee[1]+=fe*be,Ee[2]+=se*be,Ee[3]+=de*be}}}}yield{pointContainer:d,progress:100}}_fillErrorLine(d,m){d.length>m&&(d.length=m);const g=d.length;for(let w=0;w<g;w++){const I=d[w];I[0]=I[1]=I[2]=I[3]=0}for(let w=g;w<m;w++)d[w]=[0,0,0,0]}_setKernel(d){switch(d){case 0:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case 1:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case 2:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case 3:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case 4:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case 5:this._kernel=[[.25,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[.25,0,1],[4/32,1,1],[2/32,2,1]];break;case 6:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case 7:this._kernel=[[.25,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case 8:this._kernel=[[.5,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error(`ErrorDiffusionArray: unknown kernel = ${d}`)}}};function*hilbertCurve$1(d,m,g){const w=Math.max(d,m),I={width:d,height:m,level:Math.floor(Math.log(w)/Math.log(2)+1),callback:g,tracker:new ProgressTracker$1(d*m,99),index:0,x:0,y:0};yield*walkHilbert$1(I,1),visit$1(I,0)}function*walkHilbert$1(d,m){if(!(d.level<1)){switch(d.tracker.shouldNotify(d.index)&&(yield{progress:d.tracker.progress}),d.level--,m){case 2:yield*walkHilbert$1(d,1),visit$1(d,3),yield*walkHilbert$1(d,2),visit$1(d,4),yield*walkHilbert$1(d,2),visit$1(d,2),yield*walkHilbert$1(d,4);break;case 3:yield*walkHilbert$1(d,4),visit$1(d,2),yield*walkHilbert$1(d,3),visit$1(d,1),yield*walkHilbert$1(d,3),visit$1(d,3),yield*walkHilbert$1(d,1);break;case 1:yield*walkHilbert$1(d,2),visit$1(d,4),yield*walkHilbert$1(d,1),visit$1(d,3),yield*walkHilbert$1(d,1),visit$1(d,1),yield*walkHilbert$1(d,3);break;case 4:yield*walkHilbert$1(d,3),visit$1(d,1),yield*walkHilbert$1(d,4),visit$1(d,2),yield*walkHilbert$1(d,4),visit$1(d,4),yield*walkHilbert$1(d,2)}d.level++}}function visit$1(d,m){switch(d.x>=0&&d.x<d.width&&d.y>=0&&d.y<d.height&&(d.callback(d.x,d.y),d.index++),m){case 2:d.x--;break;case 3:d.x++;break;case 1:d.y--;break;case 4:d.y++}}var ErrorDiffusionRiemersma$1=class extends AbstractImageQuantizer$1{constructor(d,m=16,g=1){super(),__publicField$3(this,"_distance"),__publicField$3(this,"_weights"),__publicField$3(this,"_errorQueueSize"),this._distance=d,this._errorQueueSize=m,this._weights=ErrorDiffusionRiemersma$1._createWeights(g,m)}*quantize(d,m){const g=d.getPointArray(),w=d.getWidth(),I=d.getHeight(),P=[];let F=0;for(let D=0;D<this._errorQueueSize;D++)P[D]={r:0,g:0,b:0,a:0};yield*hilbertCurve$1(w,I,(D,$)=>{const V=g[D+$*w];let{r:j,g:G,b:W,a:Z}=V;for(let te=0;te<this._errorQueueSize;te++){const X=this._weights[te],J=P[(te+F)%this._errorQueueSize];j+=J.r*X,G+=J.g*X,W+=J.b*X,Z+=J.a*X}const U=Point$1.createByRGBA(inRange0to255Rounded$1(j),inRange0to255Rounded$1(G),inRange0to255Rounded$1(W),inRange0to255Rounded$1(Z)),Q=m.getNearestColor(this._distance,U);F=(F+1)%this._errorQueueSize;const K=(F+this._errorQueueSize-1)%this._errorQueueSize;P[K].r=V.r-Q.r,P[K].g=V.g-Q.g,P[K].b=V.b-Q.b,P[K].a=V.a-Q.a,V.from(Q)}),yield{pointContainer:d,progress:100}}static _createWeights(d,m){const g=[],w=Math.exp(Math.log(m)/(m-1));for(let I=0,P=1;I<m;I++)g[I]=(P+.5|0)/m*d,P*=w;return g}},quality_exports$1={};__export$1(quality_exports$1,{ssim:()=>ssim$1});var K1$1=.01,K2$1=.03;function ssim$1(d,m){if(d.getHeight()!==m.getHeight()||d.getWidth()!==m.getWidth())throw new Error("Images have different sizes!");const g=(255*K1$1)**2,w=(255*K2$1)**2;let I=0,P=0;return iterate$1(d,m,(F,D,$,V)=>{let j=0,G=0,W=0;for(let U=0;U<F.length;U++)G+=(F[U]-$)**2,W+=(D[U]-V)**2,j+=(F[U]-$)*(D[U]-V);const Z=F.length-1;G/=Z,W/=Z,j/=Z,P+=(2*$*V+g)*(2*j+w)/(($**2+V**2+g)*(G+W+w)),I++}),P/I}function iterate$1(d,m,g){const w=d.getWidth(),I=d.getHeight();for(let P=0;P<I;P+=8)for(let F=0;F<w;F+=8){const D=Math.min(8,w-F),$=Math.min(8,I-P),V=calculateLumaValuesForWindow$1(d,F,P,D,$),j=calculateLumaValuesForWindow$1(m,F,P,D,$);g(V,j,calculateAverageLuma$1(V),calculateAverageLuma$1(j))}}function calculateLumaValuesForWindow$1(d,m,g,w,I){const P=d.getPointArray(),F=[];let D=0;for(let $=g;$<g+I;$++){const V=$*d.getWidth();for(let j=m;j<m+w;j++){const G=P[V+j];F[D]=.2126*G.r+.7152*G.g+.0722*G.b,D++}}return F}function calculateAverageLuma$1(d){let m=0;for(const g of d)m+=g;return m/d.length}var setImmediateImpl=typeof setImmediate=="function"?setImmediate:typeof process<"u"&&typeof(process==null?void 0:process.nextTick)=="function"?d=>process.nextTick(d):d=>setTimeout(d,0);function buildPaletteSync$1(d,{colorDistanceFormula:m,paletteQuantization:g,colors:w}={}){const I=paletteQuantizationToPaletteQuantizer$1(colorDistanceFormulaToColorDistance$1(m),g,w);return d.forEach(P=>I.sample(P)),I.quantizeSync()}async function buildPalette(d,{colorDistanceFormula:m,paletteQuantization:g,colors:w,onProgress:I}={}){return new Promise((P,F)=>{const D=paletteQuantizationToPaletteQuantizer$1(colorDistanceFormulaToColorDistance$1(m),g,w);let $;d.forEach(G=>D.sample(G));const V=D.quantize(),j=()=>{try{const G=V.next();G.done?P($):(G.value.palette&&($=G.value.palette),I&&I(G.value.progress),setImmediateImpl(j))}catch(G){F(G)}};setImmediateImpl(j)})}function applyPaletteSync$1(d,m,{colorDistanceFormula:g,imageQuantization:w}={}){return imageQuantizationToImageQuantizer$1(colorDistanceFormulaToColorDistance$1(g),w).quantizeSync(d,m)}async function applyPalette(d,m,{colorDistanceFormula:g,imageQuantization:w,onProgress:I}={}){return new Promise((P,F)=>{let D;const $=imageQuantizationToImageQuantizer$1(colorDistanceFormulaToColorDistance$1(g),w).quantize(d,m),V=()=>{try{const j=$.next();j.done?P(D):(j.value.pointContainer&&(D=j.value.pointContainer),I&&I(j.value.progress),setImmediateImpl(V))}catch(j){F(j)}};setImmediateImpl(V)})}function colorDistanceFormulaToColorDistance$1(d="euclidean-bt709"){switch(d){case"cie94-graphic-arts":return new CIE94GraphicArts$1;case"cie94-textiles":return new CIE94Textiles$1;case"ciede2000":return new CIEDE2000$1;case"color-metric":return new CMetric$1;case"euclidean":return new Euclidean$1;case"euclidean-bt709":return new EuclideanBT709$1;case"euclidean-bt709-noalpha":return new EuclideanBT709NoAlpha$1;case"manhattan":return new Manhattan$1;case"manhattan-bt709":return new ManhattanBT709$1;case"manhattan-nommyde":return new ManhattanNommyde$1;case"pngquant":return new PNGQuant$1;default:throw new Error(`Unknown colorDistanceFormula ${d}`)}}function imageQuantizationToImageQuantizer$1(d,m="floyd-steinberg"){switch(m){case"nearest":return new NearestColor$1(d);case"riemersma":return new ErrorDiffusionRiemersma$1(d);case"floyd-steinberg":return new ErrorDiffusionArray$1(d,0);case"false-floyd-steinberg":return new ErrorDiffusionArray$1(d,1);case"stucki":return new ErrorDiffusionArray$1(d,2);case"atkinson":return new ErrorDiffusionArray$1(d,3);case"jarvis":return new ErrorDiffusionArray$1(d,4);case"burkes":return new ErrorDiffusionArray$1(d,5);case"sierra":return new ErrorDiffusionArray$1(d,6);case"two-sierra":return new ErrorDiffusionArray$1(d,7);case"sierra-lite":return new ErrorDiffusionArray$1(d,8);default:throw new Error(`Unknown imageQuantization ${m}`)}}function paletteQuantizationToPaletteQuantizer$1(d,m="wuquant",g=256){switch(m){case"neuquant":return new NeuQuant$1(d,g);case"rgbquant":return new RGBQuant$1(d,g);case"wuquant":return new WuQuant$1(d,g);case"neuquant-float":return new NeuQuantFloat$1(d,g);default:throw new Error(`Unknown paletteQuantization ${m}`)}}var imageQ=__toCommonJS(src_exports),gifframe={};const BitmapImage$1=bitmapimage;let GifFrame$1=class Lt extends BitmapImage$1{constructor(...m){if(super(...m),m[0]instanceof Lt){const g=m[0];this.xOffset=g.xOffset,this.yOffset=g.yOffset,this.disposalMethod=g.disposalMethod,this.delayCentisecs=g.delayCentisecs,this.interlaced=g.interlaced}else{const g=m[m.length-1];let w={};typeof g!="object"||g instanceof BitmapImage$1||(w=g),this.xOffset=w.xOffset||0,this.yOffset=w.yOffset||0,this.disposalMethod=w.disposalMethod!==void 0?w.disposalMethod:Lt.DisposeToBackgroundColor,this.delayCentisecs=w.delayCentisecs||8,this.interlaced=w.interlaced||!1}}getPalette(){const m=new Set,g=this.bitmap.data;let w=0,I=!1;for(;w<g.length;){if(g[w+3]===0)I=!0;else{const $=g.readUInt32BE(w,!0)>>8&16777215;m.add($)}w+=4}const P=new Array(m.size),F=m.values();for(w=0;w<P.length;++w)P[w]=F.next().value;P.sort(($,V)=>$-V);let D=P.length;return I&&++D,{colors:P,usesTransparency:I,indexCount:D}}};var hasRequiredGifutil,hasRequiredGifcodec;function requireGifutil(){return hasRequiredGifutil||(hasRequiredGifutil=1,function(d){const m=require$$0,g=imageQ,w=bitmapimage,{GifFrame:I}=gifframe,{GifError:P}=gif$1,{GifCodec:F}=requireGifcodec(),D=[".jpg",".jpeg",".png",".bmp"],$=new F;function V(j,G,W,Z,U){const Q=Array.isArray(j)?j:[j];if(U){if(["FloydSteinberg","FalseFloydSteinberg","Stucki","Atkinson","Jarvis","Burkes","Sierra","TwoSierra","SierraLite"].indexOf(U.ditherAlgorithm)<0)throw new Error(`Invalid ditherAlgorithm '${U.ditherAlgorithm}'`);U.serpentine===void 0&&(U.serpentine=!0),U.minimumColorDistanceToDither===void 0&&(U.minimumColorDistanceToDither=0),U.calculateErrorLikeGIMP===void 0&&(U.calculateErrorLikeGIMP=!1)}const K=new g.distance.Euclidean,te=new g.palette[G](K,W,Z);let X;X=U?new g.image.ErrorDiffusionArray(K,g.image.ErrorDiffusionArrayKernel[U.ditherAlgorithm],U.serpentine,U.minimumColorDistanceToDither,U.calculateErrorLikeGIMP):new g.image.NearestColor(K);const J=[];Q.forEach(ie=>{const fe=ie.bitmap.data,se=new ArrayBuffer(fe.length),de=new Uint32Array(se);for(let ye=0,ae=0;ye<fe.length;ye+=4,++ae)de[ae]=fe.readUInt32LE(ye,!0);const le=g.utils.PointContainer.fromUint32Array(de,ie.bitmap.width,ie.bitmap.height);te.sample(le),J.push(le)});const ee=te.quantizeSync();for(let ie=0;ie<Q.length;++ie){const fe=Q[ie].bitmap.data,se=X.quantizeSync(J[ie],ee).toUint32Array();for(let de=0,le=0;de<fe.length;de+=4,++le)fe.writeUInt32LE(se[le],de)}}d.cloneFrames=function(j){let G=[];return j.forEach(W=>{G.push(new I(W))}),G},d.getColorInfo=function(j,G){let W=!1;const Z=[];for(let X=0;X<j.length;++X){let J=j[X].getPalette();if(J.usesTransparency&&(W=!0),J.indexCount>256)throw new P(`Frame ${X} uses more than 256 color indexes`);Z.push(J)}if(G===0)return{usesTransparency:W,palettes:Z};const U=new Set;Z.forEach(X=>{X.colors.forEach(J=>{U.add(J)})});let Q=U.size;if(W&&++Q,G&&Q>G)return{usesTransparency:W,palettes:Z};const K=new Array(U.size),te=U.values();for(let X=0;X<K.length;++X)K[X]=te.next().value;return K.sort((X,J)=>X-J),{colors:K,indexCount:Q,usesTransparency:W,palettes:Z}},d.copyAsJimp=function(j,G){return d.shareAsJimp(j,new w(G))},d.getMaxDimensions=function(j){let G=0,W=0;return j.forEach(Z=>{const U=Z.xOffset+Z.bitmap.width;U>G&&(G=U);const Q=Z.yOffset+Z.bitmap.height;Q>W&&(W=Q)}),{maxWidth:G,maxHeight:W}},d.quantizeDekker=function(j,G,W){V(j,"NeuQuantFloat",G=G||256,0,W)},d.quantizeSorokin=function(j,G,W,Z){let U;switch(G=G||256,W=W||"min-pop"){case"min-pop":U=2;break;case"top-pop":U=1;break;default:throw new Error(`Invalid quantizeSorokin histogram '${W}'`)}V(j,"RGBQuant",G,U,Z)},d.quantizeWu=function(j,G,W,Z){if(G=G||256,(W=W||5)<1||W>8)throw new Error("Invalid quantization quality");V(j,"WuQuant",G,W,Z)},d.read=function(j,G){return G=G||$,Buffer.isBuffer(j)?G.decodeGif(j):function(W){return new Promise((Z,U)=>{m.readFile(W,(Q,K)=>Q?U(Q):Z(K))})}(j).then(W=>G.decodeGif(W))},d.shareAsJimp=function(j,G){const W=new j(G.bitmap.width,G.bitmap.height,0);return W.bitmap.data=G.bitmap.data,W},d.write=function(j,G,W,Z){Z=Z||$;const U=j.match(/\.[a-zA-Z]+$/);if(U!==null&&D.includes(U[0].toLowerCase()))throw new Error(`GIF '${j}' has an unexpected suffix`);return Z.encodeGif(G,W).then(Q=>function(K,te){return new Promise((X,J)=>{m.writeFile(K,te,ee=>ee?J(ee):X())})}(j,Q.buffer).then(()=>Q))}}(gifutil)),gifutil}function requireGifcodec(){if(hasRequiredGifcodec)return gifcodec;hasRequiredGifcodec=1;const d=omggif,{Gif:m,GifError:g}=gif$1;function w(){const G=requireGifutil();return w=function(){return G},G}const{GifFrame:I}=gifframe;function P(G,W){const Z=G.indexOf(W);return Z===-1?null:Z}function F(G,W){for(var Z,U=0,Q=G.length-1;U<=Q;)if(G[Z=Math.floor((U+Q)/2)]>W)Q=Z-1;else{if(!(G[Z]<W))return Z;U=Z+1}return null}function D(G){const W=G.colors;G.usesTransparency&&W.push(0);const Z=W.length;let U=2;for(;Z>U;)U<<=1;W.length=U,W.fill(0,Z)}function $(G,W){let Z=G.bitmap.width*G.bitmap.height;return Z=Math.ceil(Z*W/8),Z+=Math.ceil(Z/255),100+Z+768}function V(G){let W=G.indexCount,Z=0;for(--W;W;)++Z,W>>=1;return Z>0?Z:1}function j(G,W,Z,U,Q){if(Z.interlaced)throw new g("writing interlaced GIFs is not supported");const K=function(X,J,ee){const ie=ee.colors,fe=ie.length<=8?P:F,se=J.bitmap.data,de=new Buffer(se.length/4);let le=ie.length,ye=0,ae=0;for(;ye<se.length;){if(se[ye+3]!==0){const ge=se.readUInt32BE(ye,!0)>>8&16777215;de[ae]=fe(ie,ge)}else de[ae]=le;ye+=4,++ae}if(ee.usesTransparency){if(le===256)throw new g(`Frame ${X} already has 256 colorsand so can't use transparency`)}else le=null;return{buffer:de,transparentIndex:le}}(W,Z,U),te={delay:Z.delayCentisecs,disposal:Z.disposalMethod,transparent:K.transparentIndex};Q&&(D(U),te.palette=U.colors);try{let X,J=G.getOutputBuffer(),ee=G.getOutputBufferPosition(),ie=!0;for(;ie;)if(X=G.addFrame(Z.xOffset,Z.yOffset,Z.bitmap.width,Z.bitmap.height,K.buffer,te),ie=!1,X>=J.length-1){const fe=new Buffer(1.5*J.length);J.copy(fe),G.setOutputBuffer(fe),G.setOutputBufferPosition(ee),J=fe,ie=!0}return J}catch(X){throw new g(X)}}return gifcodec.GifCodec=class{constructor(G={}){this._transparentRGB=null,typeof G.transparentRGB=="number"&&G.transparentRGB!==0&&(this._transparentRGBA=256*G.transparentRGB),this._testInitialBufferSize=0}decodeGif(G){try{let W;try{W=new d.GifReader(G)}catch(K){throw new g(K)}const Z=W.numFrames(),U=[],Q={width:W.width,height:W.height,loops:W.loopCount(),usesTransparency:!1};for(let K=0;K<Z;++K){const te=this._decodeFrame(W,K,Q.usesTransparency);U.push(te.frame),te.usesTransparency&&(Q.usesTransparency=!0)}return Promise.resolve(new m(G,U,Q))}catch(W){return Promise.reject(W)}}encodeGif(G,W={}){try{if(G===null||G.length===0)throw new g("there are no frames");const Z=w().getMaxDimensions(G);return(W=Object.assign({},W)).width=Z.maxWidth,W.height=Z.maxHeight,W.loops===void 0&&(W.loops=0),W.colorScope=W.colorScope||m.GlobalColorsPreferred,Promise.resolve(this._encodeGif(G,W))}catch(Z){return Promise.reject(Z)}}_decodeFrame(G,W,Z){let U,Q;try{if(U=G.frameInfo(W),Q=new Buffer(G.width*G.height*4),G.decodeAndBlitFrameRGBA(W,Q),U.width!==G.width||U.height!==G.height){if(U.y&&(Q=Q.slice(U.y*G.width*4)),G.width>U.width)for(let te=0;te<U.height;++te)Q.copy(Q,te*U.width*4,4*(U.x+te*G.width),4*(U.x+te*G.width)+4*U.width);Q=Q.slice(0,U.width*U.height*4)}}catch(te){throw new g(te)}let K=!1;if(this._transparentRGBA===null){if(!Z)for(let te=3;te<Q.length;te+=4)Q[te]===0&&(K=!0,te=Q.length)}else for(let te=3;te<Q.length;te+=4)Q[te]===0&&(Q.writeUInt32BE(this._transparentRGBA,te-3),K=!0);return{frame:new I(U.width,U.height,Q,{xOffset:U.x,yOffset:U.y,disposalMethod:U.disposal,interlaced:U.interlaced,delayCentisecs:U.delay}),usesTransparency:K}}_encodeGif(G,W){let Z;if(W.colorScope===m.LocalColorsOnly)Z=w().getColorInfo(G,0);else if(Z=w().getColorInfo(G,256),!Z.colors){if(W.colorScope===m.GlobalColorsOnly)throw new g("Too many color indexes for global color table");W.colorScope=m.LocalColorsOnly}W.usesTransparency=Z.usesTransparency;const U=Z.palettes;return W.colorScope===m.LocalColorsOnly?function(Q,K,te,X){const J={loop:K.loops};let ee,ie=new Buffer(te);try{ee=new d.GifWriter(ie,K.width,K.height,J)}catch(fe){throw new g(fe)}for(let fe=0;fe<Q.length;++fe)ie=j(ee,fe,Q[fe],X[fe],!0);return new m(ie.slice(0,ee.end()),Q,K)}(G,W,2e3,U):function(Q,K,te,X){const J={colors:X.colors.slice(),usesTransparency:X.usesTransparency};D(J);const ee={palette:J.colors,loop:K.loops};let ie,fe=new Buffer(te);try{ie=new d.GifWriter(fe,K.width,K.height,ee)}catch(se){throw new g(se)}for(let se=0;se<Q.length;++se)fe=j(ie,se,Q[se],X,!1);return new m(fe.slice(0,ie.end()),Q,K)}(G,W,2e3,Z)}_getSizeEstimateGlobal(G,W){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let Z=968;const U=V(G);return W.forEach(Q=>{Z+=$(Q,U)}),Z}_getSizeEstimateLocal(G,W){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let Z=200;for(let U=0;U<W.length;++U){const Q=V(G[U]);Z+=$(W[U],Q)}return Z}},gifcodec}GifFrame$1.DisposeToAnything=0,GifFrame$1.DisposeNothing=1,GifFrame$1.DisposeToBackgroundColor=2,GifFrame$1.DisposeToPrevious=3,gifframe.GifFrame=GifFrame$1;const BitmapImage=bitmapimage,{Gif,GifError:GifError$1}=gif$1,{GifCodec}=requireGifcodec(),{GifFrame}=gifframe,GifUtil=requireGifutil();var src={BitmapImage,Gif,GifCodec,GifFrame,GifUtil,GifError:GifError$1};function gif(){return{mime:"image/gif",encode:async d=>{const m=new src.BitmapImage(d);src.GifUtil.quantizeDekker(m,256);const g=new src.GifFrame(d);return(await new src.GifCodec().encodeGif([g],{})).buffer},decode:d=>{const m=new omggif.GifReader(d),g=Buffer.alloc(m.width*m.height*4);return m.decodeAndBlitFrameRGBA(0,g),{data:g,width:m.width,height:m.height}}}}var encoder={exports:{}};(function(d){function m(g){var w,I,P,F,D,$=Math.floor,V=new Array(64),j=new Array(64),G=new Array(64),W=new Array(64),Z=new Array(65535),U=new Array(65535),Q=new Array(64),K=new Array(64),te=[],X=0,J=7,ee=new Array(64),ie=new Array(64),fe=new Array(64),se=new Array(256),de=new Array(2048),le=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],ye=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ae=[0,1,2,3,4,5,6,7,8,9,10,11],ge=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Pe=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],be=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Ee=[0,1,2,3,4,5,6,7,8,9,10,11],ve=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Re=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Oe(We,Ve){for(var ze=0,Le=0,Qe=new Array,Ke=1;Ke<=16;Ke++){for(var Fe=1;Fe<=We[Ke];Fe++)Qe[Ve[Le]]=[],Qe[Ve[Le]][0]=ze,Qe[Ve[Le]][1]=Ke,Le++,ze++;ze*=2}return Qe}function Ae(We){for(var Ve=We[0],ze=We[1]-1;ze>=0;)Ve&1<<ze&&(X|=1<<J),ze--,--J<0&&(X==255?(He(255),He(0)):He(X),J=7,X=0)}function He(We){te.push(We)}function Me(We){He(We>>8&255),He(255&We)}function je(We,Ve,ze,Le,Qe){for(var Ke,Fe=Qe[0],ce=Qe[240],$e=function(xe,Ze){var Xe,nt,lt,ot,dt,ut,we,et,rt,at,H=0;for(rt=0;rt<8;++rt){Xe=xe[H],nt=xe[H+1],lt=xe[H+2],ot=xe[H+3],dt=xe[H+4],ut=xe[H+5],we=xe[H+6];var q=Xe+(et=xe[H+7]),pe=Xe-et,ne=nt+we,Ce=nt-we,Se=lt+ut,Ye=lt-ut,it=ot+dt,he=ot-dt,De=q+it,qe=q-it,Ge=ne+Se,ke=ne-Se;xe[H]=De+Ge,xe[H+4]=De-Ge;var Ue=.707106781*(ke+qe);xe[H+2]=qe+Ue,xe[H+6]=qe-Ue;var Je=.382683433*((De=he+Ye)-(ke=Ce+pe)),st=.5411961*De+Je,ct=1.306562965*ke+Je,ft=.707106781*(Ge=Ye+Ce),pt=pe+ft,ht=pe-ft;xe[H+5]=ht+st,xe[H+3]=ht-st,xe[H+1]=pt+ct,xe[H+7]=pt-ct,H+=8}for(H=0,rt=0;rt<8;++rt){Xe=xe[H],nt=xe[H+8],lt=xe[H+16],ot=xe[H+24],dt=xe[H+32],ut=xe[H+40],we=xe[H+48];var gt=Xe+(et=xe[H+56]),_t=Xe-et,vt=nt+we,It=nt-we,wt=lt+ut,yt=lt-ut,xt=ot+dt,Et=ot-dt,St=gt+xt,Pt=gt-xt,Tt=vt+wt,At=vt-wt;xe[H]=St+Tt,xe[H+32]=St-Tt;var Rt=.707106781*(At+Pt);xe[H+16]=Pt+Rt,xe[H+48]=Pt-Rt;var kt=.382683433*((St=Et+yt)-(At=It+_t)),Mt=.5411961*St+kt,Ot=1.306562965*At+kt,Bt=.707106781*(Tt=yt+It),Ft=_t+Bt,$t=_t-Bt;xe[H+40]=$t+Mt,xe[H+24]=$t-Mt,xe[H+8]=Ft+Ot,xe[H+56]=Ft-Ot,H++}for(rt=0;rt<64;++rt)at=xe[rt]*Ze[rt],Q[rt]=at>0?at+.5|0:at-.5|0;return Q}(We,Ve),oe=0;oe<64;++oe)K[le[oe]]=$e[oe];var ue=K[0]-ze;ze=K[0],ue==0?Ae(Le[0]):(Ae(Le[U[Ke=32767+ue]]),Ae(Z[Ke]));for(var _e=63;_e>0&&K[_e]==0;_e--);if(_e==0)return Ae(Fe),ze;for(var Te,Be=1;Be<=_e;){for(var re=Be;K[Be]==0&&Be<=_e;++Be);var me=Be-re;if(me>=16){Te=me>>4;for(var Ie=1;Ie<=Te;++Ie)Ae(ce);me&=15}Ke=32767+K[Be],Ae(Qe[(me<<4)+U[Ke]]),Ae(Z[Ke]),Be++}return _e!=63&&Ae(Fe),ze}function Ne(We){We<=0&&(We=1),We>100&&(We=100),D!=We&&(function(Ve){for(var ze=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Le=0;Le<64;Le++){var Qe=$((ze[Le]*Ve+50)/100);Qe<1?Qe=1:Qe>255&&(Qe=255),V[le[Le]]=Qe}for(var Ke=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Fe=0;Fe<64;Fe++){var ce=$((Ke[Fe]*Ve+50)/100);ce<1?ce=1:ce>255&&(ce=255),j[le[Fe]]=ce}for(var $e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],oe=0,ue=0;ue<8;ue++)for(var _e=0;_e<8;_e++)G[oe]=1/(V[le[oe]]*$e[ue]*$e[_e]*8),W[oe]=1/(j[le[oe]]*$e[ue]*$e[_e]*8),oe++}(We<50?Math.floor(5e3/We):Math.floor(200-2*We)),D=We)}this.encode=function(We,Ve){var ze;new Date().getTime(),Ve&&Ne(Ve),te=new Array,X=0,J=7,Me(65496),Me(65504),Me(16),He(74),He(70),He(73),He(70),He(0),He(1),He(1),He(0),Me(1),Me(1),He(0),He(0),(ze=We.comments)!==void 0&&ze.constructor===Array&&ze.forEach(lt=>{if(typeof lt=="string"){Me(65534);var ot,dt=lt.length;for(Me(dt+2),ot=0;ot<dt;ot++)He(lt.charCodeAt(ot))}}),function(lt){if(lt){Me(65505),lt[0]===69&&lt[1]===120&&lt[2]===105&&lt[3]===102?Me(lt.length+2):(Me(lt.length+5+2),He(69),He(120),He(105),He(102),He(0));for(var ot=0;ot<lt.length;ot++)He(lt[ot])}}(We.exifBuffer),function(){Me(65499),Me(132),He(0);for(var lt=0;lt<64;lt++)He(V[lt]);He(1);for(var ot=0;ot<64;ot++)He(j[ot])}(),function(lt,ot){Me(65472),Me(17),He(8),Me(ot),Me(lt),He(3),He(1),He(17),He(0),He(2),He(17),He(1),He(3),He(17),He(1)}(We.width,We.height),function(){Me(65476),Me(418),He(0);for(var lt=0;lt<16;lt++)He(ye[lt+1]);for(var ot=0;ot<=11;ot++)He(ae[ot]);He(16);for(var dt=0;dt<16;dt++)He(ge[dt+1]);for(var ut=0;ut<=161;ut++)He(Pe[ut]);He(1);for(var we=0;we<16;we++)He(be[we+1]);for(var et=0;et<=11;et++)He(Ee[et]);He(17);for(var rt=0;rt<16;rt++)He(ve[rt+1]);for(var at=0;at<=161;at++)He(Re[at])}(),Me(65498),Me(12),He(3),He(1),He(0),He(2),He(17),He(3),He(17),He(0),He(63),He(0);var Le=0,Qe=0,Ke=0;X=0,J=7,this.encode.displayName="_encode_";for(var Fe,ce,$e,oe,ue,_e,Te,Be,re,me=We.data,Ie=We.width,xe=We.height,Ze=4*Ie,Xe=0;Xe<xe;){for(Fe=0;Fe<Ze;){for(_e=ue=Ze*Xe+Fe,Te=-1,Be=0,re=0;re<64;re++)_e=ue+(Be=re>>3)*Ze+(Te=4*(7&re)),Xe+Be>=xe&&(_e-=Ze*(Xe+1+Be-xe)),Fe+Te>=Ze&&(_e-=Fe+Te-Ze+4),ce=me[_e++],$e=me[_e++],oe=me[_e++],ee[re]=(de[ce]+de[$e+256|0]+de[oe+512|0]>>16)-128,ie[re]=(de[ce+768|0]+de[$e+1024|0]+de[oe+1280|0]>>16)-128,fe[re]=(de[ce+1280|0]+de[$e+1536|0]+de[oe+1792|0]>>16)-128;Le=je(ee,G,Le,w,P),Qe=je(ie,W,Qe,I,F),Ke=je(fe,W,Ke,I,F),Fe+=32}Xe+=8}if(J>=0){var nt=[];nt[1]=J+1,nt[0]=(1<<J+1)-1,Ae(nt)}return Me(65497),Buffer.from(te)},new Date().getTime(),g||(g=50),function(){for(var We=String.fromCharCode,Ve=0;Ve<256;Ve++)se[Ve]=We(Ve)}(),w=Oe(ye,ae),I=Oe(be,Ee),P=Oe(ge,Pe),F=Oe(ve,Re),function(){for(var We=1,Ve=2,ze=1;ze<=15;ze++){for(var Le=We;Le<Ve;Le++)U[32767+Le]=ze,Z[32767+Le]=[],Z[32767+Le][1]=ze,Z[32767+Le][0]=Le;for(var Qe=-(Ve-1);Qe<=-We;Qe++)U[32767+Qe]=ze,Z[32767+Qe]=[],Z[32767+Qe][1]=ze,Z[32767+Qe][0]=Ve-1+Qe;We<<=1,Ve<<=1}}(),function(){for(var We=0;We<256;We++)de[We]=19595*We,de[We+256|0]=38470*We,de[We+512|0]=7471*We+32768,de[We+768|0]=-11059*We,de[We+1024|0]=-21709*We,de[We+1280|0]=32768*We+8421375,de[We+1536|0]=-27439*We,de[We+1792|0]=-5329*We}(),Ne(g),new Date().getTime()}encoder.exports=function(g,w){w===void 0&&(w=50);var I=new m(w),P=I.encode(g,w);return{data:P,width:g.width,height:g.height}}})();var encoderExports=encoder.exports,decoder={exports:{}},module,JpegImage;module=decoder,JpegImage=function(){var d=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),m=4017,g=799,w=3406,I=2276,P=1567,F=3784,D=5793,$=2896;function V(){}function j(te,X){for(var J,ee,ie=0,fe=[],se=16;se>0&&!te[se-1];)se--;fe.push({children:[],index:0});var de,le=fe[0];for(J=0;J<se;J++){for(ee=0;ee<te[J];ee++){for((le=fe.pop()).children[le.index]=X[ie];le.index>0;){if(fe.length===0)throw new Error("Could not recreate Huffman Table");le=fe.pop()}for(le.index++,fe.push(le);fe.length<=J;)fe.push(de={children:[],index:0}),le.children[le.index]=de.children,le=de;ie++}J+1<se&&(fe.push(de={children:[],index:0}),le.children[le.index]=de.children,le=de)}return fe[0].children}function G(te,X,J,ee,ie,fe,se,de,le,ye){J.precision,J.samplesPerLine,J.scanLines;var ae=J.mcusPerLine,ge=J.progressive;J.maxH,J.maxV;var Pe=X,be=0,Ee=0;function ve(){if(Ee>0)return Ee--,be>>Ee&1;if((be=te[X++])==255){var Be=te[X++];if(Be)throw new Error("unexpected marker: "+(be<<8|Be).toString(16))}return Ee=7,be>>>7}function Re(Be){for(var re,me=Be;(re=ve())!==null;){if(typeof(me=me[re])=="number")return me;if(typeof me!="object")throw new Error("invalid huffman sequence")}return null}function Oe(Be){for(var re=0;Be>0;){var me=ve();if(me===null)return;re=re<<1|me,Be--}return re}function Ae(Be){var re=Oe(Be);return re>=1<<Be-1?re:re+(-1<<Be)+1}var He,Me=0,je=0;function Ne(Be,re,me,Ie,xe){var Ze=me%ae,Xe=(me/ae|0)*Be.v+Ie,nt=Ze*Be.h+xe;Be.blocks[Xe]===void 0&&ye.tolerantDecoding||re(Be,Be.blocks[Xe][nt])}function We(Be,re,me){var Ie=me/Be.blocksPerLine|0,xe=me%Be.blocksPerLine;Be.blocks[Ie]===void 0&&ye.tolerantDecoding||re(Be,Be.blocks[Ie][xe])}var Ve,ze,Le,Qe,Ke,Fe,ce=ee.length;Fe=ge?fe===0?de===0?function(Be,re){var me=Re(Be.huffmanTableDC),Ie=me===0?0:Ae(me)<<le;re[0]=Be.pred+=Ie}:function(Be,re){re[0]|=ve()<<le}:de===0?function(Be,re){if(Me>0)Me--;else for(var me=fe,Ie=se;me<=Ie;){var xe=Re(Be.huffmanTableAC),Ze=15&xe,Xe=xe>>4;if(Ze!==0)re[d[me+=Xe]]=Ae(Ze)*(1<<le),me++;else{if(Xe<15){Me=Oe(Xe)+(1<<Xe)-1;break}me+=16}}}:function(Be,re){for(var me=fe,Ie=se,xe=0;me<=Ie;){var Ze=d[me],Xe=re[Ze]<0?-1:1;switch(je){case 0:var nt=Re(Be.huffmanTableAC),lt=15&nt;if(xe=nt>>4,lt===0)xe<15?(Me=Oe(xe)+(1<<xe),je=4):(xe=16,je=1);else{if(lt!==1)throw new Error("invalid ACn encoding");He=Ae(lt),je=xe?2:3}continue;case 1:case 2:re[Ze]?re[Ze]+=(ve()<<le)*Xe:--xe==0&&(je=je==2?3:0);break;case 3:re[Ze]?re[Ze]+=(ve()<<le)*Xe:(re[Ze]=He<<le,je=0);break;case 4:re[Ze]&&(re[Ze]+=(ve()<<le)*Xe)}me++}je===4&&--Me==0&&(je=0)}:function(Be,re){var me=Re(Be.huffmanTableDC),Ie=me===0?0:Ae(me);re[0]=Be.pred+=Ie;for(var xe=1;xe<64;){var Ze=Re(Be.huffmanTableAC),Xe=15&Ze,nt=Ze>>4;if(Xe!==0)re[d[xe+=nt]]=Ae(Xe),xe++;else{if(nt<15)break;xe+=16}}};var $e,oe,ue,_e,Te=0;for(oe=ce==1?ee[0].blocksPerLine*ee[0].blocksPerColumn:ae*J.mcusPerColumn,ie||(ie=oe);Te<oe;){for(ze=0;ze<ce;ze++)ee[ze].pred=0;if(Me=0,ce==1)for(Ve=ee[0],Ke=0;Ke<ie;Ke++)We(Ve,Fe,Te),Te++;else for(Ke=0;Ke<ie;Ke++){for(ze=0;ze<ce;ze++)for(ue=(Ve=ee[ze]).h,_e=Ve.v,Le=0;Le<_e;Le++)for(Qe=0;Qe<ue;Qe++)Ne(Ve,Fe,Te,Le,Qe);if(++Te===oe)break}if(Te===oe)do{if(te[X]===255&&te[X+1]!==0)break;X+=1}while(X<te.length-2);if(Ee=0,($e=te[X]<<8|te[X+1])<65280)throw new Error("marker was not found");if(!($e>=65488&&$e<=65495))break;X+=2}return X-Pe}function W(te,X){var J,ee,ie=[],fe=X.blocksPerLine,se=X.blocksPerColumn,de=fe<<3,le=new Int32Array(64),ye=new Uint8Array(64);function ae(Oe,Ae,He){var Me,je,Ne,We,Ve,ze,Le,Qe,Ke,Fe,ce=X.quantizationTable,$e=He;for(Fe=0;Fe<64;Fe++)$e[Fe]=Oe[Fe]*ce[Fe];for(Fe=0;Fe<8;++Fe){var oe=8*Fe;$e[1+oe]!=0||$e[2+oe]!=0||$e[3+oe]!=0||$e[4+oe]!=0||$e[5+oe]!=0||$e[6+oe]!=0||$e[7+oe]!=0?(Me=D*$e[0+oe]+128>>8,je=D*$e[4+oe]+128>>8,Ne=$e[2+oe],We=$e[6+oe],Ve=$*($e[1+oe]-$e[7+oe])+128>>8,Qe=$*($e[1+oe]+$e[7+oe])+128>>8,ze=$e[3+oe]<<4,Le=$e[5+oe]<<4,Ke=Me-je+1>>1,Me=Me+je+1>>1,je=Ke,Ke=Ne*F+We*P+128>>8,Ne=Ne*P-We*F+128>>8,We=Ke,Ke=Ve-Le+1>>1,Ve=Ve+Le+1>>1,Le=Ke,Ke=Qe+ze+1>>1,ze=Qe-ze+1>>1,Qe=Ke,Ke=Me-We+1>>1,Me=Me+We+1>>1,We=Ke,Ke=je-Ne+1>>1,je=je+Ne+1>>1,Ne=Ke,Ke=Ve*I+Qe*w+2048>>12,Ve=Ve*w-Qe*I+2048>>12,Qe=Ke,Ke=ze*g+Le*m+2048>>12,ze=ze*m-Le*g+2048>>12,Le=Ke,$e[0+oe]=Me+Qe,$e[7+oe]=Me-Qe,$e[1+oe]=je+Le,$e[6+oe]=je-Le,$e[2+oe]=Ne+ze,$e[5+oe]=Ne-ze,$e[3+oe]=We+Ve,$e[4+oe]=We-Ve):(Ke=D*$e[0+oe]+512>>10,$e[0+oe]=Ke,$e[1+oe]=Ke,$e[2+oe]=Ke,$e[3+oe]=Ke,$e[4+oe]=Ke,$e[5+oe]=Ke,$e[6+oe]=Ke,$e[7+oe]=Ke)}for(Fe=0;Fe<8;++Fe){var ue=Fe;$e[8+ue]!=0||$e[16+ue]!=0||$e[24+ue]!=0||$e[32+ue]!=0||$e[40+ue]!=0||$e[48+ue]!=0||$e[56+ue]!=0?(Me=D*$e[0+ue]+2048>>12,je=D*$e[32+ue]+2048>>12,Ne=$e[16+ue],We=$e[48+ue],Ve=$*($e[8+ue]-$e[56+ue])+2048>>12,Qe=$*($e[8+ue]+$e[56+ue])+2048>>12,ze=$e[24+ue],Le=$e[40+ue],Ke=Me-je+1>>1,Me=Me+je+1>>1,je=Ke,Ke=Ne*F+We*P+2048>>12,Ne=Ne*P-We*F+2048>>12,We=Ke,Ke=Ve-Le+1>>1,Ve=Ve+Le+1>>1,Le=Ke,Ke=Qe+ze+1>>1,ze=Qe-ze+1>>1,Qe=Ke,Ke=Me-We+1>>1,Me=Me+We+1>>1,We=Ke,Ke=je-Ne+1>>1,je=je+Ne+1>>1,Ne=Ke,Ke=Ve*I+Qe*w+2048>>12,Ve=Ve*w-Qe*I+2048>>12,Qe=Ke,Ke=ze*g+Le*m+2048>>12,ze=ze*m-Le*g+2048>>12,Le=Ke,$e[0+ue]=Me+Qe,$e[56+ue]=Me-Qe,$e[8+ue]=je+Le,$e[48+ue]=je-Le,$e[16+ue]=Ne+ze,$e[40+ue]=Ne-ze,$e[24+ue]=We+Ve,$e[32+ue]=We-Ve):(Ke=D*He[Fe+0]+8192>>14,$e[0+ue]=Ke,$e[8+ue]=Ke,$e[16+ue]=Ke,$e[24+ue]=Ke,$e[32+ue]=Ke,$e[40+ue]=Ke,$e[48+ue]=Ke,$e[56+ue]=Ke)}for(Fe=0;Fe<64;++Fe){var _e=128+($e[Fe]+8>>4);Ae[Fe]=_e<0?0:_e>255?255:_e}}K(de*se*8);for(var ge=0;ge<se;ge++){var Pe=ge<<3;for(J=0;J<8;J++)ie.push(new Uint8Array(de));for(var be=0;be<fe;be++){ae(X.blocks[ge][be],ye,le);var Ee=0,ve=be<<3;for(ee=0;ee<8;ee++){var Re=ie[Pe+ee];for(J=0;J<8;J++)Re[ve+J]=ye[Ee++]}}}return ie}function Z(te){return te<0?0:te>255?255:te}V.prototype={load:function(te){var X=new XMLHttpRequest;X.open("GET",te,!0),X.responseType="arraybuffer",X.onload=(function(){var J=new Uint8Array(X.response||X.mozResponseArrayBuffer);this.parse(J),this.onload&&this.onload()}).bind(this),X.send(null)},parse:function(te){var X=1e3*this.opts.maxResolutionInMP*1e3,J=0;function ee(){var ot=te[J]<<8|te[J+1];return J+=2,ot}function ie(ot){var dt,ut,we=1,et=1;for(ut in ot.components)ot.components.hasOwnProperty(ut)&&(we<(dt=ot.components[ut]).h&&(we=dt.h),et<dt.v&&(et=dt.v));var rt=Math.ceil(ot.samplesPerLine/8/we),at=Math.ceil(ot.scanLines/8/et);for(ut in ot.components)if(ot.components.hasOwnProperty(ut)){dt=ot.components[ut];var H=Math.ceil(Math.ceil(ot.samplesPerLine/8)*dt.h/we),q=Math.ceil(Math.ceil(ot.scanLines/8)*dt.v/et),pe=rt*dt.h,ne=at*dt.v,Ce=[];K(ne*pe*256);for(var Se=0;Se<ne;Se++){for(var Ye=[],it=0;it<pe;it++)Ye.push(new Int32Array(64));Ce.push(Ye)}dt.blocksPerLine=H,dt.blocksPerColumn=q,dt.blocks=Ce}ot.maxH=we,ot.maxV=et,ot.mcusPerLine=rt,ot.mcusPerColumn=at}te.length;var fe,se,de,le,ye=null,ae=null,ge=[],Pe=[],be=[],Ee=[],ve=ee(),Re=-1;if(this.comments=[],ve!=65496)throw new Error("SOI not found");for(ve=ee();ve!=65497;){switch(ve){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var Oe=(de=void 0,le=void 0,de=ee(),le=te.subarray(J,J+de-2),J+=le.length,le);if(ve===65534){var Ae=String.fromCharCode.apply(null,Oe);this.comments.push(Ae)}ve===65504&&Oe[0]===74&&Oe[1]===70&&Oe[2]===73&&Oe[3]===70&&Oe[4]===0&&(ye={version:{major:Oe[5],minor:Oe[6]},densityUnits:Oe[7],xDensity:Oe[8]<<8|Oe[9],yDensity:Oe[10]<<8|Oe[11],thumbWidth:Oe[12],thumbHeight:Oe[13],thumbData:Oe.subarray(14,14+3*Oe[12]*Oe[13])}),ve===65505&&Oe[0]===69&&Oe[1]===120&&Oe[2]===105&&Oe[3]===102&&Oe[4]===0&&(this.exifBuffer=Oe.subarray(5,Oe.length)),ve===65518&&Oe[0]===65&&Oe[1]===100&&Oe[2]===111&&Oe[3]===98&&Oe[4]===101&&Oe[5]===0&&(ae={version:Oe[6],flags0:Oe[7]<<8|Oe[8],flags1:Oe[9]<<8|Oe[10],transformCode:Oe[11]});break;case 65499:for(var He=ee()+J-2;J<He;){var Me=te[J++];K(256);var je=new Int32Array(64);if(Me>>4){if(Me>>4!=1)throw new Error("DQT: invalid table spec");for(nt=0;nt<64;nt++)je[d[nt]]=ee()}else for(nt=0;nt<64;nt++)je[d[nt]]=te[J++];ge[15&Me]=je}break;case 65472:case 65473:case 65474:ee(),(fe={}).extended=ve===65473,fe.progressive=ve===65474,fe.precision=te[J++],fe.scanLines=ee(),fe.samplesPerLine=ee(),fe.components={},fe.componentsOrder=[];var Ne=fe.scanLines*fe.samplesPerLine;if(Ne>X){var We=Math.ceil((Ne-X)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${We}MP`)}var Ve,ze=te[J++];for(Ze=0;Ze<ze;Ze++){Ve=te[J];var Le=te[J+1]>>4,Qe=15&te[J+1],Ke=te[J+2];if(Le<=0||Qe<=0)throw new Error("Invalid sampling factor, expected values above 0");fe.componentsOrder.push(Ve),fe.components[Ve]={h:Le,v:Qe,quantizationIdx:Ke},J+=3}ie(fe),Pe.push(fe);break;case 65476:var Fe=ee();for(Ze=2;Ze<Fe;){var ce=te[J++],$e=new Uint8Array(16),oe=0;for(nt=0;nt<16;nt++,J++)oe+=$e[nt]=te[J];K(16+oe);var ue=new Uint8Array(oe);for(nt=0;nt<oe;nt++,J++)ue[nt]=te[J];Ze+=17+oe,(ce>>4?be:Ee)[15&ce]=j($e,ue)}break;case 65501:ee(),se=ee();break;case 65500:ee(),ee();break;case 65498:ee();var _e=te[J++],Te=[];for(Ze=0;Ze<_e;Ze++){lt=fe.components[te[J++]];var Be=te[J++];lt.huffmanTableDC=Ee[Be>>4],lt.huffmanTableAC=be[15&Be],Te.push(lt)}var re=te[J++],me=te[J++],Ie=te[J++],xe=G(te,J,fe,Te,se,re,me,Ie>>4,15&Ie,this.opts);J+=xe;break;case 65535:te[J]!==255&&J--;break;default:if(te[J-3]==255&&te[J-2]>=192&&te[J-2]<=254){J-=3;break}if(ve===224||ve==225){if(Re!==-1)throw new Error(`first unknown JPEG marker at offset ${Re.toString(16)}, second unknown JPEG marker ${ve.toString(16)} at offset ${(J-1).toString(16)}`);Re=J-1;const ot=ee();if(te[J+ot-2]===255){J+=ot-2;break}}throw new Error("unknown JPEG marker "+ve.toString(16))}ve=ee()}if(Pe.length!=1)throw new Error("only single frame JPEGs supported");for(var Ze=0;Ze<Pe.length;Ze++){var Xe=Pe[Ze].components;for(var nt in Xe)Xe[nt].quantizationTable=ge[Xe[nt].quantizationIdx],delete Xe[nt].quantizationIdx}for(this.width=fe.samplesPerLine,this.height=fe.scanLines,this.jfif=ye,this.adobe=ae,this.components=[],Ze=0;Ze<fe.componentsOrder.length;Ze++){var lt=fe.components[fe.componentsOrder[Ze]];this.components.push({lines:W(0,lt),scaleX:lt.h/fe.maxH,scaleY:lt.v/fe.maxV})}},getData:function(te,X){var J,ee,ie,fe,se,de,le,ye,ae,ge,Pe,be,Ee,ve,Re,Oe,Ae,He,Me,je,Ne,We=this.width/te,Ve=this.height/X,ze=0,Le=te*X*this.components.length;K(Le);var Qe=new Uint8Array(Le);switch(this.components.length){case 1:for(J=this.components[0],ge=0;ge<X;ge++)for(se=J.lines[0|ge*J.scaleY*Ve],ae=0;ae<te;ae++)Pe=se[0|ae*J.scaleX*We],Qe[ze++]=Pe;break;case 2:for(J=this.components[0],ee=this.components[1],ge=0;ge<X;ge++)for(se=J.lines[0|ge*J.scaleY*Ve],de=ee.lines[0|ge*ee.scaleY*Ve],ae=0;ae<te;ae++)Pe=se[0|ae*J.scaleX*We],Qe[ze++]=Pe,Pe=de[0|ae*ee.scaleX*We],Qe[ze++]=Pe;break;case 3:for(Ne=!0,this.adobe&&this.adobe.transformCode?Ne=!0:this.opts.colorTransform!==void 0&&(Ne=!!this.opts.colorTransform),J=this.components[0],ee=this.components[1],ie=this.components[2],ge=0;ge<X;ge++)for(se=J.lines[0|ge*J.scaleY*Ve],de=ee.lines[0|ge*ee.scaleY*Ve],le=ie.lines[0|ge*ie.scaleY*Ve],ae=0;ae<te;ae++)Ne?(Pe=se[0|ae*J.scaleX*We],be=de[0|ae*ee.scaleX*We],He=Z(Pe+1.402*((Ee=le[0|ae*ie.scaleX*We])-128)),Me=Z(Pe-.3441363*(be-128)-.71413636*(Ee-128)),je=Z(Pe+1.772*(be-128))):(He=se[0|ae*J.scaleX*We],Me=de[0|ae*ee.scaleX*We],je=le[0|ae*ie.scaleX*We]),Qe[ze++]=He,Qe[ze++]=Me,Qe[ze++]=je;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(Ne=!1,this.adobe&&this.adobe.transformCode?Ne=!0:this.opts.colorTransform!==void 0&&(Ne=!!this.opts.colorTransform),J=this.components[0],ee=this.components[1],ie=this.components[2],fe=this.components[3],ge=0;ge<X;ge++)for(se=J.lines[0|ge*J.scaleY*Ve],de=ee.lines[0|ge*ee.scaleY*Ve],le=ie.lines[0|ge*ie.scaleY*Ve],ye=fe.lines[0|ge*fe.scaleY*Ve],ae=0;ae<te;ae++)Ne?(Pe=se[0|ae*J.scaleX*We],be=de[0|ae*ee.scaleX*We],Ee=le[0|ae*ie.scaleX*We],ve=ye[0|ae*fe.scaleX*We],Re=255-Z(Pe+1.402*(Ee-128)),Oe=255-Z(Pe-.3441363*(be-128)-.71413636*(Ee-128)),Ae=255-Z(Pe+1.772*(be-128))):(Re=se[0|ae*J.scaleX*We],Oe=de[0|ae*ee.scaleX*We],Ae=le[0|ae*ie.scaleX*We],ve=ye[0|ae*fe.scaleX*We]),Qe[ze++]=255-Re,Qe[ze++]=255-Oe,Qe[ze++]=255-Ae,Qe[ze++]=255-ve;break;default:throw new Error("Unsupported color mode")}return Qe},copyToImageData:function(te,X){var J,ee,ie,fe,se,de,le,ye,ae,ge=te.width,Pe=te.height,be=te.data,Ee=this.getData(ge,Pe),ve=0,Re=0;switch(this.components.length){case 1:for(ee=0;ee<Pe;ee++)for(J=0;J<ge;J++)ie=Ee[ve++],be[Re++]=ie,be[Re++]=ie,be[Re++]=ie,X&&(be[Re++]=255);break;case 3:for(ee=0;ee<Pe;ee++)for(J=0;J<ge;J++)le=Ee[ve++],ye=Ee[ve++],ae=Ee[ve++],be[Re++]=le,be[Re++]=ye,be[Re++]=ae,X&&(be[Re++]=255);break;case 4:for(ee=0;ee<Pe;ee++)for(J=0;J<ge;J++)se=Ee[ve++],de=Ee[ve++],ie=Ee[ve++],le=255-Z(se*(1-(fe=Ee[ve++])/255)+fe),ye=255-Z(de*(1-fe/255)+fe),ae=255-Z(ie*(1-fe/255)+fe),be[Re++]=le,be[Re++]=ye,be[Re++]=ae,X&&(be[Re++]=255);break;default:throw new Error("Unsupported color mode")}}};var U=0,Q=0;function K(te=0){var X=U+te;if(X>Q){var J=Math.ceil((X-Q)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${J}MB`)}U=X}return V.resetMaxMemoryUsage=function(te){U=0,Q=te},V.getBytesAllocated=function(){return U},V.requestMemoryAllocation=K,V}(),module.exports=function(d,m={}){var g={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512,...m},w=new Uint8Array(d),I=new JpegImage;I.opts=g,JpegImage.resetMaxMemoryUsage(1024*g.maxMemoryUsageInMB*1024),I.parse(w);var P=g.formatAsRGBA?4:3,F=I.width*I.height*P;try{JpegImage.requestMemoryAllocation(F);var D={width:I.width,height:I.height,exifBuffer:I.exifBuffer,data:g.useTArray?new Uint8Array(F):Buffer.alloc(F)};I.comments.length>0&&(D.comments=I.comments)}catch($){throw $ instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+F):$ instanceof ReferenceError&&$.message==="Buffer is not defined"?new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true"):$}return I.copyToImageData(D,g.formatAsRGBA),D};var decoderExports=decoder.exports,encode=encoderExports,decode=decoderExports,jpegJs={encode,decode},JPEG=getDefaultExportFromCjs(jpegJs);function jpeg$2(){return{mime:"image/jpeg",encode:(d,{quality:m=100}={})=>JPEG.encode(d,m).data,decode:(d,m)=>JPEG.decode(d,m)}}function commonjsRequire(d){throw new Error('Could not dynamically require "'+d+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var browser$1={exports:{}};browser$1.exports=function(){function d(m,g,w){function I(D,$){if(!g[D]){if(!m[D]){var V=typeof commonjsRequire=="function"&&commonjsRequire;if(!$&&V)return V(D,!0);if(P)return P(D,!0);var j=new Error("Cannot find module '"+D+"'");throw j.code="MODULE_NOT_FOUND",j}var G=g[D]={exports:{}};m[D][0].call(G.exports,function(W){return I(m[D][1][W]||W)},G,G.exports,d,m,g,w)}return g[D].exports}for(var P=typeof commonjsRequire=="function"&&commonjsRequire,F=0;F<w.length;F++)I(w[F]);return I}return d}()({1:[function(d,m,g){(function(w){(function(){let I=d("./interlace"),P=[function(){},function(j,G,W,Z){if(Z===G.length)throw new Error("Ran out of data");let U=G[Z];j[W]=U,j[W+1]=U,j[W+2]=U,j[W+3]=255},function(j,G,W,Z){if(Z+1>=G.length)throw new Error("Ran out of data");let U=G[Z];j[W]=U,j[W+1]=U,j[W+2]=U,j[W+3]=G[Z+1]},function(j,G,W,Z){if(Z+2>=G.length)throw new Error("Ran out of data");j[W]=G[Z],j[W+1]=G[Z+1],j[W+2]=G[Z+2],j[W+3]=255},function(j,G,W,Z){if(Z+3>=G.length)throw new Error("Ran out of data");j[W]=G[Z],j[W+1]=G[Z+1],j[W+2]=G[Z+2],j[W+3]=G[Z+3]}],F=[function(){},function(j,G,W,Z){let U=G[0];j[W]=U,j[W+1]=U,j[W+2]=U,j[W+3]=Z},function(j,G,W){let Z=G[0];j[W]=Z,j[W+1]=Z,j[W+2]=Z,j[W+3]=G[1]},function(j,G,W,Z){j[W]=G[0],j[W+1]=G[1],j[W+2]=G[2],j[W+3]=Z},function(j,G,W){j[W]=G[0],j[W+1]=G[1],j[W+2]=G[2],j[W+3]=G[3]}];function D(j,G){let W=[],Z=0;function U(){if(Z===j.length)throw new Error("Ran out of data");let Q,K,te,X,J,ee,ie,fe,se=j[Z];switch(Z++,G){default:throw new Error("unrecognised depth");case 16:ie=j[Z],Z++,W.push((se<<8)+ie);break;case 4:ie=15&se,fe=se>>4,W.push(fe,ie);break;case 2:J=3&se,ee=se>>2&3,ie=se>>4&3,fe=se>>6&3,W.push(fe,ie,ee,J);break;case 1:Q=1&se,K=se>>1&1,te=se>>2&1,X=se>>3&1,J=se>>4&1,ee=se>>5&1,ie=se>>6&1,fe=se>>7&1,W.push(fe,ie,ee,J,X,te,K,Q)}}return{get:function(Q){for(;W.length<Q;)U();let K=W.slice(0,Q);return W=W.slice(Q),K},resetAfterLine:function(){W.length=0},end:function(){if(Z!==j.length)throw new Error("extra data found")}}}function $(j,G,W,Z,U,Q){let K=j.width,te=j.height,X=j.index;for(let J=0;J<te;J++)for(let ee=0;ee<K;ee++){let ie=W(ee,J,X);P[Z](G,U,ie,Q),Q+=Z}return Q}function V(j,G,W,Z,U,Q){let K=j.width,te=j.height,X=j.index;for(let J=0;J<te;J++){for(let ee=0;ee<K;ee++){let ie=U.get(Z),fe=W(ee,J,X);F[Z](G,ie,fe,Q)}U.resetAfterLine()}}g.dataToBitMap=function(j,G){let W,Z,U=G.width,Q=G.height,K=G.depth,te=G.bpp,X=G.interlace;K!==8&&(W=D(j,K)),Z=K<=8?w.alloc(U*Q*4):new Uint16Array(U*Q*4);let J,ee,ie=Math.pow(2,K)-1,fe=0;if(X)J=I.getImagePasses(U,Q),ee=I.getInterlaceIterator(U,Q);else{let se=0;ee=function(){let de=se;return se+=4,de},J=[{width:U,height:Q}]}for(let se=0;se<J.length;se++)K===8?fe=$(J[se],Z,ee,te,j,fe):V(J[se],Z,ee,te,W,ie);if(K===8){if(fe!==j.length)throw new Error("extra data found")}else W.end();return Z}}).call(this)}).call(this,d("buffer").Buffer)},{"./interlace":11,buffer:32}],2:[function(d,m,g){(function(w){(function(){let I=d("./constants");m.exports=function(P,F,D,$){let V=[I.COLORTYPE_COLOR_ALPHA,I.COLORTYPE_ALPHA].indexOf($.colorType)!==-1;if($.colorType===$.inputColorType){let J=function(){let ee=new ArrayBuffer(2);return new DataView(ee).setInt16(0,256,!0),new Int16Array(ee)[0]!==256}();if($.bitDepth===8||$.bitDepth===16&&J)return P}let j=$.bitDepth!==16?P:new Uint16Array(P.buffer),G=255,W=I.COLORTYPE_TO_BPP_MAP[$.inputColorType];W!==4||$.inputHasAlpha||(W=3);let Z=I.COLORTYPE_TO_BPP_MAP[$.colorType];$.bitDepth===16&&(G=65535,Z*=2);let U=w.alloc(F*D*Z),Q=0,K=0,te=$.bgColor||{};function X(){let J,ee,ie,fe=G;switch($.inputColorType){case I.COLORTYPE_COLOR_ALPHA:fe=j[Q+3],J=j[Q],ee=j[Q+1],ie=j[Q+2];break;case I.COLORTYPE_COLOR:J=j[Q],ee=j[Q+1],ie=j[Q+2];break;case I.COLORTYPE_ALPHA:fe=j[Q+1],J=j[Q],ee=J,ie=J;break;case I.COLORTYPE_GRAYSCALE:J=j[Q],ee=J,ie=J;break;default:throw new Error("input color type:"+$.inputColorType+" is not supported at present")}return $.inputHasAlpha&&(V||(fe/=G,J=Math.min(Math.max(Math.round((1-fe)*te.red+fe*J),0),G),ee=Math.min(Math.max(Math.round((1-fe)*te.green+fe*ee),0),G),ie=Math.min(Math.max(Math.round((1-fe)*te.blue+fe*ie),0),G))),{red:J,green:ee,blue:ie,alpha:fe}}te.red===void 0&&(te.red=G),te.green===void 0&&(te.green=G),te.blue===void 0&&(te.blue=G);for(let J=0;J<D;J++)for(let ee=0;ee<F;ee++){let ie=X();switch($.colorType){case I.COLORTYPE_COLOR_ALPHA:case I.COLORTYPE_COLOR:$.bitDepth===8?(U[K]=ie.red,U[K+1]=ie.green,U[K+2]=ie.blue,V&&(U[K+3]=ie.alpha)):(U.writeUInt16BE(ie.red,K),U.writeUInt16BE(ie.green,K+2),U.writeUInt16BE(ie.blue,K+4),V&&U.writeUInt16BE(ie.alpha,K+6));break;case I.COLORTYPE_ALPHA:case I.COLORTYPE_GRAYSCALE:{let fe=(ie.red+ie.green+ie.blue)/3;$.bitDepth===8?(U[K]=fe,V&&(U[K+1]=ie.alpha)):(U.writeUInt16BE(fe,K),V&&U.writeUInt16BE(ie.alpha,K+2));break}default:throw new Error("unrecognised color Type "+$.colorType)}Q+=W,K+=Z}return U}}).call(this)}).call(this,d("buffer").Buffer)},{"./constants":4,buffer:32}],3:[function(d,m,g){(function(w,I){(function(){let P=d("util"),F=d("stream"),D=m.exports=function(){F.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};P.inherits(D,F),D.prototype.read=function($,V){this._reads.push({length:Math.abs($),allowLess:$<0,func:V}),w.nextTick((function(){this._process(),this._paused&&this._reads&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}).bind(this))},D.prototype.write=function($,V){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;let j;return j=I.isBuffer($)?$:I.from($,V||this._encoding),this._buffers.push(j),this._buffered+=j.length,this._process(),this._reads&&this._reads.length===0&&(this._paused=!0),this.writable&&!this._paused},D.prototype.end=function($,V){$&&this.write($,V),this.writable=!1,this._buffers&&(this._buffers.length===0?this._end():(this._buffers.push(null),this._process()))},D.prototype.destroySoon=D.prototype.end,D.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("Unexpected end of input")),this.destroy()},D.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},D.prototype._processReadAllowingLess=function($){this._reads.shift();let V=this._buffers[0];V.length>$.length?(this._buffered-=$.length,this._buffers[0]=V.slice($.length),$.func.call(this,V.slice(0,$.length))):(this._buffered-=V.length,this._buffers.shift(),$.func.call(this,V))},D.prototype._processRead=function($){this._reads.shift();let V=0,j=0,G=I.alloc($.length);for(;V<$.length;){let W=this._buffers[j++],Z=Math.min(W.length,$.length-V);W.copy(G,V,0,Z),V+=Z,Z!==W.length&&(this._buffers[--j]=W.slice(Z))}j>0&&this._buffers.splice(0,j),this._buffered-=$.length,$.func.call(this,G)},D.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){let $=this._reads[0];if($.allowLess)this._processReadAllowingLess($);else{if(!(this._buffered>=$.length))break;this._processRead($)}}this._buffers&&!this.writable&&this._end()}catch($){this.emit("error",$)}}}).call(this)}).call(this,d("_process"),d("buffer").Buffer)},{_process:63,buffer:32,stream:65,util:84}],4:[function(d,m,g){m.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},{}],5:[function(d,m,g){let w=[];(function(){for(let P=0;P<256;P++){let F=P;for(let D=0;D<8;D++)1&F?F=3988292384^F>>>1:F>>>=1;w[P]=F}})();let I=m.exports=function(){this._crc=-1};I.prototype.write=function(P){for(let F=0;F<P.length;F++)this._crc=w[255&(this._crc^P[F])]^this._crc>>>8;return!0},I.prototype.crc32=function(){return~this._crc},I.crc32=function(P){let F=-1;for(let D=0;D<P.length;D++)F=w[255&(F^P[D])]^F>>>8;return~F}},{}],6:[function(d,m,g){(function(w){(function(){let I=d("./paeth-predictor");function P(te,X,J,ee,ie){for(let fe=0;fe<J;fe++)ee[ie+fe]=te[X+fe]}function F(te,X,J){let ee=0,ie=X+J;for(let fe=X;fe<ie;fe++)ee+=Math.abs(te[fe]);return ee}function D(te,X,J,ee,ie,fe){for(let se=0;se<J;se++){let de=se>=fe?te[X+se-fe]:0,le=te[X+se]-de;ee[ie+se]=le}}function $(te,X,J,ee){let ie=0;for(let fe=0;fe<J;fe++){let se=fe>=ee?te[X+fe-ee]:0,de=te[X+fe]-se;ie+=Math.abs(de)}return ie}function V(te,X,J,ee,ie){for(let fe=0;fe<J;fe++){let se=X>0?te[X+fe-J]:0,de=te[X+fe]-se;ee[ie+fe]=de}}function j(te,X,J){let ee=0,ie=X+J;for(let fe=X;fe<ie;fe++){let se=X>0?te[fe-J]:0,de=te[fe]-se;ee+=Math.abs(de)}return ee}function G(te,X,J,ee,ie,fe){for(let se=0;se<J;se++){let de=se>=fe?te[X+se-fe]:0,le=X>0?te[X+se-J]:0,ye=te[X+se]-(de+le>>1);ee[ie+se]=ye}}function W(te,X,J,ee){let ie=0;for(let fe=0;fe<J;fe++){let se=fe>=ee?te[X+fe-ee]:0,de=X>0?te[X+fe-J]:0,le=te[X+fe]-(se+de>>1);ie+=Math.abs(le)}return ie}function Z(te,X,J,ee,ie,fe){for(let se=0;se<J;se++){let de=se>=fe?te[X+se-fe]:0,le=X>0?te[X+se-J]:0,ye=X>0&&se>=fe?te[X+se-(J+fe)]:0,ae=te[X+se]-I(de,le,ye);ee[ie+se]=ae}}function U(te,X,J,ee){let ie=0;for(let fe=0;fe<J;fe++){let se=fe>=ee?te[X+fe-ee]:0,de=X>0?te[X+fe-J]:0,le=X>0&&fe>=ee?te[X+fe-(J+ee)]:0,ye=te[X+fe]-I(se,de,le);ie+=Math.abs(ye)}return ie}let Q={0:P,1:D,2:V,3:G,4:Z},K={0:F,1:$,2:j,3:W,4:U};m.exports=function(te,X,J,ee,ie){let fe;if("filterType"in ee&&ee.filterType!==-1){if(typeof ee.filterType!="number")throw new Error("unrecognised filter types");fe=[ee.filterType]}else fe=[0,1,2,3,4];ee.bitDepth===16&&(ie*=2);let se=X*ie,de=0,le=0,ye=w.alloc((se+1)*J),ae=fe[0];for(let ge=0;ge<J;ge++){if(fe.length>1){let Pe=1/0;for(let be=0;be<fe.length;be++){let Ee=K[fe[be]](te,le,se,ie);Ee<Pe&&(ae=fe[be],Pe=Ee)}}ye[de]=ae,de++,Q[ae](te,le,se,ye,de,ie),de+=se,le+=se}return ye}}).call(this)}).call(this,d("buffer").Buffer)},{"./paeth-predictor":15,buffer:32}],7:[function(d,m,g){(function(w){(function(){let I=d("util"),P=d("./chunkstream"),F=d("./filter-parse"),D=m.exports=function($){P.call(this);let V=[],j=this;this._filter=new F($,{read:this.read.bind(this),write:function(G){V.push(G)},complete:function(){j.emit("complete",w.concat(V))}}),this._filter.start()};I.inherits(D,P)}).call(this)}).call(this,d("buffer").Buffer)},{"./chunkstream":3,"./filter-parse":9,buffer:32,util:84}],8:[function(d,m,g){(function(w){(function(){let I=d("./sync-reader"),P=d("./filter-parse");g.process=function(F,D){let $=[],V=new I(F);return new P(D,{read:V.read.bind(V),write:function(j){$.push(j)},complete:function(){}}).start(),V.process(),w.concat($)}}).call(this)}).call(this,d("buffer").Buffer)},{"./filter-parse":9,"./sync-reader":22,buffer:32}],9:[function(d,m,g){(function(w){(function(){let I=d("./interlace"),P=d("./paeth-predictor");function F($,V,j){let G=$*V;return j!==8&&(G=Math.ceil(G/(8/j))),G}let D=m.exports=function($,V){let j=$.width,G=$.height,W=$.interlace,Z=$.bpp,U=$.depth;if(this.read=V.read,this.write=V.write,this.complete=V.complete,this._imageIndex=0,this._images=[],W){let Q=I.getImagePasses(j,G);for(let K=0;K<Q.length;K++)this._images.push({byteWidth:F(Q[K].width,Z,U),height:Q[K].height,lineIndex:0})}else this._images.push({byteWidth:F(j,Z,U),height:G,lineIndex:0});this._xComparison=U===8?Z:U===16?2*Z:1};D.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},D.prototype._unFilterType1=function($,V,j){let G=this._xComparison,W=G-1;for(let Z=0;Z<j;Z++){let U=$[1+Z],Q=Z>W?V[Z-G]:0;V[Z]=U+Q}},D.prototype._unFilterType2=function($,V,j){let G=this._lastLine;for(let W=0;W<j;W++){let Z=$[1+W],U=G?G[W]:0;V[W]=Z+U}},D.prototype._unFilterType3=function($,V,j){let G=this._xComparison,W=G-1,Z=this._lastLine;for(let U=0;U<j;U++){let Q=$[1+U],K=Z?Z[U]:0,te=U>W?V[U-G]:0,X=Math.floor((te+K)/2);V[U]=Q+X}},D.prototype._unFilterType4=function($,V,j){let G=this._xComparison,W=G-1,Z=this._lastLine;for(let U=0;U<j;U++){let Q=$[1+U],K=Z?Z[U]:0,te=U>W?V[U-G]:0,X=U>W&&Z?Z[U-G]:0,J=P(te,K,X);V[U]=Q+J}},D.prototype._reverseFilterLine=function($){let V,j=$[0],G=this._images[this._imageIndex],W=G.byteWidth;if(j===0)V=$.slice(1,W+1);else switch(V=w.alloc(W),j){case 1:this._unFilterType1($,V,W);break;case 2:this._unFilterType2($,V,W);break;case 3:this._unFilterType3($,V,W);break;case 4:this._unFilterType4($,V,W);break;default:throw new Error("Unrecognised filter type - "+j)}this.write(V),G.lineIndex++,G.lineIndex>=G.height?(this._lastLine=null,this._imageIndex++,G=this._images[this._imageIndex]):this._lastLine=V,G?this.read(G.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}).call(this)}).call(this,d("buffer").Buffer)},{"./interlace":11,"./paeth-predictor":15,buffer:32}],10:[function(d,m,g){(function(w){(function(){function I(D,$,V,j,G){let W=0;for(let Z=0;Z<j;Z++)for(let U=0;U<V;U++){let Q=G[D[W]];if(!Q)throw new Error("index "+D[W]+" not in palette");for(let K=0;K<4;K++)$[W+K]=Q[K];W+=4}}function P(D,$,V,j,G){let W=0;for(let Z=0;Z<j;Z++)for(let U=0;U<V;U++){let Q=!1;if(G.length===1?G[0]===D[W]&&(Q=!0):G[0]===D[W]&&G[1]===D[W+1]&&G[2]===D[W+2]&&(Q=!0),Q)for(let K=0;K<4;K++)$[W+K]=0;W+=4}}function F(D,$,V,j,G){let W=255,Z=Math.pow(2,G)-1,U=0;for(let Q=0;Q<j;Q++)for(let K=0;K<V;K++){for(let te=0;te<4;te++)$[U+te]=Math.floor(D[U+te]*W/Z+.5);U+=4}}m.exports=function(D,$,V=!1){let j=$.depth,G=$.width,W=$.height,Z=$.colorType,U=$.transColor,Q=$.palette,K=D;return Z===3?I(D,K,G,W,Q):(U&&P(D,K,G,W,U),j===8||V||(j===16&&(K=w.alloc(G*W*4)),F(D,K,G,W,j))),K}}).call(this)}).call(this,d("buffer").Buffer)},{buffer:32}],11:[function(d,m,g){let w=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];g.getImagePasses=function(I,P){let F=[],D=I%8,$=P%8,V=(I-D)/8,j=(P-$)/8;for(let G=0;G<w.length;G++){let W=w[G],Z=V*W.x.length,U=j*W.y.length;for(let Q=0;Q<W.x.length&&W.x[Q]<D;Q++)Z++;for(let Q=0;Q<W.y.length&&W.y[Q]<$;Q++)U++;Z>0&&U>0&&F.push({width:Z,height:U,index:G})}return F},g.getInterlaceIterator=function(I){return function(P,F,D){let $=P%w[D].x.length,V=(P-$)/w[D].x.length*8+w[D].x[$],j=F%w[D].y.length;return 4*V+((F-j)/w[D].y.length*8+w[D].y[j])*I*4}}},{}],12:[function(d,m,g){(function(w){(function(){let I=d("util"),P=d("stream"),F=d("./constants"),D=d("./packer"),$=m.exports=function(V){P.call(this);let j=V||{};this._packer=new D(j),this._deflate=this._packer.createDeflate(),this.readable=!0};I.inherits($,P),$.prototype.pack=function(V,j,G,W){this.emit("data",w.from(F.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(j,G)),W&&this.emit("data",this._packer.packGAMA(W));let Z=this._packer.filterData(V,j,G);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",(function(U){this.emit("data",this._packer.packIDAT(U))}).bind(this)),this._deflate.on("end",(function(){this.emit("data",this._packer.packIEND()),this.emit("end")}).bind(this)),this._deflate.end(Z)}}).call(this)}).call(this,d("buffer").Buffer)},{"./constants":4,"./packer":14,buffer:32,stream:65,util:84}],13:[function(d,m,g){(function(w){(function(){let I=!0,P=d("zlib");P.deflateSync||(I=!1);let F=d("./constants"),D=d("./packer");m.exports=function($,V){if(!I)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let j=new D(V||{}),G=[];G.push(w.from(F.PNG_SIGNATURE)),G.push(j.packIHDR($.width,$.height)),$.gamma&&G.push(j.packGAMA($.gamma));let W=j.filterData($.data,$.width,$.height),Z=P.deflateSync(W,j.getDeflateOptions());if(W=null,!Z||!Z.length)throw new Error("bad png - invalid compressed data response");return G.push(j.packIDAT(Z)),G.push(j.packIEND()),w.concat(G)}}).call(this)}).call(this,d("buffer").Buffer)},{"./constants":4,"./packer":14,buffer:32,zlib:31}],14:[function(d,m,g){(function(w){(function(){let I=d("./constants"),P=d("./crc"),F=d("./bitpacker"),D=d("./filter-pack"),$=d("zlib"),V=m.exports=function(j){if(this._options=j,j.deflateChunkSize=j.deflateChunkSize||32768,j.deflateLevel=j.deflateLevel!=null?j.deflateLevel:9,j.deflateStrategy=j.deflateStrategy!=null?j.deflateStrategy:3,j.inputHasAlpha=j.inputHasAlpha==null||j.inputHasAlpha,j.deflateFactory=j.deflateFactory||$.createDeflate,j.bitDepth=j.bitDepth||8,j.colorType=typeof j.colorType=="number"?j.colorType:I.COLORTYPE_COLOR_ALPHA,j.inputColorType=typeof j.inputColorType=="number"?j.inputColorType:I.COLORTYPE_COLOR_ALPHA,[I.COLORTYPE_GRAYSCALE,I.COLORTYPE_COLOR,I.COLORTYPE_COLOR_ALPHA,I.COLORTYPE_ALPHA].indexOf(j.colorType)===-1)throw new Error("option color type:"+j.colorType+" is not supported at present");if([I.COLORTYPE_GRAYSCALE,I.COLORTYPE_COLOR,I.COLORTYPE_COLOR_ALPHA,I.COLORTYPE_ALPHA].indexOf(j.inputColorType)===-1)throw new Error("option input color type:"+j.inputColorType+" is not supported at present");if(j.bitDepth!==8&&j.bitDepth!==16)throw new Error("option bit depth:"+j.bitDepth+" is not supported at present")};V.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},V.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},V.prototype.filterData=function(j,G,W){let Z=F(j,G,W,this._options),U=I.COLORTYPE_TO_BPP_MAP[this._options.colorType];return D(Z,G,W,this._options,U)},V.prototype._packChunk=function(j,G){let W=G?G.length:0,Z=w.alloc(W+12);return Z.writeUInt32BE(W,0),Z.writeUInt32BE(j,4),G&&G.copy(Z,8),Z.writeInt32BE(P.crc32(Z.slice(4,Z.length-4)),Z.length-4),Z},V.prototype.packGAMA=function(j){let G=w.alloc(4);return G.writeUInt32BE(Math.floor(j*I.GAMMA_DIVISION),0),this._packChunk(I.TYPE_gAMA,G)},V.prototype.packIHDR=function(j,G){let W=w.alloc(13);return W.writeUInt32BE(j,0),W.writeUInt32BE(G,4),W[8]=this._options.bitDepth,W[9]=this._options.colorType,W[10]=0,W[11]=0,W[12]=0,this._packChunk(I.TYPE_IHDR,W)},V.prototype.packIDAT=function(j){return this._packChunk(I.TYPE_IDAT,j)},V.prototype.packIEND=function(){return this._packChunk(I.TYPE_IEND,null)}}).call(this)}).call(this,d("buffer").Buffer)},{"./bitpacker":2,"./constants":4,"./crc":5,"./filter-pack":6,buffer:32,zlib:31}],15:[function(d,m,g){m.exports=function(w,I,P){let F=w+I-P,D=Math.abs(F-w),$=Math.abs(F-I),V=Math.abs(F-P);return D<=$&&D<=V?w:$<=V?I:P}},{}],16:[function(d,m,g){let w=d("util"),I=d("zlib"),P=d("./chunkstream"),F=d("./filter-parse-async"),D=d("./parser"),$=d("./bitmapper"),V=d("./format-normaliser"),j=m.exports=function(G){P.call(this),this._parser=new D(G,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=G,this.writable=!0,this._parser.start()};w.inherits(j,P),j.prototype._handleError=function(G){this.emit("error",G),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0},j.prototype._inflateData=function(G){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=I.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{let W=(1+(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3))*this._bitmapInfo.height,Z=Math.max(W,I.Z_MIN_CHUNK);this._inflate=I.createInflate({chunkSize:Z});let U=W,Q=this.emit.bind(this,"error");this._inflate.on("error",function(te){U&&Q(te)}),this._filter.on("complete",this._complete.bind(this));let K=this._filter.write.bind(this._filter);this._inflate.on("data",function(te){U&&(te.length>U&&(te=te.slice(0,U)),U-=te.length,K(te))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(G)},j.prototype._handleMetaData=function(G){this._metaData=G,this._bitmapInfo=Object.create(G),this._filter=new F(this._bitmapInfo)},j.prototype._handleTransColor=function(G){this._bitmapInfo.transColor=G},j.prototype._handlePalette=function(G){this._bitmapInfo.palette=G},j.prototype._simpleTransparency=function(){this._metaData.alpha=!0},j.prototype._headersFinished=function(){this.emit("metadata",this._metaData)},j.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"))},j.prototype._complete=function(G){if(this.errord)return;let W;try{let Z=$.dataToBitMap(G,this._bitmapInfo);W=V(Z,this._bitmapInfo,this._options.skipRescale),Z=null}catch(Z){return void this._handleError(Z)}this.emit("parsed",W)}},{"./bitmapper":1,"./chunkstream":3,"./filter-parse-async":7,"./format-normaliser":10,"./parser":18,util:84,zlib:31}],17:[function(d,m,g){(function(w){(function(){let I=!0,P=d("zlib"),F=d("./sync-inflate");P.deflateSync||(I=!1);let D=d("./sync-reader"),$=d("./filter-parse-sync"),V=d("./parser"),j=d("./bitmapper"),G=d("./format-normaliser");m.exports=function(W,Z){if(!I)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let U,Q,K;function te(Ee){U=Ee}function X(Ee){Q=Ee}function J(Ee){Q.transColor=Ee}function ee(Ee){Q.palette=Ee}function ie(){Q.alpha=!0}function fe(Ee){K=Ee}let se=[];function de(Ee){se.push(Ee)}let le=new D(W);if(new V(Z,{read:le.read.bind(le),error:te,metadata:X,gamma:fe,palette:ee,transColor:J,inflateData:de,simpleTransparency:ie}).start(),le.process(),U)throw U;let ye,ae=w.concat(se);if(se.length=0,Q.interlace)ye=P.inflateSync(ae);else{let Ee=(1+(Q.width*Q.bpp*Q.depth+7>>3))*Q.height;ye=F(ae,{chunkSize:Ee,maxLength:Ee})}if(ae=null,!ye||!ye.length)throw new Error("bad png - invalid inflate data response");let ge=$.process(ye,Q);ae=null;let Pe=j.dataToBitMap(ge,Q);ge=null;let be=G(Pe,Q,Z.skipRescale);return Q.data=be,Q.gamma=K||0,Q}}).call(this)}).call(this,d("buffer").Buffer)},{"./bitmapper":1,"./filter-parse-sync":8,"./format-normaliser":10,"./parser":18,"./sync-inflate":21,"./sync-reader":22,buffer:32,zlib:31}],18:[function(d,m,g){(function(w){(function(){let I=d("./constants"),P=d("./crc"),F=m.exports=function(D,$){this._options=D,D.checkCRC=D.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[I.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[I.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[I.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[I.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[I.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[I.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=$.read,this.error=$.error,this.metadata=$.metadata,this.gamma=$.gamma,this.transColor=$.transColor,this.palette=$.palette,this.parsed=$.parsed,this.inflateData=$.inflateData,this.finished=$.finished,this.simpleTransparency=$.simpleTransparency,this.headersFinished=$.headersFinished||function(){}};F.prototype.start=function(){this.read(I.PNG_SIGNATURE.length,this._parseSignature.bind(this))},F.prototype._parseSignature=function(D){let $=I.PNG_SIGNATURE;for(let V=0;V<$.length;V++)if(D[V]!==$[V])return void this.error(new Error("Invalid file signature"));this.read(8,this._parseChunkBegin.bind(this))},F.prototype._parseChunkBegin=function(D){let $=D.readUInt32BE(0),V=D.readUInt32BE(4),j="";for(let W=4;W<8;W++)j+=String.fromCharCode(D[W]);let G=!!(32&D[4]);if(this._hasIHDR||V===I.TYPE_IHDR){if(this._crc=new P,this._crc.write(w.from(j)),this._chunks[V])return this._chunks[V]($);G?this.read($+4,this._skipChunk.bind(this)):this.error(new Error("Unsupported critical chunk type "+j))}else this.error(new Error("Expected IHDR on beggining"))},F.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},F.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},F.prototype._parseChunkEnd=function(D){let $=D.readInt32BE(0),V=this._crc.crc32();this._options.checkCRC&&V!==$?this.error(new Error("Crc error - "+$+" - "+V)):this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},F.prototype._handleIHDR=function(D){this.read(D,this._parseIHDR.bind(this))},F.prototype._parseIHDR=function(D){this._crc.write(D);let $=D.readUInt32BE(0),V=D.readUInt32BE(4),j=D[8],G=D[9],W=D[10],Z=D[11],U=D[12];if(j!==8&&j!==4&&j!==2&&j!==1&&j!==16)return void this.error(new Error("Unsupported bit depth "+j));if(!(G in I.COLORTYPE_TO_BPP_MAP))return void this.error(new Error("Unsupported color type"));if(W!==0)return void this.error(new Error("Unsupported compression method"));if(Z!==0)return void this.error(new Error("Unsupported filter method"));if(U!==0&&U!==1)return void this.error(new Error("Unsupported interlace method"));this._colorType=G;let Q=I.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:$,height:V,depth:j,interlace:!!U,palette:!!(G&I.COLORTYPE_PALETTE),color:!!(G&I.COLORTYPE_COLOR),alpha:!!(G&I.COLORTYPE_ALPHA),bpp:Q,colorType:G}),this._handleChunkEnd()},F.prototype._handlePLTE=function(D){this.read(D,this._parsePLTE.bind(this))},F.prototype._parsePLTE=function(D){this._crc.write(D);let $=Math.floor(D.length/3);for(let V=0;V<$;V++)this._palette.push([D[3*V],D[3*V+1],D[3*V+2],255]);this.palette(this._palette),this._handleChunkEnd()},F.prototype._handleTRNS=function(D){this.simpleTransparency(),this.read(D,this._parseTRNS.bind(this))},F.prototype._parseTRNS=function(D){if(this._crc.write(D),this._colorType===I.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0)return void this.error(new Error("Transparency chunk must be after palette"));if(D.length>this._palette.length)return void this.error(new Error("More transparent colors than palette size"));for(let $=0;$<D.length;$++)this._palette[$][3]=D[$];this.palette(this._palette)}this._colorType===I.COLORTYPE_GRAYSCALE&&this.transColor([D.readUInt16BE(0)]),this._colorType===I.COLORTYPE_COLOR&&this.transColor([D.readUInt16BE(0),D.readUInt16BE(2),D.readUInt16BE(4)]),this._handleChunkEnd()},F.prototype._handleGAMA=function(D){this.read(D,this._parseGAMA.bind(this))},F.prototype._parseGAMA=function(D){this._crc.write(D),this.gamma(D.readUInt32BE(0)/I.GAMMA_DIVISION),this._handleChunkEnd()},F.prototype._handleIDAT=function(D){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-D,this._parseIDAT.bind(this,D))},F.prototype._parseIDAT=function(D,$){if(this._crc.write($),this._colorType===I.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData($);let V=D-$.length;V>0?this._handleIDAT(V):this._handleChunkEnd()},F.prototype._handleIEND=function(D){this.read(D,this._parseIEND.bind(this))},F.prototype._parseIEND=function(D){this._crc.write(D),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}).call(this)}).call(this,d("buffer").Buffer)},{"./constants":4,"./crc":5,buffer:32}],19:[function(d,m,g){let w=d("./parser-sync"),I=d("./packer-sync");g.read=function(P,F){return w(P,F||{})},g.write=function(P,F){return I(P,F)}},{"./packer-sync":13,"./parser-sync":17}],20:[function(d,m,g){(function(w,I){(function(){let P=d("util"),F=d("stream"),D=d("./parser-async"),$=d("./packer-async"),V=d("./png-sync"),j=g.PNG=function(G){F.call(this),G=G||{},this.width=0|G.width,this.height=0|G.height,this.data=this.width>0&&this.height>0?I.alloc(4*this.width*this.height):null,G.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new D(G),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",(function(W){this.data=W,this.emit("parsed",W)}).bind(this)),this._packer=new $(G),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};P.inherits(j,F),j.sync=V,j.prototype.pack=function(){return this.data&&this.data.length?(w.nextTick((function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}).bind(this)),this):(this.emit("error","No data provided"),this)},j.prototype.parse=function(G,W){if(W){let Z,U;Z=(function(Q){this.removeListener("error",U),this.data=Q,W(null,this)}).bind(this),U=(function(Q){this.removeListener("parsed",Z),W(Q,null)}).bind(this),this.once("parsed",Z),this.once("error",U)}return this.end(G),this},j.prototype.write=function(G){return this._parser.write(G),!0},j.prototype.end=function(G){this._parser.end(G)},j.prototype._metadata=function(G){this.width=G.width,this.height=G.height,this.emit("metadata",G)},j.prototype._gamma=function(G){this.gamma=G},j.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit("close")},j.bitblt=function(G,W,Z,U,Q,K,te,X){if(U|=0,Q|=0,K|=0,te|=0,X|=0,(Z|=0)>G.width||U>G.height||Z+Q>G.width||U+K>G.height)throw new Error("bitblt reading outside image");if(te>W.width||X>W.height||te+Q>W.width||X+K>W.height)throw new Error("bitblt writing outside image");for(let J=0;J<K;J++)G.data.copy(W.data,(X+J)*W.width+te<<2,(U+J)*G.width+Z<<2,(U+J)*G.width+Z+Q<<2)},j.prototype.bitblt=function(G,W,Z,U,Q,K,te){return j.bitblt(this,G,W,Z,U,Q,K,te),this},j.adjustGamma=function(G){if(G.gamma){for(let W=0;W<G.height;W++)for(let Z=0;Z<G.width;Z++){let U=G.width*W+Z<<2;for(let Q=0;Q<3;Q++){let K=G.data[U+Q]/255;K=Math.pow(K,1/2.2/G.gamma),G.data[U+Q]=Math.round(255*K)}}G.gamma=0}},j.prototype.adjustGamma=function(){j.adjustGamma(this)}}).call(this)}).call(this,d("_process"),d("buffer").Buffer)},{"./packer-async":12,"./parser-async":16,"./png-sync":19,_process:63,buffer:32,stream:65,util:84}],21:[function(d,m,g){(function(w,I){(function(){let P=d("assert").ok,F=d("zlib"),D=d("util"),$=d("buffer").kMaxLength;function V(U){if(!(this instanceof V))return new V(U);U&&U.chunkSize<F.Z_MIN_CHUNK&&(U.chunkSize=F.Z_MIN_CHUNK),F.Inflate.call(this,U),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,U&&U.maxLength!=null&&(this._maxLength=U.maxLength)}function j(U){return new V(U)}function G(U,Q){U._handle&&(U._handle.close(),U._handle=null)}function W(U,Q){if(typeof Q=="string"&&(Q=I.from(Q)),!(Q instanceof I))throw new TypeError("Not a string or buffer");let K=U._finishFlushFlag;return K==null&&(K=F.Z_FINISH),U._processChunk(Q,K)}function Z(U,Q){return W(new V(Q),U)}V.prototype._processChunk=function(U,Q,K){if(typeof K=="function")return F.Inflate._processChunk.call(this,U,Q,K);let te,X,J=this,ee=U&&U.length,ie=this._chunkSize-this._offset,fe=this._maxLength,se=0,de=[],le=0;function ye(ge,Pe){if(J._hadError)return;let be=ie-Pe;if(P(be>=0,"have should not go down"),be>0){let Ee=J._buffer.slice(J._offset,J._offset+be);if(J._offset+=be,Ee.length>fe&&(Ee=Ee.slice(0,fe)),de.push(Ee),le+=Ee.length,fe-=Ee.length,fe===0)return!1}return(Pe===0||J._offset>=J._chunkSize)&&(ie=J._chunkSize,J._offset=0,J._buffer=I.allocUnsafe(J._chunkSize)),Pe===0&&(se+=ee-ge,ee=ge,!0)}this.on("error",function(ge){te=ge}),P(this._handle,"zlib binding closed");do X=this._handle.writeSync(Q,U,se,ee,this._buffer,this._offset,ie),X=X||this._writeState;while(!this._hadError&&ye(X[0],X[1]));if(this._hadError)throw te;if(le>=$)throw G(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+$.toString(16)+" bytes");let ae=I.concat(de,le);return G(this),ae},D.inherits(V,F.Inflate),m.exports=g=Z,g.Inflate=V,g.createInflate=j,g.inflateSync=Z}).call(this)}).call(this,d("_process"),d("buffer").Buffer)},{_process:63,assert:23,buffer:32,util:84,zlib:31}],22:[function(d,m,g){let w=m.exports=function(I){this._buffer=I,this._reads=[]};w.prototype.read=function(I,P){this._reads.push({length:Math.abs(I),allowLess:I<0,func:P})},w.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){let I=this._reads[0];if(!this._buffer.length||!(this._buffer.length>=I.length||I.allowLess))break;{this._reads.shift();let P=this._buffer;this._buffer=P.slice(I.length),I.func.call(this,P.slice(0,I.length))}}if(this._reads.length>0)throw new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)throw new Error("unrecognised content at end of stream")}},{}],23:[function(d,m,g){(function(w){(function(){var I=d("object-assign");/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */function P(be,Ee){if(be===Ee)return 0;for(var ve=be.length,Re=Ee.length,Oe=0,Ae=Math.min(ve,Re);Oe<Ae;++Oe)if(be[Oe]!==Ee[Oe]){ve=be[Oe],Re=Ee[Oe];break}return ve<Re?-1:Re<ve?1:0}function F(be){return w.Buffer&&typeof w.Buffer.isBuffer=="function"?w.Buffer.isBuffer(be):!(be==null||!be._isBuffer)}var D=d("util/"),$=Object.prototype.hasOwnProperty,V=Array.prototype.slice,j=(function(){}).name==="foo";function G(be){return Object.prototype.toString.call(be)}function W(be){return!F(be)&&typeof w.ArrayBuffer=="function"&&(typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(be):!!be&&(be instanceof DataView||!!(be.buffer&&be.buffer instanceof ArrayBuffer)))}var Z=m.exports=ee,U=/\s*function\s+([^\(\s]*)\s*/;function Q(be){if(D.isFunction(be)){if(j)return be.name;var Ee=be.toString().match(U);return Ee&&Ee[1]}}function K(be,Ee){return typeof be=="string"?be.length<Ee?be:be.slice(0,Ee):be}function te(be){if(j||!D.isFunction(be))return D.inspect(be);var Ee=Q(be);return"[Function"+(Ee?": "+Ee:"")+"]"}function X(be){return K(te(be.actual),128)+" "+be.operator+" "+K(te(be.expected),128)}function J(be,Ee,ve,Re,Oe){throw new Z.AssertionError({message:ve,actual:be,expected:Ee,operator:Re,stackStartFunction:Oe})}function ee(be,Ee){be||J(be,!0,Ee,"==",Z.ok)}function ie(be,Ee,ve,Re){if(be===Ee)return!0;if(F(be)&&F(Ee))return P(be,Ee)===0;if(D.isDate(be)&&D.isDate(Ee))return be.getTime()===Ee.getTime();if(D.isRegExp(be)&&D.isRegExp(Ee))return be.source===Ee.source&&be.global===Ee.global&&be.multiline===Ee.multiline&&be.lastIndex===Ee.lastIndex&&be.ignoreCase===Ee.ignoreCase;if(be!==null&&typeof be=="object"||Ee!==null&&typeof Ee=="object"){if(W(be)&&W(Ee)&&G(be)===G(Ee)&&!(be instanceof Float32Array||be instanceof Float64Array))return P(new Uint8Array(be.buffer),new Uint8Array(Ee.buffer))===0;if(F(be)!==F(Ee))return!1;var Oe=(Re=Re||{actual:[],expected:[]}).actual.indexOf(be);return Oe!==-1&&Oe===Re.expected.indexOf(Ee)||(Re.actual.push(be),Re.expected.push(Ee),se(be,Ee,ve,Re))}return ve?be===Ee:be==Ee}function fe(be){return Object.prototype.toString.call(be)=="[object Arguments]"}function se(be,Ee,ve,Re){if(be==null||Ee==null)return!1;if(D.isPrimitive(be)||D.isPrimitive(Ee))return be===Ee;if(ve&&Object.getPrototypeOf(be)!==Object.getPrototypeOf(Ee))return!1;var Oe=fe(be),Ae=fe(Ee);if(Oe&&!Ae||!Oe&&Ae)return!1;if(Oe)return ie(be=V.call(be),Ee=V.call(Ee),ve);var He,Me,je=Pe(be),Ne=Pe(Ee);if(je.length!==Ne.length)return!1;for(je.sort(),Ne.sort(),Me=je.length-1;Me>=0;Me--)if(je[Me]!==Ne[Me])return!1;for(Me=je.length-1;Me>=0;Me--)if(!ie(be[He=je[Me]],Ee[He],ve,Re))return!1;return!0}function de(be,Ee,ve){ie(be,Ee,!0)&&J(be,Ee,ve,"notDeepStrictEqual",de)}function le(be,Ee){if(!be||!Ee)return!1;if(Object.prototype.toString.call(Ee)=="[object RegExp]")return Ee.test(be);try{if(be instanceof Ee)return!0}catch{}return!Error.isPrototypeOf(Ee)&&Ee.call({},be)===!0}function ye(be){var Ee;try{be()}catch(ve){Ee=ve}return Ee}function ae(be,Ee,ve,Re){var Oe;if(typeof Ee!="function")throw new TypeError('"block" argument must be a function');typeof ve=="string"&&(Re=ve,ve=null),Oe=ye(Ee),Re=(ve&&ve.name?" ("+ve.name+").":".")+(Re?" "+Re:"."),be&&!Oe&&J(Oe,ve,"Missing expected exception"+Re);var Ae=typeof Re=="string",He=!be&&Oe&&!ve;if((!be&&D.isError(Oe)&&Ae&&le(Oe,ve)||He)&&J(Oe,ve,"Got unwanted exception"+Re),be&&Oe&&ve&&!le(Oe,ve)||!be&&Oe)throw Oe}function ge(be,Ee){be||J(be,!0,Ee,"==",ge)}Z.AssertionError=function(be){this.name="AssertionError",this.actual=be.actual,this.expected=be.expected,this.operator=be.operator,be.message?(this.message=be.message,this.generatedMessage=!1):(this.message=X(this),this.generatedMessage=!0);var Ee=be.stackStartFunction||J;if(Error.captureStackTrace)Error.captureStackTrace(this,Ee);else{var ve=new Error;if(ve.stack){var Re=ve.stack,Oe=Q(Ee),Ae=Re.indexOf(`
`+Oe);if(Ae>=0){var He=Re.indexOf(`
`,Ae+1);Re=Re.substring(He+1)}this.stack=Re}}},D.inherits(Z.AssertionError,Error),Z.fail=J,Z.ok=ee,Z.equal=function(be,Ee,ve){be!=Ee&&J(be,Ee,ve,"==",Z.equal)},Z.notEqual=function(be,Ee,ve){be==Ee&&J(be,Ee,ve,"!=",Z.notEqual)},Z.deepEqual=function(be,Ee,ve){ie(be,Ee,!1)||J(be,Ee,ve,"deepEqual",Z.deepEqual)},Z.deepStrictEqual=function(be,Ee,ve){ie(be,Ee,!0)||J(be,Ee,ve,"deepStrictEqual",Z.deepStrictEqual)},Z.notDeepEqual=function(be,Ee,ve){ie(be,Ee,!1)&&J(be,Ee,ve,"notDeepEqual",Z.notDeepEqual)},Z.notDeepStrictEqual=de,Z.strictEqual=function(be,Ee,ve){be!==Ee&&J(be,Ee,ve,"===",Z.strictEqual)},Z.notStrictEqual=function(be,Ee,ve){be===Ee&&J(be,Ee,ve,"!==",Z.notStrictEqual)},Z.throws=function(be,Ee,ve){ae(!0,be,Ee,ve)},Z.doesNotThrow=function(be,Ee,ve){ae(!1,be,Ee,ve)},Z.ifError=function(be){if(be)throw be},Z.strict=I(ge,Z,{equal:Z.strictEqual,deepEqual:Z.deepStrictEqual,notEqual:Z.notStrictEqual,notDeepEqual:Z.notDeepStrictEqual}),Z.strict.strict=Z.strict;var Pe=Object.keys||function(be){var Ee=[];for(var ve in be)$.call(be,ve)&&Ee.push(ve);return Ee}}).call(this)}).call(this,commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"object-assign":51,"util/":26}],24:[function(d,m,g){typeof Object.create=="function"?m.exports=function(w,I){w.super_=I,w.prototype=Object.create(I.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}})}:m.exports=function(w,I){w.super_=I;var P=function(){};P.prototype=I.prototype,w.prototype=new P,w.prototype.constructor=w}},{}],25:[function(d,m,g){m.exports=function(w){return w&&typeof w=="object"&&typeof w.copy=="function"&&typeof w.fill=="function"&&typeof w.readUInt8=="function"}},{}],26:[function(d,m,g){(function(w,I){(function(){var P=/%[sdj%]/g;g.format=function(Me){if(!se(Me)){for(var je=[],Ne=0;Ne<arguments.length;Ne++)je.push($(arguments[Ne]));return je.join(" ")}Ne=1;for(var We=arguments,Ve=We.length,ze=String(Me).replace(P,function(Qe){if(Qe==="%%")return"%";if(Ne>=Ve)return Qe;switch(Qe){case"%s":return String(We[Ne++]);case"%d":return Number(We[Ne++]);case"%j":try{return JSON.stringify(We[Ne++])}catch{return"[Circular]"}default:return Qe}}),Le=We[Ne];Ne<Ve;Le=We[++Ne])ee(Le)||!ae(Le)?ze+=" "+Le:ze+=" "+$(Le);return ze},g.deprecate=function(Me,je){if(le(I.process))return function(){return g.deprecate(Me,je).apply(this,arguments)};if(w.noDeprecation===!0)return Me;var Ne=!1;function We(){if(!Ne){if(w.throwDeprecation)throw new Error(je);w.traceDeprecation?console.trace(je):console.error(je),Ne=!0}return Me.apply(this,arguments)}return We};var F,D={};function $(Me,je){var Ne={seen:[],stylize:j};return arguments.length>=3&&(Ne.depth=arguments[2]),arguments.length>=4&&(Ne.colors=arguments[3]),J(je)?Ne.showHidden=je:je&&g._extend(Ne,je),le(Ne.showHidden)&&(Ne.showHidden=!1),le(Ne.depth)&&(Ne.depth=2),le(Ne.colors)&&(Ne.colors=!1),le(Ne.customInspect)&&(Ne.customInspect=!0),Ne.colors&&(Ne.stylize=V),W(Ne,Me,Ne.depth)}function V(Me,je){var Ne=$.styles[je];return Ne?"\x1B["+$.colors[Ne][0]+"m"+Me+"\x1B["+$.colors[Ne][1]+"m":Me}function j(Me,je){return Me}function G(Me){var je={};return Me.forEach(function(Ne,We){je[Ne]=!0}),je}function W(Me,je,Ne){if(Me.customInspect&&je&&be(je.inspect)&&je.inspect!==g.inspect&&(!je.constructor||je.constructor.prototype!==je)){var We=je.inspect(Ne,Me);return se(We)||(We=W(Me,We,Ne)),We}var Ve=Z(Me,je);if(Ve)return Ve;var ze=Object.keys(je),Le=G(ze);if(Me.showHidden&&(ze=Object.getOwnPropertyNames(je)),Pe(je)&&(ze.indexOf("message")>=0||ze.indexOf("description")>=0))return U(je);if(ze.length===0){if(be(je)){var Qe=je.name?": "+je.name:"";return Me.stylize("[Function"+Qe+"]","special")}if(ye(je))return Me.stylize(RegExp.prototype.toString.call(je),"regexp");if(ge(je))return Me.stylize(Date.prototype.toString.call(je),"date");if(Pe(je))return U(je)}var Ke,Fe="",ce=!1,$e=["{","}"];return X(je)&&(ce=!0,$e=["[","]"]),be(je)&&(Fe=" [Function"+(je.name?": "+je.name:"")+"]"),ye(je)&&(Fe=" "+RegExp.prototype.toString.call(je)),ge(je)&&(Fe=" "+Date.prototype.toUTCString.call(je)),Pe(je)&&(Fe=" "+U(je)),ze.length!==0||ce&&je.length!=0?Ne<0?ye(je)?Me.stylize(RegExp.prototype.toString.call(je),"regexp"):Me.stylize("[Object]","special"):(Me.seen.push(je),Ke=ce?Q(Me,je,Ne,Le,ze):ze.map(function(oe){return K(Me,je,Ne,Le,oe,ce)}),Me.seen.pop(),te(Ke,Fe,$e)):$e[0]+Fe+$e[1]}function Z(Me,je){if(le(je))return Me.stylize("undefined","undefined");if(se(je)){var Ne="'"+JSON.stringify(je).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Me.stylize(Ne,"string")}return fe(je)?Me.stylize(""+je,"number"):J(je)?Me.stylize(""+je,"boolean"):ee(je)?Me.stylize("null","null"):void 0}function U(Me){return"["+Error.prototype.toString.call(Me)+"]"}function Q(Me,je,Ne,We,Ve){for(var ze=[],Le=0,Qe=je.length;Le<Qe;++Le)He(je,String(Le))?ze.push(K(Me,je,Ne,We,String(Le),!0)):ze.push("");return Ve.forEach(function(Ke){Ke.match(/^\d+$/)||ze.push(K(Me,je,Ne,We,Ke,!0))}),ze}function K(Me,je,Ne,We,Ve,ze){var Le,Qe,Ke;if((Ke=Object.getOwnPropertyDescriptor(je,Ve)||{value:je[Ve]}).get?Qe=Ke.set?Me.stylize("[Getter/Setter]","special"):Me.stylize("[Getter]","special"):Ke.set&&(Qe=Me.stylize("[Setter]","special")),He(We,Ve)||(Le="["+Ve+"]"),Qe||(Me.seen.indexOf(Ke.value)<0?(Qe=ee(Ne)?W(Me,Ke.value,null):W(Me,Ke.value,Ne-1)).indexOf(`
`)>-1&&(Qe=ze?Qe.split(`
`).map(function(Fe){return"  "+Fe}).join(`
`).substr(2):`
`+Qe.split(`
`).map(function(Fe){return"   "+Fe}).join(`
`)):Qe=Me.stylize("[Circular]","special")),le(Le)){if(ze&&Ve.match(/^\d+$/))return Qe;(Le=JSON.stringify(""+Ve)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Le=Le.substr(1,Le.length-2),Le=Me.stylize(Le,"name")):(Le=Le.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Le=Me.stylize(Le,"string"))}return Le+": "+Qe}function te(Me,je,Ne){return Me.reduce(function(We,Ve){return Ve.indexOf(`
`),We+Ve.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Ne[0]+(je===""?"":je+`
 `)+" "+Me.join(`,
  `)+" "+Ne[1]:Ne[0]+je+" "+Me.join(", ")+" "+Ne[1]}function X(Me){return Array.isArray(Me)}function J(Me){return typeof Me=="boolean"}function ee(Me){return Me===null}function ie(Me){return Me==null}function fe(Me){return typeof Me=="number"}function se(Me){return typeof Me=="string"}function de(Me){return typeof Me=="symbol"}function le(Me){return Me===void 0}function ye(Me){return ae(Me)&&ve(Me)==="[object RegExp]"}function ae(Me){return typeof Me=="object"&&Me!==null}function ge(Me){return ae(Me)&&ve(Me)==="[object Date]"}function Pe(Me){return ae(Me)&&(ve(Me)==="[object Error]"||Me instanceof Error)}function be(Me){return typeof Me=="function"}function Ee(Me){return Me===null||typeof Me=="boolean"||typeof Me=="number"||typeof Me=="string"||typeof Me=="symbol"||Me===void 0}function ve(Me){return Object.prototype.toString.call(Me)}function Re(Me){return Me<10?"0"+Me.toString(10):Me.toString(10)}g.debuglog=function(Me){if(le(F)&&(F=w.env.NODE_DEBUG||""),Me=Me.toUpperCase(),!D[Me])if(new RegExp("\\b"+Me+"\\b","i").test(F)){var je=w.pid;D[Me]=function(){var Ne=g.format.apply(g,arguments);console.error("%s %d: %s",Me,je,Ne)}}else D[Me]=function(){};return D[Me]},g.inspect=$,$.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},$.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},g.isArray=X,g.isBoolean=J,g.isNull=ee,g.isNullOrUndefined=ie,g.isNumber=fe,g.isString=se,g.isSymbol=de,g.isUndefined=le,g.isRegExp=ye,g.isObject=ae,g.isDate=ge,g.isError=Pe,g.isFunction=be,g.isPrimitive=Ee,g.isBuffer=d("./support/isBuffer");var Oe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Ae(){var Me=new Date,je=[Re(Me.getHours()),Re(Me.getMinutes()),Re(Me.getSeconds())].join(":");return[Me.getDate(),Oe[Me.getMonth()],je].join(" ")}function He(Me,je){return Object.prototype.hasOwnProperty.call(Me,je)}g.log=function(){console.log("%s - %s",Ae(),g.format.apply(g,arguments))},g.inherits=d("inherits"),g._extend=function(Me,je){if(!je||!ae(je))return Me;for(var Ne=Object.keys(je),We=Ne.length;We--;)Me[Ne[We]]=je[Ne[We]];return Me}}).call(this)}).call(this,d("_process"),commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":25,_process:63,inherits:24}],27:[function(d,m,g){(function(w){(function(){var I=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],P=typeof globalThis>"u"?w:globalThis;m.exports=function(){for(var F=[],D=0;D<I.length;D++)typeof P[I[D]]=="function"&&(F[F.length]=I[D]);return F}}).call(this)}).call(this,commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],28:[function(d,m,g){g.byteLength=j,g.toByteArray=W,g.fromByteArray=Q;for(var w=[],I=[],P=typeof Uint8Array<"u"?Uint8Array:Array,F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",D=0,$=F.length;D<$;++D)w[D]=F[D],I[F.charCodeAt(D)]=D;function V(K){var te=K.length;if(te%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var X=K.indexOf("=");return X===-1&&(X=te),[X,X===te?0:4-X%4]}function j(K){var te=V(K),X=te[0],J=te[1];return 3*(X+J)/4-J}function G(K,te,X){return 3*(te+X)/4-X}function W(K){var te,X,J=V(K),ee=J[0],ie=J[1],fe=new P(G(K,ee,ie)),se=0,de=ie>0?ee-4:ee;for(X=0;X<de;X+=4)te=I[K.charCodeAt(X)]<<18|I[K.charCodeAt(X+1)]<<12|I[K.charCodeAt(X+2)]<<6|I[K.charCodeAt(X+3)],fe[se++]=te>>16&255,fe[se++]=te>>8&255,fe[se++]=255&te;return ie===2&&(te=I[K.charCodeAt(X)]<<2|I[K.charCodeAt(X+1)]>>4,fe[se++]=255&te),ie===1&&(te=I[K.charCodeAt(X)]<<10|I[K.charCodeAt(X+1)]<<4|I[K.charCodeAt(X+2)]>>2,fe[se++]=te>>8&255,fe[se++]=255&te),fe}function Z(K){return w[K>>18&63]+w[K>>12&63]+w[K>>6&63]+w[63&K]}function U(K,te,X){for(var J,ee=[],ie=te;ie<X;ie+=3)J=(K[ie]<<16&16711680)+(K[ie+1]<<8&65280)+(255&K[ie+2]),ee.push(Z(J));return ee.join("")}function Q(K){for(var te,X=K.length,J=X%3,ee=[],ie=16383,fe=0,se=X-J;fe<se;fe+=ie)ee.push(U(K,fe,fe+ie>se?se:fe+ie));return J===1?(te=K[X-1],ee.push(w[te>>2]+w[te<<4&63]+"==")):J===2&&(te=(K[X-2]<<8)+K[X-1],ee.push(w[te>>10]+w[te>>4&63]+w[te<<2&63]+"=")),ee.join("")}I[45]=62,I[95]=63},{}],29:[function(d,m,g){},{}],30:[function(d,m,g){(function(w,I){(function(){var P=d("assert"),F=d("pako/lib/zlib/zstream"),D=d("pako/lib/zlib/deflate.js"),$=d("pako/lib/zlib/inflate.js"),V=d("pako/lib/zlib/constants");for(var j in V)g[j]=V[j];g.NONE=0,g.DEFLATE=1,g.INFLATE=2,g.GZIP=3,g.GUNZIP=4,g.DEFLATERAW=5,g.INFLATERAW=6,g.UNZIP=7;var G=31,W=139;function Z(U){if(typeof U!="number"||U<g.DEFLATE||U>g.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=U,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}Z.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,P(this.init_done,"close before init"),P(this.mode<=g.UNZIP),this.mode===g.DEFLATE||this.mode===g.GZIP||this.mode===g.DEFLATERAW?D.deflateEnd(this.strm):this.mode!==g.INFLATE&&this.mode!==g.GUNZIP&&this.mode!==g.INFLATERAW&&this.mode!==g.UNZIP||$.inflateEnd(this.strm),this.mode=g.NONE,this.dictionary=null)},Z.prototype.write=function(U,Q,K,te,X,J,ee){return this._write(!0,U,Q,K,te,X,J,ee)},Z.prototype.writeSync=function(U,Q,K,te,X,J,ee){return this._write(!1,U,Q,K,te,X,J,ee)},Z.prototype._write=function(U,Q,K,te,X,J,ee,ie){if(P.equal(arguments.length,8),P(this.init_done,"write before init"),P(this.mode!==g.NONE,"already finalized"),P.equal(!1,this.write_in_progress,"write already in progress"),P.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,P.equal(!1,Q===void 0,"must provide flush value"),this.write_in_progress=!0,Q!==g.Z_NO_FLUSH&&Q!==g.Z_PARTIAL_FLUSH&&Q!==g.Z_SYNC_FLUSH&&Q!==g.Z_FULL_FLUSH&&Q!==g.Z_FINISH&&Q!==g.Z_BLOCK)throw new Error("Invalid flush value");if(K==null&&(K=I.alloc(0),X=0,te=0),this.strm.avail_in=X,this.strm.input=K,this.strm.next_in=te,this.strm.avail_out=ie,this.strm.output=J,this.strm.next_out=ee,this.flush=Q,!U)return this._process(),this._checkError()?this._afterSync():void 0;var fe=this;return w.nextTick(function(){fe._process(),fe._after()}),this},Z.prototype._afterSync=function(){var U=this.strm.avail_out,Q=this.strm.avail_in;return this.write_in_progress=!1,[Q,U]},Z.prototype._process=function(){var U=null;switch(this.mode){case g.DEFLATE:case g.GZIP:case g.DEFLATERAW:this.err=D.deflate(this.strm,this.flush);break;case g.UNZIP:switch(this.strm.avail_in>0&&(U=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(U===null)break;if(this.strm.input[U]!==G){this.mode=g.INFLATE;break}if(this.gzip_id_bytes_read=1,U++,this.strm.avail_in===1)break;case 1:if(U===null)break;this.strm.input[U]===W?(this.gzip_id_bytes_read=2,this.mode=g.GUNZIP):this.mode=g.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case g.INFLATE:case g.GUNZIP:case g.INFLATERAW:for(this.err=$.inflate(this.strm,this.flush),this.err===g.Z_NEED_DICT&&this.dictionary&&(this.err=$.inflateSetDictionary(this.strm,this.dictionary),this.err===g.Z_OK?this.err=$.inflate(this.strm,this.flush):this.err===g.Z_DATA_ERROR&&(this.err=g.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===g.GUNZIP&&this.err===g.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=$.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},Z.prototype._checkError=function(){switch(this.err){case g.Z_OK:case g.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===g.Z_FINISH)return this._error("unexpected end of file"),!1;break;case g.Z_STREAM_END:break;case g.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},Z.prototype._after=function(){if(this._checkError()){var U=this.strm.avail_out,Q=this.strm.avail_in;this.write_in_progress=!1,this.callback(Q,U),this.pending_close&&this.close()}},Z.prototype._error=function(U){this.strm.msg&&(U=this.strm.msg),this.onerror(U,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},Z.prototype.init=function(U,Q,K,te,X){P(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),P(U>=8&&U<=15,"invalid windowBits"),P(Q>=-1&&Q<=9,"invalid compression level"),P(K>=1&&K<=9,"invalid memlevel"),P(te===g.Z_FILTERED||te===g.Z_HUFFMAN_ONLY||te===g.Z_RLE||te===g.Z_FIXED||te===g.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(Q,U,K,te,X),this._setDictionary()},Z.prototype.params=function(){throw new Error("deflateParams Not supported")},Z.prototype.reset=function(){this._reset(),this._setDictionary()},Z.prototype._init=function(U,Q,K,te,X){switch(this.level=U,this.windowBits=Q,this.memLevel=K,this.strategy=te,this.flush=g.Z_NO_FLUSH,this.err=g.Z_OK,this.mode!==g.GZIP&&this.mode!==g.GUNZIP||(this.windowBits+=16),this.mode===g.UNZIP&&(this.windowBits+=32),this.mode!==g.DEFLATERAW&&this.mode!==g.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new F,this.mode){case g.DEFLATE:case g.GZIP:case g.DEFLATERAW:this.err=D.deflateInit2(this.strm,this.level,g.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case g.INFLATE:case g.GUNZIP:case g.INFLATERAW:case g.UNZIP:this.err=$.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==g.Z_OK&&this._error("Init error"),this.dictionary=X,this.write_in_progress=!1,this.init_done=!0},Z.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=g.Z_OK,this.mode){case g.DEFLATE:case g.DEFLATERAW:this.err=D.deflateSetDictionary(this.strm,this.dictionary)}this.err!==g.Z_OK&&this._error("Failed to set dictionary")}},Z.prototype._reset=function(){switch(this.err=g.Z_OK,this.mode){case g.DEFLATE:case g.DEFLATERAW:case g.GZIP:this.err=D.deflateReset(this.strm);break;case g.INFLATE:case g.INFLATERAW:case g.GUNZIP:this.err=$.inflateReset(this.strm)}this.err!==g.Z_OK&&this._error("Failed to reset stream")},g.Zlib=Z}).call(this)}).call(this,d("_process"),d("buffer").Buffer)},{_process:63,assert:23,buffer:32,"pako/lib/zlib/constants":54,"pako/lib/zlib/deflate.js":56,"pako/lib/zlib/inflate.js":58,"pako/lib/zlib/zstream":62}],31:[function(d,m,g){(function(w){(function(){var I=d("buffer").Buffer,P=d("stream").Transform,F=d("./binding"),D=d("util"),$=d("assert").ok,V=d("buffer").kMaxLength,j="Cannot create final Buffer. It would be larger than 0x"+V.toString(16)+" bytes";F.Z_MIN_WINDOWBITS=8,F.Z_MAX_WINDOWBITS=15,F.Z_DEFAULT_WINDOWBITS=15,F.Z_MIN_CHUNK=64,F.Z_MAX_CHUNK=1/0,F.Z_DEFAULT_CHUNK=16384,F.Z_MIN_MEMLEVEL=1,F.Z_MAX_MEMLEVEL=9,F.Z_DEFAULT_MEMLEVEL=8,F.Z_MIN_LEVEL=-1,F.Z_MAX_LEVEL=9,F.Z_DEFAULT_LEVEL=F.Z_DEFAULT_COMPRESSION;for(var G=Object.keys(F),W=0;W<G.length;W++){var Z=G[W];Z.match(/^Z/)&&Object.defineProperty(g,Z,{enumerable:!0,value:F[Z],writable:!1})}for(var U={Z_OK:F.Z_OK,Z_STREAM_END:F.Z_STREAM_END,Z_NEED_DICT:F.Z_NEED_DICT,Z_ERRNO:F.Z_ERRNO,Z_STREAM_ERROR:F.Z_STREAM_ERROR,Z_DATA_ERROR:F.Z_DATA_ERROR,Z_MEM_ERROR:F.Z_MEM_ERROR,Z_BUF_ERROR:F.Z_BUF_ERROR,Z_VERSION_ERROR:F.Z_VERSION_ERROR},Q=Object.keys(U),K=0;K<Q.length;K++){var te=Q[K];U[U[te]]=te}function X(Ee,ve,Re){var Oe=[],Ae=0;function He(){for(var Ne;(Ne=Ee.read())!==null;)Oe.push(Ne),Ae+=Ne.length;Ee.once("readable",He)}function Me(Ne){Ee.removeListener("end",je),Ee.removeListener("readable",He),Re(Ne)}function je(){var Ne,We=null;Ae>=V?We=new RangeError(j):Ne=I.concat(Oe,Ae),Oe=[],Ee.close(),Re(We,Ne)}Ee.on("error",Me),Ee.on("end",je),Ee.end(ve),He()}function J(Ee,ve){if(typeof ve=="string"&&(ve=I.from(ve)),!I.isBuffer(ve))throw new TypeError("Not a string or buffer");var Re=Ee._finishFlushFlag;return Ee._processChunk(ve,Re)}function ee(Ee){if(!(this instanceof ee))return new ee(Ee);ge.call(this,Ee,F.DEFLATE)}function ie(Ee){if(!(this instanceof ie))return new ie(Ee);ge.call(this,Ee,F.INFLATE)}function fe(Ee){if(!(this instanceof fe))return new fe(Ee);ge.call(this,Ee,F.GZIP)}function se(Ee){if(!(this instanceof se))return new se(Ee);ge.call(this,Ee,F.GUNZIP)}function de(Ee){if(!(this instanceof de))return new de(Ee);ge.call(this,Ee,F.DEFLATERAW)}function le(Ee){if(!(this instanceof le))return new le(Ee);ge.call(this,Ee,F.INFLATERAW)}function ye(Ee){if(!(this instanceof ye))return new ye(Ee);ge.call(this,Ee,F.UNZIP)}function ae(Ee){return Ee===F.Z_NO_FLUSH||Ee===F.Z_PARTIAL_FLUSH||Ee===F.Z_SYNC_FLUSH||Ee===F.Z_FULL_FLUSH||Ee===F.Z_FINISH||Ee===F.Z_BLOCK}function ge(Ee,ve){var Re=this;if(this._opts=Ee=Ee||{},this._chunkSize=Ee.chunkSize||g.Z_DEFAULT_CHUNK,P.call(this,Ee),Ee.flush&&!ae(Ee.flush))throw new Error("Invalid flush flag: "+Ee.flush);if(Ee.finishFlush&&!ae(Ee.finishFlush))throw new Error("Invalid flush flag: "+Ee.finishFlush);if(this._flushFlag=Ee.flush||F.Z_NO_FLUSH,this._finishFlushFlag=Ee.finishFlush!==void 0?Ee.finishFlush:F.Z_FINISH,Ee.chunkSize&&(Ee.chunkSize<g.Z_MIN_CHUNK||Ee.chunkSize>g.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+Ee.chunkSize);if(Ee.windowBits&&(Ee.windowBits<g.Z_MIN_WINDOWBITS||Ee.windowBits>g.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+Ee.windowBits);if(Ee.level&&(Ee.level<g.Z_MIN_LEVEL||Ee.level>g.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+Ee.level);if(Ee.memLevel&&(Ee.memLevel<g.Z_MIN_MEMLEVEL||Ee.memLevel>g.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+Ee.memLevel);if(Ee.strategy&&Ee.strategy!=g.Z_FILTERED&&Ee.strategy!=g.Z_HUFFMAN_ONLY&&Ee.strategy!=g.Z_RLE&&Ee.strategy!=g.Z_FIXED&&Ee.strategy!=g.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+Ee.strategy);if(Ee.dictionary&&!I.isBuffer(Ee.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new F.Zlib(ve);var Oe=this;this._hadError=!1,this._handle.onerror=function(Me,je){Pe(Oe),Oe._hadError=!0;var Ne=new Error(Me);Ne.errno=je,Ne.code=g.codes[je],Oe.emit("error",Ne)};var Ae=g.Z_DEFAULT_COMPRESSION;typeof Ee.level=="number"&&(Ae=Ee.level);var He=g.Z_DEFAULT_STRATEGY;typeof Ee.strategy=="number"&&(He=Ee.strategy),this._handle.init(Ee.windowBits||g.Z_DEFAULT_WINDOWBITS,Ae,Ee.memLevel||g.Z_DEFAULT_MEMLEVEL,He,Ee.dictionary),this._buffer=I.allocUnsafe(this._chunkSize),this._offset=0,this._level=Ae,this._strategy=He,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!Re._handle},configurable:!0,enumerable:!0})}function Pe(Ee,ve){ve&&w.nextTick(ve),Ee._handle&&(Ee._handle.close(),Ee._handle=null)}function be(Ee){Ee.emit("close")}Object.defineProperty(g,"codes",{enumerable:!0,value:Object.freeze(U),writable:!1}),g.Deflate=ee,g.Inflate=ie,g.Gzip=fe,g.Gunzip=se,g.DeflateRaw=de,g.InflateRaw=le,g.Unzip=ye,g.createDeflate=function(Ee){return new ee(Ee)},g.createInflate=function(Ee){return new ie(Ee)},g.createDeflateRaw=function(Ee){return new de(Ee)},g.createInflateRaw=function(Ee){return new le(Ee)},g.createGzip=function(Ee){return new fe(Ee)},g.createGunzip=function(Ee){return new se(Ee)},g.createUnzip=function(Ee){return new ye(Ee)},g.deflate=function(Ee,ve,Re){return typeof ve=="function"&&(Re=ve,ve={}),X(new ee(ve),Ee,Re)},g.deflateSync=function(Ee,ve){return J(new ee(ve),Ee)},g.gzip=function(Ee,ve,Re){return typeof ve=="function"&&(Re=ve,ve={}),X(new fe(ve),Ee,Re)},g.gzipSync=function(Ee,ve){return J(new fe(ve),Ee)},g.deflateRaw=function(Ee,ve,Re){return typeof ve=="function"&&(Re=ve,ve={}),X(new de(ve),Ee,Re)},g.deflateRawSync=function(Ee,ve){return J(new de(ve),Ee)},g.unzip=function(Ee,ve,Re){return typeof ve=="function"&&(Re=ve,ve={}),X(new ye(ve),Ee,Re)},g.unzipSync=function(Ee,ve){return J(new ye(ve),Ee)},g.inflate=function(Ee,ve,Re){return typeof ve=="function"&&(Re=ve,ve={}),X(new ie(ve),Ee,Re)},g.inflateSync=function(Ee,ve){return J(new ie(ve),Ee)},g.gunzip=function(Ee,ve,Re){return typeof ve=="function"&&(Re=ve,ve={}),X(new se(ve),Ee,Re)},g.gunzipSync=function(Ee,ve){return J(new se(ve),Ee)},g.inflateRaw=function(Ee,ve,Re){return typeof ve=="function"&&(Re=ve,ve={}),X(new le(ve),Ee,Re)},g.inflateRawSync=function(Ee,ve){return J(new le(ve),Ee)},D.inherits(ge,P),ge.prototype.params=function(Ee,ve,Re){if(Ee<g.Z_MIN_LEVEL||Ee>g.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+Ee);if(ve!=g.Z_FILTERED&&ve!=g.Z_HUFFMAN_ONLY&&ve!=g.Z_RLE&&ve!=g.Z_FIXED&&ve!=g.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+ve);if(this._level!==Ee||this._strategy!==ve){var Oe=this;this.flush(F.Z_SYNC_FLUSH,function(){$(Oe._handle,"zlib binding closed"),Oe._handle.params(Ee,ve),Oe._hadError||(Oe._level=Ee,Oe._strategy=ve,Re&&Re())})}else w.nextTick(Re)},ge.prototype.reset=function(){return $(this._handle,"zlib binding closed"),this._handle.reset()},ge.prototype._flush=function(Ee){this._transform(I.alloc(0),"",Ee)},ge.prototype.flush=function(Ee,ve){var Re=this,Oe=this._writableState;(typeof Ee=="function"||Ee===void 0&&!ve)&&(ve=Ee,Ee=F.Z_FULL_FLUSH),Oe.ended?ve&&w.nextTick(ve):Oe.ending?ve&&this.once("end",ve):Oe.needDrain?ve&&this.once("drain",function(){return Re.flush(Ee,ve)}):(this._flushFlag=Ee,this.write(I.alloc(0),"",ve))},ge.prototype.close=function(Ee){Pe(this,Ee),w.nextTick(be,this)},ge.prototype._transform=function(Ee,ve,Re){var Oe,Ae=this._writableState,He=(Ae.ending||Ae.ended)&&(!Ee||Ae.length===Ee.length);return Ee===null||I.isBuffer(Ee)?this._handle?(He?Oe=this._finishFlushFlag:(Oe=this._flushFlag,Ee.length>=Ae.length&&(this._flushFlag=this._opts.flush||F.Z_NO_FLUSH)),void this._processChunk(Ee,Oe,Re)):Re(new Error("zlib binding closed")):Re(new Error("invalid input"))},ge.prototype._processChunk=function(Ee,ve,Re){var Oe=Ee&&Ee.length,Ae=this._chunkSize-this._offset,He=0,Me=this,je=typeof Re=="function";if(!je){var Ne,We=[],Ve=0;this.on("error",function(Fe){Ne=Fe}),$(this._handle,"zlib binding closed");do var ze=this._handle.writeSync(ve,Ee,He,Oe,this._buffer,this._offset,Ae);while(!this._hadError&&Ke(ze[0],ze[1]));if(this._hadError)throw Ne;if(Ve>=V)throw Pe(this),new RangeError(j);var Le=I.concat(We,Ve);return Pe(this),Le}$(this._handle,"zlib binding closed");var Qe=this._handle.write(ve,Ee,He,Oe,this._buffer,this._offset,Ae);function Ke(Fe,ce){if(this&&(this.buffer=null,this.callback=null),!Me._hadError){var $e=Ae-ce;if($($e>=0,"have should not go down"),$e>0){var oe=Me._buffer.slice(Me._offset,Me._offset+$e);Me._offset+=$e,je?Me.push(oe):(We.push(oe),Ve+=oe.length)}if((ce===0||Me._offset>=Me._chunkSize)&&(Ae=Me._chunkSize,Me._offset=0,Me._buffer=I.allocUnsafe(Me._chunkSize)),ce===0){if(He+=Oe-Fe,Oe=Fe,!je)return!0;var ue=Me._handle.write(ve,Ee,He,Oe,Me._buffer,Me._offset,Me._chunkSize);return ue.callback=Ke,void(ue.buffer=Ee)}if(!je)return!1;Re()}}Qe.buffer=Ee,Qe.callback=Ke},D.inherits(ee,ge),D.inherits(ie,ge),D.inherits(fe,ge),D.inherits(se,ge),D.inherits(de,ge),D.inherits(le,ge),D.inherits(ye,ge)}).call(this)}).call(this,d("_process"))},{"./binding":30,_process:63,assert:23,buffer:32,stream:65,util:84}],32:[function(d,m,g){(function(w){(function(){var I=d("base64-js"),P=d("ieee754");g.Buffer=V,g.SlowBuffer=J,g.INSPECT_MAX_BYTES=50;var F=2147483647;function D(){try{var re=new Uint8Array(1);return re.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},re.foo()===42}catch{return!1}}function $(re){if(re>F)throw new RangeError('The value "'+re+'" is invalid for option "size"');var me=new Uint8Array(re);return me.__proto__=V.prototype,me}function V(re,me,Ie){if(typeof re=="number"){if(typeof me=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Z(re)}return j(re,me,Ie)}function j(re,me,Ie){if(typeof re=="string")return U(re,me);if(ArrayBuffer.isView(re))return Q(re);if(re==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof re);if(Te(re,ArrayBuffer)||re&&Te(re.buffer,ArrayBuffer))return K(re,me,Ie);if(typeof re=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var xe=re.valueOf&&re.valueOf();if(xe!=null&&xe!==re)return V.from(xe,me,Ie);var Ze=te(re);if(Ze)return Ze;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof re[Symbol.toPrimitive]=="function")return V.from(re[Symbol.toPrimitive]("string"),me,Ie);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof re)}function G(re){if(typeof re!="number")throw new TypeError('"size" argument must be of type number');if(re<0)throw new RangeError('The value "'+re+'" is invalid for option "size"')}function W(re,me,Ie){return G(re),re<=0?$(re):me!==void 0?typeof Ie=="string"?$(re).fill(me,Ie):$(re).fill(me):$(re)}function Z(re){return G(re),$(re<0?0:0|X(re))}function U(re,me){if(typeof me=="string"&&me!==""||(me="utf8"),!V.isEncoding(me))throw new TypeError("Unknown encoding: "+me);var Ie=0|ee(re,me),xe=$(Ie),Ze=xe.write(re,me);return Ze!==Ie&&(xe=xe.slice(0,Ze)),xe}function Q(re){for(var me=re.length<0?0:0|X(re.length),Ie=$(me),xe=0;xe<me;xe+=1)Ie[xe]=255&re[xe];return Ie}function K(re,me,Ie){if(me<0||re.byteLength<me)throw new RangeError('"offset" is outside of buffer bounds');if(re.byteLength<me+(Ie||0))throw new RangeError('"length" is outside of buffer bounds');var xe;return(xe=me===void 0&&Ie===void 0?new Uint8Array(re):Ie===void 0?new Uint8Array(re,me):new Uint8Array(re,me,Ie)).__proto__=V.prototype,xe}function te(re){if(V.isBuffer(re)){var me=0|X(re.length),Ie=$(me);return Ie.length===0||re.copy(Ie,0,0,me),Ie}return re.length!==void 0?typeof re.length!="number"||Be(re.length)?$(0):Q(re):re.type==="Buffer"&&Array.isArray(re.data)?Q(re.data):void 0}function X(re){if(re>=F)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+F.toString(16)+" bytes");return 0|re}function J(re){return+re!=re&&(re=0),V.alloc(+re)}function ee(re,me){if(V.isBuffer(re))return re.length;if(ArrayBuffer.isView(re)||Te(re,ArrayBuffer))return re.byteLength;if(typeof re!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof re);var Ie=re.length,xe=arguments.length>2&&arguments[2]===!0;if(!xe&&Ie===0)return 0;for(var Ze=!1;;)switch(me){case"ascii":case"latin1":case"binary":return Ie;case"utf8":case"utf-8":return ce(re).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Ie;case"hex":return Ie>>>1;case"base64":return ue(re).length;default:if(Ze)return xe?-1:ce(re).length;me=(""+me).toLowerCase(),Ze=!0}}function ie(re,me,Ie){var xe=!1;if((me===void 0||me<0)&&(me=0),me>this.length||((Ie===void 0||Ie>this.length)&&(Ie=this.length),Ie<=0)||(Ie>>>=0)<=(me>>>=0))return"";for(re||(re="utf8");;)switch(re){case"hex":return Me(this,me,Ie);case"utf8":case"utf-8":return ve(this,me,Ie);case"ascii":return Ae(this,me,Ie);case"latin1":case"binary":return He(this,me,Ie);case"base64":return Ee(this,me,Ie);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return je(this,me,Ie);default:if(xe)throw new TypeError("Unknown encoding: "+re);re=(re+"").toLowerCase(),xe=!0}}function fe(re,me,Ie){var xe=re[me];re[me]=re[Ie],re[Ie]=xe}function se(re,me,Ie,xe,Ze){if(re.length===0)return-1;if(typeof Ie=="string"?(xe=Ie,Ie=0):Ie>2147483647?Ie=2147483647:Ie<-2147483648&&(Ie=-2147483648),Be(Ie=+Ie)&&(Ie=Ze?0:re.length-1),Ie<0&&(Ie=re.length+Ie),Ie>=re.length){if(Ze)return-1;Ie=re.length-1}else if(Ie<0){if(!Ze)return-1;Ie=0}if(typeof me=="string"&&(me=V.from(me,xe)),V.isBuffer(me))return me.length===0?-1:de(re,me,Ie,xe,Ze);if(typeof me=="number")return me&=255,typeof Uint8Array.prototype.indexOf=="function"?Ze?Uint8Array.prototype.indexOf.call(re,me,Ie):Uint8Array.prototype.lastIndexOf.call(re,me,Ie):de(re,[me],Ie,xe,Ze);throw new TypeError("val must be string, number or Buffer")}function de(re,me,Ie,xe,Ze){var Xe,nt=1,lt=re.length,ot=me.length;if(xe!==void 0&&((xe=String(xe).toLowerCase())==="ucs2"||xe==="ucs-2"||xe==="utf16le"||xe==="utf-16le")){if(re.length<2||me.length<2)return-1;nt=2,lt/=2,ot/=2,Ie/=2}function dt(rt,at){return nt===1?rt[at]:rt.readUInt16BE(at*nt)}if(Ze){var ut=-1;for(Xe=Ie;Xe<lt;Xe++)if(dt(re,Xe)===dt(me,ut===-1?0:Xe-ut)){if(ut===-1&&(ut=Xe),Xe-ut+1===ot)return ut*nt}else ut!==-1&&(Xe-=Xe-ut),ut=-1}else for(Ie+ot>lt&&(Ie=lt-ot),Xe=Ie;Xe>=0;Xe--){for(var we=!0,et=0;et<ot;et++)if(dt(re,Xe+et)!==dt(me,et)){we=!1;break}if(we)return Xe}return-1}function le(re,me,Ie,xe){Ie=Number(Ie)||0;var Ze=re.length-Ie;xe?(xe=Number(xe))>Ze&&(xe=Ze):xe=Ze;var Xe=me.length;xe>Xe/2&&(xe=Xe/2);for(var nt=0;nt<xe;++nt){var lt=parseInt(me.substr(2*nt,2),16);if(Be(lt))return nt;re[Ie+nt]=lt}return nt}function ye(re,me,Ie,xe){return _e(ce(me,re.length-Ie),re,Ie,xe)}function ae(re,me,Ie,xe){return _e($e(me),re,Ie,xe)}function ge(re,me,Ie,xe){return ae(re,me,Ie,xe)}function Pe(re,me,Ie,xe){return _e(ue(me),re,Ie,xe)}function be(re,me,Ie,xe){return _e(oe(me,re.length-Ie),re,Ie,xe)}function Ee(re,me,Ie){return me===0&&Ie===re.length?I.fromByteArray(re):I.fromByteArray(re.slice(me,Ie))}function ve(re,me,Ie){Ie=Math.min(re.length,Ie);for(var xe=[],Ze=me;Ze<Ie;){var Xe,nt,lt,ot,dt=re[Ze],ut=null,we=dt>239?4:dt>223?3:dt>191?2:1;if(Ze+we<=Ie)switch(we){case 1:dt<128&&(ut=dt);break;case 2:(192&(Xe=re[Ze+1]))==128&&(ot=(31&dt)<<6|63&Xe)>127&&(ut=ot);break;case 3:Xe=re[Ze+1],nt=re[Ze+2],(192&Xe)==128&&(192&nt)==128&&(ot=(15&dt)<<12|(63&Xe)<<6|63&nt)>2047&&(ot<55296||ot>57343)&&(ut=ot);break;case 4:Xe=re[Ze+1],nt=re[Ze+2],lt=re[Ze+3],(192&Xe)==128&&(192&nt)==128&&(192&lt)==128&&(ot=(15&dt)<<18|(63&Xe)<<12|(63&nt)<<6|63&lt)>65535&&ot<1114112&&(ut=ot)}ut===null?(ut=65533,we=1):ut>65535&&(ut-=65536,xe.push(ut>>>10&1023|55296),ut=56320|1023&ut),xe.push(ut),Ze+=we}return Oe(xe)}g.kMaxLength=F,V.TYPED_ARRAY_SUPPORT=D(),V.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(V.prototype,"parent",{enumerable:!0,get:function(){if(V.isBuffer(this))return this.buffer}}),Object.defineProperty(V.prototype,"offset",{enumerable:!0,get:function(){if(V.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&V[Symbol.species]===V&&Object.defineProperty(V,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),V.poolSize=8192,V.from=function(re,me,Ie){return j(re,me,Ie)},V.prototype.__proto__=Uint8Array.prototype,V.__proto__=Uint8Array,V.alloc=function(re,me,Ie){return W(re,me,Ie)},V.allocUnsafe=function(re){return Z(re)},V.allocUnsafeSlow=function(re){return Z(re)},V.isBuffer=function(re){return re!=null&&re._isBuffer===!0&&re!==V.prototype},V.compare=function(re,me){if(Te(re,Uint8Array)&&(re=V.from(re,re.offset,re.byteLength)),Te(me,Uint8Array)&&(me=V.from(me,me.offset,me.byteLength)),!V.isBuffer(re)||!V.isBuffer(me))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(re===me)return 0;for(var Ie=re.length,xe=me.length,Ze=0,Xe=Math.min(Ie,xe);Ze<Xe;++Ze)if(re[Ze]!==me[Ze]){Ie=re[Ze],xe=me[Ze];break}return Ie<xe?-1:xe<Ie?1:0},V.isEncoding=function(re){switch(String(re).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},V.concat=function(re,me){if(!Array.isArray(re))throw new TypeError('"list" argument must be an Array of Buffers');if(re.length===0)return V.alloc(0);var Ie;if(me===void 0)for(me=0,Ie=0;Ie<re.length;++Ie)me+=re[Ie].length;var xe=V.allocUnsafe(me),Ze=0;for(Ie=0;Ie<re.length;++Ie){var Xe=re[Ie];if(Te(Xe,Uint8Array)&&(Xe=V.from(Xe)),!V.isBuffer(Xe))throw new TypeError('"list" argument must be an Array of Buffers');Xe.copy(xe,Ze),Ze+=Xe.length}return xe},V.byteLength=ee,V.prototype._isBuffer=!0,V.prototype.swap16=function(){var re=this.length;if(re%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var me=0;me<re;me+=2)fe(this,me,me+1);return this},V.prototype.swap32=function(){var re=this.length;if(re%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var me=0;me<re;me+=4)fe(this,me,me+3),fe(this,me+1,me+2);return this},V.prototype.swap64=function(){var re=this.length;if(re%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var me=0;me<re;me+=8)fe(this,me,me+7),fe(this,me+1,me+6),fe(this,me+2,me+5),fe(this,me+3,me+4);return this},V.prototype.toString=function(){var re=this.length;return re===0?"":arguments.length===0?ve(this,0,re):ie.apply(this,arguments)},V.prototype.toLocaleString=V.prototype.toString,V.prototype.equals=function(re){if(!V.isBuffer(re))throw new TypeError("Argument must be a Buffer");return this===re||V.compare(this,re)===0},V.prototype.inspect=function(){var re="",me=g.INSPECT_MAX_BYTES;return re=this.toString("hex",0,me).replace(/(.{2})/g,"$1 ").trim(),this.length>me&&(re+=" ... "),"<Buffer "+re+">"},V.prototype.compare=function(re,me,Ie,xe,Ze){if(Te(re,Uint8Array)&&(re=V.from(re,re.offset,re.byteLength)),!V.isBuffer(re))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof re);if(me===void 0&&(me=0),Ie===void 0&&(Ie=re?re.length:0),xe===void 0&&(xe=0),Ze===void 0&&(Ze=this.length),me<0||Ie>re.length||xe<0||Ze>this.length)throw new RangeError("out of range index");if(xe>=Ze&&me>=Ie)return 0;if(xe>=Ze)return-1;if(me>=Ie)return 1;if(this===re)return 0;for(var Xe=(Ze>>>=0)-(xe>>>=0),nt=(Ie>>>=0)-(me>>>=0),lt=Math.min(Xe,nt),ot=this.slice(xe,Ze),dt=re.slice(me,Ie),ut=0;ut<lt;++ut)if(ot[ut]!==dt[ut]){Xe=ot[ut],nt=dt[ut];break}return Xe<nt?-1:nt<Xe?1:0},V.prototype.includes=function(re,me,Ie){return this.indexOf(re,me,Ie)!==-1},V.prototype.indexOf=function(re,me,Ie){return se(this,re,me,Ie,!0)},V.prototype.lastIndexOf=function(re,me,Ie){return se(this,re,me,Ie,!1)},V.prototype.write=function(re,me,Ie,xe){if(me===void 0)xe="utf8",Ie=this.length,me=0;else if(Ie===void 0&&typeof me=="string")xe=me,Ie=this.length,me=0;else{if(!isFinite(me))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");me>>>=0,isFinite(Ie)?(Ie>>>=0,xe===void 0&&(xe="utf8")):(xe=Ie,Ie=void 0)}var Ze=this.length-me;if((Ie===void 0||Ie>Ze)&&(Ie=Ze),re.length>0&&(Ie<0||me<0)||me>this.length)throw new RangeError("Attempt to write outside buffer bounds");xe||(xe="utf8");for(var Xe=!1;;)switch(xe){case"hex":return le(this,re,me,Ie);case"utf8":case"utf-8":return ye(this,re,me,Ie);case"ascii":return ae(this,re,me,Ie);case"latin1":case"binary":return ge(this,re,me,Ie);case"base64":return Pe(this,re,me,Ie);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return be(this,re,me,Ie);default:if(Xe)throw new TypeError("Unknown encoding: "+xe);xe=(""+xe).toLowerCase(),Xe=!0}},V.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Re=4096;function Oe(re){var me=re.length;if(me<=Re)return String.fromCharCode.apply(String,re);for(var Ie="",xe=0;xe<me;)Ie+=String.fromCharCode.apply(String,re.slice(xe,xe+=Re));return Ie}function Ae(re,me,Ie){var xe="";Ie=Math.min(re.length,Ie);for(var Ze=me;Ze<Ie;++Ze)xe+=String.fromCharCode(127&re[Ze]);return xe}function He(re,me,Ie){var xe="";Ie=Math.min(re.length,Ie);for(var Ze=me;Ze<Ie;++Ze)xe+=String.fromCharCode(re[Ze]);return xe}function Me(re,me,Ie){var xe=re.length;(!me||me<0)&&(me=0),(!Ie||Ie<0||Ie>xe)&&(Ie=xe);for(var Ze="",Xe=me;Xe<Ie;++Xe)Ze+=Fe(re[Xe]);return Ze}function je(re,me,Ie){for(var xe=re.slice(me,Ie),Ze="",Xe=0;Xe<xe.length;Xe+=2)Ze+=String.fromCharCode(xe[Xe]+256*xe[Xe+1]);return Ze}function Ne(re,me,Ie){if(re%1!=0||re<0)throw new RangeError("offset is not uint");if(re+me>Ie)throw new RangeError("Trying to access beyond buffer length")}function We(re,me,Ie,xe,Ze,Xe){if(!V.isBuffer(re))throw new TypeError('"buffer" argument must be a Buffer instance');if(me>Ze||me<Xe)throw new RangeError('"value" argument is out of bounds');if(Ie+xe>re.length)throw new RangeError("Index out of range")}function Ve(re,me,Ie,xe,Ze,Xe){if(Ie+xe>re.length)throw new RangeError("Index out of range");if(Ie<0)throw new RangeError("Index out of range")}function ze(re,me,Ie,xe,Ze){return me=+me,Ie>>>=0,Ze||Ve(re,me,Ie,4),P.write(re,me,Ie,xe,23,4),Ie+4}function Le(re,me,Ie,xe,Ze){return me=+me,Ie>>>=0,Ze||Ve(re,me,Ie,8),P.write(re,me,Ie,xe,52,8),Ie+8}V.prototype.slice=function(re,me){var Ie=this.length;(re=~~re)<0?(re+=Ie)<0&&(re=0):re>Ie&&(re=Ie),(me=me===void 0?Ie:~~me)<0?(me+=Ie)<0&&(me=0):me>Ie&&(me=Ie),me<re&&(me=re);var xe=this.subarray(re,me);return xe.__proto__=V.prototype,xe},V.prototype.readUIntLE=function(re,me,Ie){re>>>=0,me>>>=0,Ie||Ne(re,me,this.length);for(var xe=this[re],Ze=1,Xe=0;++Xe<me&&(Ze*=256);)xe+=this[re+Xe]*Ze;return xe},V.prototype.readUIntBE=function(re,me,Ie){re>>>=0,me>>>=0,Ie||Ne(re,me,this.length);for(var xe=this[re+--me],Ze=1;me>0&&(Ze*=256);)xe+=this[re+--me]*Ze;return xe},V.prototype.readUInt8=function(re,me){return re>>>=0,me||Ne(re,1,this.length),this[re]},V.prototype.readUInt16LE=function(re,me){return re>>>=0,me||Ne(re,2,this.length),this[re]|this[re+1]<<8},V.prototype.readUInt16BE=function(re,me){return re>>>=0,me||Ne(re,2,this.length),this[re]<<8|this[re+1]},V.prototype.readUInt32LE=function(re,me){return re>>>=0,me||Ne(re,4,this.length),(this[re]|this[re+1]<<8|this[re+2]<<16)+16777216*this[re+3]},V.prototype.readUInt32BE=function(re,me){return re>>>=0,me||Ne(re,4,this.length),16777216*this[re]+(this[re+1]<<16|this[re+2]<<8|this[re+3])},V.prototype.readIntLE=function(re,me,Ie){re>>>=0,me>>>=0,Ie||Ne(re,me,this.length);for(var xe=this[re],Ze=1,Xe=0;++Xe<me&&(Ze*=256);)xe+=this[re+Xe]*Ze;return xe>=(Ze*=128)&&(xe-=Math.pow(2,8*me)),xe},V.prototype.readIntBE=function(re,me,Ie){re>>>=0,me>>>=0,Ie||Ne(re,me,this.length);for(var xe=me,Ze=1,Xe=this[re+--xe];xe>0&&(Ze*=256);)Xe+=this[re+--xe]*Ze;return Xe>=(Ze*=128)&&(Xe-=Math.pow(2,8*me)),Xe},V.prototype.readInt8=function(re,me){return re>>>=0,me||Ne(re,1,this.length),128&this[re]?-1*(255-this[re]+1):this[re]},V.prototype.readInt16LE=function(re,me){re>>>=0,me||Ne(re,2,this.length);var Ie=this[re]|this[re+1]<<8;return 32768&Ie?4294901760|Ie:Ie},V.prototype.readInt16BE=function(re,me){re>>>=0,me||Ne(re,2,this.length);var Ie=this[re+1]|this[re]<<8;return 32768&Ie?4294901760|Ie:Ie},V.prototype.readInt32LE=function(re,me){return re>>>=0,me||Ne(re,4,this.length),this[re]|this[re+1]<<8|this[re+2]<<16|this[re+3]<<24},V.prototype.readInt32BE=function(re,me){return re>>>=0,me||Ne(re,4,this.length),this[re]<<24|this[re+1]<<16|this[re+2]<<8|this[re+3]},V.prototype.readFloatLE=function(re,me){return re>>>=0,me||Ne(re,4,this.length),P.read(this,re,!0,23,4)},V.prototype.readFloatBE=function(re,me){return re>>>=0,me||Ne(re,4,this.length),P.read(this,re,!1,23,4)},V.prototype.readDoubleLE=function(re,me){return re>>>=0,me||Ne(re,8,this.length),P.read(this,re,!0,52,8)},V.prototype.readDoubleBE=function(re,me){return re>>>=0,me||Ne(re,8,this.length),P.read(this,re,!1,52,8)},V.prototype.writeUIntLE=function(re,me,Ie,xe){re=+re,me>>>=0,Ie>>>=0,xe||We(this,re,me,Ie,Math.pow(2,8*Ie)-1,0);var Ze=1,Xe=0;for(this[me]=255&re;++Xe<Ie&&(Ze*=256);)this[me+Xe]=re/Ze&255;return me+Ie},V.prototype.writeUIntBE=function(re,me,Ie,xe){re=+re,me>>>=0,Ie>>>=0,xe||We(this,re,me,Ie,Math.pow(2,8*Ie)-1,0);var Ze=Ie-1,Xe=1;for(this[me+Ze]=255&re;--Ze>=0&&(Xe*=256);)this[me+Ze]=re/Xe&255;return me+Ie},V.prototype.writeUInt8=function(re,me,Ie){return re=+re,me>>>=0,Ie||We(this,re,me,1,255,0),this[me]=255&re,me+1},V.prototype.writeUInt16LE=function(re,me,Ie){return re=+re,me>>>=0,Ie||We(this,re,me,2,65535,0),this[me]=255&re,this[me+1]=re>>>8,me+2},V.prototype.writeUInt16BE=function(re,me,Ie){return re=+re,me>>>=0,Ie||We(this,re,me,2,65535,0),this[me]=re>>>8,this[me+1]=255&re,me+2},V.prototype.writeUInt32LE=function(re,me,Ie){return re=+re,me>>>=0,Ie||We(this,re,me,4,4294967295,0),this[me+3]=re>>>24,this[me+2]=re>>>16,this[me+1]=re>>>8,this[me]=255&re,me+4},V.prototype.writeUInt32BE=function(re,me,Ie){return re=+re,me>>>=0,Ie||We(this,re,me,4,4294967295,0),this[me]=re>>>24,this[me+1]=re>>>16,this[me+2]=re>>>8,this[me+3]=255&re,me+4},V.prototype.writeIntLE=function(re,me,Ie,xe){if(re=+re,me>>>=0,!xe){var Ze=Math.pow(2,8*Ie-1);We(this,re,me,Ie,Ze-1,-Ze)}var Xe=0,nt=1,lt=0;for(this[me]=255&re;++Xe<Ie&&(nt*=256);)re<0&&lt===0&&this[me+Xe-1]!==0&&(lt=1),this[me+Xe]=(re/nt|0)-lt&255;return me+Ie},V.prototype.writeIntBE=function(re,me,Ie,xe){if(re=+re,me>>>=0,!xe){var Ze=Math.pow(2,8*Ie-1);We(this,re,me,Ie,Ze-1,-Ze)}var Xe=Ie-1,nt=1,lt=0;for(this[me+Xe]=255&re;--Xe>=0&&(nt*=256);)re<0&&lt===0&&this[me+Xe+1]!==0&&(lt=1),this[me+Xe]=(re/nt|0)-lt&255;return me+Ie},V.prototype.writeInt8=function(re,me,Ie){return re=+re,me>>>=0,Ie||We(this,re,me,1,127,-128),re<0&&(re=255+re+1),this[me]=255&re,me+1},V.prototype.writeInt16LE=function(re,me,Ie){return re=+re,me>>>=0,Ie||We(this,re,me,2,32767,-32768),this[me]=255&re,this[me+1]=re>>>8,me+2},V.prototype.writeInt16BE=function(re,me,Ie){return re=+re,me>>>=0,Ie||We(this,re,me,2,32767,-32768),this[me]=re>>>8,this[me+1]=255&re,me+2},V.prototype.writeInt32LE=function(re,me,Ie){return re=+re,me>>>=0,Ie||We(this,re,me,4,2147483647,-2147483648),this[me]=255&re,this[me+1]=re>>>8,this[me+2]=re>>>16,this[me+3]=re>>>24,me+4},V.prototype.writeInt32BE=function(re,me,Ie){return re=+re,me>>>=0,Ie||We(this,re,me,4,2147483647,-2147483648),re<0&&(re=4294967295+re+1),this[me]=re>>>24,this[me+1]=re>>>16,this[me+2]=re>>>8,this[me+3]=255&re,me+4},V.prototype.writeFloatLE=function(re,me,Ie){return ze(this,re,me,!0,Ie)},V.prototype.writeFloatBE=function(re,me,Ie){return ze(this,re,me,!1,Ie)},V.prototype.writeDoubleLE=function(re,me,Ie){return Le(this,re,me,!0,Ie)},V.prototype.writeDoubleBE=function(re,me,Ie){return Le(this,re,me,!1,Ie)},V.prototype.copy=function(re,me,Ie,xe){if(!V.isBuffer(re))throw new TypeError("argument should be a Buffer");if(Ie||(Ie=0),xe||xe===0||(xe=this.length),me>=re.length&&(me=re.length),me||(me=0),xe>0&&xe<Ie&&(xe=Ie),xe===Ie||re.length===0||this.length===0)return 0;if(me<0)throw new RangeError("targetStart out of bounds");if(Ie<0||Ie>=this.length)throw new RangeError("Index out of range");if(xe<0)throw new RangeError("sourceEnd out of bounds");xe>this.length&&(xe=this.length),re.length-me<xe-Ie&&(xe=re.length-me+Ie);var Ze=xe-Ie;if(this===re&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(me,Ie,xe);else if(this===re&&Ie<me&&me<xe)for(var Xe=Ze-1;Xe>=0;--Xe)re[Xe+me]=this[Xe+Ie];else Uint8Array.prototype.set.call(re,this.subarray(Ie,xe),me);return Ze},V.prototype.fill=function(re,me,Ie,xe){if(typeof re=="string"){if(typeof me=="string"?(xe=me,me=0,Ie=this.length):typeof Ie=="string"&&(xe=Ie,Ie=this.length),xe!==void 0&&typeof xe!="string")throw new TypeError("encoding must be a string");if(typeof xe=="string"&&!V.isEncoding(xe))throw new TypeError("Unknown encoding: "+xe);if(re.length===1){var Ze=re.charCodeAt(0);(xe==="utf8"&&Ze<128||xe==="latin1")&&(re=Ze)}}else typeof re=="number"&&(re&=255);if(me<0||this.length<me||this.length<Ie)throw new RangeError("Out of range index");if(Ie<=me)return this;var Xe;if(me>>>=0,Ie=Ie===void 0?this.length:Ie>>>0,re||(re=0),typeof re=="number")for(Xe=me;Xe<Ie;++Xe)this[Xe]=re;else{var nt=V.isBuffer(re)?re:V.from(re,xe),lt=nt.length;if(lt===0)throw new TypeError('The value "'+re+'" is invalid for argument "value"');for(Xe=0;Xe<Ie-me;++Xe)this[Xe+me]=nt[Xe%lt]}return this};var Qe=/[^+/0-9A-Za-z-_]/g;function Ke(re){if((re=(re=re.split("=")[0]).trim().replace(Qe,"")).length<2)return"";for(;re.length%4!=0;)re+="=";return re}function Fe(re){return re<16?"0"+re.toString(16):re.toString(16)}function ce(re,me){var Ie;me=me||1/0;for(var xe=re.length,Ze=null,Xe=[],nt=0;nt<xe;++nt){if((Ie=re.charCodeAt(nt))>55295&&Ie<57344){if(!Ze){if(Ie>56319){(me-=3)>-1&&Xe.push(239,191,189);continue}if(nt+1===xe){(me-=3)>-1&&Xe.push(239,191,189);continue}Ze=Ie;continue}if(Ie<56320){(me-=3)>-1&&Xe.push(239,191,189),Ze=Ie;continue}Ie=65536+(Ze-55296<<10|Ie-56320)}else Ze&&(me-=3)>-1&&Xe.push(239,191,189);if(Ze=null,Ie<128){if((me-=1)<0)break;Xe.push(Ie)}else if(Ie<2048){if((me-=2)<0)break;Xe.push(Ie>>6|192,63&Ie|128)}else if(Ie<65536){if((me-=3)<0)break;Xe.push(Ie>>12|224,Ie>>6&63|128,63&Ie|128)}else{if(!(Ie<1114112))throw new Error("Invalid code point");if((me-=4)<0)break;Xe.push(Ie>>18|240,Ie>>12&63|128,Ie>>6&63|128,63&Ie|128)}}return Xe}function $e(re){for(var me=[],Ie=0;Ie<re.length;++Ie)me.push(255&re.charCodeAt(Ie));return me}function oe(re,me){for(var Ie,xe,Ze,Xe=[],nt=0;nt<re.length&&!((me-=2)<0);++nt)xe=(Ie=re.charCodeAt(nt))>>8,Ze=Ie%256,Xe.push(Ze),Xe.push(xe);return Xe}function ue(re){return I.toByteArray(Ke(re))}function _e(re,me,Ie,xe){for(var Ze=0;Ze<xe&&!(Ze+Ie>=me.length||Ze>=re.length);++Ze)me[Ze+Ie]=re[Ze];return Ze}function Te(re,me){return re instanceof me||re!=null&&re.constructor!=null&&re.constructor.name!=null&&re.constructor.name===me.name}function Be(re){return re!=re}}).call(this)}).call(this,d("buffer").Buffer)},{"base64-js":28,buffer:32,ieee754:45}],33:[function(d,m,g){var w=d("get-intrinsic"),I=d("./"),P=I(w("String.prototype.indexOf"));m.exports=function(F,D){var $=w(F,!!D);return typeof $=="function"&&P(F,".prototype.")>-1?I($):$}},{"./":34,"get-intrinsic":39}],34:[function(d,m,g){var w=d("function-bind"),I=d("get-intrinsic"),P=I("%Function.prototype.apply%"),F=I("%Function.prototype.call%"),D=I("%Reflect.apply%",!0)||w.call(F,P),$=I("%Object.getOwnPropertyDescriptor%",!0),V=I("%Object.defineProperty%",!0),j=I("%Math.max%");if(V)try{V({},"a",{value:1})}catch{V=null}m.exports=function(W){var Z=D(w,F,arguments);return $&&V&&$(Z,"length").configurable&&V(Z,"length",{value:1+j(0,W.length-(arguments.length-1))}),Z};var G=function(){return D(w,P,arguments)};V?V(m.exports,"apply",{value:G}):m.exports.apply=G},{"function-bind":38,"get-intrinsic":39}],35:[function(d,m,g){var w,I=typeof Reflect=="object"?Reflect:null,P=I&&typeof I.apply=="function"?I.apply:function(se,de,le){return Function.prototype.apply.call(se,de,le)};function F(se){console&&console.warn&&console.warn(se)}w=I&&typeof I.ownKeys=="function"?I.ownKeys:Object.getOwnPropertySymbols?function(se){return Object.getOwnPropertyNames(se).concat(Object.getOwnPropertySymbols(se))}:function(se){return Object.getOwnPropertyNames(se)};var D=Number.isNaN||function(se){return se!=se};function $(){$.init.call(this)}m.exports=$,m.exports.once=ee,$.EventEmitter=$,$.prototype._events=void 0,$.prototype._eventsCount=0,$.prototype._maxListeners=void 0;var V=10;function j(se){if(typeof se!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof se)}function G(se){return se._maxListeners===void 0?$.defaultMaxListeners:se._maxListeners}function W(se,de,le,ye){var ae,ge,Pe;if(j(le),(ge=se._events)===void 0?(ge=se._events=Object.create(null),se._eventsCount=0):(ge.newListener!==void 0&&(se.emit("newListener",de,le.listener?le.listener:le),ge=se._events),Pe=ge[de]),Pe===void 0)Pe=ge[de]=le,++se._eventsCount;else if(typeof Pe=="function"?Pe=ge[de]=ye?[le,Pe]:[Pe,le]:ye?Pe.unshift(le):Pe.push(le),(ae=G(se))>0&&Pe.length>ae&&!Pe.warned){Pe.warned=!0;var be=new Error("Possible EventEmitter memory leak detected. "+Pe.length+" "+String(de)+" listeners added. Use emitter.setMaxListeners() to increase limit");be.name="MaxListenersExceededWarning",be.emitter=se,be.type=de,be.count=Pe.length,F(be)}return se}function Z(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function U(se,de,le){var ye={fired:!1,wrapFn:void 0,target:se,type:de,listener:le},ae=Z.bind(ye);return ae.listener=le,ye.wrapFn=ae,ae}function Q(se,de,le){var ye=se._events;if(ye===void 0)return[];var ae=ye[de];return ae===void 0?[]:typeof ae=="function"?le?[ae.listener||ae]:[ae]:le?J(ae):te(ae,ae.length)}function K(se){var de=this._events;if(de!==void 0){var le=de[se];if(typeof le=="function")return 1;if(le!==void 0)return le.length}return 0}function te(se,de){for(var le=new Array(de),ye=0;ye<de;++ye)le[ye]=se[ye];return le}function X(se,de){for(;de+1<se.length;de++)se[de]=se[de+1];se.pop()}function J(se){for(var de=new Array(se.length),le=0;le<de.length;++le)de[le]=se[le].listener||se[le];return de}function ee(se,de){return new Promise(function(le,ye){function ae(Pe){se.removeListener(de,ge),ye(Pe)}function ge(){typeof se.removeListener=="function"&&se.removeListener("error",ae),le([].slice.call(arguments))}fe(se,de,ge,{once:!0}),de!=="error"&&ie(se,ae,{once:!0})})}function ie(se,de,le){typeof se.on=="function"&&fe(se,"error",de,le)}function fe(se,de,le,ye){if(typeof se.on=="function")ye.once?se.once(de,le):se.on(de,le);else{if(typeof se.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof se);se.addEventListener(de,function ae(ge){ye.once&&se.removeEventListener(de,ae),le(ge)})}}Object.defineProperty($,"defaultMaxListeners",{enumerable:!0,get:function(){return V},set:function(se){if(typeof se!="number"||se<0||D(se))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+se+".");V=se}}),$.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},$.prototype.setMaxListeners=function(se){if(typeof se!="number"||se<0||D(se))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+se+".");return this._maxListeners=se,this},$.prototype.getMaxListeners=function(){return G(this)},$.prototype.emit=function(se){for(var de=[],le=1;le<arguments.length;le++)de.push(arguments[le]);var ye=se==="error",ae=this._events;if(ae!==void 0)ye=ye&&ae.error===void 0;else if(!ye)return!1;if(ye){var ge;if(de.length>0&&(ge=de[0]),ge instanceof Error)throw ge;var Pe=new Error("Unhandled error."+(ge?" ("+ge.message+")":""));throw Pe.context=ge,Pe}var be=ae[se];if(be===void 0)return!1;if(typeof be=="function")P(be,this,de);else{var Ee=be.length,ve=te(be,Ee);for(le=0;le<Ee;++le)P(ve[le],this,de)}return!0},$.prototype.addListener=function(se,de){return W(this,se,de,!1)},$.prototype.on=$.prototype.addListener,$.prototype.prependListener=function(se,de){return W(this,se,de,!0)},$.prototype.once=function(se,de){return j(de),this.on(se,U(this,se,de)),this},$.prototype.prependOnceListener=function(se,de){return j(de),this.prependListener(se,U(this,se,de)),this},$.prototype.removeListener=function(se,de){var le,ye,ae,ge,Pe;if(j(de),(ye=this._events)===void 0)return this;if((le=ye[se])===void 0)return this;if(le===de||le.listener===de)--this._eventsCount==0?this._events=Object.create(null):(delete ye[se],ye.removeListener&&this.emit("removeListener",se,le.listener||de));else if(typeof le!="function"){for(ae=-1,ge=le.length-1;ge>=0;ge--)if(le[ge]===de||le[ge].listener===de){Pe=le[ge].listener,ae=ge;break}if(ae<0)return this;ae===0?le.shift():X(le,ae),le.length===1&&(ye[se]=le[0]),ye.removeListener!==void 0&&this.emit("removeListener",se,Pe||de)}return this},$.prototype.off=$.prototype.removeListener,$.prototype.removeAllListeners=function(se){var de,le,ye;if((le=this._events)===void 0)return this;if(le.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):le[se]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete le[se]),this;if(arguments.length===0){var ae,ge=Object.keys(le);for(ye=0;ye<ge.length;++ye)(ae=ge[ye])!=="removeListener"&&this.removeAllListeners(ae);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(de=le[se])=="function")this.removeListener(se,de);else if(de!==void 0)for(ye=de.length-1;ye>=0;ye--)this.removeListener(se,de[ye]);return this},$.prototype.listeners=function(se){return Q(this,se,!0)},$.prototype.rawListeners=function(se){return Q(this,se,!1)},$.listenerCount=function(se,de){return typeof se.listenerCount=="function"?se.listenerCount(de):K.call(se,de)},$.prototype.listenerCount=K,$.prototype.eventNames=function(){return this._eventsCount>0?w(this._events):[]}},{}],36:[function(d,m,g){var w=d("is-callable"),I=Object.prototype.toString,P=Object.prototype.hasOwnProperty,F=function(j,G,W){for(var Z=0,U=j.length;Z<U;Z++)P.call(j,Z)&&(W==null?G(j[Z],Z,j):G.call(W,j[Z],Z,j))},D=function(j,G,W){for(var Z=0,U=j.length;Z<U;Z++)W==null?G(j.charAt(Z),Z,j):G.call(W,j.charAt(Z),Z,j)},$=function(j,G,W){for(var Z in j)P.call(j,Z)&&(W==null?G(j[Z],Z,j):G.call(W,j[Z],Z,j))},V=function(j,G,W){if(!w(G))throw new TypeError("iterator must be a function");var Z;arguments.length>=3&&(Z=W),I.call(j)==="[object Array]"?F(j,G,Z):typeof j=="string"?D(j,G,Z):$(j,G,Z)};m.exports=V},{"is-callable":48}],37:[function(d,m,g){var w="Function.prototype.bind called on incompatible ",I=Array.prototype.slice,P=Object.prototype.toString,F="[object Function]";m.exports=function(D){var $=this;if(typeof $!="function"||P.call($)!==F)throw new TypeError(w+$);for(var V,j=I.call(arguments,1),G=function(){if(this instanceof V){var K=$.apply(this,j.concat(I.call(arguments)));return Object(K)===K?K:this}return $.apply(D,j.concat(I.call(arguments)))},W=Math.max(0,$.length-j.length),Z=[],U=0;U<W;U++)Z.push("$"+U);if(V=Function("binder","return function ("+Z.join(",")+"){ return binder.apply(this,arguments); }")(G),$.prototype){var Q=function(){};Q.prototype=$.prototype,V.prototype=new Q,Q.prototype=null}return V}},{}],38:[function(d,m,g){var w=d("./implementation");m.exports=Function.prototype.bind||w},{"./implementation":37}],39:[function(d,m,g){var w,I=SyntaxError,P=Function,F=TypeError,D=function(be){try{return P('"use strict"; return ('+be+").constructor;")()}catch{}},$=Object.getOwnPropertyDescriptor;if($)try{$({},"")}catch{$=null}var V=function(){throw new F},j=$?function(){try{return V}catch{try{return $(arguments,"callee").get}catch{return V}}}():V,G=d("has-symbols")(),W=Object.getPrototypeOf||function(be){return be.__proto__},Z={},U=typeof Uint8Array>"u"?w:W(Uint8Array),Q={"%AggregateError%":typeof AggregateError>"u"?w:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?w:ArrayBuffer,"%ArrayIteratorPrototype%":G?W([][Symbol.iterator]()):w,"%AsyncFromSyncIteratorPrototype%":w,"%AsyncFunction%":Z,"%AsyncGenerator%":Z,"%AsyncGeneratorFunction%":Z,"%AsyncIteratorPrototype%":Z,"%Atomics%":typeof Atomics>"u"?w:Atomics,"%BigInt%":typeof BigInt>"u"?w:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?w:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?w:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?w:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?w:Float32Array,"%Float64Array%":typeof Float64Array>"u"?w:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?w:FinalizationRegistry,"%Function%":P,"%GeneratorFunction%":Z,"%Int8Array%":typeof Int8Array>"u"?w:Int8Array,"%Int16Array%":typeof Int16Array>"u"?w:Int16Array,"%Int32Array%":typeof Int32Array>"u"?w:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":G?W(W([][Symbol.iterator]())):w,"%JSON%":typeof JSON=="object"?JSON:w,"%Map%":typeof Map>"u"?w:Map,"%MapIteratorPrototype%":typeof Map<"u"&&G?W(new Map()[Symbol.iterator]()):w,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?w:Promise,"%Proxy%":typeof Proxy>"u"?w:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?w:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?w:Set,"%SetIteratorPrototype%":typeof Set<"u"&&G?W(new Set()[Symbol.iterator]()):w,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?w:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":G?W(""[Symbol.iterator]()):w,"%Symbol%":G?Symbol:w,"%SyntaxError%":I,"%ThrowTypeError%":j,"%TypedArray%":U,"%TypeError%":F,"%Uint8Array%":typeof Uint8Array>"u"?w:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?w:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?w:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?w:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?w:WeakMap,"%WeakRef%":typeof WeakRef>"u"?w:WeakRef,"%WeakSet%":typeof WeakSet>"u"?w:WeakSet};try{null.error}catch(be){var K=W(W(be));Q["%Error.prototype%"]=K}var te=function be(Ee){var ve;if(Ee==="%AsyncFunction%")ve=D("async function () {}");else if(Ee==="%GeneratorFunction%")ve=D("function* () {}");else if(Ee==="%AsyncGeneratorFunction%")ve=D("async function* () {}");else if(Ee==="%AsyncGenerator%"){var Re=be("%AsyncGeneratorFunction%");Re&&(ve=Re.prototype)}else if(Ee==="%AsyncIteratorPrototype%"){var Oe=be("%AsyncGenerator%");Oe&&(ve=W(Oe.prototype))}return Q[Ee]=ve,ve},X={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},J=d("function-bind"),ee=d("has"),ie=J.call(Function.call,Array.prototype.concat),fe=J.call(Function.apply,Array.prototype.splice),se=J.call(Function.call,String.prototype.replace),de=J.call(Function.call,String.prototype.slice),le=J.call(Function.call,RegExp.prototype.exec),ye=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ae=/\\(\\)?/g,ge=function(be){var Ee=de(be,0,1),ve=de(be,-1);if(Ee==="%"&&ve!=="%")throw new I("invalid intrinsic syntax, expected closing `%`");if(ve==="%"&&Ee!=="%")throw new I("invalid intrinsic syntax, expected opening `%`");var Re=[];return se(be,ye,function(Oe,Ae,He,Me){Re[Re.length]=He?se(Me,ae,"$1"):Ae||Oe}),Re},Pe=function(be,Ee){var ve,Re=be;if(ee(X,Re)&&(Re="%"+(ve=X[Re])[0]+"%"),ee(Q,Re)){var Oe=Q[Re];if(Oe===Z&&(Oe=te(Re)),Oe===void 0&&!Ee)throw new F("intrinsic "+be+" exists, but is not available. Please file an issue!");return{alias:ve,name:Re,value:Oe}}throw new I("intrinsic "+be+" does not exist!")};m.exports=function(be,Ee){if(typeof be!="string"||be.length===0)throw new F("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Ee!="boolean")throw new F('"allowMissing" argument must be a boolean');if(le(/^%?[^%]*%?$/,be)===null)throw new I("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ve=ge(be),Re=ve.length>0?ve[0]:"",Oe=Pe("%"+Re+"%",Ee),Ae=Oe.name,He=Oe.value,Me=!1,je=Oe.alias;je&&(Re=je[0],fe(ve,ie([0,1],je)));for(var Ne=1,We=!0;Ne<ve.length;Ne+=1){var Ve=ve[Ne],ze=de(Ve,0,1),Le=de(Ve,-1);if((ze==='"'||ze==="'"||ze==="`"||Le==='"'||Le==="'"||Le==="`")&&ze!==Le)throw new I("property names with quotes must have matching quotes");if(Ve!=="constructor"&&We||(Me=!0),ee(Q,Ae="%"+(Re+="."+Ve)+"%"))He=Q[Ae];else if(He!=null){if(!(Ve in He)){if(!Ee)throw new F("base intrinsic for "+be+" exists, but the property is not available.");return}if($&&Ne+1>=ve.length){var Qe=$(He,Ve);He=(We=!!Qe)&&"get"in Qe&&!("originalValue"in Qe.get)?Qe.get:He[Ve]}else We=ee(He,Ve),He=He[Ve];We&&!Me&&(Q[Ae]=He)}}return He}},{"function-bind":38,has:44,"has-symbols":41}],40:[function(d,m,g){var w=d("get-intrinsic")("%Object.getOwnPropertyDescriptor%",!0);if(w)try{w([],"length")}catch{w=null}m.exports=w},{"get-intrinsic":39}],41:[function(d,m,g){var w=typeof Symbol<"u"&&Symbol,I=d("./shams");m.exports=function(){return typeof w=="function"&&typeof Symbol=="function"&&typeof w("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&I()}},{"./shams":42}],42:[function(d,m,g){m.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var w={},I=Symbol("test"),P=Object(I);if(typeof I=="string"||Object.prototype.toString.call(I)!=="[object Symbol]"||Object.prototype.toString.call(P)!=="[object Symbol]")return!1;var F=42;for(I in w[I]=F,w)return!1;if(typeof Object.keys=="function"&&Object.keys(w).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(w).length!==0)return!1;var D=Object.getOwnPropertySymbols(w);if(D.length!==1||D[0]!==I||!Object.prototype.propertyIsEnumerable.call(w,I))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var $=Object.getOwnPropertyDescriptor(w,I);if($.value!==F||$.enumerable!==!0)return!1}return!0}},{}],43:[function(d,m,g){var w=d("has-symbols/shams");m.exports=function(){return w()&&!!Symbol.toStringTag}},{"has-symbols/shams":42}],44:[function(d,m,g){var w=d("function-bind");m.exports=w.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":38}],45:[function(d,m,g){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */g.read=function(w,I,P,F,D){var $,V,j=8*D-F-1,G=(1<<j)-1,W=G>>1,Z=-7,U=P?D-1:0,Q=P?-1:1,K=w[I+U];for(U+=Q,$=K&(1<<-Z)-1,K>>=-Z,Z+=j;Z>0;$=256*$+w[I+U],U+=Q,Z-=8);for(V=$&(1<<-Z)-1,$>>=-Z,Z+=F;Z>0;V=256*V+w[I+U],U+=Q,Z-=8);if($===0)$=1-W;else{if($===G)return V?NaN:1/0*(K?-1:1);V+=Math.pow(2,F),$-=W}return(K?-1:1)*V*Math.pow(2,$-F)},g.write=function(w,I,P,F,D,$){var V,j,G,W=8*$-D-1,Z=(1<<W)-1,U=Z>>1,Q=D===23?Math.pow(2,-24)-Math.pow(2,-77):0,K=F?0:$-1,te=F?1:-1,X=I<0||I===0&&1/I<0?1:0;for(I=Math.abs(I),isNaN(I)||I===1/0?(j=isNaN(I)?1:0,V=Z):(V=Math.floor(Math.log(I)/Math.LN2),I*(G=Math.pow(2,-V))<1&&(V--,G*=2),(I+=V+U>=1?Q/G:Q*Math.pow(2,1-U))*G>=2&&(V++,G/=2),V+U>=Z?(j=0,V=Z):V+U>=1?(j=(I*G-1)*Math.pow(2,D),V+=U):(j=I*Math.pow(2,U-1)*Math.pow(2,D),V=0));D>=8;w[P+K]=255&j,K+=te,j/=256,D-=8);for(V=V<<D|j,W+=D;W>0;w[P+K]=255&V,K+=te,V/=256,W-=8);w[P+K-te]|=128*X}},{}],46:[function(d,m,g){typeof Object.create=="function"?m.exports=function(w,I){I&&(w.super_=I,w.prototype=Object.create(I.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}))}:m.exports=function(w,I){if(I){w.super_=I;var P=function(){};P.prototype=I.prototype,w.prototype=new P,w.prototype.constructor=w}}},{}],47:[function(d,m,g){var w=d("has-tostringtag/shams")(),I=d("call-bind/callBound")("Object.prototype.toString"),P=function($){return!(w&&$&&typeof $=="object"&&Symbol.toStringTag in $)&&I($)==="[object Arguments]"},F=function($){return!!P($)||$!==null&&typeof $=="object"&&typeof $.length=="number"&&$.length>=0&&I($)!=="[object Array]"&&I($.callee)==="[object Function]"},D=function(){return P(arguments)}();P.isLegacyArguments=F,m.exports=D?P:F},{"call-bind/callBound":33,"has-tostringtag/shams":43}],48:[function(d,m,g){var w,I,P=Function.prototype.toString,F=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply;if(typeof F=="function"&&typeof Object.defineProperty=="function")try{w=Object.defineProperty({},"length",{get:function(){throw I}}),I={},F(function(){throw 42},null,w)}catch(ie){ie!==I&&(F=null)}else F=null;var D=/^\s*class\b/,$=function(ie){try{var fe=P.call(ie);return D.test(fe)}catch{return!1}},V=function(ie){try{return!$(ie)&&(P.call(ie),!0)}catch{return!1}},j=Object.prototype.toString,G="[object Object]",W="[object Function]",Z="[object GeneratorFunction]",U="[object HTMLAllCollection]",Q="[object HTML document.all class]",K="[object HTMLCollection]",te=typeof Symbol=="function"&&!!Symbol.toStringTag,X=!(0 in[,]),J=function(){return!1};if(typeof document=="object"){var ee=document.all;j.call(ee)===j.call(document.all)&&(J=function(ie){if((X||!ie)&&(ie===void 0||typeof ie=="object"))try{var fe=j.call(ie);return(fe===U||fe===Q||fe===K||fe===G)&&ie("")==null}catch{}return!1})}m.exports=F?function(ie){if(J(ie))return!0;if(!ie||typeof ie!="function"&&typeof ie!="object")return!1;try{F(ie,null,w)}catch(fe){if(fe!==I)return!1}return!$(ie)&&V(ie)}:function(ie){if(J(ie))return!0;if(!ie||typeof ie!="function"&&typeof ie!="object")return!1;if(te)return V(ie);if($(ie))return!1;var fe=j.call(ie);return!(fe!==W&&fe!==Z&&!/^\[object HTML/.test(fe))&&V(ie)}},{}],49:[function(d,m,g){var w,I=Object.prototype.toString,P=Function.prototype.toString,F=/^\s*(?:function)?\*/,D=d("has-tostringtag/shams")(),$=Object.getPrototypeOf,V=function(){if(!D)return!1;try{return Function("return function*() {}")()}catch{}};m.exports=function(j){if(typeof j!="function")return!1;if(F.test(P.call(j)))return!0;if(!D)return I.call(j)==="[object GeneratorFunction]";if(!$)return!1;if(w===void 0){var G=V();w=!!G&&$(G)}return $(j)===w}},{"has-tostringtag/shams":43}],50:[function(d,m,g){(function(w){(function(){var I=d("for-each"),P=d("available-typed-arrays"),F=d("call-bind/callBound"),D=F("Object.prototype.toString"),$=d("has-tostringtag/shams")(),V=d("gopd"),j=typeof globalThis>"u"?w:globalThis,G=P(),W=F("Array.prototype.indexOf",!0)||function(te,X){for(var J=0;J<te.length;J+=1)if(te[J]===X)return J;return-1},Z=F("String.prototype.slice"),U={},Q=Object.getPrototypeOf;$&&V&&Q&&I(G,function(te){var X=new j[te];if(Symbol.toStringTag in X){var J=Q(X),ee=V(J,Symbol.toStringTag);if(!ee){var ie=Q(J);ee=V(ie,Symbol.toStringTag)}U[te]=ee.get}});var K=function(te){var X=!1;return I(U,function(J,ee){if(!X)try{X=J.call(te)===ee}catch{}}),X};m.exports=function(te){if(!te||typeof te!="object")return!1;if(!$||!(Symbol.toStringTag in te)){var X=Z(D(te),8,-1);return W(G,X)>-1}return!!V&&K(te)}}).call(this)}).call(this,commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"available-typed-arrays":27,"call-bind/callBound":33,"for-each":36,gopd:40,"has-tostringtag/shams":43}],51:[function(d,m,g){var w=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;function F($){if($==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object($)}function D(){try{if(!Object.assign)return!1;var $=new String("abc");if($[5]="de",Object.getOwnPropertyNames($)[0]==="5")return!1;for(var V={},j=0;j<10;j++)V["_"+String.fromCharCode(j)]=j;var G=Object.getOwnPropertyNames(V).map(function(Z){return V[Z]});if(G.join("")!=="0123456789")return!1;var W={};return"abcdefghijklmnopqrst".split("").forEach(function(Z){W[Z]=Z}),Object.keys(Object.assign({},W)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}m.exports=D()?Object.assign:function($,V){for(var j,G,W=F($),Z=1;Z<arguments.length;Z++){for(var U in j=Object(arguments[Z]))I.call(j,U)&&(W[U]=j[U]);if(w){G=w(j);for(var Q=0;Q<G.length;Q++)P.call(j,G[Q])&&(W[G[Q]]=j[G[Q]])}}return W}},{}],52:[function(d,m,g){var w=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function I(D,$){return Object.prototype.hasOwnProperty.call(D,$)}g.assign=function(D){for(var $=Array.prototype.slice.call(arguments,1);$.length;){var V=$.shift();if(V){if(typeof V!="object")throw new TypeError(V+"must be non-object");for(var j in V)I(V,j)&&(D[j]=V[j])}}return D},g.shrinkBuf=function(D,$){return D.length===$?D:D.subarray?D.subarray(0,$):(D.length=$,D)};var P={arraySet:function(D,$,V,j,G){if($.subarray&&D.subarray)D.set($.subarray(V,V+j),G);else for(var W=0;W<j;W++)D[G+W]=$[V+W]},flattenChunks:function(D){var $,V,j,G,W,Z;for(j=0,$=0,V=D.length;$<V;$++)j+=D[$].length;for(Z=new Uint8Array(j),G=0,$=0,V=D.length;$<V;$++)W=D[$],Z.set(W,G),G+=W.length;return Z}},F={arraySet:function(D,$,V,j,G){for(var W=0;W<j;W++)D[G+W]=$[V+W]},flattenChunks:function(D){return[].concat.apply([],D)}};g.setTyped=function(D){D?(g.Buf8=Uint8Array,g.Buf16=Uint16Array,g.Buf32=Int32Array,g.assign(g,P)):(g.Buf8=Array,g.Buf16=Array,g.Buf32=Array,g.assign(g,F))},g.setTyped(w)},{}],53:[function(d,m,g){function w(I,P,F,D){for(var $=65535&I,V=I>>>16&65535,j=0;F!==0;){F-=j=F>2e3?2e3:F;do V=V+($=$+P[D++]|0)|0;while(--j);$%=65521,V%=65521}return $|V<<16}m.exports=w},{}],54:[function(d,m,g){m.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],55:[function(d,m,g){function w(){for(var F,D=[],$=0;$<256;$++){F=$;for(var V=0;V<8;V++)F=1&F?3988292384^F>>>1:F>>>1;D[$]=F}return D}var I=w();function P(F,D,$,V){var j=I,G=V+$;F^=-1;for(var W=V;W<G;W++)F=F>>>8^j[255&(F^D[W])];return~F}m.exports=P},{}],56:[function(d,m,g){var w,I=d("../utils/common"),P=d("./trees"),F=d("./adler32"),D=d("./crc32"),$=d("./messages"),V=0,j=1,G=3,W=4,Z=5,U=0,Q=1,K=-2,te=-3,X=-5,J=-1,ee=1,ie=2,fe=3,se=4,de=0,le=2,ye=8,ae=9,ge=15,Pe=8,be=286,Ee=30,ve=19,Re=2*be+1,Oe=15,Ae=3,He=258,Me=He+Ae+1,je=32,Ne=42,We=69,Ve=73,ze=91,Le=103,Qe=113,Ke=666,Fe=1,ce=2,$e=3,oe=4,ue=3;function _e(he,De){return he.msg=$[De],De}function Te(he){return(he<<1)-(he>4?9:0)}function Be(he){for(var De=he.length;--De>=0;)he[De]=0}function re(he){var De=he.state,qe=De.pending;qe>he.avail_out&&(qe=he.avail_out),qe!==0&&(I.arraySet(he.output,De.pending_buf,De.pending_out,qe,he.next_out),he.next_out+=qe,De.pending_out+=qe,he.total_out+=qe,he.avail_out-=qe,De.pending-=qe,De.pending===0&&(De.pending_out=0))}function me(he,De){P._tr_flush_block(he,he.block_start>=0?he.block_start:-1,he.strstart-he.block_start,De),he.block_start=he.strstart,re(he.strm)}function Ie(he,De){he.pending_buf[he.pending++]=De}function xe(he,De){he.pending_buf[he.pending++]=De>>>8&255,he.pending_buf[he.pending++]=255&De}function Ze(he,De,qe,Ge){var ke=he.avail_in;return ke>Ge&&(ke=Ge),ke===0?0:(he.avail_in-=ke,I.arraySet(De,he.input,he.next_in,ke,qe),he.state.wrap===1?he.adler=F(he.adler,De,ke,qe):he.state.wrap===2&&(he.adler=D(he.adler,De,ke,qe)),he.next_in+=ke,he.total_in+=ke,ke)}function Xe(he,De){var qe,Ge,ke=he.max_chain_length,Ue=he.strstart,Je=he.prev_length,st=he.nice_match,ct=he.strstart>he.w_size-Me?he.strstart-(he.w_size-Me):0,ft=he.window,pt=he.w_mask,ht=he.prev,gt=he.strstart+He,_t=ft[Ue+Je-1],vt=ft[Ue+Je];he.prev_length>=he.good_match&&(ke>>=2),st>he.lookahead&&(st=he.lookahead);do if(ft[(qe=De)+Je]===vt&&ft[qe+Je-1]===_t&&ft[qe]===ft[Ue]&&ft[++qe]===ft[Ue+1]){Ue+=2,qe++;do;while(ft[++Ue]===ft[++qe]&&ft[++Ue]===ft[++qe]&&ft[++Ue]===ft[++qe]&&ft[++Ue]===ft[++qe]&&ft[++Ue]===ft[++qe]&&ft[++Ue]===ft[++qe]&&ft[++Ue]===ft[++qe]&&ft[++Ue]===ft[++qe]&&Ue<gt);if(Ge=He-(gt-Ue),Ue=gt-He,Ge>Je){if(he.match_start=De,Je=Ge,Ge>=st)break;_t=ft[Ue+Je-1],vt=ft[Ue+Je]}}while((De=ht[De&pt])>ct&&--ke!=0);return Je<=he.lookahead?Je:he.lookahead}function nt(he){var De,qe,Ge,ke,Ue,Je=he.w_size;do{if(ke=he.window_size-he.lookahead-he.strstart,he.strstart>=Je+(Je-Me)){I.arraySet(he.window,he.window,Je,Je,0),he.match_start-=Je,he.strstart-=Je,he.block_start-=Je,De=qe=he.hash_size;do Ge=he.head[--De],he.head[De]=Ge>=Je?Ge-Je:0;while(--qe);De=qe=Je;do Ge=he.prev[--De],he.prev[De]=Ge>=Je?Ge-Je:0;while(--qe);ke+=Je}if(he.strm.avail_in===0)break;if(qe=Ze(he.strm,he.window,he.strstart+he.lookahead,ke),he.lookahead+=qe,he.lookahead+he.insert>=Ae)for(Ue=he.strstart-he.insert,he.ins_h=he.window[Ue],he.ins_h=(he.ins_h<<he.hash_shift^he.window[Ue+1])&he.hash_mask;he.insert&&(he.ins_h=(he.ins_h<<he.hash_shift^he.window[Ue+Ae-1])&he.hash_mask,he.prev[Ue&he.w_mask]=he.head[he.ins_h],he.head[he.ins_h]=Ue,Ue++,he.insert--,!(he.lookahead+he.insert<Ae)););}while(he.lookahead<Me&&he.strm.avail_in!==0)}function lt(he,De){var qe=65535;for(qe>he.pending_buf_size-5&&(qe=he.pending_buf_size-5);;){if(he.lookahead<=1){if(nt(he),he.lookahead===0&&De===V)return Fe;if(he.lookahead===0)break}he.strstart+=he.lookahead,he.lookahead=0;var Ge=he.block_start+qe;if((he.strstart===0||he.strstart>=Ge)&&(he.lookahead=he.strstart-Ge,he.strstart=Ge,me(he,!1),he.strm.avail_out===0)||he.strstart-he.block_start>=he.w_size-Me&&(me(he,!1),he.strm.avail_out===0))return Fe}return he.insert=0,De===W?(me(he,!0),he.strm.avail_out===0?$e:oe):(he.strstart>he.block_start&&(me(he,!1),he.strm.avail_out),Fe)}function ot(he,De){for(var qe,Ge;;){if(he.lookahead<Me){if(nt(he),he.lookahead<Me&&De===V)return Fe;if(he.lookahead===0)break}if(qe=0,he.lookahead>=Ae&&(he.ins_h=(he.ins_h<<he.hash_shift^he.window[he.strstart+Ae-1])&he.hash_mask,qe=he.prev[he.strstart&he.w_mask]=he.head[he.ins_h],he.head[he.ins_h]=he.strstart),qe!==0&&he.strstart-qe<=he.w_size-Me&&(he.match_length=Xe(he,qe)),he.match_length>=Ae)if(Ge=P._tr_tally(he,he.strstart-he.match_start,he.match_length-Ae),he.lookahead-=he.match_length,he.match_length<=he.max_lazy_match&&he.lookahead>=Ae){he.match_length--;do he.strstart++,he.ins_h=(he.ins_h<<he.hash_shift^he.window[he.strstart+Ae-1])&he.hash_mask,qe=he.prev[he.strstart&he.w_mask]=he.head[he.ins_h],he.head[he.ins_h]=he.strstart;while(--he.match_length!=0);he.strstart++}else he.strstart+=he.match_length,he.match_length=0,he.ins_h=he.window[he.strstart],he.ins_h=(he.ins_h<<he.hash_shift^he.window[he.strstart+1])&he.hash_mask;else Ge=P._tr_tally(he,0,he.window[he.strstart]),he.lookahead--,he.strstart++;if(Ge&&(me(he,!1),he.strm.avail_out===0))return Fe}return he.insert=he.strstart<Ae-1?he.strstart:Ae-1,De===W?(me(he,!0),he.strm.avail_out===0?$e:oe):he.last_lit&&(me(he,!1),he.strm.avail_out===0)?Fe:ce}function dt(he,De){for(var qe,Ge,ke;;){if(he.lookahead<Me){if(nt(he),he.lookahead<Me&&De===V)return Fe;if(he.lookahead===0)break}if(qe=0,he.lookahead>=Ae&&(he.ins_h=(he.ins_h<<he.hash_shift^he.window[he.strstart+Ae-1])&he.hash_mask,qe=he.prev[he.strstart&he.w_mask]=he.head[he.ins_h],he.head[he.ins_h]=he.strstart),he.prev_length=he.match_length,he.prev_match=he.match_start,he.match_length=Ae-1,qe!==0&&he.prev_length<he.max_lazy_match&&he.strstart-qe<=he.w_size-Me&&(he.match_length=Xe(he,qe),he.match_length<=5&&(he.strategy===ee||he.match_length===Ae&&he.strstart-he.match_start>4096)&&(he.match_length=Ae-1)),he.prev_length>=Ae&&he.match_length<=he.prev_length){ke=he.strstart+he.lookahead-Ae,Ge=P._tr_tally(he,he.strstart-1-he.prev_match,he.prev_length-Ae),he.lookahead-=he.prev_length-1,he.prev_length-=2;do++he.strstart<=ke&&(he.ins_h=(he.ins_h<<he.hash_shift^he.window[he.strstart+Ae-1])&he.hash_mask,qe=he.prev[he.strstart&he.w_mask]=he.head[he.ins_h],he.head[he.ins_h]=he.strstart);while(--he.prev_length!=0);if(he.match_available=0,he.match_length=Ae-1,he.strstart++,Ge&&(me(he,!1),he.strm.avail_out===0))return Fe}else if(he.match_available){if((Ge=P._tr_tally(he,0,he.window[he.strstart-1]))&&me(he,!1),he.strstart++,he.lookahead--,he.strm.avail_out===0)return Fe}else he.match_available=1,he.strstart++,he.lookahead--}return he.match_available&&(Ge=P._tr_tally(he,0,he.window[he.strstart-1]),he.match_available=0),he.insert=he.strstart<Ae-1?he.strstart:Ae-1,De===W?(me(he,!0),he.strm.avail_out===0?$e:oe):he.last_lit&&(me(he,!1),he.strm.avail_out===0)?Fe:ce}function ut(he,De){for(var qe,Ge,ke,Ue,Je=he.window;;){if(he.lookahead<=He){if(nt(he),he.lookahead<=He&&De===V)return Fe;if(he.lookahead===0)break}if(he.match_length=0,he.lookahead>=Ae&&he.strstart>0&&(Ge=Je[ke=he.strstart-1])===Je[++ke]&&Ge===Je[++ke]&&Ge===Je[++ke]){Ue=he.strstart+He;do;while(Ge===Je[++ke]&&Ge===Je[++ke]&&Ge===Je[++ke]&&Ge===Je[++ke]&&Ge===Je[++ke]&&Ge===Je[++ke]&&Ge===Je[++ke]&&Ge===Je[++ke]&&ke<Ue);he.match_length=He-(Ue-ke),he.match_length>he.lookahead&&(he.match_length=he.lookahead)}if(he.match_length>=Ae?(qe=P._tr_tally(he,1,he.match_length-Ae),he.lookahead-=he.match_length,he.strstart+=he.match_length,he.match_length=0):(qe=P._tr_tally(he,0,he.window[he.strstart]),he.lookahead--,he.strstart++),qe&&(me(he,!1),he.strm.avail_out===0))return Fe}return he.insert=0,De===W?(me(he,!0),he.strm.avail_out===0?$e:oe):he.last_lit&&(me(he,!1),he.strm.avail_out===0)?Fe:ce}function we(he,De){for(var qe;;){if(he.lookahead===0&&(nt(he),he.lookahead===0)){if(De===V)return Fe;break}if(he.match_length=0,qe=P._tr_tally(he,0,he.window[he.strstart]),he.lookahead--,he.strstart++,qe&&(me(he,!1),he.strm.avail_out===0))return Fe}return he.insert=0,De===W?(me(he,!0),he.strm.avail_out===0?$e:oe):he.last_lit&&(me(he,!1),he.strm.avail_out===0)?Fe:ce}function et(he,De,qe,Ge,ke){this.good_length=he,this.max_lazy=De,this.nice_length=qe,this.max_chain=Ge,this.func=ke}function rt(he){he.window_size=2*he.w_size,Be(he.head),he.max_lazy_match=w[he.level].max_lazy,he.good_match=w[he.level].good_length,he.nice_match=w[he.level].nice_length,he.max_chain_length=w[he.level].max_chain,he.strstart=0,he.block_start=0,he.lookahead=0,he.insert=0,he.match_length=he.prev_length=Ae-1,he.match_available=0,he.ins_h=0}function at(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ye,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new I.Buf16(2*Re),this.dyn_dtree=new I.Buf16(2*(2*Ee+1)),this.bl_tree=new I.Buf16(2*(2*ve+1)),Be(this.dyn_ltree),Be(this.dyn_dtree),Be(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new I.Buf16(Oe+1),this.heap=new I.Buf16(2*be+1),Be(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new I.Buf16(2*be+1),Be(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function H(he){var De;return he&&he.state?(he.total_in=he.total_out=0,he.data_type=le,(De=he.state).pending=0,De.pending_out=0,De.wrap<0&&(De.wrap=-De.wrap),De.status=De.wrap?Ne:Qe,he.adler=De.wrap===2?0:1,De.last_flush=V,P._tr_init(De),U):_e(he,K)}function q(he){var De=H(he);return De===U&&rt(he.state),De}function pe(he,De){return he&&he.state?he.state.wrap!==2?K:(he.state.gzhead=De,U):K}function ne(he,De,qe,Ge,ke,Ue){if(!he)return K;var Je=1;if(De===J&&(De=6),Ge<0?(Je=0,Ge=-Ge):Ge>15&&(Je=2,Ge-=16),ke<1||ke>ae||qe!==ye||Ge<8||Ge>15||De<0||De>9||Ue<0||Ue>se)return _e(he,K);Ge===8&&(Ge=9);var st=new at;return he.state=st,st.strm=he,st.wrap=Je,st.gzhead=null,st.w_bits=Ge,st.w_size=1<<st.w_bits,st.w_mask=st.w_size-1,st.hash_bits=ke+7,st.hash_size=1<<st.hash_bits,st.hash_mask=st.hash_size-1,st.hash_shift=~~((st.hash_bits+Ae-1)/Ae),st.window=new I.Buf8(2*st.w_size),st.head=new I.Buf16(st.hash_size),st.prev=new I.Buf16(st.w_size),st.lit_bufsize=1<<ke+6,st.pending_buf_size=4*st.lit_bufsize,st.pending_buf=new I.Buf8(st.pending_buf_size),st.d_buf=1*st.lit_bufsize,st.l_buf=3*st.lit_bufsize,st.level=De,st.strategy=Ue,st.method=qe,q(he)}function Ce(he,De){return ne(he,De,ye,ge,Pe,de)}function Se(he,De){var qe,Ge,ke,Ue;if(!he||!he.state||De>Z||De<0)return he?_e(he,K):K;if(Ge=he.state,!he.output||!he.input&&he.avail_in!==0||Ge.status===Ke&&De!==W)return _e(he,he.avail_out===0?X:K);if(Ge.strm=he,qe=Ge.last_flush,Ge.last_flush=De,Ge.status===Ne)if(Ge.wrap===2)he.adler=0,Ie(Ge,31),Ie(Ge,139),Ie(Ge,8),Ge.gzhead?(Ie(Ge,(Ge.gzhead.text?1:0)+(Ge.gzhead.hcrc?2:0)+(Ge.gzhead.extra?4:0)+(Ge.gzhead.name?8:0)+(Ge.gzhead.comment?16:0)),Ie(Ge,255&Ge.gzhead.time),Ie(Ge,Ge.gzhead.time>>8&255),Ie(Ge,Ge.gzhead.time>>16&255),Ie(Ge,Ge.gzhead.time>>24&255),Ie(Ge,Ge.level===9?2:Ge.strategy>=ie||Ge.level<2?4:0),Ie(Ge,255&Ge.gzhead.os),Ge.gzhead.extra&&Ge.gzhead.extra.length&&(Ie(Ge,255&Ge.gzhead.extra.length),Ie(Ge,Ge.gzhead.extra.length>>8&255)),Ge.gzhead.hcrc&&(he.adler=D(he.adler,Ge.pending_buf,Ge.pending,0)),Ge.gzindex=0,Ge.status=We):(Ie(Ge,0),Ie(Ge,0),Ie(Ge,0),Ie(Ge,0),Ie(Ge,0),Ie(Ge,Ge.level===9?2:Ge.strategy>=ie||Ge.level<2?4:0),Ie(Ge,ue),Ge.status=Qe);else{var Je=ye+(Ge.w_bits-8<<4)<<8;Je|=(Ge.strategy>=ie||Ge.level<2?0:Ge.level<6?1:Ge.level===6?2:3)<<6,Ge.strstart!==0&&(Je|=je),Je+=31-Je%31,Ge.status=Qe,xe(Ge,Je),Ge.strstart!==0&&(xe(Ge,he.adler>>>16),xe(Ge,65535&he.adler)),he.adler=1}if(Ge.status===We)if(Ge.gzhead.extra){for(ke=Ge.pending;Ge.gzindex<(65535&Ge.gzhead.extra.length)&&(Ge.pending!==Ge.pending_buf_size||(Ge.gzhead.hcrc&&Ge.pending>ke&&(he.adler=D(he.adler,Ge.pending_buf,Ge.pending-ke,ke)),re(he),ke=Ge.pending,Ge.pending!==Ge.pending_buf_size));)Ie(Ge,255&Ge.gzhead.extra[Ge.gzindex]),Ge.gzindex++;Ge.gzhead.hcrc&&Ge.pending>ke&&(he.adler=D(he.adler,Ge.pending_buf,Ge.pending-ke,ke)),Ge.gzindex===Ge.gzhead.extra.length&&(Ge.gzindex=0,Ge.status=Ve)}else Ge.status=Ve;if(Ge.status===Ve)if(Ge.gzhead.name){ke=Ge.pending;do{if(Ge.pending===Ge.pending_buf_size&&(Ge.gzhead.hcrc&&Ge.pending>ke&&(he.adler=D(he.adler,Ge.pending_buf,Ge.pending-ke,ke)),re(he),ke=Ge.pending,Ge.pending===Ge.pending_buf_size)){Ue=1;break}Ue=Ge.gzindex<Ge.gzhead.name.length?255&Ge.gzhead.name.charCodeAt(Ge.gzindex++):0,Ie(Ge,Ue)}while(Ue!==0);Ge.gzhead.hcrc&&Ge.pending>ke&&(he.adler=D(he.adler,Ge.pending_buf,Ge.pending-ke,ke)),Ue===0&&(Ge.gzindex=0,Ge.status=ze)}else Ge.status=ze;if(Ge.status===ze)if(Ge.gzhead.comment){ke=Ge.pending;do{if(Ge.pending===Ge.pending_buf_size&&(Ge.gzhead.hcrc&&Ge.pending>ke&&(he.adler=D(he.adler,Ge.pending_buf,Ge.pending-ke,ke)),re(he),ke=Ge.pending,Ge.pending===Ge.pending_buf_size)){Ue=1;break}Ue=Ge.gzindex<Ge.gzhead.comment.length?255&Ge.gzhead.comment.charCodeAt(Ge.gzindex++):0,Ie(Ge,Ue)}while(Ue!==0);Ge.gzhead.hcrc&&Ge.pending>ke&&(he.adler=D(he.adler,Ge.pending_buf,Ge.pending-ke,ke)),Ue===0&&(Ge.status=Le)}else Ge.status=Le;if(Ge.status===Le&&(Ge.gzhead.hcrc?(Ge.pending+2>Ge.pending_buf_size&&re(he),Ge.pending+2<=Ge.pending_buf_size&&(Ie(Ge,255&he.adler),Ie(Ge,he.adler>>8&255),he.adler=0,Ge.status=Qe)):Ge.status=Qe),Ge.pending!==0){if(re(he),he.avail_out===0)return Ge.last_flush=-1,U}else if(he.avail_in===0&&Te(De)<=Te(qe)&&De!==W)return _e(he,X);if(Ge.status===Ke&&he.avail_in!==0)return _e(he,X);if(he.avail_in!==0||Ge.lookahead!==0||De!==V&&Ge.status!==Ke){var st=Ge.strategy===ie?we(Ge,De):Ge.strategy===fe?ut(Ge,De):w[Ge.level].func(Ge,De);if(st!==$e&&st!==oe||(Ge.status=Ke),st===Fe||st===$e)return he.avail_out===0&&(Ge.last_flush=-1),U;if(st===ce&&(De===j?P._tr_align(Ge):De!==Z&&(P._tr_stored_block(Ge,0,0,!1),De===G&&(Be(Ge.head),Ge.lookahead===0&&(Ge.strstart=0,Ge.block_start=0,Ge.insert=0))),re(he),he.avail_out===0))return Ge.last_flush=-1,U}return De!==W?U:Ge.wrap<=0?Q:(Ge.wrap===2?(Ie(Ge,255&he.adler),Ie(Ge,he.adler>>8&255),Ie(Ge,he.adler>>16&255),Ie(Ge,he.adler>>24&255),Ie(Ge,255&he.total_in),Ie(Ge,he.total_in>>8&255),Ie(Ge,he.total_in>>16&255),Ie(Ge,he.total_in>>24&255)):(xe(Ge,he.adler>>>16),xe(Ge,65535&he.adler)),re(he),Ge.wrap>0&&(Ge.wrap=-Ge.wrap),Ge.pending!==0?U:Q)}function Ye(he){var De;return he&&he.state?(De=he.state.status)!==Ne&&De!==We&&De!==Ve&&De!==ze&&De!==Le&&De!==Qe&&De!==Ke?_e(he,K):(he.state=null,De===Qe?_e(he,te):U):K}function it(he,De){var qe,Ge,ke,Ue,Je,st,ct,ft,pt=De.length;if(!he||!he.state||(Ue=(qe=he.state).wrap)===2||Ue===1&&qe.status!==Ne||qe.lookahead)return K;for(Ue===1&&(he.adler=F(he.adler,De,pt,0)),qe.wrap=0,pt>=qe.w_size&&(Ue===0&&(Be(qe.head),qe.strstart=0,qe.block_start=0,qe.insert=0),ft=new I.Buf8(qe.w_size),I.arraySet(ft,De,pt-qe.w_size,qe.w_size,0),De=ft,pt=qe.w_size),Je=he.avail_in,st=he.next_in,ct=he.input,he.avail_in=pt,he.next_in=0,he.input=De,nt(qe);qe.lookahead>=Ae;){Ge=qe.strstart,ke=qe.lookahead-(Ae-1);do qe.ins_h=(qe.ins_h<<qe.hash_shift^qe.window[Ge+Ae-1])&qe.hash_mask,qe.prev[Ge&qe.w_mask]=qe.head[qe.ins_h],qe.head[qe.ins_h]=Ge,Ge++;while(--ke);qe.strstart=Ge,qe.lookahead=Ae-1,nt(qe)}return qe.strstart+=qe.lookahead,qe.block_start=qe.strstart,qe.insert=qe.lookahead,qe.lookahead=0,qe.match_length=qe.prev_length=Ae-1,qe.match_available=0,he.next_in=st,he.input=ct,he.avail_in=Je,qe.wrap=Ue,U}w=[new et(0,0,0,0,lt),new et(4,4,8,4,ot),new et(4,5,16,8,ot),new et(4,6,32,32,ot),new et(4,4,16,16,dt),new et(8,16,32,32,dt),new et(8,16,128,128,dt),new et(8,32,128,256,dt),new et(32,128,258,1024,dt),new et(32,258,258,4096,dt)],g.deflateInit=Ce,g.deflateInit2=ne,g.deflateReset=q,g.deflateResetKeep=H,g.deflateSetHeader=pe,g.deflate=Se,g.deflateEnd=Ye,g.deflateSetDictionary=it,g.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":52,"./adler32":53,"./crc32":55,"./messages":60,"./trees":61}],57:[function(d,m,g){var w=30,I=12;m.exports=function(P,F){var D,$,V,j,G,W,Z,U,Q,K,te,X,J,ee,ie,fe,se,de,le,ye,ae,ge,Pe,be,Ee;D=P.state,$=P.next_in,be=P.input,V=$+(P.avail_in-5),j=P.next_out,Ee=P.output,G=j-(F-P.avail_out),W=j+(P.avail_out-257),Z=D.dmax,U=D.wsize,Q=D.whave,K=D.wnext,te=D.window,X=D.hold,J=D.bits,ee=D.lencode,ie=D.distcode,fe=(1<<D.lenbits)-1,se=(1<<D.distbits)-1;e:do{J<15&&(X+=be[$++]<<J,J+=8,X+=be[$++]<<J,J+=8),de=ee[X&fe];t:for(;;){if(X>>>=le=de>>>24,J-=le,(le=de>>>16&255)==0)Ee[j++]=65535&de;else{if(!(16&le)){if(64&le){if(32&le){D.mode=I;break e}P.msg="invalid literal/length code",D.mode=w;break e}de=ee[(65535&de)+(X&(1<<le)-1)];continue t}for(ye=65535&de,(le&=15)&&(J<le&&(X+=be[$++]<<J,J+=8),ye+=X&(1<<le)-1,X>>>=le,J-=le),J<15&&(X+=be[$++]<<J,J+=8,X+=be[$++]<<J,J+=8),de=ie[X&se];;){if(X>>>=le=de>>>24,J-=le,16&(le=de>>>16&255)){if(ae=65535&de,J<(le&=15)&&(X+=be[$++]<<J,(J+=8)<le&&(X+=be[$++]<<J,J+=8)),(ae+=X&(1<<le)-1)>Z){P.msg="invalid distance too far back",D.mode=w;break e}if(X>>>=le,J-=le,ae>(le=j-G)){if((le=ae-le)>Q&&D.sane){P.msg="invalid distance too far back",D.mode=w;break e}if(ge=0,Pe=te,K===0){if(ge+=U-le,le<ye){ye-=le;do Ee[j++]=te[ge++];while(--le);ge=j-ae,Pe=Ee}}else if(K<le){if(ge+=U+K-le,(le-=K)<ye){ye-=le;do Ee[j++]=te[ge++];while(--le);if(ge=0,K<ye){ye-=le=K;do Ee[j++]=te[ge++];while(--le);ge=j-ae,Pe=Ee}}}else if(ge+=K-le,le<ye){ye-=le;do Ee[j++]=te[ge++];while(--le);ge=j-ae,Pe=Ee}for(;ye>2;)Ee[j++]=Pe[ge++],Ee[j++]=Pe[ge++],Ee[j++]=Pe[ge++],ye-=3;ye&&(Ee[j++]=Pe[ge++],ye>1&&(Ee[j++]=Pe[ge++]))}else{ge=j-ae;do Ee[j++]=Ee[ge++],Ee[j++]=Ee[ge++],Ee[j++]=Ee[ge++],ye-=3;while(ye>2);ye&&(Ee[j++]=Ee[ge++],ye>1&&(Ee[j++]=Ee[ge++]))}break}if(64&le){P.msg="invalid distance code",D.mode=w;break e}de=ie[(65535&de)+(X&(1<<le)-1)]}}break}}while($<V&&j<W);$-=ye=J>>3,X&=(1<<(J-=ye<<3))-1,P.next_in=$,P.next_out=j,P.avail_in=$<V?V-$+5:5-($-V),P.avail_out=j<W?W-j+257:257-(j-W),D.hold=X,D.bits=J}},{}],58:[function(d,m,g){var w=d("../utils/common"),I=d("./adler32"),P=d("./crc32"),F=d("./inffast"),D=d("./inftrees"),$=0,V=1,j=2,G=4,W=5,Z=6,U=0,Q=1,K=2,te=-2,X=-3,J=-4,ee=-5,ie=8,fe=1,se=2,de=3,le=4,ye=5,ae=6,ge=7,Pe=8,be=9,Ee=10,ve=11,Re=12,Oe=13,Ae=14,He=15,Me=16,je=17,Ne=18,We=19,Ve=20,ze=21,Le=22,Qe=23,Ke=24,Fe=25,ce=26,$e=27,oe=28,ue=29,_e=30,Te=31,Be=852,re=592,me=15;function Ie(ne){return(ne>>>24&255)+(ne>>>8&65280)+((65280&ne)<<8)+((255&ne)<<24)}function xe(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new w.Buf16(320),this.work=new w.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Ze(ne){var Ce;return ne&&ne.state?(Ce=ne.state,ne.total_in=ne.total_out=Ce.total=0,ne.msg="",Ce.wrap&&(ne.adler=1&Ce.wrap),Ce.mode=fe,Ce.last=0,Ce.havedict=0,Ce.dmax=32768,Ce.head=null,Ce.hold=0,Ce.bits=0,Ce.lencode=Ce.lendyn=new w.Buf32(Be),Ce.distcode=Ce.distdyn=new w.Buf32(re),Ce.sane=1,Ce.back=-1,U):te}function Xe(ne){var Ce;return ne&&ne.state?((Ce=ne.state).wsize=0,Ce.whave=0,Ce.wnext=0,Ze(ne)):te}function nt(ne,Ce){var Se,Ye;return ne&&ne.state?(Ye=ne.state,Ce<0?(Se=0,Ce=-Ce):(Se=1+(Ce>>4),Ce<48&&(Ce&=15)),Ce&&(Ce<8||Ce>15)?te:(Ye.window!==null&&Ye.wbits!==Ce&&(Ye.window=null),Ye.wrap=Se,Ye.wbits=Ce,Xe(ne))):te}function lt(ne,Ce){var Se,Ye;return ne?(Ye=new xe,ne.state=Ye,Ye.window=null,(Se=nt(ne,Ce))!==U&&(ne.state=null),Se):te}function ot(ne){return lt(ne,me)}var dt,ut,we=!0;function et(ne){if(we){var Ce;for(dt=new w.Buf32(512),ut=new w.Buf32(32),Ce=0;Ce<144;)ne.lens[Ce++]=8;for(;Ce<256;)ne.lens[Ce++]=9;for(;Ce<280;)ne.lens[Ce++]=7;for(;Ce<288;)ne.lens[Ce++]=8;for(D(V,ne.lens,0,288,dt,0,ne.work,{bits:9}),Ce=0;Ce<32;)ne.lens[Ce++]=5;D(j,ne.lens,0,32,ut,0,ne.work,{bits:5}),we=!1}ne.lencode=dt,ne.lenbits=9,ne.distcode=ut,ne.distbits=5}function rt(ne,Ce,Se,Ye){var it,he=ne.state;return he.window===null&&(he.wsize=1<<he.wbits,he.wnext=0,he.whave=0,he.window=new w.Buf8(he.wsize)),Ye>=he.wsize?(w.arraySet(he.window,Ce,Se-he.wsize,he.wsize,0),he.wnext=0,he.whave=he.wsize):((it=he.wsize-he.wnext)>Ye&&(it=Ye),w.arraySet(he.window,Ce,Se-Ye,it,he.wnext),(Ye-=it)?(w.arraySet(he.window,Ce,Se-Ye,Ye,0),he.wnext=Ye,he.whave=he.wsize):(he.wnext+=it,he.wnext===he.wsize&&(he.wnext=0),he.whave<he.wsize&&(he.whave+=it))),0}function at(ne,Ce){var Se,Ye,it,he,De,qe,Ge,ke,Ue,Je,st,ct,ft,pt,ht,gt,_t,vt,It,wt,yt,xt,Et,St,Pt=0,Tt=new w.Buf8(4),At=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!ne||!ne.state||!ne.output||!ne.input&&ne.avail_in!==0)return te;(Se=ne.state).mode===Re&&(Se.mode=Oe),De=ne.next_out,it=ne.output,Ge=ne.avail_out,he=ne.next_in,Ye=ne.input,qe=ne.avail_in,ke=Se.hold,Ue=Se.bits,Je=qe,st=Ge,xt=U;e:for(;;)switch(Se.mode){case fe:if(Se.wrap===0){Se.mode=Oe;break}for(;Ue<16;){if(qe===0)break e;qe--,ke+=Ye[he++]<<Ue,Ue+=8}if(2&Se.wrap&&ke===35615){Se.check=0,Tt[0]=255&ke,Tt[1]=ke>>>8&255,Se.check=P(Se.check,Tt,2,0),ke=0,Ue=0,Se.mode=se;break}if(Se.flags=0,Se.head&&(Se.head.done=!1),!(1&Se.wrap)||(((255&ke)<<8)+(ke>>8))%31){ne.msg="incorrect header check",Se.mode=_e;break}if((15&ke)!==ie){ne.msg="unknown compression method",Se.mode=_e;break}if(Ue-=4,yt=8+(15&(ke>>>=4)),Se.wbits===0)Se.wbits=yt;else if(yt>Se.wbits){ne.msg="invalid window size",Se.mode=_e;break}Se.dmax=1<<yt,ne.adler=Se.check=1,Se.mode=512&ke?Ee:Re,ke=0,Ue=0;break;case se:for(;Ue<16;){if(qe===0)break e;qe--,ke+=Ye[he++]<<Ue,Ue+=8}if(Se.flags=ke,(255&Se.flags)!==ie){ne.msg="unknown compression method",Se.mode=_e;break}if(57344&Se.flags){ne.msg="unknown header flags set",Se.mode=_e;break}Se.head&&(Se.head.text=ke>>8&1),512&Se.flags&&(Tt[0]=255&ke,Tt[1]=ke>>>8&255,Se.check=P(Se.check,Tt,2,0)),ke=0,Ue=0,Se.mode=de;case de:for(;Ue<32;){if(qe===0)break e;qe--,ke+=Ye[he++]<<Ue,Ue+=8}Se.head&&(Se.head.time=ke),512&Se.flags&&(Tt[0]=255&ke,Tt[1]=ke>>>8&255,Tt[2]=ke>>>16&255,Tt[3]=ke>>>24&255,Se.check=P(Se.check,Tt,4,0)),ke=0,Ue=0,Se.mode=le;case le:for(;Ue<16;){if(qe===0)break e;qe--,ke+=Ye[he++]<<Ue,Ue+=8}Se.head&&(Se.head.xflags=255&ke,Se.head.os=ke>>8),512&Se.flags&&(Tt[0]=255&ke,Tt[1]=ke>>>8&255,Se.check=P(Se.check,Tt,2,0)),ke=0,Ue=0,Se.mode=ye;case ye:if(1024&Se.flags){for(;Ue<16;){if(qe===0)break e;qe--,ke+=Ye[he++]<<Ue,Ue+=8}Se.length=ke,Se.head&&(Se.head.extra_len=ke),512&Se.flags&&(Tt[0]=255&ke,Tt[1]=ke>>>8&255,Se.check=P(Se.check,Tt,2,0)),ke=0,Ue=0}else Se.head&&(Se.head.extra=null);Se.mode=ae;case ae:if(1024&Se.flags&&((ct=Se.length)>qe&&(ct=qe),ct&&(Se.head&&(yt=Se.head.extra_len-Se.length,Se.head.extra||(Se.head.extra=new Array(Se.head.extra_len)),w.arraySet(Se.head.extra,Ye,he,ct,yt)),512&Se.flags&&(Se.check=P(Se.check,Ye,ct,he)),qe-=ct,he+=ct,Se.length-=ct),Se.length))break e;Se.length=0,Se.mode=ge;case ge:if(2048&Se.flags){if(qe===0)break e;ct=0;do yt=Ye[he+ct++],Se.head&&yt&&Se.length<65536&&(Se.head.name+=String.fromCharCode(yt));while(yt&&ct<qe);if(512&Se.flags&&(Se.check=P(Se.check,Ye,ct,he)),qe-=ct,he+=ct,yt)break e}else Se.head&&(Se.head.name=null);Se.length=0,Se.mode=Pe;case Pe:if(4096&Se.flags){if(qe===0)break e;ct=0;do yt=Ye[he+ct++],Se.head&&yt&&Se.length<65536&&(Se.head.comment+=String.fromCharCode(yt));while(yt&&ct<qe);if(512&Se.flags&&(Se.check=P(Se.check,Ye,ct,he)),qe-=ct,he+=ct,yt)break e}else Se.head&&(Se.head.comment=null);Se.mode=be;case be:if(512&Se.flags){for(;Ue<16;){if(qe===0)break e;qe--,ke+=Ye[he++]<<Ue,Ue+=8}if(ke!==(65535&Se.check)){ne.msg="header crc mismatch",Se.mode=_e;break}ke=0,Ue=0}Se.head&&(Se.head.hcrc=Se.flags>>9&1,Se.head.done=!0),ne.adler=Se.check=0,Se.mode=Re;break;case Ee:for(;Ue<32;){if(qe===0)break e;qe--,ke+=Ye[he++]<<Ue,Ue+=8}ne.adler=Se.check=Ie(ke),ke=0,Ue=0,Se.mode=ve;case ve:if(Se.havedict===0)return ne.next_out=De,ne.avail_out=Ge,ne.next_in=he,ne.avail_in=qe,Se.hold=ke,Se.bits=Ue,K;ne.adler=Se.check=1,Se.mode=Re;case Re:if(Ce===W||Ce===Z)break e;case Oe:if(Se.last){ke>>>=7&Ue,Ue-=7&Ue,Se.mode=$e;break}for(;Ue<3;){if(qe===0)break e;qe--,ke+=Ye[he++]<<Ue,Ue+=8}switch(Se.last=1&ke,Ue-=1,3&(ke>>>=1)){case 0:Se.mode=Ae;break;case 1:if(et(Se),Se.mode=Ve,Ce===Z){ke>>>=2,Ue-=2;break e}break;case 2:Se.mode=je;break;case 3:ne.msg="invalid block type",Se.mode=_e}ke>>>=2,Ue-=2;break;case Ae:for(ke>>>=7&Ue,Ue-=7&Ue;Ue<32;){if(qe===0)break e;qe--,ke+=Ye[he++]<<Ue,Ue+=8}if((65535&ke)!=(ke>>>16^65535)){ne.msg="invalid stored block lengths",Se.mode=_e;break}if(Se.length=65535&ke,ke=0,Ue=0,Se.mode=He,Ce===Z)break e;case He:Se.mode=Me;case Me:if(ct=Se.length){if(ct>qe&&(ct=qe),ct>Ge&&(ct=Ge),ct===0)break e;w.arraySet(it,Ye,he,ct,De),qe-=ct,he+=ct,Ge-=ct,De+=ct,Se.length-=ct;break}Se.mode=Re;break;case je:for(;Ue<14;){if(qe===0)break e;qe--,ke+=Ye[he++]<<Ue,Ue+=8}if(Se.nlen=257+(31&ke),ke>>>=5,Ue-=5,Se.ndist=1+(31&ke),ke>>>=5,Ue-=5,Se.ncode=4+(15&ke),ke>>>=4,Ue-=4,Se.nlen>286||Se.ndist>30){ne.msg="too many length or distance symbols",Se.mode=_e;break}Se.have=0,Se.mode=Ne;case Ne:for(;Se.have<Se.ncode;){for(;Ue<3;){if(qe===0)break e;qe--,ke+=Ye[he++]<<Ue,Ue+=8}Se.lens[At[Se.have++]]=7&ke,ke>>>=3,Ue-=3}for(;Se.have<19;)Se.lens[At[Se.have++]]=0;if(Se.lencode=Se.lendyn,Se.lenbits=7,Et={bits:Se.lenbits},xt=D($,Se.lens,0,19,Se.lencode,0,Se.work,Et),Se.lenbits=Et.bits,xt){ne.msg="invalid code lengths set",Se.mode=_e;break}Se.have=0,Se.mode=We;case We:for(;Se.have<Se.nlen+Se.ndist;){for(;gt=(Pt=Se.lencode[ke&(1<<Se.lenbits)-1])>>>16&255,_t=65535&Pt,!((ht=Pt>>>24)<=Ue);){if(qe===0)break e;qe--,ke+=Ye[he++]<<Ue,Ue+=8}if(_t<16)ke>>>=ht,Ue-=ht,Se.lens[Se.have++]=_t;else{if(_t===16){for(St=ht+2;Ue<St;){if(qe===0)break e;qe--,ke+=Ye[he++]<<Ue,Ue+=8}if(ke>>>=ht,Ue-=ht,Se.have===0){ne.msg="invalid bit length repeat",Se.mode=_e;break}yt=Se.lens[Se.have-1],ct=3+(3&ke),ke>>>=2,Ue-=2}else if(_t===17){for(St=ht+3;Ue<St;){if(qe===0)break e;qe--,ke+=Ye[he++]<<Ue,Ue+=8}Ue-=ht,yt=0,ct=3+(7&(ke>>>=ht)),ke>>>=3,Ue-=3}else{for(St=ht+7;Ue<St;){if(qe===0)break e;qe--,ke+=Ye[he++]<<Ue,Ue+=8}Ue-=ht,yt=0,ct=11+(127&(ke>>>=ht)),ke>>>=7,Ue-=7}if(Se.have+ct>Se.nlen+Se.ndist){ne.msg="invalid bit length repeat",Se.mode=_e;break}for(;ct--;)Se.lens[Se.have++]=yt}}if(Se.mode===_e)break;if(Se.lens[256]===0){ne.msg="invalid code -- missing end-of-block",Se.mode=_e;break}if(Se.lenbits=9,Et={bits:Se.lenbits},xt=D(V,Se.lens,0,Se.nlen,Se.lencode,0,Se.work,Et),Se.lenbits=Et.bits,xt){ne.msg="invalid literal/lengths set",Se.mode=_e;break}if(Se.distbits=6,Se.distcode=Se.distdyn,Et={bits:Se.distbits},xt=D(j,Se.lens,Se.nlen,Se.ndist,Se.distcode,0,Se.work,Et),Se.distbits=Et.bits,xt){ne.msg="invalid distances set",Se.mode=_e;break}if(Se.mode=Ve,Ce===Z)break e;case Ve:Se.mode=ze;case ze:if(qe>=6&&Ge>=258){ne.next_out=De,ne.avail_out=Ge,ne.next_in=he,ne.avail_in=qe,Se.hold=ke,Se.bits=Ue,F(ne,st),De=ne.next_out,it=ne.output,Ge=ne.avail_out,he=ne.next_in,Ye=ne.input,qe=ne.avail_in,ke=Se.hold,Ue=Se.bits,Se.mode===Re&&(Se.back=-1);break}for(Se.back=0;gt=(Pt=Se.lencode[ke&(1<<Se.lenbits)-1])>>>16&255,_t=65535&Pt,!((ht=Pt>>>24)<=Ue);){if(qe===0)break e;qe--,ke+=Ye[he++]<<Ue,Ue+=8}if(gt&&!(240&gt)){for(vt=ht,It=gt,wt=_t;gt=(Pt=Se.lencode[wt+((ke&(1<<vt+It)-1)>>vt)])>>>16&255,_t=65535&Pt,!(vt+(ht=Pt>>>24)<=Ue);){if(qe===0)break e;qe--,ke+=Ye[he++]<<Ue,Ue+=8}ke>>>=vt,Ue-=vt,Se.back+=vt}if(ke>>>=ht,Ue-=ht,Se.back+=ht,Se.length=_t,gt===0){Se.mode=ce;break}if(32&gt){Se.back=-1,Se.mode=Re;break}if(64&gt){ne.msg="invalid literal/length code",Se.mode=_e;break}Se.extra=15&gt,Se.mode=Le;case Le:if(Se.extra){for(St=Se.extra;Ue<St;){if(qe===0)break e;qe--,ke+=Ye[he++]<<Ue,Ue+=8}Se.length+=ke&(1<<Se.extra)-1,ke>>>=Se.extra,Ue-=Se.extra,Se.back+=Se.extra}Se.was=Se.length,Se.mode=Qe;case Qe:for(;gt=(Pt=Se.distcode[ke&(1<<Se.distbits)-1])>>>16&255,_t=65535&Pt,!((ht=Pt>>>24)<=Ue);){if(qe===0)break e;qe--,ke+=Ye[he++]<<Ue,Ue+=8}if(!(240&gt)){for(vt=ht,It=gt,wt=_t;gt=(Pt=Se.distcode[wt+((ke&(1<<vt+It)-1)>>vt)])>>>16&255,_t=65535&Pt,!(vt+(ht=Pt>>>24)<=Ue);){if(qe===0)break e;qe--,ke+=Ye[he++]<<Ue,Ue+=8}ke>>>=vt,Ue-=vt,Se.back+=vt}if(ke>>>=ht,Ue-=ht,Se.back+=ht,64&gt){ne.msg="invalid distance code",Se.mode=_e;break}Se.offset=_t,Se.extra=15&gt,Se.mode=Ke;case Ke:if(Se.extra){for(St=Se.extra;Ue<St;){if(qe===0)break e;qe--,ke+=Ye[he++]<<Ue,Ue+=8}Se.offset+=ke&(1<<Se.extra)-1,ke>>>=Se.extra,Ue-=Se.extra,Se.back+=Se.extra}if(Se.offset>Se.dmax){ne.msg="invalid distance too far back",Se.mode=_e;break}Se.mode=Fe;case Fe:if(Ge===0)break e;if(ct=st-Ge,Se.offset>ct){if((ct=Se.offset-ct)>Se.whave&&Se.sane){ne.msg="invalid distance too far back",Se.mode=_e;break}ct>Se.wnext?(ct-=Se.wnext,ft=Se.wsize-ct):ft=Se.wnext-ct,ct>Se.length&&(ct=Se.length),pt=Se.window}else pt=it,ft=De-Se.offset,ct=Se.length;ct>Ge&&(ct=Ge),Ge-=ct,Se.length-=ct;do it[De++]=pt[ft++];while(--ct);Se.length===0&&(Se.mode=ze);break;case ce:if(Ge===0)break e;it[De++]=Se.length,Ge--,Se.mode=ze;break;case $e:if(Se.wrap){for(;Ue<32;){if(qe===0)break e;qe--,ke|=Ye[he++]<<Ue,Ue+=8}if(st-=Ge,ne.total_out+=st,Se.total+=st,st&&(ne.adler=Se.check=Se.flags?P(Se.check,it,st,De-st):I(Se.check,it,st,De-st)),st=Ge,(Se.flags?ke:Ie(ke))!==Se.check){ne.msg="incorrect data check",Se.mode=_e;break}ke=0,Ue=0}Se.mode=oe;case oe:if(Se.wrap&&Se.flags){for(;Ue<32;){if(qe===0)break e;qe--,ke+=Ye[he++]<<Ue,Ue+=8}if(ke!==(4294967295&Se.total)){ne.msg="incorrect length check",Se.mode=_e;break}ke=0,Ue=0}Se.mode=ue;case ue:xt=Q;break e;case _e:xt=X;break e;case Te:return J;default:return te}return ne.next_out=De,ne.avail_out=Ge,ne.next_in=he,ne.avail_in=qe,Se.hold=ke,Se.bits=Ue,(Se.wsize||st!==ne.avail_out&&Se.mode<_e&&(Se.mode<$e||Ce!==G))&&rt(ne,ne.output,ne.next_out,st-ne.avail_out),Je-=ne.avail_in,st-=ne.avail_out,ne.total_in+=Je,ne.total_out+=st,Se.total+=st,Se.wrap&&st&&(ne.adler=Se.check=Se.flags?P(Se.check,it,st,ne.next_out-st):I(Se.check,it,st,ne.next_out-st)),ne.data_type=Se.bits+(Se.last?64:0)+(Se.mode===Re?128:0)+(Se.mode===Ve||Se.mode===He?256:0),(Je===0&&st===0||Ce===G)&&xt===U&&(xt=ee),xt}function H(ne){if(!ne||!ne.state)return te;var Ce=ne.state;return Ce.window&&(Ce.window=null),ne.state=null,U}function q(ne,Ce){var Se;return ne&&ne.state&&2&(Se=ne.state).wrap?(Se.head=Ce,Ce.done=!1,U):te}function pe(ne,Ce){var Se,Ye=Ce.length;return ne&&ne.state?(Se=ne.state).wrap!==0&&Se.mode!==ve?te:Se.mode===ve&&I(1,Ce,Ye,0)!==Se.check?X:rt(ne,Ce,Ye,Ye)?(Se.mode=Te,J):(Se.havedict=1,U):te}g.inflateReset=Xe,g.inflateReset2=nt,g.inflateResetKeep=Ze,g.inflateInit=ot,g.inflateInit2=lt,g.inflate=at,g.inflateEnd=H,g.inflateGetHeader=q,g.inflateSetDictionary=pe,g.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":52,"./adler32":53,"./crc32":55,"./inffast":57,"./inftrees":59}],59:[function(d,m,g){var w=d("../utils/common"),I=15,P=852,F=592,D=0,$=1,V=2,j=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],G=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],W=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Z=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];m.exports=function(U,Q,K,te,X,J,ee,ie){var fe,se,de,le,ye,ae,ge,Pe,be,Ee=ie.bits,ve=0,Re=0,Oe=0,Ae=0,He=0,Me=0,je=0,Ne=0,We=0,Ve=0,ze=null,Le=0,Qe=new w.Buf16(I+1),Ke=new w.Buf16(I+1),Fe=null,ce=0;for(ve=0;ve<=I;ve++)Qe[ve]=0;for(Re=0;Re<te;Re++)Qe[Q[K+Re]]++;for(He=Ee,Ae=I;Ae>=1&&Qe[Ae]===0;Ae--);if(He>Ae&&(He=Ae),Ae===0)return X[J++]=20971520,X[J++]=20971520,ie.bits=1,0;for(Oe=1;Oe<Ae&&Qe[Oe]===0;Oe++);for(He<Oe&&(He=Oe),Ne=1,ve=1;ve<=I;ve++)if(Ne<<=1,(Ne-=Qe[ve])<0)return-1;if(Ne>0&&(U===D||Ae!==1))return-1;for(Ke[1]=0,ve=1;ve<I;ve++)Ke[ve+1]=Ke[ve]+Qe[ve];for(Re=0;Re<te;Re++)Q[K+Re]!==0&&(ee[Ke[Q[K+Re]]++]=Re);if(U===D?(ze=Fe=ee,ae=19):U===$?(ze=j,Le-=257,Fe=G,ce-=257,ae=256):(ze=W,Fe=Z,ae=-1),Ve=0,Re=0,ve=Oe,ye=J,Me=He,je=0,de=-1,le=(We=1<<He)-1,U===$&&We>P||U===V&&We>F)return 1;for(;;){ge=ve-je,ee[Re]<ae?(Pe=0,be=ee[Re]):ee[Re]>ae?(Pe=Fe[ce+ee[Re]],be=ze[Le+ee[Re]]):(Pe=96,be=0),fe=1<<ve-je,Oe=se=1<<Me;do X[ye+(Ve>>je)+(se-=fe)]=ge<<24|Pe<<16|be;while(se!==0);for(fe=1<<ve-1;Ve&fe;)fe>>=1;if(fe!==0?(Ve&=fe-1,Ve+=fe):Ve=0,Re++,--Qe[ve]==0){if(ve===Ae)break;ve=Q[K+ee[Re]]}if(ve>He&&(Ve&le)!==de){for(je===0&&(je=He),ye+=Oe,Ne=1<<(Me=ve-je);Me+je<Ae&&!((Ne-=Qe[Me+je])<=0);)Me++,Ne<<=1;if(We+=1<<Me,U===$&&We>P||U===V&&We>F)return 1;X[de=Ve&le]=He<<24|Me<<16|ye-J}}return Ve!==0&&(X[ye+Ve]=ve-je<<24|64<<16),ie.bits=He,0}},{"../utils/common":52}],60:[function(d,m,g){m.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],61:[function(d,m,g){var w=d("../utils/common"),I=4,P=0,F=1,D=2;function $(q){for(var pe=q.length;--pe>=0;)q[pe]=0}var V=0,j=1,G=2,W=3,Z=258,U=29,Q=256,K=Q+1+U,te=30,X=19,J=2*K+1,ee=15,ie=16,fe=7,se=256,de=16,le=17,ye=18,ae=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ge=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Pe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],be=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ee=512,ve=new Array(2*(K+2));$(ve);var Re=new Array(2*te);$(Re);var Oe=new Array(Ee);$(Oe);var Ae=new Array(Z-W+1);$(Ae);var He=new Array(U);$(He);var Me,je,Ne,We=new Array(te);function Ve(q,pe,ne,Ce,Se){this.static_tree=q,this.extra_bits=pe,this.extra_base=ne,this.elems=Ce,this.max_length=Se,this.has_stree=q&&q.length}function ze(q,pe){this.dyn_tree=q,this.max_code=0,this.stat_desc=pe}function Le(q){return q<256?Oe[q]:Oe[256+(q>>>7)]}function Qe(q,pe){q.pending_buf[q.pending++]=255&pe,q.pending_buf[q.pending++]=pe>>>8&255}function Ke(q,pe,ne){q.bi_valid>ie-ne?(q.bi_buf|=pe<<q.bi_valid&65535,Qe(q,q.bi_buf),q.bi_buf=pe>>ie-q.bi_valid,q.bi_valid+=ne-ie):(q.bi_buf|=pe<<q.bi_valid&65535,q.bi_valid+=ne)}function Fe(q,pe,ne){Ke(q,ne[2*pe],ne[2*pe+1])}function ce(q,pe){var ne=0;do ne|=1&q,q>>>=1,ne<<=1;while(--pe>0);return ne>>>1}function $e(q){q.bi_valid===16?(Qe(q,q.bi_buf),q.bi_buf=0,q.bi_valid=0):q.bi_valid>=8&&(q.pending_buf[q.pending++]=255&q.bi_buf,q.bi_buf>>=8,q.bi_valid-=8)}function oe(q,pe){var ne,Ce,Se,Ye,it,he,De=pe.dyn_tree,qe=pe.max_code,Ge=pe.stat_desc.static_tree,ke=pe.stat_desc.has_stree,Ue=pe.stat_desc.extra_bits,Je=pe.stat_desc.extra_base,st=pe.stat_desc.max_length,ct=0;for(Ye=0;Ye<=ee;Ye++)q.bl_count[Ye]=0;for(De[2*q.heap[q.heap_max]+1]=0,ne=q.heap_max+1;ne<J;ne++)(Ye=De[2*De[2*(Ce=q.heap[ne])+1]+1]+1)>st&&(Ye=st,ct++),De[2*Ce+1]=Ye,Ce>qe||(q.bl_count[Ye]++,it=0,Ce>=Je&&(it=Ue[Ce-Je]),he=De[2*Ce],q.opt_len+=he*(Ye+it),ke&&(q.static_len+=he*(Ge[2*Ce+1]+it)));if(ct!==0){do{for(Ye=st-1;q.bl_count[Ye]===0;)Ye--;q.bl_count[Ye]--,q.bl_count[Ye+1]+=2,q.bl_count[st]--,ct-=2}while(ct>0);for(Ye=st;Ye!==0;Ye--)for(Ce=q.bl_count[Ye];Ce!==0;)(Se=q.heap[--ne])>qe||(De[2*Se+1]!==Ye&&(q.opt_len+=(Ye-De[2*Se+1])*De[2*Se],De[2*Se+1]=Ye),Ce--)}}function ue(q,pe,ne){var Ce,Se,Ye=new Array(ee+1),it=0;for(Ce=1;Ce<=ee;Ce++)Ye[Ce]=it=it+ne[Ce-1]<<1;for(Se=0;Se<=pe;Se++){var he=q[2*Se+1];he!==0&&(q[2*Se]=ce(Ye[he]++,he))}}function _e(){var q,pe,ne,Ce,Se,Ye=new Array(ee+1);for(ne=0,Ce=0;Ce<U-1;Ce++)for(He[Ce]=ne,q=0;q<1<<ae[Ce];q++)Ae[ne++]=Ce;for(Ae[ne-1]=Ce,Se=0,Ce=0;Ce<16;Ce++)for(We[Ce]=Se,q=0;q<1<<ge[Ce];q++)Oe[Se++]=Ce;for(Se>>=7;Ce<te;Ce++)for(We[Ce]=Se<<7,q=0;q<1<<ge[Ce]-7;q++)Oe[256+Se++]=Ce;for(pe=0;pe<=ee;pe++)Ye[pe]=0;for(q=0;q<=143;)ve[2*q+1]=8,q++,Ye[8]++;for(;q<=255;)ve[2*q+1]=9,q++,Ye[9]++;for(;q<=279;)ve[2*q+1]=7,q++,Ye[7]++;for(;q<=287;)ve[2*q+1]=8,q++,Ye[8]++;for(ue(ve,K+1,Ye),q=0;q<te;q++)Re[2*q+1]=5,Re[2*q]=ce(q,5);Me=new Ve(ve,ae,Q+1,K,ee),je=new Ve(Re,ge,0,te,ee),Ne=new Ve(new Array(0),Pe,0,X,fe)}function Te(q){var pe;for(pe=0;pe<K;pe++)q.dyn_ltree[2*pe]=0;for(pe=0;pe<te;pe++)q.dyn_dtree[2*pe]=0;for(pe=0;pe<X;pe++)q.bl_tree[2*pe]=0;q.dyn_ltree[2*se]=1,q.opt_len=q.static_len=0,q.last_lit=q.matches=0}function Be(q){q.bi_valid>8?Qe(q,q.bi_buf):q.bi_valid>0&&(q.pending_buf[q.pending++]=q.bi_buf),q.bi_buf=0,q.bi_valid=0}function re(q,pe,ne,Ce){Be(q),Qe(q,ne),Qe(q,~ne),w.arraySet(q.pending_buf,q.window,pe,ne,q.pending),q.pending+=ne}function me(q,pe,ne,Ce){var Se=2*pe,Ye=2*ne;return q[Se]<q[Ye]||q[Se]===q[Ye]&&Ce[pe]<=Ce[ne]}function Ie(q,pe,ne){for(var Ce=q.heap[ne],Se=ne<<1;Se<=q.heap_len&&(Se<q.heap_len&&me(pe,q.heap[Se+1],q.heap[Se],q.depth)&&Se++,!me(pe,Ce,q.heap[Se],q.depth));)q.heap[ne]=q.heap[Se],ne=Se,Se<<=1;q.heap[ne]=Ce}function xe(q,pe,ne){var Ce,Se,Ye,it,he=0;if(q.last_lit!==0)do Ce=q.pending_buf[q.d_buf+2*he]<<8|q.pending_buf[q.d_buf+2*he+1],Se=q.pending_buf[q.l_buf+he],he++,Ce===0?Fe(q,Se,pe):(Fe(q,(Ye=Ae[Se])+Q+1,pe),(it=ae[Ye])!==0&&Ke(q,Se-=He[Ye],it),Fe(q,Ye=Le(--Ce),ne),(it=ge[Ye])!==0&&Ke(q,Ce-=We[Ye],it));while(he<q.last_lit);Fe(q,se,pe)}function Ze(q,pe){var ne,Ce,Se,Ye=pe.dyn_tree,it=pe.stat_desc.static_tree,he=pe.stat_desc.has_stree,De=pe.stat_desc.elems,qe=-1;for(q.heap_len=0,q.heap_max=J,ne=0;ne<De;ne++)Ye[2*ne]!==0?(q.heap[++q.heap_len]=qe=ne,q.depth[ne]=0):Ye[2*ne+1]=0;for(;q.heap_len<2;)Ye[2*(Se=q.heap[++q.heap_len]=qe<2?++qe:0)]=1,q.depth[Se]=0,q.opt_len--,he&&(q.static_len-=it[2*Se+1]);for(pe.max_code=qe,ne=q.heap_len>>1;ne>=1;ne--)Ie(q,Ye,ne);Se=De;do ne=q.heap[1],q.heap[1]=q.heap[q.heap_len--],Ie(q,Ye,1),Ce=q.heap[1],q.heap[--q.heap_max]=ne,q.heap[--q.heap_max]=Ce,Ye[2*Se]=Ye[2*ne]+Ye[2*Ce],q.depth[Se]=(q.depth[ne]>=q.depth[Ce]?q.depth[ne]:q.depth[Ce])+1,Ye[2*ne+1]=Ye[2*Ce+1]=Se,q.heap[1]=Se++,Ie(q,Ye,1);while(q.heap_len>=2);q.heap[--q.heap_max]=q.heap[1],oe(q,pe),ue(Ye,qe,q.bl_count)}function Xe(q,pe,ne){var Ce,Se,Ye=-1,it=pe[1],he=0,De=7,qe=4;for(it===0&&(De=138,qe=3),pe[2*(ne+1)+1]=65535,Ce=0;Ce<=ne;Ce++)Se=it,it=pe[2*(Ce+1)+1],++he<De&&Se===it||(he<qe?q.bl_tree[2*Se]+=he:Se!==0?(Se!==Ye&&q.bl_tree[2*Se]++,q.bl_tree[2*de]++):he<=10?q.bl_tree[2*le]++:q.bl_tree[2*ye]++,he=0,Ye=Se,it===0?(De=138,qe=3):Se===it?(De=6,qe=3):(De=7,qe=4))}function nt(q,pe,ne){var Ce,Se,Ye=-1,it=pe[1],he=0,De=7,qe=4;for(it===0&&(De=138,qe=3),Ce=0;Ce<=ne;Ce++)if(Se=it,it=pe[2*(Ce+1)+1],!(++he<De&&Se===it)){if(he<qe)do Fe(q,Se,q.bl_tree);while(--he!=0);else Se!==0?(Se!==Ye&&(Fe(q,Se,q.bl_tree),he--),Fe(q,de,q.bl_tree),Ke(q,he-3,2)):he<=10?(Fe(q,le,q.bl_tree),Ke(q,he-3,3)):(Fe(q,ye,q.bl_tree),Ke(q,he-11,7));he=0,Ye=Se,it===0?(De=138,qe=3):Se===it?(De=6,qe=3):(De=7,qe=4)}}function lt(q){var pe;for(Xe(q,q.dyn_ltree,q.l_desc.max_code),Xe(q,q.dyn_dtree,q.d_desc.max_code),Ze(q,q.bl_desc),pe=X-1;pe>=3&&q.bl_tree[2*be[pe]+1]===0;pe--);return q.opt_len+=3*(pe+1)+5+5+4,pe}function ot(q,pe,ne,Ce){var Se;for(Ke(q,pe-257,5),Ke(q,ne-1,5),Ke(q,Ce-4,4),Se=0;Se<Ce;Se++)Ke(q,q.bl_tree[2*be[Se]+1],3);nt(q,q.dyn_ltree,pe-1),nt(q,q.dyn_dtree,ne-1)}function dt(q){var pe,ne=4093624447;for(pe=0;pe<=31;pe++,ne>>>=1)if(1&ne&&q.dyn_ltree[2*pe]!==0)return P;if(q.dyn_ltree[18]!==0||q.dyn_ltree[20]!==0||q.dyn_ltree[26]!==0)return F;for(pe=32;pe<Q;pe++)if(q.dyn_ltree[2*pe]!==0)return F;return P}$(We);var ut=!1;function we(q){ut||(_e(),ut=!0),q.l_desc=new ze(q.dyn_ltree,Me),q.d_desc=new ze(q.dyn_dtree,je),q.bl_desc=new ze(q.bl_tree,Ne),q.bi_buf=0,q.bi_valid=0,Te(q)}function et(q,pe,ne,Ce){Ke(q,(V<<1)+(Ce?1:0),3),re(q,pe,ne)}function rt(q){Ke(q,j<<1,3),Fe(q,se,ve),$e(q)}function at(q,pe,ne,Ce){var Se,Ye,it=0;q.level>0?(q.strm.data_type===D&&(q.strm.data_type=dt(q)),Ze(q,q.l_desc),Ze(q,q.d_desc),it=lt(q),Se=q.opt_len+3+7>>>3,(Ye=q.static_len+3+7>>>3)<=Se&&(Se=Ye)):Se=Ye=ne+5,ne+4<=Se&&pe!==-1?et(q,pe,ne,Ce):q.strategy===I||Ye===Se?(Ke(q,(j<<1)+(Ce?1:0),3),xe(q,ve,Re)):(Ke(q,(G<<1)+(Ce?1:0),3),ot(q,q.l_desc.max_code+1,q.d_desc.max_code+1,it+1),xe(q,q.dyn_ltree,q.dyn_dtree)),Te(q),Ce&&Be(q)}function H(q,pe,ne){return q.pending_buf[q.d_buf+2*q.last_lit]=pe>>>8&255,q.pending_buf[q.d_buf+2*q.last_lit+1]=255&pe,q.pending_buf[q.l_buf+q.last_lit]=255&ne,q.last_lit++,pe===0?q.dyn_ltree[2*ne]++:(q.matches++,pe--,q.dyn_ltree[2*(Ae[ne]+Q+1)]++,q.dyn_dtree[2*Le(pe)]++),q.last_lit===q.lit_bufsize-1}g._tr_init=we,g._tr_stored_block=et,g._tr_flush_block=at,g._tr_tally=H,g._tr_align=rt},{"../utils/common":52}],62:[function(d,m,g){function w(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}m.exports=w},{}],63:[function(d,m,g){var w,I,P=m.exports={};function F(){throw new Error("setTimeout has not been defined")}function D(){throw new Error("clearTimeout has not been defined")}function $(X){if(w===setTimeout)return setTimeout(X,0);if((w===F||!w)&&setTimeout)return w=setTimeout,setTimeout(X,0);try{return w(X,0)}catch{try{return w.call(null,X,0)}catch{return w.call(this,X,0)}}}function V(X){if(I===clearTimeout)return clearTimeout(X);if((I===D||!I)&&clearTimeout)return I=clearTimeout,clearTimeout(X);try{return I(X)}catch{try{return I.call(null,X)}catch{return I.call(this,X)}}}(function(){try{w=typeof setTimeout=="function"?setTimeout:F}catch{w=F}try{I=typeof clearTimeout=="function"?clearTimeout:D}catch{I=D}})();var j,G=[],W=!1,Z=-1;function U(){W&&j&&(W=!1,j.length?G=j.concat(G):Z=-1,G.length&&Q())}function Q(){if(!W){var X=$(U);W=!0;for(var J=G.length;J;){for(j=G,G=[];++Z<J;)j&&j[Z].run();Z=-1,J=G.length}j=null,W=!1,V(X)}}function K(X,J){this.fun=X,this.array=J}function te(){}P.nextTick=function(X){var J=new Array(arguments.length-1);if(arguments.length>1)for(var ee=1;ee<arguments.length;ee++)J[ee-1]=arguments[ee];G.push(new K(X,J)),G.length!==1||W||$(Q)},K.prototype.run=function(){this.fun.apply(null,this.array)},P.title="browser",P.browser=!0,P.env={},P.argv=[],P.version="",P.versions={},P.on=te,P.addListener=te,P.once=te,P.off=te,P.removeListener=te,P.removeAllListeners=te,P.emit=te,P.prependListener=te,P.prependOnceListener=te,P.listeners=function(X){return[]},P.binding=function(X){throw new Error("process.binding is not supported")},P.cwd=function(){return"/"},P.chdir=function(X){throw new Error("process.chdir is not supported")},P.umask=function(){return 0}},{}],64:[function(d,m,g){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var w=d("buffer"),I=w.Buffer;function P(D,$){for(var V in D)$[V]=D[V]}function F(D,$,V){return I(D,$,V)}I.from&&I.alloc&&I.allocUnsafe&&I.allocUnsafeSlow?m.exports=w:(P(w,g),g.Buffer=F),F.prototype=Object.create(I.prototype),P(I,F),F.from=function(D,$,V){if(typeof D=="number")throw new TypeError("Argument must not be a number");return I(D,$,V)},F.alloc=function(D,$,V){if(typeof D!="number")throw new TypeError("Argument must be a number");var j=I(D);return $!==void 0?typeof V=="string"?j.fill($,V):j.fill($):j.fill(0),j},F.allocUnsafe=function(D){if(typeof D!="number")throw new TypeError("Argument must be a number");return I(D)},F.allocUnsafeSlow=function(D){if(typeof D!="number")throw new TypeError("Argument must be a number");return w.SlowBuffer(D)}},{buffer:32}],65:[function(d,m,g){m.exports=I;var w=d("events").EventEmitter;function I(){w.call(this)}d("inherits")(I,w),I.Readable=d("readable-stream/lib/_stream_readable.js"),I.Writable=d("readable-stream/lib/_stream_writable.js"),I.Duplex=d("readable-stream/lib/_stream_duplex.js"),I.Transform=d("readable-stream/lib/_stream_transform.js"),I.PassThrough=d("readable-stream/lib/_stream_passthrough.js"),I.finished=d("readable-stream/lib/internal/streams/end-of-stream.js"),I.pipeline=d("readable-stream/lib/internal/streams/pipeline.js"),I.Stream=I,I.prototype.pipe=function(P,F){var D=this;function $(Q){P.writable&&P.write(Q)===!1&&D.pause&&D.pause()}function V(){D.readable&&D.resume&&D.resume()}D.on("data",$),P.on("drain",V),P._isStdio||F&&F.end===!1||(D.on("end",G),D.on("close",W));var j=!1;function G(){j||(j=!0,P.end())}function W(){j||(j=!0,typeof P.destroy=="function"&&P.destroy())}function Z(Q){if(U(),w.listenerCount(this,"error")===0)throw Q}function U(){D.removeListener("data",$),P.removeListener("drain",V),D.removeListener("end",G),D.removeListener("close",W),D.removeListener("error",Z),P.removeListener("error",Z),D.removeListener("end",U),D.removeListener("close",U),P.removeListener("close",U)}return D.on("error",Z),P.on("error",Z),D.on("end",U),D.on("close",U),P.on("close",U),P.emit("pipe",D),P}},{events:35,inherits:46,"readable-stream/lib/_stream_duplex.js":67,"readable-stream/lib/_stream_passthrough.js":68,"readable-stream/lib/_stream_readable.js":69,"readable-stream/lib/_stream_transform.js":70,"readable-stream/lib/_stream_writable.js":71,"readable-stream/lib/internal/streams/end-of-stream.js":75,"readable-stream/lib/internal/streams/pipeline.js":77}],66:[function(d,m,g){function w(j,G){j.prototype=Object.create(G.prototype),j.prototype.constructor=j,j.__proto__=G}var I={};function P(j,G,W){function Z(Q,K,te){return typeof G=="string"?G:G(Q,K,te)}W||(W=Error);var U=function(Q){function K(te,X,J){return Q.call(this,Z(te,X,J))||this}return w(K,Q),K}(W);U.prototype.name=W.name,U.prototype.code=j,I[j]=U}function F(j,G){if(Array.isArray(j)){var W=j.length;return j=j.map(function(Z){return String(Z)}),W>2?"one of ".concat(G," ").concat(j.slice(0,W-1).join(", "),", or ")+j[W-1]:W===2?"one of ".concat(G," ").concat(j[0]," or ").concat(j[1]):"of ".concat(G," ").concat(j[0])}return"of ".concat(G," ").concat(String(j))}function D(j,G,W){return j.substr(0,G.length)===G}function $(j,G,W){return(W===void 0||W>j.length)&&(W=j.length),j.substring(W-G.length,W)===G}function V(j,G,W){return typeof W!="number"&&(W=0),!(W+G.length>j.length)&&j.indexOf(G,W)!==-1}P("ERR_INVALID_OPT_VALUE",function(j,G){return'The value "'+G+'" is invalid for option "'+j+'"'},TypeError),P("ERR_INVALID_ARG_TYPE",function(j,G,W){var Z,U;if(typeof G=="string"&&D(G,"not ")?(Z="must not be",G=G.replace(/^not /,"")):Z="must be",$(j," argument"))U="The ".concat(j," ").concat(Z," ").concat(F(G,"type"));else{var Q=V(j,".")?"property":"argument";U='The "'.concat(j,'" ').concat(Q," ").concat(Z," ").concat(F(G,"type"))}return U+=". Received type ".concat(typeof W)},TypeError),P("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),P("ERR_METHOD_NOT_IMPLEMENTED",function(j){return"The "+j+" method is not implemented"}),P("ERR_STREAM_PREMATURE_CLOSE","Premature close"),P("ERR_STREAM_DESTROYED",function(j){return"Cannot call "+j+" after a stream was destroyed"}),P("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),P("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),P("ERR_STREAM_WRITE_AFTER_END","write after end"),P("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),P("ERR_UNKNOWN_ENCODING",function(j){return"Unknown encoding: "+j},TypeError),P("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),m.exports.codes=I},{}],67:[function(d,m,g){(function(w){(function(){var I=Object.keys||function(Z){var U=[];for(var Q in Z)U.push(Q);return U};m.exports=j;var P=d("./_stream_readable"),F=d("./_stream_writable");d("inherits")(j,P);for(var D=I(F.prototype),$=0;$<D.length;$++){var V=D[$];j.prototype[V]||(j.prototype[V]=F.prototype[V])}function j(Z){if(!(this instanceof j))return new j(Z);P.call(this,Z),F.call(this,Z),this.allowHalfOpen=!0,Z&&(Z.readable===!1&&(this.readable=!1),Z.writable===!1&&(this.writable=!1),Z.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",G)))}function G(){this._writableState.ended||w.nextTick(W,this)}function W(Z){Z.end()}Object.defineProperty(j.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(j.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(j.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(Z){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=Z,this._writableState.destroyed=Z)}})}).call(this)}).call(this,d("_process"))},{"./_stream_readable":69,"./_stream_writable":71,_process:63,inherits:46}],68:[function(d,m,g){m.exports=I;var w=d("./_stream_transform");function I(P){if(!(this instanceof I))return new I(P);w.call(this,P)}d("inherits")(I,w),I.prototype._transform=function(P,F,D){D(null,P)}},{"./_stream_transform":70,inherits:46}],69:[function(d,m,g){(function(w,I){(function(){var P;m.exports=Pe,Pe.ReadableState=ge,d("events").EventEmitter;var F=function(_e,Te){return _e.listeners(Te).length},D=d("./internal/streams/stream"),$=d("buffer").Buffer,V=I.Uint8Array||function(){};function j(_e){return $.from(_e)}function G(_e){return $.isBuffer(_e)||_e instanceof V}var W,Z=d("util");W=Z&&Z.debuglog?Z.debuglog("stream"):function(){};var U,Q,K,te=d("./internal/streams/buffer_list"),X=d("./internal/streams/destroy"),J=d("./internal/streams/state").getHighWaterMark,ee=d("../errors").codes,ie=ee.ERR_INVALID_ARG_TYPE,fe=ee.ERR_STREAM_PUSH_AFTER_EOF,se=ee.ERR_METHOD_NOT_IMPLEMENTED,de=ee.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;d("inherits")(Pe,D);var le=X.errorOrDestroy,ye=["error","close","destroy","pause","resume"];function ae(_e,Te,Be){if(typeof _e.prependListener=="function")return _e.prependListener(Te,Be);_e._events&&_e._events[Te]?Array.isArray(_e._events[Te])?_e._events[Te].unshift(Be):_e._events[Te]=[Be,_e._events[Te]]:_e.on(Te,Be)}function ge(_e,Te,Be){P=P||d("./_stream_duplex"),_e=_e||{},typeof Be!="boolean"&&(Be=Te instanceof P),this.objectMode=!!_e.objectMode,Be&&(this.objectMode=this.objectMode||!!_e.readableObjectMode),this.highWaterMark=J(this,_e,"readableHighWaterMark",Be),this.buffer=new te,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=_e.emitClose!==!1,this.autoDestroy=!!_e.autoDestroy,this.destroyed=!1,this.defaultEncoding=_e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,_e.encoding&&(U||(U=d("string_decoder/").StringDecoder),this.decoder=new U(_e.encoding),this.encoding=_e.encoding)}function Pe(_e){if(P=P||d("./_stream_duplex"),!(this instanceof Pe))return new Pe(_e);var Te=this instanceof P;this._readableState=new ge(_e,this,Te),this.readable=!0,_e&&(typeof _e.read=="function"&&(this._read=_e.read),typeof _e.destroy=="function"&&(this._destroy=_e.destroy)),D.call(this)}function be(_e,Te,Be,re,me){W("readableAddChunk",Te);var Ie,xe=_e._readableState;if(Te===null)xe.reading=!1,He(_e,xe);else if(me||(Ie=ve(xe,Te)),Ie)le(_e,Ie);else if(xe.objectMode||Te&&Te.length>0)if(typeof Te=="string"||xe.objectMode||Object.getPrototypeOf(Te)===$.prototype||(Te=j(Te)),re)xe.endEmitted?le(_e,new de):Ee(_e,xe,Te,!0);else if(xe.ended)le(_e,new fe);else{if(xe.destroyed)return!1;xe.reading=!1,xe.decoder&&!Be?(Te=xe.decoder.write(Te),xe.objectMode||Te.length!==0?Ee(_e,xe,Te,!1):Ne(_e,xe)):Ee(_e,xe,Te,!1)}else re||(xe.reading=!1,Ne(_e,xe));return!xe.ended&&(xe.length<xe.highWaterMark||xe.length===0)}function Ee(_e,Te,Be,re){Te.flowing&&Te.length===0&&!Te.sync?(Te.awaitDrain=0,_e.emit("data",Be)):(Te.length+=Te.objectMode?1:Be.length,re?Te.buffer.unshift(Be):Te.buffer.push(Be),Te.needReadable&&Me(_e)),Ne(_e,Te)}function ve(_e,Te){var Be;return G(Te)||typeof Te=="string"||Te===void 0||_e.objectMode||(Be=new ie("chunk",["string","Buffer","Uint8Array"],Te)),Be}Object.defineProperty(Pe.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(_e){this._readableState&&(this._readableState.destroyed=_e)}}),Pe.prototype.destroy=X.destroy,Pe.prototype._undestroy=X.undestroy,Pe.prototype._destroy=function(_e,Te){Te(_e)},Pe.prototype.push=function(_e,Te){var Be,re=this._readableState;return re.objectMode?Be=!0:typeof _e=="string"&&((Te=Te||re.defaultEncoding)!==re.encoding&&(_e=$.from(_e,Te),Te=""),Be=!0),be(this,_e,Te,!1,Be)},Pe.prototype.unshift=function(_e){return be(this,_e,null,!0,!1)},Pe.prototype.isPaused=function(){return this._readableState.flowing===!1},Pe.prototype.setEncoding=function(_e){U||(U=d("string_decoder/").StringDecoder);var Te=new U(_e);this._readableState.decoder=Te,this._readableState.encoding=this._readableState.decoder.encoding;for(var Be=this._readableState.buffer.head,re="";Be!==null;)re+=Te.write(Be.data),Be=Be.next;return this._readableState.buffer.clear(),re!==""&&this._readableState.buffer.push(re),this._readableState.length=re.length,this};var Re=1073741824;function Oe(_e){return _e>=Re?_e=Re:(_e--,_e|=_e>>>1,_e|=_e>>>2,_e|=_e>>>4,_e|=_e>>>8,_e|=_e>>>16,_e++),_e}function Ae(_e,Te){return _e<=0||Te.length===0&&Te.ended?0:Te.objectMode?1:_e!=_e?Te.flowing&&Te.length?Te.buffer.head.data.length:Te.length:(_e>Te.highWaterMark&&(Te.highWaterMark=Oe(_e)),_e<=Te.length?_e:Te.ended?Te.length:(Te.needReadable=!0,0))}function He(_e,Te){if(W("onEofChunk"),!Te.ended){if(Te.decoder){var Be=Te.decoder.end();Be&&Be.length&&(Te.buffer.push(Be),Te.length+=Te.objectMode?1:Be.length)}Te.ended=!0,Te.sync?Me(_e):(Te.needReadable=!1,Te.emittedReadable||(Te.emittedReadable=!0,je(_e)))}}function Me(_e){var Te=_e._readableState;W("emitReadable",Te.needReadable,Te.emittedReadable),Te.needReadable=!1,Te.emittedReadable||(W("emitReadable",Te.flowing),Te.emittedReadable=!0,w.nextTick(je,_e))}function je(_e){var Te=_e._readableState;W("emitReadable_",Te.destroyed,Te.length,Te.ended),Te.destroyed||!Te.length&&!Te.ended||(_e.emit("readable"),Te.emittedReadable=!1),Te.needReadable=!Te.flowing&&!Te.ended&&Te.length<=Te.highWaterMark,Fe(_e)}function Ne(_e,Te){Te.readingMore||(Te.readingMore=!0,w.nextTick(We,_e,Te))}function We(_e,Te){for(;!Te.reading&&!Te.ended&&(Te.length<Te.highWaterMark||Te.flowing&&Te.length===0);){var Be=Te.length;if(W("maybeReadMore read 0"),_e.read(0),Be===Te.length)break}Te.readingMore=!1}function Ve(_e){return function(){var Te=_e._readableState;W("pipeOnDrain",Te.awaitDrain),Te.awaitDrain&&Te.awaitDrain--,Te.awaitDrain===0&&F(_e,"data")&&(Te.flowing=!0,Fe(_e))}}function ze(_e){var Te=_e._readableState;Te.readableListening=_e.listenerCount("readable")>0,Te.resumeScheduled&&!Te.paused?Te.flowing=!0:_e.listenerCount("data")>0&&_e.resume()}function Le(_e){W("readable nexttick read 0"),_e.read(0)}function Qe(_e,Te){Te.resumeScheduled||(Te.resumeScheduled=!0,w.nextTick(Ke,_e,Te))}function Ke(_e,Te){W("resume",Te.reading),Te.reading||_e.read(0),Te.resumeScheduled=!1,_e.emit("resume"),Fe(_e),Te.flowing&&!Te.reading&&_e.read(0)}function Fe(_e){var Te=_e._readableState;for(W("flow",Te.flowing);Te.flowing&&_e.read()!==null;);}function ce(_e,Te){return Te.length===0?null:(Te.objectMode?Be=Te.buffer.shift():!_e||_e>=Te.length?(Be=Te.decoder?Te.buffer.join(""):Te.buffer.length===1?Te.buffer.first():Te.buffer.concat(Te.length),Te.buffer.clear()):Be=Te.buffer.consume(_e,Te.decoder),Be);var Be}function $e(_e){var Te=_e._readableState;W("endReadable",Te.endEmitted),Te.endEmitted||(Te.ended=!0,w.nextTick(oe,Te,_e))}function oe(_e,Te){if(W("endReadableNT",_e.endEmitted,_e.length),!_e.endEmitted&&_e.length===0&&(_e.endEmitted=!0,Te.readable=!1,Te.emit("end"),_e.autoDestroy)){var Be=Te._writableState;(!Be||Be.autoDestroy&&Be.finished)&&Te.destroy()}}function ue(_e,Te){for(var Be=0,re=_e.length;Be<re;Be++)if(_e[Be]===Te)return Be;return-1}Pe.prototype.read=function(_e){W("read",_e),_e=parseInt(_e,10);var Te=this._readableState,Be=_e;if(_e!==0&&(Te.emittedReadable=!1),_e===0&&Te.needReadable&&((Te.highWaterMark!==0?Te.length>=Te.highWaterMark:Te.length>0)||Te.ended))return W("read: emitReadable",Te.length,Te.ended),Te.length===0&&Te.ended?$e(this):Me(this),null;if((_e=Ae(_e,Te))===0&&Te.ended)return Te.length===0&&$e(this),null;var re,me=Te.needReadable;return W("need readable",me),(Te.length===0||Te.length-_e<Te.highWaterMark)&&W("length less than watermark",me=!0),Te.ended||Te.reading?W("reading or ended",me=!1):me&&(W("do read"),Te.reading=!0,Te.sync=!0,Te.length===0&&(Te.needReadable=!0),this._read(Te.highWaterMark),Te.sync=!1,Te.reading||(_e=Ae(Be,Te))),(re=_e>0?ce(_e,Te):null)===null?(Te.needReadable=Te.length<=Te.highWaterMark,_e=0):(Te.length-=_e,Te.awaitDrain=0),Te.length===0&&(Te.ended||(Te.needReadable=!0),Be!==_e&&Te.ended&&$e(this)),re!==null&&this.emit("data",re),re},Pe.prototype._read=function(_e){le(this,new se("_read()"))},Pe.prototype.pipe=function(_e,Te){var Be=this,re=this._readableState;switch(re.pipesCount){case 0:re.pipes=_e;break;case 1:re.pipes=[re.pipes,_e];break;default:re.pipes.push(_e)}re.pipesCount+=1,W("pipe count=%d opts=%j",re.pipesCount,Te);var me=Te&&Te.end===!1||_e===w.stdout||_e===w.stderr?we:xe;function Ie(et,rt){W("onunpipe"),et===Be&&rt&&rt.hasUnpiped===!1&&(rt.hasUnpiped=!0,nt())}function xe(){W("onend"),_e.end()}re.endEmitted?w.nextTick(me):Be.once("end",me),_e.on("unpipe",Ie);var Ze=Ve(Be);_e.on("drain",Ze);var Xe=!1;function nt(){W("cleanup"),_e.removeListener("close",dt),_e.removeListener("finish",ut),_e.removeListener("drain",Ze),_e.removeListener("error",ot),_e.removeListener("unpipe",Ie),Be.removeListener("end",xe),Be.removeListener("end",we),Be.removeListener("data",lt),Xe=!0,!re.awaitDrain||_e._writableState&&!_e._writableState.needDrain||Ze()}function lt(et){W("ondata");var rt=_e.write(et);W("dest.write",rt),rt===!1&&((re.pipesCount===1&&re.pipes===_e||re.pipesCount>1&&ue(re.pipes,_e)!==-1)&&!Xe&&(W("false write response, pause",re.awaitDrain),re.awaitDrain++),Be.pause())}function ot(et){W("onerror",et),we(),_e.removeListener("error",ot),F(_e,"error")===0&&le(_e,et)}function dt(){_e.removeListener("finish",ut),we()}function ut(){W("onfinish"),_e.removeListener("close",dt),we()}function we(){W("unpipe"),Be.unpipe(_e)}return Be.on("data",lt),ae(_e,"error",ot),_e.once("close",dt),_e.once("finish",ut),_e.emit("pipe",Be),re.flowing||(W("pipe resume"),Be.resume()),_e},Pe.prototype.unpipe=function(_e){var Te=this._readableState,Be={hasUnpiped:!1};if(Te.pipesCount===0)return this;if(Te.pipesCount===1)return _e&&_e!==Te.pipes||(_e||(_e=Te.pipes),Te.pipes=null,Te.pipesCount=0,Te.flowing=!1,_e&&_e.emit("unpipe",this,Be)),this;if(!_e){var re=Te.pipes,me=Te.pipesCount;Te.pipes=null,Te.pipesCount=0,Te.flowing=!1;for(var Ie=0;Ie<me;Ie++)re[Ie].emit("unpipe",this,{hasUnpiped:!1});return this}var xe=ue(Te.pipes,_e);return xe===-1||(Te.pipes.splice(xe,1),Te.pipesCount-=1,Te.pipesCount===1&&(Te.pipes=Te.pipes[0]),_e.emit("unpipe",this,Be)),this},Pe.prototype.on=function(_e,Te){var Be=D.prototype.on.call(this,_e,Te),re=this._readableState;return _e==="data"?(re.readableListening=this.listenerCount("readable")>0,re.flowing!==!1&&this.resume()):_e==="readable"&&(re.endEmitted||re.readableListening||(re.readableListening=re.needReadable=!0,re.flowing=!1,re.emittedReadable=!1,W("on readable",re.length,re.reading),re.length?Me(this):re.reading||w.nextTick(Le,this))),Be},Pe.prototype.addListener=Pe.prototype.on,Pe.prototype.removeListener=function(_e,Te){var Be=D.prototype.removeListener.call(this,_e,Te);return _e==="readable"&&w.nextTick(ze,this),Be},Pe.prototype.removeAllListeners=function(_e){var Te=D.prototype.removeAllListeners.apply(this,arguments);return _e!=="readable"&&_e!==void 0||w.nextTick(ze,this),Te},Pe.prototype.resume=function(){var _e=this._readableState;return _e.flowing||(W("resume"),_e.flowing=!_e.readableListening,Qe(this,_e)),_e.paused=!1,this},Pe.prototype.pause=function(){return W("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(W("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},Pe.prototype.wrap=function(_e){var Te=this,Be=this._readableState,re=!1;for(var me in _e.on("end",function(){if(W("wrapped end"),Be.decoder&&!Be.ended){var xe=Be.decoder.end();xe&&xe.length&&Te.push(xe)}Te.push(null)}),_e.on("data",function(xe){W("wrapped data"),Be.decoder&&(xe=Be.decoder.write(xe)),Be.objectMode&&xe==null||(Be.objectMode||xe&&xe.length)&&(Te.push(xe)||(re=!0,_e.pause()))}),_e)this[me]===void 0&&typeof _e[me]=="function"&&(this[me]=function(xe){return function(){return _e[xe].apply(_e,arguments)}}(me));for(var Ie=0;Ie<ye.length;Ie++)_e.on(ye[Ie],this.emit.bind(this,ye[Ie]));return this._read=function(xe){W("wrapped _read",xe),re&&(re=!1,_e.resume())},this},typeof Symbol=="function"&&(Pe.prototype[Symbol.asyncIterator]=function(){return Q===void 0&&(Q=d("./internal/streams/async_iterator")),Q(this)}),Object.defineProperty(Pe.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Pe.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Pe.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(_e){this._readableState&&(this._readableState.flowing=_e)}}),Pe._fromList=ce,Object.defineProperty(Pe.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(Pe.from=function(_e,Te){return K===void 0&&(K=d("./internal/streams/from")),K(Pe,_e,Te)})}).call(this)}).call(this,d("_process"),commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":66,"./_stream_duplex":67,"./internal/streams/async_iterator":72,"./internal/streams/buffer_list":73,"./internal/streams/destroy":74,"./internal/streams/from":76,"./internal/streams/state":78,"./internal/streams/stream":79,_process:63,buffer:32,events:35,inherits:46,"string_decoder/":80,util:29}],70:[function(d,m,g){m.exports=j;var w=d("../errors").codes,I=w.ERR_METHOD_NOT_IMPLEMENTED,P=w.ERR_MULTIPLE_CALLBACK,F=w.ERR_TRANSFORM_ALREADY_TRANSFORMING,D=w.ERR_TRANSFORM_WITH_LENGTH_0,$=d("./_stream_duplex");function V(Z,U){var Q=this._transformState;Q.transforming=!1;var K=Q.writecb;if(K===null)return this.emit("error",new P);Q.writechunk=null,Q.writecb=null,U!=null&&this.push(U),K(Z);var te=this._readableState;te.reading=!1,(te.needReadable||te.length<te.highWaterMark)&&this._read(te.highWaterMark)}function j(Z){if(!(this instanceof j))return new j(Z);$.call(this,Z),this._transformState={afterTransform:V.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,Z&&(typeof Z.transform=="function"&&(this._transform=Z.transform),typeof Z.flush=="function"&&(this._flush=Z.flush)),this.on("prefinish",G)}function G(){var Z=this;typeof this._flush!="function"||this._readableState.destroyed?W(this,null,null):this._flush(function(U,Q){W(Z,U,Q)})}function W(Z,U,Q){if(U)return Z.emit("error",U);if(Q!=null&&Z.push(Q),Z._writableState.length)throw new D;if(Z._transformState.transforming)throw new F;return Z.push(null)}d("inherits")(j,$),j.prototype.push=function(Z,U){return this._transformState.needTransform=!1,$.prototype.push.call(this,Z,U)},j.prototype._transform=function(Z,U,Q){Q(new I("_transform()"))},j.prototype._write=function(Z,U,Q){var K=this._transformState;if(K.writecb=Q,K.writechunk=Z,K.writeencoding=U,!K.transforming){var te=this._readableState;(K.needTransform||te.needReadable||te.length<te.highWaterMark)&&this._read(te.highWaterMark)}},j.prototype._read=function(Z){var U=this._transformState;U.writechunk===null||U.transforming?U.needTransform=!0:(U.transforming=!0,this._transform(U.writechunk,U.writeencoding,U.afterTransform))},j.prototype._destroy=function(Z,U){$.prototype._destroy.call(this,Z,function(Q){U(Q)})}},{"../errors":66,"./_stream_duplex":67,inherits:46}],71:[function(d,m,g){(function(w,I){(function(){function P(Fe){var ce=this;this.next=null,this.entry=null,this.finish=function(){Ke(ce,Fe)}}var F;m.exports=ge,ge.WritableState=ae;var D={deprecate:d("util-deprecate")},$=d("./internal/streams/stream"),V=d("buffer").Buffer,j=I.Uint8Array||function(){};function G(Fe){return V.from(Fe)}function W(Fe){return V.isBuffer(Fe)||Fe instanceof j}var Z,U=d("./internal/streams/destroy"),Q=d("./internal/streams/state").getHighWaterMark,K=d("../errors").codes,te=K.ERR_INVALID_ARG_TYPE,X=K.ERR_METHOD_NOT_IMPLEMENTED,J=K.ERR_MULTIPLE_CALLBACK,ee=K.ERR_STREAM_CANNOT_PIPE,ie=K.ERR_STREAM_DESTROYED,fe=K.ERR_STREAM_NULL_VALUES,se=K.ERR_STREAM_WRITE_AFTER_END,de=K.ERR_UNKNOWN_ENCODING,le=U.errorOrDestroy;function ye(){}function ae(Fe,ce,$e){F=F||d("./_stream_duplex"),Fe=Fe||{},typeof $e!="boolean"&&($e=ce instanceof F),this.objectMode=!!Fe.objectMode,$e&&(this.objectMode=this.objectMode||!!Fe.writableObjectMode),this.highWaterMark=Q(this,Fe,"writableHighWaterMark",$e),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var oe=Fe.decodeStrings===!1;this.decodeStrings=!oe,this.defaultEncoding=Fe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ue){He(ce,ue)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Fe.emitClose!==!1,this.autoDestroy=!!Fe.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new P(this)}function ge(Fe){var ce=this instanceof(F=F||d("./_stream_duplex"));if(!ce&&!Z.call(ge,this))return new ge(Fe);this._writableState=new ae(Fe,this,ce),this.writable=!0,Fe&&(typeof Fe.write=="function"&&(this._write=Fe.write),typeof Fe.writev=="function"&&(this._writev=Fe.writev),typeof Fe.destroy=="function"&&(this._destroy=Fe.destroy),typeof Fe.final=="function"&&(this._final=Fe.final)),$.call(this)}function Pe(Fe,ce){var $e=new se;le(Fe,$e),w.nextTick(ce,$e)}function be(Fe,ce,$e,oe){var ue;return $e===null?ue=new fe:typeof $e=="string"||ce.objectMode||(ue=new te("chunk",["string","Buffer"],$e)),!ue||(le(Fe,ue),w.nextTick(oe,ue),!1)}function Ee(Fe,ce,$e){return Fe.objectMode||Fe.decodeStrings===!1||typeof ce!="string"||(ce=V.from(ce,$e)),ce}function ve(Fe,ce,$e,oe,ue,_e){if(!$e){var Te=Ee(ce,oe,ue);oe!==Te&&($e=!0,ue="buffer",oe=Te)}var Be=ce.objectMode?1:oe.length;ce.length+=Be;var re=ce.length<ce.highWaterMark;if(re||(ce.needDrain=!0),ce.writing||ce.corked){var me=ce.lastBufferedRequest;ce.lastBufferedRequest={chunk:oe,encoding:ue,isBuf:$e,callback:_e,next:null},me?me.next=ce.lastBufferedRequest:ce.bufferedRequest=ce.lastBufferedRequest,ce.bufferedRequestCount+=1}else Re(Fe,ce,!1,Be,oe,ue,_e);return re}function Re(Fe,ce,$e,oe,ue,_e,Te){ce.writelen=oe,ce.writecb=Te,ce.writing=!0,ce.sync=!0,ce.destroyed?ce.onwrite(new ie("write")):$e?Fe._writev(ue,ce.onwrite):Fe._write(ue,_e,ce.onwrite),ce.sync=!1}function Oe(Fe,ce,$e,oe,ue){--ce.pendingcb,$e?(w.nextTick(ue,oe),w.nextTick(Le,Fe,ce),Fe._writableState.errorEmitted=!0,le(Fe,oe)):(ue(oe),Fe._writableState.errorEmitted=!0,le(Fe,oe),Le(Fe,ce))}function Ae(Fe){Fe.writing=!1,Fe.writecb=null,Fe.length-=Fe.writelen,Fe.writelen=0}function He(Fe,ce){var $e=Fe._writableState,oe=$e.sync,ue=$e.writecb;if(typeof ue!="function")throw new J;if(Ae($e),ce)Oe(Fe,$e,oe,ce,ue);else{var _e=We($e)||Fe.destroyed;_e||$e.corked||$e.bufferProcessing||!$e.bufferedRequest||Ne(Fe,$e),oe?w.nextTick(Me,Fe,$e,_e,ue):Me(Fe,$e,_e,ue)}}function Me(Fe,ce,$e,oe){$e||je(Fe,ce),ce.pendingcb--,oe(),Le(Fe,ce)}function je(Fe,ce){ce.length===0&&ce.needDrain&&(ce.needDrain=!1,Fe.emit("drain"))}function Ne(Fe,ce){ce.bufferProcessing=!0;var $e=ce.bufferedRequest;if(Fe._writev&&$e&&$e.next){var oe=ce.bufferedRequestCount,ue=new Array(oe),_e=ce.corkedRequestsFree;_e.entry=$e;for(var Te=0,Be=!0;$e;)ue[Te]=$e,$e.isBuf||(Be=!1),$e=$e.next,Te+=1;ue.allBuffers=Be,Re(Fe,ce,!0,ce.length,ue,"",_e.finish),ce.pendingcb++,ce.lastBufferedRequest=null,_e.next?(ce.corkedRequestsFree=_e.next,_e.next=null):ce.corkedRequestsFree=new P(ce),ce.bufferedRequestCount=0}else{for(;$e;){var re=$e.chunk,me=$e.encoding,Ie=$e.callback;if(Re(Fe,ce,!1,ce.objectMode?1:re.length,re,me,Ie),$e=$e.next,ce.bufferedRequestCount--,ce.writing)break}$e===null&&(ce.lastBufferedRequest=null)}ce.bufferedRequest=$e,ce.bufferProcessing=!1}function We(Fe){return Fe.ending&&Fe.length===0&&Fe.bufferedRequest===null&&!Fe.finished&&!Fe.writing}function Ve(Fe,ce){Fe._final(function($e){ce.pendingcb--,$e&&le(Fe,$e),ce.prefinished=!0,Fe.emit("prefinish"),Le(Fe,ce)})}function ze(Fe,ce){ce.prefinished||ce.finalCalled||(typeof Fe._final!="function"||ce.destroyed?(ce.prefinished=!0,Fe.emit("prefinish")):(ce.pendingcb++,ce.finalCalled=!0,w.nextTick(Ve,Fe,ce)))}function Le(Fe,ce){var $e=We(ce);if($e&&(ze(Fe,ce),ce.pendingcb===0&&(ce.finished=!0,Fe.emit("finish"),ce.autoDestroy))){var oe=Fe._readableState;(!oe||oe.autoDestroy&&oe.endEmitted)&&Fe.destroy()}return $e}function Qe(Fe,ce,$e){ce.ending=!0,Le(Fe,ce),$e&&(ce.finished?w.nextTick($e):Fe.once("finish",$e)),ce.ended=!0,Fe.writable=!1}function Ke(Fe,ce,$e){var oe=Fe.entry;for(Fe.entry=null;oe;){var ue=oe.callback;ce.pendingcb--,ue($e),oe=oe.next}ce.corkedRequestsFree.next=Fe}d("inherits")(ge,$),ae.prototype.getBuffer=function(){for(var Fe=this.bufferedRequest,ce=[];Fe;)ce.push(Fe),Fe=Fe.next;return ce},function(){try{Object.defineProperty(ae.prototype,"buffer",{get:D.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Z=Function.prototype[Symbol.hasInstance],Object.defineProperty(ge,Symbol.hasInstance,{value:function(Fe){return!!Z.call(this,Fe)||this===ge&&Fe&&Fe._writableState instanceof ae}})):Z=function(Fe){return Fe instanceof this},ge.prototype.pipe=function(){le(this,new ee)},ge.prototype.write=function(Fe,ce,$e){var oe=this._writableState,ue=!1,_e=!oe.objectMode&&W(Fe);return _e&&!V.isBuffer(Fe)&&(Fe=G(Fe)),typeof ce=="function"&&($e=ce,ce=null),_e?ce="buffer":ce||(ce=oe.defaultEncoding),typeof $e!="function"&&($e=ye),oe.ending?Pe(this,$e):(_e||be(this,oe,Fe,$e))&&(oe.pendingcb++,ue=ve(this,oe,_e,Fe,ce,$e)),ue},ge.prototype.cork=function(){this._writableState.corked++},ge.prototype.uncork=function(){var Fe=this._writableState;Fe.corked&&(Fe.corked--,Fe.writing||Fe.corked||Fe.bufferProcessing||!Fe.bufferedRequest||Ne(this,Fe))},ge.prototype.setDefaultEncoding=function(Fe){if(typeof Fe=="string"&&(Fe=Fe.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Fe+"").toLowerCase())>-1))throw new de(Fe);return this._writableState.defaultEncoding=Fe,this},Object.defineProperty(ge.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(ge.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),ge.prototype._write=function(Fe,ce,$e){$e(new X("_write()"))},ge.prototype._writev=null,ge.prototype.end=function(Fe,ce,$e){var oe=this._writableState;return typeof Fe=="function"?($e=Fe,Fe=null,ce=null):typeof ce=="function"&&($e=ce,ce=null),Fe!=null&&this.write(Fe,ce),oe.corked&&(oe.corked=1,this.uncork()),oe.ending||Qe(this,oe,$e),this},Object.defineProperty(ge.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(ge.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Fe){this._writableState&&(this._writableState.destroyed=Fe)}}),ge.prototype.destroy=U.destroy,ge.prototype._undestroy=U.undestroy,ge.prototype._destroy=function(Fe,ce){ce(Fe)}}).call(this)}).call(this,d("_process"),commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":66,"./_stream_duplex":67,"./internal/streams/destroy":74,"./internal/streams/state":78,"./internal/streams/stream":79,_process:63,buffer:32,inherits:46,"util-deprecate":81}],72:[function(d,m,g){(function(w){(function(){var I;function P(ie,fe,se){return fe in ie?Object.defineProperty(ie,fe,{value:se,enumerable:!0,configurable:!0,writable:!0}):ie[fe]=se,ie}var F=d("./end-of-stream"),D=Symbol("lastResolve"),$=Symbol("lastReject"),V=Symbol("error"),j=Symbol("ended"),G=Symbol("lastPromise"),W=Symbol("handlePromise"),Z=Symbol("stream");function U(ie,fe){return{value:ie,done:fe}}function Q(ie){var fe=ie[D];if(fe!==null){var se=ie[Z].read();se!==null&&(ie[G]=null,ie[D]=null,ie[$]=null,fe(U(se,!1)))}}function K(ie){w.nextTick(Q,ie)}function te(ie,fe){return function(se,de){ie.then(function(){fe[j]?se(U(void 0,!0)):fe[W](se,de)},de)}}var X=Object.getPrototypeOf(function(){}),J=Object.setPrototypeOf((I={get stream(){return this[Z]},next:function(){var ie=this,fe=this[V];if(fe!==null)return Promise.reject(fe);if(this[j])return Promise.resolve(U(void 0,!0));if(this[Z].destroyed)return new Promise(function(ye,ae){w.nextTick(function(){ie[V]?ae(ie[V]):ye(U(void 0,!0))})});var se,de=this[G];if(de)se=new Promise(te(de,this));else{var le=this[Z].read();if(le!==null)return Promise.resolve(U(le,!1));se=new Promise(this[W])}return this[G]=se,se}},P(I,Symbol.asyncIterator,function(){return this}),P(I,"return",function(){var ie=this;return new Promise(function(fe,se){ie[Z].destroy(null,function(de){de?se(de):fe(U(void 0,!0))})})}),I),X),ee=function(ie){var fe,se=Object.create(J,(P(fe={},Z,{value:ie,writable:!0}),P(fe,D,{value:null,writable:!0}),P(fe,$,{value:null,writable:!0}),P(fe,V,{value:null,writable:!0}),P(fe,j,{value:ie._readableState.endEmitted,writable:!0}),P(fe,W,{value:function(de,le){var ye=se[Z].read();ye?(se[G]=null,se[D]=null,se[$]=null,de(U(ye,!1))):(se[D]=de,se[$]=le)},writable:!0}),fe));return se[G]=null,F(ie,function(de){if(de&&de.code!=="ERR_STREAM_PREMATURE_CLOSE"){var le=se[$];return le!==null&&(se[G]=null,se[D]=null,se[$]=null,le(de)),void(se[V]=de)}var ye=se[D];ye!==null&&(se[G]=null,se[D]=null,se[$]=null,ye(U(void 0,!0))),se[j]=!0}),ie.on("readable",K.bind(null,se)),se};m.exports=ee}).call(this)}).call(this,d("_process"))},{"./end-of-stream":75,_process:63}],73:[function(d,m,g){function w(Z,U){var Q=Object.keys(Z);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(Z);U&&(K=K.filter(function(te){return Object.getOwnPropertyDescriptor(Z,te).enumerable})),Q.push.apply(Q,K)}return Q}function I(Z){for(var U=1;U<arguments.length;U++){var Q=arguments[U]!=null?arguments[U]:{};U%2?w(Object(Q),!0).forEach(function(K){P(Z,K,Q[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(Q)):w(Object(Q)).forEach(function(K){Object.defineProperty(Z,K,Object.getOwnPropertyDescriptor(Q,K))})}return Z}function P(Z,U,Q){return U in Z?Object.defineProperty(Z,U,{value:Q,enumerable:!0,configurable:!0,writable:!0}):Z[U]=Q,Z}function F(Z,U){if(!(Z instanceof U))throw new TypeError("Cannot call a class as a function")}function D(Z,U){for(var Q=0;Q<U.length;Q++){var K=U[Q];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(Z,K.key,K)}}function $(Z,U,Q){return U&&D(Z.prototype,U),Z}var V=d("buffer").Buffer,j=d("util").inspect,G=j&&j.custom||"inspect";function W(Z,U,Q){V.prototype.copy.call(Z,U,Q)}m.exports=function(){function Z(){F(this,Z),this.head=null,this.tail=null,this.length=0}return $(Z,[{key:"push",value:function(U){var Q={data:U,next:null};this.length>0?this.tail.next=Q:this.head=Q,this.tail=Q,++this.length}},{key:"unshift",value:function(U){var Q={data:U,next:this.head};this.length===0&&(this.tail=Q),this.head=Q,++this.length}},{key:"shift",value:function(){if(this.length!==0){var U=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,U}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(U){if(this.length===0)return"";for(var Q=this.head,K=""+Q.data;Q=Q.next;)K+=U+Q.data;return K}},{key:"concat",value:function(U){if(this.length===0)return V.alloc(0);for(var Q=V.allocUnsafe(U>>>0),K=this.head,te=0;K;)W(K.data,Q,te),te+=K.data.length,K=K.next;return Q}},{key:"consume",value:function(U,Q){var K;return U<this.head.data.length?(K=this.head.data.slice(0,U),this.head.data=this.head.data.slice(U)):K=U===this.head.data.length?this.shift():Q?this._getString(U):this._getBuffer(U),K}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(U){var Q=this.head,K=1,te=Q.data;for(U-=te.length;Q=Q.next;){var X=Q.data,J=U>X.length?X.length:U;if(J===X.length?te+=X:te+=X.slice(0,U),(U-=J)==0){J===X.length?(++K,Q.next?this.head=Q.next:this.head=this.tail=null):(this.head=Q,Q.data=X.slice(J));break}++K}return this.length-=K,te}},{key:"_getBuffer",value:function(U){var Q=V.allocUnsafe(U),K=this.head,te=1;for(K.data.copy(Q),U-=K.data.length;K=K.next;){var X=K.data,J=U>X.length?X.length:U;if(X.copy(Q,Q.length-U,0,J),(U-=J)==0){J===X.length?(++te,K.next?this.head=K.next:this.head=this.tail=null):(this.head=K,K.data=X.slice(J));break}++te}return this.length-=te,Q}},{key:G,value:function(U,Q){return j(this,I({},Q,{depth:0,customInspect:!1}))}}]),Z}()},{buffer:32,util:29}],74:[function(d,m,g){(function(w){(function(){function I(j,G){var W=this,Z=this._readableState&&this._readableState.destroyed,U=this._writableState&&this._writableState.destroyed;return Z||U?(G?G(j):j&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,w.nextTick($,this,j)):w.nextTick($,this,j)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(j||null,function(Q){!G&&Q?W._writableState?W._writableState.errorEmitted?w.nextTick(F,W):(W._writableState.errorEmitted=!0,w.nextTick(P,W,Q)):w.nextTick(P,W,Q):G?(w.nextTick(F,W),G(Q)):w.nextTick(F,W)}),this)}function P(j,G){$(j,G),F(j)}function F(j){j._writableState&&!j._writableState.emitClose||j._readableState&&!j._readableState.emitClose||j.emit("close")}function D(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function $(j,G){j.emit("error",G)}function V(j,G){var W=j._readableState,Z=j._writableState;W&&W.autoDestroy||Z&&Z.autoDestroy?j.destroy(G):j.emit("error",G)}m.exports={destroy:I,undestroy:D,errorOrDestroy:V}}).call(this)}).call(this,d("_process"))},{_process:63}],75:[function(d,m,g){var w=d("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function I($){var V=!1;return function(){if(!V){V=!0;for(var j=arguments.length,G=new Array(j),W=0;W<j;W++)G[W]=arguments[W];$.apply(this,G)}}}function P(){}function F($){return $.setHeader&&typeof $.abort=="function"}function D($,V,j){if(typeof V=="function")return D($,null,V);V||(V={}),j=I(j||P);var G=V.readable||V.readable!==!1&&$.readable,W=V.writable||V.writable!==!1&&$.writable,Z=function(){$.writable||Q()},U=$._writableState&&$._writableState.finished,Q=function(){W=!1,U=!0,G||j.call($)},K=$._readableState&&$._readableState.endEmitted,te=function(){G=!1,K=!0,W||j.call($)},X=function(ie){j.call($,ie)},J=function(){var ie;return G&&!K?($._readableState&&$._readableState.ended||(ie=new w),j.call($,ie)):W&&!U?($._writableState&&$._writableState.ended||(ie=new w),j.call($,ie)):void 0},ee=function(){$.req.on("finish",Q)};return F($)?($.on("complete",Q),$.on("abort",J),$.req?ee():$.on("request",ee)):W&&!$._writableState&&($.on("end",Z),$.on("close",Z)),$.on("end",te),$.on("finish",Q),V.error!==!1&&$.on("error",X),$.on("close",J),function(){$.removeListener("complete",Q),$.removeListener("abort",J),$.removeListener("request",ee),$.req&&$.req.removeListener("finish",Q),$.removeListener("end",Z),$.removeListener("close",Z),$.removeListener("finish",Q),$.removeListener("end",te),$.removeListener("error",X),$.removeListener("close",J)}}m.exports=D},{"../../../errors":66}],76:[function(d,m,g){m.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],77:[function(d,m,g){var w;function I(Q){var K=!1;return function(){K||(K=!0,Q.apply(void 0,arguments))}}var P=d("../../../errors").codes,F=P.ERR_MISSING_ARGS,D=P.ERR_STREAM_DESTROYED;function $(Q){if(Q)throw Q}function V(Q){return Q.setHeader&&typeof Q.abort=="function"}function j(Q,K,te,X){X=I(X);var J=!1;Q.on("close",function(){J=!0}),w===void 0&&(w=d("./end-of-stream")),w(Q,{readable:K,writable:te},function(ie){if(ie)return X(ie);J=!0,X()});var ee=!1;return function(ie){if(!J&&!ee)return ee=!0,V(Q)?Q.abort():typeof Q.destroy=="function"?Q.destroy():void X(ie||new D("pipe"))}}function G(Q){Q()}function W(Q,K){return Q.pipe(K)}function Z(Q){return Q.length?typeof Q[Q.length-1]!="function"?$:Q.pop():$}function U(){for(var Q=arguments.length,K=new Array(Q),te=0;te<Q;te++)K[te]=arguments[te];var X,J=Z(K);if(Array.isArray(K[0])&&(K=K[0]),K.length<2)throw new F("streams");var ee=K.map(function(ie,fe){var se=fe<K.length-1;return j(ie,se,fe>0,function(de){X||(X=de),de&&ee.forEach(G),se||(ee.forEach(G),J(X))})});return K.reduce(W)}m.exports=U},{"../../../errors":66,"./end-of-stream":75}],78:[function(d,m,g){var w=d("../../../errors").codes.ERR_INVALID_OPT_VALUE;function I(F,D,$){return F.highWaterMark!=null?F.highWaterMark:D?F[$]:null}function P(F,D,$,V){var j=I(D,V,$);if(j!=null){if(!isFinite(j)||Math.floor(j)!==j||j<0)throw new w(V?$:"highWaterMark",j);return Math.floor(j)}return F.objectMode?16:16384}m.exports={getHighWaterMark:P}},{"../../../errors":66}],79:[function(d,m,g){m.exports=d("events").EventEmitter},{events:35}],80:[function(d,m,g){var w=d("safe-buffer").Buffer,I=w.isEncoding||function(ee){switch((ee=""+ee)&&ee.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function P(ee){if(!ee)return"utf8";for(var ie;;)switch(ee){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return ee;default:if(ie)return;ee=(""+ee).toLowerCase(),ie=!0}}function F(ee){var ie=P(ee);if(typeof ie!="string"&&(w.isEncoding===I||!I(ee)))throw new Error("Unknown encoding: "+ee);return ie||ee}function D(ee){var ie;switch(this.encoding=F(ee),this.encoding){case"utf16le":this.text=U,this.end=Q,ie=4;break;case"utf8":this.fillLast=G,ie=4;break;case"base64":this.text=K,this.end=te,ie=3;break;default:return this.write=X,void(this.end=J)}this.lastNeed=0,this.lastTotal=0,this.lastChar=w.allocUnsafe(ie)}function $(ee){return ee<=127?0:ee>>5==6?2:ee>>4==14?3:ee>>3==30?4:ee>>6==2?-1:-2}function V(ee,ie,fe){var se=ie.length-1;if(se<fe)return 0;var de=$(ie[se]);return de>=0?(de>0&&(ee.lastNeed=de-1),de):--se<fe||de===-2?0:(de=$(ie[se]))>=0?(de>0&&(ee.lastNeed=de-2),de):--se<fe||de===-2?0:(de=$(ie[se]))>=0?(de>0&&(de===2?de=0:ee.lastNeed=de-3),de):0}function j(ee,ie,fe){if((192&ie[0])!=128)return ee.lastNeed=0,"�";if(ee.lastNeed>1&&ie.length>1){if((192&ie[1])!=128)return ee.lastNeed=1,"�";if(ee.lastNeed>2&&ie.length>2&&(192&ie[2])!=128)return ee.lastNeed=2,"�"}}function G(ee){var ie=this.lastTotal-this.lastNeed,fe=j(this,ee);return fe!==void 0?fe:this.lastNeed<=ee.length?(ee.copy(this.lastChar,ie,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(ee.copy(this.lastChar,ie,0,ee.length),void(this.lastNeed-=ee.length))}function W(ee,ie){var fe=V(this,ee,ie);if(!this.lastNeed)return ee.toString("utf8",ie);this.lastTotal=fe;var se=ee.length-(fe-this.lastNeed);return ee.copy(this.lastChar,0,se),ee.toString("utf8",ie,se)}function Z(ee){var ie=ee&&ee.length?this.write(ee):"";return this.lastNeed?ie+"�":ie}function U(ee,ie){if((ee.length-ie)%2==0){var fe=ee.toString("utf16le",ie);if(fe){var se=fe.charCodeAt(fe.length-1);if(se>=55296&&se<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=ee[ee.length-2],this.lastChar[1]=ee[ee.length-1],fe.slice(0,-1)}return fe}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=ee[ee.length-1],ee.toString("utf16le",ie,ee.length-1)}function Q(ee){var ie=ee&&ee.length?this.write(ee):"";if(this.lastNeed){var fe=this.lastTotal-this.lastNeed;return ie+this.lastChar.toString("utf16le",0,fe)}return ie}function K(ee,ie){var fe=(ee.length-ie)%3;return fe===0?ee.toString("base64",ie):(this.lastNeed=3-fe,this.lastTotal=3,fe===1?this.lastChar[0]=ee[ee.length-1]:(this.lastChar[0]=ee[ee.length-2],this.lastChar[1]=ee[ee.length-1]),ee.toString("base64",ie,ee.length-fe))}function te(ee){var ie=ee&&ee.length?this.write(ee):"";return this.lastNeed?ie+this.lastChar.toString("base64",0,3-this.lastNeed):ie}function X(ee){return ee.toString(this.encoding)}function J(ee){return ee&&ee.length?this.write(ee):""}g.StringDecoder=D,D.prototype.write=function(ee){if(ee.length===0)return"";var ie,fe;if(this.lastNeed){if((ie=this.fillLast(ee))===void 0)return"";fe=this.lastNeed,this.lastNeed=0}else fe=0;return fe<ee.length?ie?ie+this.text(ee,fe):this.text(ee,fe):ie||""},D.prototype.end=Z,D.prototype.text=W,D.prototype.fillLast=function(ee){if(this.lastNeed<=ee.length)return ee.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);ee.copy(this.lastChar,this.lastTotal-this.lastNeed,0,ee.length),this.lastNeed-=ee.length}},{"safe-buffer":64}],81:[function(d,m,g){(function(w){(function(){function I(F,D){if(P("noDeprecation"))return F;var $=!1;function V(){if(!$){if(P("throwDeprecation"))throw new Error(D);P("traceDeprecation")?console.trace(D):console.warn(D),$=!0}return F.apply(this,arguments)}return V}function P(F){try{if(!w.localStorage)return!1}catch{return!1}var D=w.localStorage[F];return D!=null&&String(D).toLowerCase()==="true"}m.exports=I}).call(this)}).call(this,commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],82:[function(d,m,g){arguments[4][25][0].apply(g,arguments)},{dup:25}],83:[function(d,m,g){var w=d("is-arguments"),I=d("is-generator-function"),P=d("which-typed-array"),F=d("is-typed-array");function D(xe){return xe.call.bind(xe)}var $=typeof BigInt<"u",V=typeof Symbol<"u",j=D(Object.prototype.toString),G=D(Number.prototype.valueOf),W=D(String.prototype.valueOf),Z=D(Boolean.prototype.valueOf);if($)var U=D(BigInt.prototype.valueOf);if(V)var Q=D(Symbol.prototype.valueOf);function K(xe,Ze){if(typeof xe!="object")return!1;try{return Ze(xe),!0}catch{return!1}}function te(xe){return typeof Promise<"u"&&xe instanceof Promise||xe!==null&&typeof xe=="object"&&typeof xe.then=="function"&&typeof xe.catch=="function"}function X(xe){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(xe):F(xe)||Ve(xe)}function J(xe){return P(xe)==="Uint8Array"}function ee(xe){return P(xe)==="Uint8ClampedArray"}function ie(xe){return P(xe)==="Uint16Array"}function fe(xe){return P(xe)==="Uint32Array"}function se(xe){return P(xe)==="Int8Array"}function de(xe){return P(xe)==="Int16Array"}function le(xe){return P(xe)==="Int32Array"}function ye(xe){return P(xe)==="Float32Array"}function ae(xe){return P(xe)==="Float64Array"}function ge(xe){return P(xe)==="BigInt64Array"}function Pe(xe){return P(xe)==="BigUint64Array"}function be(xe){return j(xe)==="[object Map]"}function Ee(xe){return typeof Map<"u"&&(be.working?be(xe):xe instanceof Map)}function ve(xe){return j(xe)==="[object Set]"}function Re(xe){return typeof Set<"u"&&(ve.working?ve(xe):xe instanceof Set)}function Oe(xe){return j(xe)==="[object WeakMap]"}function Ae(xe){return typeof WeakMap<"u"&&(Oe.working?Oe(xe):xe instanceof WeakMap)}function He(xe){return j(xe)==="[object WeakSet]"}function Me(xe){return He(xe)}function je(xe){return j(xe)==="[object ArrayBuffer]"}function Ne(xe){return typeof ArrayBuffer<"u"&&(je.working?je(xe):xe instanceof ArrayBuffer)}function We(xe){return j(xe)==="[object DataView]"}function Ve(xe){return typeof DataView<"u"&&(We.working?We(xe):xe instanceof DataView)}g.isArgumentsObject=w,g.isGeneratorFunction=I,g.isTypedArray=F,g.isPromise=te,g.isArrayBufferView=X,g.isUint8Array=J,g.isUint8ClampedArray=ee,g.isUint16Array=ie,g.isUint32Array=fe,g.isInt8Array=se,g.isInt16Array=de,g.isInt32Array=le,g.isFloat32Array=ye,g.isFloat64Array=ae,g.isBigInt64Array=ge,g.isBigUint64Array=Pe,be.working=typeof Map<"u"&&be(new Map),g.isMap=Ee,ve.working=typeof Set<"u"&&ve(new Set),g.isSet=Re,Oe.working=typeof WeakMap<"u"&&Oe(new WeakMap),g.isWeakMap=Ae,He.working=typeof WeakSet<"u"&&He(new WeakSet),g.isWeakSet=Me,je.working=typeof ArrayBuffer<"u"&&je(new ArrayBuffer),g.isArrayBuffer=Ne,We.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&We(new DataView(new ArrayBuffer(1),0,1)),g.isDataView=Ve;var ze=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Le(xe){return j(xe)==="[object SharedArrayBuffer]"}function Qe(xe){return ze!==void 0&&(Le.working===void 0&&(Le.working=Le(new ze)),Le.working?Le(xe):xe instanceof ze)}function Ke(xe){return j(xe)==="[object AsyncFunction]"}function Fe(xe){return j(xe)==="[object Map Iterator]"}function ce(xe){return j(xe)==="[object Set Iterator]"}function $e(xe){return j(xe)==="[object Generator]"}function oe(xe){return j(xe)==="[object WebAssembly.Module]"}function ue(xe){return K(xe,G)}function _e(xe){return K(xe,W)}function Te(xe){return K(xe,Z)}function Be(xe){return $&&K(xe,U)}function re(xe){return V&&K(xe,Q)}function me(xe){return ue(xe)||_e(xe)||Te(xe)||Be(xe)||re(xe)}function Ie(xe){return typeof Uint8Array<"u"&&(Ne(xe)||Qe(xe))}g.isSharedArrayBuffer=Qe,g.isAsyncFunction=Ke,g.isMapIterator=Fe,g.isSetIterator=ce,g.isGeneratorObject=$e,g.isWebAssemblyCompiledModule=oe,g.isNumberObject=ue,g.isStringObject=_e,g.isBooleanObject=Te,g.isBigIntObject=Be,g.isSymbolObject=re,g.isBoxedPrimitive=me,g.isAnyArrayBuffer=Ie,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(xe){Object.defineProperty(g,xe,{enumerable:!1,value:function(){throw new Error(xe+" is not supported in userland")}})})},{"is-arguments":47,"is-generator-function":49,"is-typed-array":50,"which-typed-array":85}],84:[function(d,m,g){(function(w){(function(){var I=Object.getOwnPropertyDescriptors||function(Ve){for(var ze=Object.keys(Ve),Le={},Qe=0;Qe<ze.length;Qe++)Le[ze[Qe]]=Object.getOwnPropertyDescriptor(Ve,ze[Qe]);return Le},P=/%[sdj%]/g;g.format=function(Ve){if(!de(Ve)){for(var ze=[],Le=0;Le<arguments.length;Le++)ze.push(V(arguments[Le]));return ze.join(" ")}Le=1;for(var Qe=arguments,Ke=Qe.length,Fe=String(Ve).replace(P,function($e){if($e==="%%")return"%";if(Le>=Ke)return $e;switch($e){case"%s":return String(Qe[Le++]);case"%d":return Number(Qe[Le++]);case"%j":try{return JSON.stringify(Qe[Le++])}catch{return"[Circular]"}default:return $e}}),ce=Qe[Le];Le<Ke;ce=Qe[++Le])ie(ce)||!ge(ce)?Fe+=" "+ce:Fe+=" "+V(ce);return Fe},g.deprecate=function(Ve,ze){if(w!==void 0&&w.noDeprecation===!0)return Ve;if(w===void 0)return function(){return g.deprecate(Ve,ze).apply(this,arguments)};var Le=!1;function Qe(){if(!Le){if(w.throwDeprecation)throw new Error(ze);w.traceDeprecation?console.trace(ze):console.error(ze),Le=!0}return Ve.apply(this,arguments)}return Qe};var F={},D=/^$/;if(w.env.NODE_DEBUG){var $=w.env.NODE_DEBUG;$=$.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),D=new RegExp("^"+$+"$","i")}function V(Ve,ze){var Le={seen:[],stylize:G};return arguments.length>=3&&(Le.depth=arguments[2]),arguments.length>=4&&(Le.colors=arguments[3]),ee(ze)?Le.showHidden=ze:ze&&g._extend(Le,ze),ye(Le.showHidden)&&(Le.showHidden=!1),ye(Le.depth)&&(Le.depth=2),ye(Le.colors)&&(Le.colors=!1),ye(Le.customInspect)&&(Le.customInspect=!0),Le.colors&&(Le.stylize=j),Z(Le,Ve,Le.depth)}function j(Ve,ze){var Le=V.styles[ze];return Le?"\x1B["+V.colors[Le][0]+"m"+Ve+"\x1B["+V.colors[Le][1]+"m":Ve}function G(Ve,ze){return Ve}function W(Ve){var ze={};return Ve.forEach(function(Le,Qe){ze[Le]=!0}),ze}function Z(Ve,ze,Le){if(Ve.customInspect&&ze&&Ee(ze.inspect)&&ze.inspect!==g.inspect&&(!ze.constructor||ze.constructor.prototype!==ze)){var Qe=ze.inspect(Le,Ve);return de(Qe)||(Qe=Z(Ve,Qe,Le)),Qe}var Ke=U(Ve,ze);if(Ke)return Ke;var Fe=Object.keys(ze),ce=W(Fe);if(Ve.showHidden&&(Fe=Object.getOwnPropertyNames(ze)),be(ze)&&(Fe.indexOf("message")>=0||Fe.indexOf("description")>=0))return Q(ze);if(Fe.length===0){if(Ee(ze)){var $e=ze.name?": "+ze.name:"";return Ve.stylize("[Function"+$e+"]","special")}if(ae(ze))return Ve.stylize(RegExp.prototype.toString.call(ze),"regexp");if(Pe(ze))return Ve.stylize(Date.prototype.toString.call(ze),"date");if(be(ze))return Q(ze)}var oe,ue="",_e=!1,Te=["{","}"];return J(ze)&&(_e=!0,Te=["[","]"]),Ee(ze)&&(ue=" [Function"+(ze.name?": "+ze.name:"")+"]"),ae(ze)&&(ue=" "+RegExp.prototype.toString.call(ze)),Pe(ze)&&(ue=" "+Date.prototype.toUTCString.call(ze)),be(ze)&&(ue=" "+Q(ze)),Fe.length!==0||_e&&ze.length!=0?Le<0?ae(ze)?Ve.stylize(RegExp.prototype.toString.call(ze),"regexp"):Ve.stylize("[Object]","special"):(Ve.seen.push(ze),oe=_e?K(Ve,ze,Le,ce,Fe):Fe.map(function(Be){return te(Ve,ze,Le,ce,Be,_e)}),Ve.seen.pop(),X(oe,ue,Te)):Te[0]+ue+Te[1]}function U(Ve,ze){if(ye(ze))return Ve.stylize("undefined","undefined");if(de(ze)){var Le="'"+JSON.stringify(ze).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Ve.stylize(Le,"string")}return se(ze)?Ve.stylize(""+ze,"number"):ee(ze)?Ve.stylize(""+ze,"boolean"):ie(ze)?Ve.stylize("null","null"):void 0}function Q(Ve){return"["+Error.prototype.toString.call(Ve)+"]"}function K(Ve,ze,Le,Qe,Ke){for(var Fe=[],ce=0,$e=ze.length;ce<$e;++ce)Me(ze,String(ce))?Fe.push(te(Ve,ze,Le,Qe,String(ce),!0)):Fe.push("");return Ke.forEach(function(oe){oe.match(/^\d+$/)||Fe.push(te(Ve,ze,Le,Qe,oe,!0))}),Fe}function te(Ve,ze,Le,Qe,Ke,Fe){var ce,$e,oe;if((oe=Object.getOwnPropertyDescriptor(ze,Ke)||{value:ze[Ke]}).get?$e=oe.set?Ve.stylize("[Getter/Setter]","special"):Ve.stylize("[Getter]","special"):oe.set&&($e=Ve.stylize("[Setter]","special")),Me(Qe,Ke)||(ce="["+Ke+"]"),$e||(Ve.seen.indexOf(oe.value)<0?($e=ie(Le)?Z(Ve,oe.value,null):Z(Ve,oe.value,Le-1)).indexOf(`
`)>-1&&($e=Fe?$e.split(`
`).map(function(ue){return"  "+ue}).join(`
`).slice(2):`
`+$e.split(`
`).map(function(ue){return"   "+ue}).join(`
`)):$e=Ve.stylize("[Circular]","special")),ye(ce)){if(Fe&&Ke.match(/^\d+$/))return $e;(ce=JSON.stringify(""+Ke)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ce=ce.slice(1,-1),ce=Ve.stylize(ce,"name")):(ce=ce.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ce=Ve.stylize(ce,"string"))}return ce+": "+$e}function X(Ve,ze,Le){return Ve.reduce(function(Qe,Ke){return Ke.indexOf(`
`),Qe+Ke.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Le[0]+(ze===""?"":ze+`
 `)+" "+Ve.join(`,
  `)+" "+Le[1]:Le[0]+ze+" "+Ve.join(", ")+" "+Le[1]}function J(Ve){return Array.isArray(Ve)}function ee(Ve){return typeof Ve=="boolean"}function ie(Ve){return Ve===null}function fe(Ve){return Ve==null}function se(Ve){return typeof Ve=="number"}function de(Ve){return typeof Ve=="string"}function le(Ve){return typeof Ve=="symbol"}function ye(Ve){return Ve===void 0}function ae(Ve){return ge(Ve)&&Re(Ve)==="[object RegExp]"}function ge(Ve){return typeof Ve=="object"&&Ve!==null}function Pe(Ve){return ge(Ve)&&Re(Ve)==="[object Date]"}function be(Ve){return ge(Ve)&&(Re(Ve)==="[object Error]"||Ve instanceof Error)}function Ee(Ve){return typeof Ve=="function"}function ve(Ve){return Ve===null||typeof Ve=="boolean"||typeof Ve=="number"||typeof Ve=="string"||typeof Ve=="symbol"||Ve===void 0}function Re(Ve){return Object.prototype.toString.call(Ve)}function Oe(Ve){return Ve<10?"0"+Ve.toString(10):Ve.toString(10)}g.debuglog=function(Ve){if(Ve=Ve.toUpperCase(),!F[Ve])if(D.test(Ve)){var ze=w.pid;F[Ve]=function(){var Le=g.format.apply(g,arguments);console.error("%s %d: %s",Ve,ze,Le)}}else F[Ve]=function(){};return F[Ve]},g.inspect=V,V.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},V.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},g.types=d("./support/types"),g.isArray=J,g.isBoolean=ee,g.isNull=ie,g.isNullOrUndefined=fe,g.isNumber=se,g.isString=de,g.isSymbol=le,g.isUndefined=ye,g.isRegExp=ae,g.types.isRegExp=ae,g.isObject=ge,g.isDate=Pe,g.types.isDate=Pe,g.isError=be,g.types.isNativeError=be,g.isFunction=Ee,g.isPrimitive=ve,g.isBuffer=d("./support/isBuffer");var Ae=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function He(){var Ve=new Date,ze=[Oe(Ve.getHours()),Oe(Ve.getMinutes()),Oe(Ve.getSeconds())].join(":");return[Ve.getDate(),Ae[Ve.getMonth()],ze].join(" ")}function Me(Ve,ze){return Object.prototype.hasOwnProperty.call(Ve,ze)}g.log=function(){console.log("%s - %s",He(),g.format.apply(g,arguments))},g.inherits=d("inherits"),g._extend=function(Ve,ze){if(!ze||!ge(ze))return Ve;for(var Le=Object.keys(ze),Qe=Le.length;Qe--;)Ve[Le[Qe]]=ze[Le[Qe]];return Ve};var je=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function Ne(Ve,ze){if(!Ve){var Le=new Error("Promise was rejected with a falsy value");Le.reason=Ve,Ve=Le}return ze(Ve)}function We(Ve){if(typeof Ve!="function")throw new TypeError('The "original" argument must be of type Function');function ze(){for(var Le=[],Qe=0;Qe<arguments.length;Qe++)Le.push(arguments[Qe]);var Ke=Le.pop();if(typeof Ke!="function")throw new TypeError("The last argument must be of type Function");var Fe=this,ce=function(){return Ke.apply(Fe,arguments)};Ve.apply(this,Le).then(function($e){w.nextTick(ce.bind(null,null,$e))},function($e){w.nextTick(Ne.bind(null,$e,ce))})}return Object.setPrototypeOf(ze,Object.getPrototypeOf(Ve)),Object.defineProperties(ze,I(Ve)),ze}g.promisify=function(Ve){if(typeof Ve!="function")throw new TypeError('The "original" argument must be of type Function');if(je&&Ve[je]){var ze;if(typeof(ze=Ve[je])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ze,je,{value:ze,enumerable:!1,writable:!1,configurable:!0}),ze}function ze(){for(var Le,Qe,Ke=new Promise(function($e,oe){Le=$e,Qe=oe}),Fe=[],ce=0;ce<arguments.length;ce++)Fe.push(arguments[ce]);Fe.push(function($e,oe){$e?Qe($e):Le(oe)});try{Ve.apply(this,Fe)}catch($e){Qe($e)}return Ke}return Object.setPrototypeOf(ze,Object.getPrototypeOf(Ve)),je&&Object.defineProperty(ze,je,{value:ze,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ze,I(Ve))},g.promisify.custom=je,g.callbackify=We}).call(this)}).call(this,d("_process"))},{"./support/isBuffer":82,"./support/types":83,_process:63,inherits:46}],85:[function(d,m,g){(function(w){(function(){var I=d("for-each"),P=d("available-typed-arrays"),F=d("call-bind/callBound"),D=d("gopd"),$=F("Object.prototype.toString"),V=d("has-tostringtag/shams")(),j=typeof globalThis>"u"?w:globalThis,G=P(),W=F("String.prototype.slice"),Z={},U=Object.getPrototypeOf;V&&D&&U&&I(G,function(te){if(typeof j[te]=="function"){var X=new j[te];if(Symbol.toStringTag in X){var J=U(X),ee=D(J,Symbol.toStringTag);if(!ee){var ie=U(J);ee=D(ie,Symbol.toStringTag)}Z[te]=ee.get}}});var Q=function(te){var X=!1;return I(Z,function(J,ee){if(!X)try{var ie=J.call(te);ie===ee&&(X=ie)}catch{}}),X},K=d("is-typed-array");m.exports=function(te){return!!K(te)&&(V&&Symbol.toStringTag in te?Q(te):W($(te),8,-1))}}).call(this)}).call(this,commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"available-typed-arrays":27,"call-bind/callBound":33,"for-each":36,gopd:40,"has-tostringtag/shams":43,"is-typed-array":50}]},{},[20])(20);var browserExports=browser$1.exports,PNGFilterType,PNGFilterType2,PNGColorType,PNGColorType2;function png(){return{mime:"image/png",hasAlpha:!0,encode:(d,{deflateLevel:m=9,deflateStrategy:g=3,filterType:w=PNGFilterType.AUTO,colorType:I,inputHasAlpha:P=!0,...F}={})=>{const D=new browserExports.PNG({width:d.width,height:d.height});return D.data=d.data,browserExports.PNG.sync.write(D,{...F,deflateLevel:m,deflateStrategy:g,filterType:w,colorType:I!==void 0?I:P?PNGColorType.COLOR_ALPHA:PNGColorType.COLOR,inputHasAlpha:P})},decode:(d,m)=>{const g=browserExports.PNG.sync.read(d,m);return{data:g.data,width:g.width,height:g.height}}}}PNGFilterType2=PNGFilterType||(PNGFilterType={}),PNGFilterType2[PNGFilterType2.AUTO=-1]="AUTO",PNGFilterType2[PNGFilterType2.NONE=0]="NONE",PNGFilterType2[PNGFilterType2.SUB=1]="SUB",PNGFilterType2[PNGFilterType2.UP=2]="UP",PNGFilterType2[PNGFilterType2.AVERAGE=3]="AVERAGE",PNGFilterType2[PNGFilterType2.PATH=4]="PATH",PNGColorType2=PNGColorType||(PNGColorType={}),PNGColorType2[PNGColorType2.GRAYSCALE=0]="GRAYSCALE",PNGColorType2[PNGColorType2.COLOR=2]="COLOR",PNGColorType2[PNGColorType2.GRAYSCALE_ALPHA=4]="GRAYSCALE_ALPHA",PNGColorType2[PNGColorType2.COLOR_ALPHA=6]="COLOR_ALPHA";var UTIF={exports:{}},common={},hasRequiredCommon;function requireCommon(){return hasRequiredCommon||(hasRequiredCommon=1,function(d){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function g(P,F){return Object.prototype.hasOwnProperty.call(P,F)}d.assign=function(P){for(var F=Array.prototype.slice.call(arguments,1);F.length;){var D=F.shift();if(D){if(typeof D!="object")throw new TypeError(D+"must be non-object");for(var $ in D)g(D,$)&&(P[$]=D[$])}}return P},d.shrinkBuf=function(P,F){return P.length===F?P:P.subarray?P.subarray(0,F):(P.length=F,P)};var w={arraySet:function(P,F,D,$,V){if(F.subarray&&P.subarray)P.set(F.subarray(D,D+$),V);else for(var j=0;j<$;j++)P[V+j]=F[D+j]},flattenChunks:function(P){var F,D,$,V,j,G;for($=0,F=0,D=P.length;F<D;F++)$+=P[F].length;for(G=new Uint8Array($),V=0,F=0,D=P.length;F<D;F++)j=P[F],G.set(j,V),V+=j.length;return G}},I={arraySet:function(P,F,D,$,V){for(var j=0;j<$;j++)P[V+j]=F[D+j]},flattenChunks:function(P){return[].concat.apply([],P)}};d.setTyped=function(P){P?(d.Buf8=Uint8Array,d.Buf16=Uint16Array,d.Buf32=Int32Array,d.assign(d,w)):(d.Buf8=Array,d.Buf16=Array,d.Buf32=Array,d.assign(d,I))},d.setTyped(m)}(common)),common}var deflate$1={},deflate={},trees={},hasRequiredTrees,adler32_1,hasRequiredAdler32,crc32_1,hasRequiredCrc32,messages,hasRequiredMessages,hasRequiredDeflate$1;function requireTrees(){if(hasRequiredTrees)return trees;hasRequiredTrees=1;var d=requireCommon(),m=0,g=1;function w(oe){for(var ue=oe.length;--ue>=0;)oe[ue]=0}var I=0,P=29,F=256,D=F+1+P,$=30,V=19,j=2*D+1,G=15,W=16,Z=7,U=256,Q=16,K=17,te=18,X=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],J=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ee=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],fe=new Array(2*(D+2));w(fe);var se=new Array(2*$);w(se);var de=new Array(512);w(de);var le=new Array(256);w(le);var ye=new Array(P);w(ye);var ae,ge,Pe,be=new Array($);function Ee(oe,ue,_e,Te,Be){this.static_tree=oe,this.extra_bits=ue,this.extra_base=_e,this.elems=Te,this.max_length=Be,this.has_stree=oe&&oe.length}function ve(oe,ue){this.dyn_tree=oe,this.max_code=0,this.stat_desc=ue}function Re(oe){return oe<256?de[oe]:de[256+(oe>>>7)]}function Oe(oe,ue){oe.pending_buf[oe.pending++]=255&ue,oe.pending_buf[oe.pending++]=ue>>>8&255}function Ae(oe,ue,_e){oe.bi_valid>W-_e?(oe.bi_buf|=ue<<oe.bi_valid&65535,Oe(oe,oe.bi_buf),oe.bi_buf=ue>>W-oe.bi_valid,oe.bi_valid+=_e-W):(oe.bi_buf|=ue<<oe.bi_valid&65535,oe.bi_valid+=_e)}function He(oe,ue,_e){Ae(oe,_e[2*ue],_e[2*ue+1])}function Me(oe,ue){var _e=0;do _e|=1&oe,oe>>>=1,_e<<=1;while(--ue>0);return _e>>>1}function je(oe,ue,_e){var Te,Be,re=new Array(G+1),me=0;for(Te=1;Te<=G;Te++)re[Te]=me=me+_e[Te-1]<<1;for(Be=0;Be<=ue;Be++){var Ie=oe[2*Be+1];Ie!==0&&(oe[2*Be]=Me(re[Ie]++,Ie))}}function Ne(oe){var ue;for(ue=0;ue<D;ue++)oe.dyn_ltree[2*ue]=0;for(ue=0;ue<$;ue++)oe.dyn_dtree[2*ue]=0;for(ue=0;ue<V;ue++)oe.bl_tree[2*ue]=0;oe.dyn_ltree[2*U]=1,oe.opt_len=oe.static_len=0,oe.last_lit=oe.matches=0}function We(oe){oe.bi_valid>8?Oe(oe,oe.bi_buf):oe.bi_valid>0&&(oe.pending_buf[oe.pending++]=oe.bi_buf),oe.bi_buf=0,oe.bi_valid=0}function Ve(oe,ue,_e,Te){var Be=2*ue,re=2*_e;return oe[Be]<oe[re]||oe[Be]===oe[re]&&Te[ue]<=Te[_e]}function ze(oe,ue,_e){for(var Te=oe.heap[_e],Be=_e<<1;Be<=oe.heap_len&&(Be<oe.heap_len&&Ve(ue,oe.heap[Be+1],oe.heap[Be],oe.depth)&&Be++,!Ve(ue,Te,oe.heap[Be],oe.depth));)oe.heap[_e]=oe.heap[Be],_e=Be,Be<<=1;oe.heap[_e]=Te}function Le(oe,ue,_e){var Te,Be,re,me,Ie=0;if(oe.last_lit!==0)do Te=oe.pending_buf[oe.d_buf+2*Ie]<<8|oe.pending_buf[oe.d_buf+2*Ie+1],Be=oe.pending_buf[oe.l_buf+Ie],Ie++,Te===0?He(oe,Be,ue):(He(oe,(re=le[Be])+F+1,ue),(me=X[re])!==0&&Ae(oe,Be-=ye[re],me),He(oe,re=Re(--Te),_e),(me=J[re])!==0&&Ae(oe,Te-=be[re],me));while(Ie<oe.last_lit);He(oe,U,ue)}function Qe(oe,ue){var _e,Te,Be,re=ue.dyn_tree,me=ue.stat_desc.static_tree,Ie=ue.stat_desc.has_stree,xe=ue.stat_desc.elems,Ze=-1;for(oe.heap_len=0,oe.heap_max=j,_e=0;_e<xe;_e++)re[2*_e]!==0?(oe.heap[++oe.heap_len]=Ze=_e,oe.depth[_e]=0):re[2*_e+1]=0;for(;oe.heap_len<2;)re[2*(Be=oe.heap[++oe.heap_len]=Ze<2?++Ze:0)]=1,oe.depth[Be]=0,oe.opt_len--,Ie&&(oe.static_len-=me[2*Be+1]);for(ue.max_code=Ze,_e=oe.heap_len>>1;_e>=1;_e--)ze(oe,re,_e);Be=xe;do _e=oe.heap[1],oe.heap[1]=oe.heap[oe.heap_len--],ze(oe,re,1),Te=oe.heap[1],oe.heap[--oe.heap_max]=_e,oe.heap[--oe.heap_max]=Te,re[2*Be]=re[2*_e]+re[2*Te],oe.depth[Be]=(oe.depth[_e]>=oe.depth[Te]?oe.depth[_e]:oe.depth[Te])+1,re[2*_e+1]=re[2*Te+1]=Be,oe.heap[1]=Be++,ze(oe,re,1);while(oe.heap_len>=2);oe.heap[--oe.heap_max]=oe.heap[1],function(Xe,nt){var lt,ot,dt,ut,we,et,rt=nt.dyn_tree,at=nt.max_code,H=nt.stat_desc.static_tree,q=nt.stat_desc.has_stree,pe=nt.stat_desc.extra_bits,ne=nt.stat_desc.extra_base,Ce=nt.stat_desc.max_length,Se=0;for(ut=0;ut<=G;ut++)Xe.bl_count[ut]=0;for(rt[2*Xe.heap[Xe.heap_max]+1]=0,lt=Xe.heap_max+1;lt<j;lt++)(ut=rt[2*rt[2*(ot=Xe.heap[lt])+1]+1]+1)>Ce&&(ut=Ce,Se++),rt[2*ot+1]=ut,ot>at||(Xe.bl_count[ut]++,we=0,ot>=ne&&(we=pe[ot-ne]),et=rt[2*ot],Xe.opt_len+=et*(ut+we),q&&(Xe.static_len+=et*(H[2*ot+1]+we)));if(Se!==0){do{for(ut=Ce-1;Xe.bl_count[ut]===0;)ut--;Xe.bl_count[ut]--,Xe.bl_count[ut+1]+=2,Xe.bl_count[Ce]--,Se-=2}while(Se>0);for(ut=Ce;ut!==0;ut--)for(ot=Xe.bl_count[ut];ot!==0;)(dt=Xe.heap[--lt])>at||(rt[2*dt+1]!==ut&&(Xe.opt_len+=(ut-rt[2*dt+1])*rt[2*dt],rt[2*dt+1]=ut),ot--)}}(oe,ue),je(re,Ze,oe.bl_count)}function Ke(oe,ue,_e){var Te,Be,re=-1,me=ue[1],Ie=0,xe=7,Ze=4;for(me===0&&(xe=138,Ze=3),ue[2*(_e+1)+1]=65535,Te=0;Te<=_e;Te++)Be=me,me=ue[2*(Te+1)+1],++Ie<xe&&Be===me||(Ie<Ze?oe.bl_tree[2*Be]+=Ie:Be!==0?(Be!==re&&oe.bl_tree[2*Be]++,oe.bl_tree[2*Q]++):Ie<=10?oe.bl_tree[2*K]++:oe.bl_tree[2*te]++,Ie=0,re=Be,me===0?(xe=138,Ze=3):Be===me?(xe=6,Ze=3):(xe=7,Ze=4))}function Fe(oe,ue,_e){var Te,Be,re=-1,me=ue[1],Ie=0,xe=7,Ze=4;for(me===0&&(xe=138,Ze=3),Te=0;Te<=_e;Te++)if(Be=me,me=ue[2*(Te+1)+1],!(++Ie<xe&&Be===me)){if(Ie<Ze)do He(oe,Be,oe.bl_tree);while(--Ie!=0);else Be!==0?(Be!==re&&(He(oe,Be,oe.bl_tree),Ie--),He(oe,Q,oe.bl_tree),Ae(oe,Ie-3,2)):Ie<=10?(He(oe,K,oe.bl_tree),Ae(oe,Ie-3,3)):(He(oe,te,oe.bl_tree),Ae(oe,Ie-11,7));Ie=0,re=Be,me===0?(xe=138,Ze=3):Be===me?(xe=6,Ze=3):(xe=7,Ze=4)}}w(be);var ce=!1;function $e(oe,ue,_e,Te){Ae(oe,(I<<1)+(Te?1:0),3),function(Be,re,me,Ie){We(Be),Oe(Be,me),Oe(Be,~me),d.arraySet(Be.pending_buf,Be.window,re,me,Be.pending),Be.pending+=me}(oe,ue,_e)}return trees._tr_init=function(oe){ce||(function(){var ue,_e,Te,Be,re,me=new Array(G+1);for(Te=0,Be=0;Be<P-1;Be++)for(ye[Be]=Te,ue=0;ue<1<<X[Be];ue++)le[Te++]=Be;for(le[Te-1]=Be,re=0,Be=0;Be<16;Be++)for(be[Be]=re,ue=0;ue<1<<J[Be];ue++)de[re++]=Be;for(re>>=7;Be<$;Be++)for(be[Be]=re<<7,ue=0;ue<1<<J[Be]-7;ue++)de[256+re++]=Be;for(_e=0;_e<=G;_e++)me[_e]=0;for(ue=0;ue<=143;)fe[2*ue+1]=8,ue++,me[8]++;for(;ue<=255;)fe[2*ue+1]=9,ue++,me[9]++;for(;ue<=279;)fe[2*ue+1]=7,ue++,me[7]++;for(;ue<=287;)fe[2*ue+1]=8,ue++,me[8]++;for(je(fe,D+1,me),ue=0;ue<$;ue++)se[2*ue+1]=5,se[2*ue]=Me(ue,5);ae=new Ee(fe,X,F+1,D,G),ge=new Ee(se,J,0,$,G),Pe=new Ee(new Array(0),ee,0,V,Z)}(),ce=!0),oe.l_desc=new ve(oe.dyn_ltree,ae),oe.d_desc=new ve(oe.dyn_dtree,ge),oe.bl_desc=new ve(oe.bl_tree,Pe),oe.bi_buf=0,oe.bi_valid=0,Ne(oe)},trees._tr_stored_block=$e,trees._tr_flush_block=function(oe,ue,_e,Te){var Be,re,me=0;oe.level>0?(oe.strm.data_type===2&&(oe.strm.data_type=function(Ie){var xe,Ze=4093624447;for(xe=0;xe<=31;xe++,Ze>>>=1)if(1&Ze&&Ie.dyn_ltree[2*xe]!==0)return m;if(Ie.dyn_ltree[18]!==0||Ie.dyn_ltree[20]!==0||Ie.dyn_ltree[26]!==0)return g;for(xe=32;xe<F;xe++)if(Ie.dyn_ltree[2*xe]!==0)return g;return m}(oe)),Qe(oe,oe.l_desc),Qe(oe,oe.d_desc),me=function(Ie){var xe;for(Ke(Ie,Ie.dyn_ltree,Ie.l_desc.max_code),Ke(Ie,Ie.dyn_dtree,Ie.d_desc.max_code),Qe(Ie,Ie.bl_desc),xe=V-1;xe>=3&&Ie.bl_tree[2*ie[xe]+1]===0;xe--);return Ie.opt_len+=3*(xe+1)+5+5+4,xe}(oe),Be=oe.opt_len+3+7>>>3,(re=oe.static_len+3+7>>>3)<=Be&&(Be=re)):Be=re=_e+5,_e+4<=Be&&ue!==-1?$e(oe,ue,_e,Te):oe.strategy===4||re===Be?(Ae(oe,2+(Te?1:0),3),Le(oe,fe,se)):(Ae(oe,4+(Te?1:0),3),function(Ie,xe,Ze,Xe){var nt;for(Ae(Ie,xe-257,5),Ae(Ie,Ze-1,5),Ae(Ie,Xe-4,4),nt=0;nt<Xe;nt++)Ae(Ie,Ie.bl_tree[2*ie[nt]+1],3);Fe(Ie,Ie.dyn_ltree,xe-1),Fe(Ie,Ie.dyn_dtree,Ze-1)}(oe,oe.l_desc.max_code+1,oe.d_desc.max_code+1,me+1),Le(oe,oe.dyn_ltree,oe.dyn_dtree)),Ne(oe),Te&&We(oe)},trees._tr_tally=function(oe,ue,_e){return oe.pending_buf[oe.d_buf+2*oe.last_lit]=ue>>>8&255,oe.pending_buf[oe.d_buf+2*oe.last_lit+1]=255&ue,oe.pending_buf[oe.l_buf+oe.last_lit]=255&_e,oe.last_lit++,ue===0?oe.dyn_ltree[2*_e]++:(oe.matches++,ue--,oe.dyn_ltree[2*(le[_e]+F+1)]++,oe.dyn_dtree[2*Re(ue)]++),oe.last_lit===oe.lit_bufsize-1},trees._tr_align=function(oe){Ae(oe,2,3),He(oe,U,fe),function(ue){ue.bi_valid===16?(Oe(ue,ue.bi_buf),ue.bi_buf=0,ue.bi_valid=0):ue.bi_valid>=8&&(ue.pending_buf[ue.pending++]=255&ue.bi_buf,ue.bi_buf>>=8,ue.bi_valid-=8)}(oe)},trees}function requireAdler32(){return hasRequiredAdler32||(hasRequiredAdler32=1,adler32_1=function(d,m,g,w){for(var I=65535&d,P=d>>>16&65535,F=0;g!==0;){g-=F=g>2e3?2e3:g;do P=P+(I=I+m[w++]|0)|0;while(--F);I%=65521,P%=65521}return I|P<<16}),adler32_1}function requireCrc32(){if(hasRequiredCrc32)return crc32_1;hasRequiredCrc32=1;var d=function(){for(var m,g=[],w=0;w<256;w++){m=w;for(var I=0;I<8;I++)m=1&m?3988292384^m>>>1:m>>>1;g[w]=m}return g}();return crc32_1=function(m,g,w,I){var P=d,F=I+w;m^=-1;for(var D=I;D<F;D++)m=m>>>8^P[255&(m^g[D])];return~m},crc32_1}function requireMessages(){return hasRequiredMessages?messages:(hasRequiredMessages=1,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"})}function requireDeflate$1(){if(hasRequiredDeflate$1)return deflate;hasRequiredDeflate$1=1;var d,m=requireCommon(),g=requireTrees(),w=requireAdler32(),I=requireCrc32(),P=requireMessages(),F=0,D=4,$=0,V=-2,j=-1,G=4,W=2,Z=8,U=9,Q=286,K=30,te=19,X=2*Q+1,J=15,ee=3,ie=258,fe=ie+ee+1,se=42,de=103,le=113,ye=666,ae=1,ge=2,Pe=3,be=4;function Ee(ce,$e){return ce.msg=P[$e],$e}function ve(ce){return(ce<<1)-(ce>4?9:0)}function Re(ce){for(var $e=ce.length;--$e>=0;)ce[$e]=0}function Oe(ce){var $e=ce.state,oe=$e.pending;oe>ce.avail_out&&(oe=ce.avail_out),oe!==0&&(m.arraySet(ce.output,$e.pending_buf,$e.pending_out,oe,ce.next_out),ce.next_out+=oe,$e.pending_out+=oe,ce.total_out+=oe,ce.avail_out-=oe,$e.pending-=oe,$e.pending===0&&($e.pending_out=0))}function Ae(ce,$e){g._tr_flush_block(ce,ce.block_start>=0?ce.block_start:-1,ce.strstart-ce.block_start,$e),ce.block_start=ce.strstart,Oe(ce.strm)}function He(ce,$e){ce.pending_buf[ce.pending++]=$e}function Me(ce,$e){ce.pending_buf[ce.pending++]=$e>>>8&255,ce.pending_buf[ce.pending++]=255&$e}function je(ce,$e){var oe,ue,_e=ce.max_chain_length,Te=ce.strstart,Be=ce.prev_length,re=ce.nice_match,me=ce.strstart>ce.w_size-fe?ce.strstart-(ce.w_size-fe):0,Ie=ce.window,xe=ce.w_mask,Ze=ce.prev,Xe=ce.strstart+ie,nt=Ie[Te+Be-1],lt=Ie[Te+Be];ce.prev_length>=ce.good_match&&(_e>>=2),re>ce.lookahead&&(re=ce.lookahead);do if(Ie[(oe=$e)+Be]===lt&&Ie[oe+Be-1]===nt&&Ie[oe]===Ie[Te]&&Ie[++oe]===Ie[Te+1]){Te+=2,oe++;do;while(Ie[++Te]===Ie[++oe]&&Ie[++Te]===Ie[++oe]&&Ie[++Te]===Ie[++oe]&&Ie[++Te]===Ie[++oe]&&Ie[++Te]===Ie[++oe]&&Ie[++Te]===Ie[++oe]&&Ie[++Te]===Ie[++oe]&&Ie[++Te]===Ie[++oe]&&Te<Xe);if(ue=ie-(Xe-Te),Te=Xe-ie,ue>Be){if(ce.match_start=$e,Be=ue,ue>=re)break;nt=Ie[Te+Be-1],lt=Ie[Te+Be]}}while(($e=Ze[$e&xe])>me&&--_e!=0);return Be<=ce.lookahead?Be:ce.lookahead}function Ne(ce){var $e,oe,ue,_e,Te,Be,re,me,Ie,xe,Ze=ce.w_size;do{if(_e=ce.window_size-ce.lookahead-ce.strstart,ce.strstart>=Ze+(Ze-fe)){m.arraySet(ce.window,ce.window,Ze,Ze,0),ce.match_start-=Ze,ce.strstart-=Ze,ce.block_start-=Ze,$e=oe=ce.hash_size;do ue=ce.head[--$e],ce.head[$e]=ue>=Ze?ue-Ze:0;while(--oe);$e=oe=Ze;do ue=ce.prev[--$e],ce.prev[$e]=ue>=Ze?ue-Ze:0;while(--oe);_e+=Ze}if(ce.strm.avail_in===0)break;if(Be=ce.strm,re=ce.window,me=ce.strstart+ce.lookahead,Ie=_e,xe=void 0,(xe=Be.avail_in)>Ie&&(xe=Ie),oe=xe===0?0:(Be.avail_in-=xe,m.arraySet(re,Be.input,Be.next_in,xe,me),Be.state.wrap===1?Be.adler=w(Be.adler,re,xe,me):Be.state.wrap===2&&(Be.adler=I(Be.adler,re,xe,me)),Be.next_in+=xe,Be.total_in+=xe,xe),ce.lookahead+=oe,ce.lookahead+ce.insert>=ee)for(Te=ce.strstart-ce.insert,ce.ins_h=ce.window[Te],ce.ins_h=(ce.ins_h<<ce.hash_shift^ce.window[Te+1])&ce.hash_mask;ce.insert&&(ce.ins_h=(ce.ins_h<<ce.hash_shift^ce.window[Te+ee-1])&ce.hash_mask,ce.prev[Te&ce.w_mask]=ce.head[ce.ins_h],ce.head[ce.ins_h]=Te,Te++,ce.insert--,!(ce.lookahead+ce.insert<ee)););}while(ce.lookahead<fe&&ce.strm.avail_in!==0)}function We(ce,$e){for(var oe,ue;;){if(ce.lookahead<fe){if(Ne(ce),ce.lookahead<fe&&$e===F)return ae;if(ce.lookahead===0)break}if(oe=0,ce.lookahead>=ee&&(ce.ins_h=(ce.ins_h<<ce.hash_shift^ce.window[ce.strstart+ee-1])&ce.hash_mask,oe=ce.prev[ce.strstart&ce.w_mask]=ce.head[ce.ins_h],ce.head[ce.ins_h]=ce.strstart),oe!==0&&ce.strstart-oe<=ce.w_size-fe&&(ce.match_length=je(ce,oe)),ce.match_length>=ee)if(ue=g._tr_tally(ce,ce.strstart-ce.match_start,ce.match_length-ee),ce.lookahead-=ce.match_length,ce.match_length<=ce.max_lazy_match&&ce.lookahead>=ee){ce.match_length--;do ce.strstart++,ce.ins_h=(ce.ins_h<<ce.hash_shift^ce.window[ce.strstart+ee-1])&ce.hash_mask,oe=ce.prev[ce.strstart&ce.w_mask]=ce.head[ce.ins_h],ce.head[ce.ins_h]=ce.strstart;while(--ce.match_length!=0);ce.strstart++}else ce.strstart+=ce.match_length,ce.match_length=0,ce.ins_h=ce.window[ce.strstart],ce.ins_h=(ce.ins_h<<ce.hash_shift^ce.window[ce.strstart+1])&ce.hash_mask;else ue=g._tr_tally(ce,0,ce.window[ce.strstart]),ce.lookahead--,ce.strstart++;if(ue&&(Ae(ce,!1),ce.strm.avail_out===0))return ae}return ce.insert=ce.strstart<ee-1?ce.strstart:ee-1,$e===D?(Ae(ce,!0),ce.strm.avail_out===0?Pe:be):ce.last_lit&&(Ae(ce,!1),ce.strm.avail_out===0)?ae:ge}function Ve(ce,$e){for(var oe,ue,_e;;){if(ce.lookahead<fe){if(Ne(ce),ce.lookahead<fe&&$e===F)return ae;if(ce.lookahead===0)break}if(oe=0,ce.lookahead>=ee&&(ce.ins_h=(ce.ins_h<<ce.hash_shift^ce.window[ce.strstart+ee-1])&ce.hash_mask,oe=ce.prev[ce.strstart&ce.w_mask]=ce.head[ce.ins_h],ce.head[ce.ins_h]=ce.strstart),ce.prev_length=ce.match_length,ce.prev_match=ce.match_start,ce.match_length=ee-1,oe!==0&&ce.prev_length<ce.max_lazy_match&&ce.strstart-oe<=ce.w_size-fe&&(ce.match_length=je(ce,oe),ce.match_length<=5&&(ce.strategy===1||ce.match_length===ee&&ce.strstart-ce.match_start>4096)&&(ce.match_length=ee-1)),ce.prev_length>=ee&&ce.match_length<=ce.prev_length){_e=ce.strstart+ce.lookahead-ee,ue=g._tr_tally(ce,ce.strstart-1-ce.prev_match,ce.prev_length-ee),ce.lookahead-=ce.prev_length-1,ce.prev_length-=2;do++ce.strstart<=_e&&(ce.ins_h=(ce.ins_h<<ce.hash_shift^ce.window[ce.strstart+ee-1])&ce.hash_mask,oe=ce.prev[ce.strstart&ce.w_mask]=ce.head[ce.ins_h],ce.head[ce.ins_h]=ce.strstart);while(--ce.prev_length!=0);if(ce.match_available=0,ce.match_length=ee-1,ce.strstart++,ue&&(Ae(ce,!1),ce.strm.avail_out===0))return ae}else if(ce.match_available){if((ue=g._tr_tally(ce,0,ce.window[ce.strstart-1]))&&Ae(ce,!1),ce.strstart++,ce.lookahead--,ce.strm.avail_out===0)return ae}else ce.match_available=1,ce.strstart++,ce.lookahead--}return ce.match_available&&(ue=g._tr_tally(ce,0,ce.window[ce.strstart-1]),ce.match_available=0),ce.insert=ce.strstart<ee-1?ce.strstart:ee-1,$e===D?(Ae(ce,!0),ce.strm.avail_out===0?Pe:be):ce.last_lit&&(Ae(ce,!1),ce.strm.avail_out===0)?ae:ge}function ze(ce,$e,oe,ue,_e){this.good_length=ce,this.max_lazy=$e,this.nice_length=oe,this.max_chain=ue,this.func=_e}function Le(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new m.Buf16(2*X),this.dyn_dtree=new m.Buf16(2*(2*K+1)),this.bl_tree=new m.Buf16(2*(2*te+1)),Re(this.dyn_ltree),Re(this.dyn_dtree),Re(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new m.Buf16(J+1),this.heap=new m.Buf16(2*Q+1),Re(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new m.Buf16(2*Q+1),Re(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Qe(ce){var $e;return ce&&ce.state?(ce.total_in=ce.total_out=0,ce.data_type=W,($e=ce.state).pending=0,$e.pending_out=0,$e.wrap<0&&($e.wrap=-$e.wrap),$e.status=$e.wrap?se:le,ce.adler=$e.wrap===2?0:1,$e.last_flush=F,g._tr_init($e),$):Ee(ce,V)}function Ke(ce){var $e=Qe(ce);return $e===$&&function(oe){oe.window_size=2*oe.w_size,Re(oe.head),oe.max_lazy_match=d[oe.level].max_lazy,oe.good_match=d[oe.level].good_length,oe.nice_match=d[oe.level].nice_length,oe.max_chain_length=d[oe.level].max_chain,oe.strstart=0,oe.block_start=0,oe.lookahead=0,oe.insert=0,oe.match_length=oe.prev_length=ee-1,oe.match_available=0,oe.ins_h=0}(ce.state),$e}function Fe(ce,$e,oe,ue,_e,Te){if(!ce)return V;var Be=1;if($e===j&&($e=6),ue<0?(Be=0,ue=-ue):ue>15&&(Be=2,ue-=16),_e<1||_e>U||oe!==Z||ue<8||ue>15||$e<0||$e>9||Te<0||Te>G)return Ee(ce,V);ue===8&&(ue=9);var re=new Le;return ce.state=re,re.strm=ce,re.wrap=Be,re.gzhead=null,re.w_bits=ue,re.w_size=1<<re.w_bits,re.w_mask=re.w_size-1,re.hash_bits=_e+7,re.hash_size=1<<re.hash_bits,re.hash_mask=re.hash_size-1,re.hash_shift=~~((re.hash_bits+ee-1)/ee),re.window=new m.Buf8(2*re.w_size),re.head=new m.Buf16(re.hash_size),re.prev=new m.Buf16(re.w_size),re.lit_bufsize=1<<_e+6,re.pending_buf_size=4*re.lit_bufsize,re.pending_buf=new m.Buf8(re.pending_buf_size),re.d_buf=1*re.lit_bufsize,re.l_buf=3*re.lit_bufsize,re.level=$e,re.strategy=Te,re.method=oe,Ke(ce)}return d=[new ze(0,0,0,0,function(ce,$e){var oe=65535;for(oe>ce.pending_buf_size-5&&(oe=ce.pending_buf_size-5);;){if(ce.lookahead<=1){if(Ne(ce),ce.lookahead===0&&$e===F)return ae;if(ce.lookahead===0)break}ce.strstart+=ce.lookahead,ce.lookahead=0;var ue=ce.block_start+oe;if((ce.strstart===0||ce.strstart>=ue)&&(ce.lookahead=ce.strstart-ue,ce.strstart=ue,Ae(ce,!1),ce.strm.avail_out===0)||ce.strstart-ce.block_start>=ce.w_size-fe&&(Ae(ce,!1),ce.strm.avail_out===0))return ae}return ce.insert=0,$e===D?(Ae(ce,!0),ce.strm.avail_out===0?Pe:be):(ce.strstart>ce.block_start&&(Ae(ce,!1),ce.strm.avail_out),ae)}),new ze(4,4,8,4,We),new ze(4,5,16,8,We),new ze(4,6,32,32,We),new ze(4,4,16,16,Ve),new ze(8,16,32,32,Ve),new ze(8,16,128,128,Ve),new ze(8,32,128,256,Ve),new ze(32,128,258,1024,Ve),new ze(32,258,258,4096,Ve)],deflate.deflateInit=function(ce,$e){return Fe(ce,$e,Z,15,8,0)},deflate.deflateInit2=Fe,deflate.deflateReset=Ke,deflate.deflateResetKeep=Qe,deflate.deflateSetHeader=function(ce,$e){return ce&&ce.state?ce.state.wrap!==2?V:(ce.state.gzhead=$e,$):V},deflate.deflate=function(ce,$e){var oe,ue,_e,Te;if(!ce||!ce.state||$e>5||$e<0)return ce?Ee(ce,V):V;if(ue=ce.state,!ce.output||!ce.input&&ce.avail_in!==0||ue.status===ye&&$e!==D)return Ee(ce,ce.avail_out===0?-5:V);if(ue.strm=ce,oe=ue.last_flush,ue.last_flush=$e,ue.status===se)if(ue.wrap===2)ce.adler=0,He(ue,31),He(ue,139),He(ue,8),ue.gzhead?(He(ue,(ue.gzhead.text?1:0)+(ue.gzhead.hcrc?2:0)+(ue.gzhead.extra?4:0)+(ue.gzhead.name?8:0)+(ue.gzhead.comment?16:0)),He(ue,255&ue.gzhead.time),He(ue,ue.gzhead.time>>8&255),He(ue,ue.gzhead.time>>16&255),He(ue,ue.gzhead.time>>24&255),He(ue,ue.level===9?2:ue.strategy>=2||ue.level<2?4:0),He(ue,255&ue.gzhead.os),ue.gzhead.extra&&ue.gzhead.extra.length&&(He(ue,255&ue.gzhead.extra.length),He(ue,ue.gzhead.extra.length>>8&255)),ue.gzhead.hcrc&&(ce.adler=I(ce.adler,ue.pending_buf,ue.pending,0)),ue.gzindex=0,ue.status=69):(He(ue,0),He(ue,0),He(ue,0),He(ue,0),He(ue,0),He(ue,ue.level===9?2:ue.strategy>=2||ue.level<2?4:0),He(ue,3),ue.status=le);else{var Be=Z+(ue.w_bits-8<<4)<<8;Be|=(ue.strategy>=2||ue.level<2?0:ue.level<6?1:ue.level===6?2:3)<<6,ue.strstart!==0&&(Be|=32),Be+=31-Be%31,ue.status=le,Me(ue,Be),ue.strstart!==0&&(Me(ue,ce.adler>>>16),Me(ue,65535&ce.adler)),ce.adler=1}if(ue.status===69)if(ue.gzhead.extra){for(_e=ue.pending;ue.gzindex<(65535&ue.gzhead.extra.length)&&(ue.pending!==ue.pending_buf_size||(ue.gzhead.hcrc&&ue.pending>_e&&(ce.adler=I(ce.adler,ue.pending_buf,ue.pending-_e,_e)),Oe(ce),_e=ue.pending,ue.pending!==ue.pending_buf_size));)He(ue,255&ue.gzhead.extra[ue.gzindex]),ue.gzindex++;ue.gzhead.hcrc&&ue.pending>_e&&(ce.adler=I(ce.adler,ue.pending_buf,ue.pending-_e,_e)),ue.gzindex===ue.gzhead.extra.length&&(ue.gzindex=0,ue.status=73)}else ue.status=73;if(ue.status===73)if(ue.gzhead.name){_e=ue.pending;do{if(ue.pending===ue.pending_buf_size&&(ue.gzhead.hcrc&&ue.pending>_e&&(ce.adler=I(ce.adler,ue.pending_buf,ue.pending-_e,_e)),Oe(ce),_e=ue.pending,ue.pending===ue.pending_buf_size)){Te=1;break}Te=ue.gzindex<ue.gzhead.name.length?255&ue.gzhead.name.charCodeAt(ue.gzindex++):0,He(ue,Te)}while(Te!==0);ue.gzhead.hcrc&&ue.pending>_e&&(ce.adler=I(ce.adler,ue.pending_buf,ue.pending-_e,_e)),Te===0&&(ue.gzindex=0,ue.status=91)}else ue.status=91;if(ue.status===91)if(ue.gzhead.comment){_e=ue.pending;do{if(ue.pending===ue.pending_buf_size&&(ue.gzhead.hcrc&&ue.pending>_e&&(ce.adler=I(ce.adler,ue.pending_buf,ue.pending-_e,_e)),Oe(ce),_e=ue.pending,ue.pending===ue.pending_buf_size)){Te=1;break}Te=ue.gzindex<ue.gzhead.comment.length?255&ue.gzhead.comment.charCodeAt(ue.gzindex++):0,He(ue,Te)}while(Te!==0);ue.gzhead.hcrc&&ue.pending>_e&&(ce.adler=I(ce.adler,ue.pending_buf,ue.pending-_e,_e)),Te===0&&(ue.status=de)}else ue.status=de;if(ue.status===de&&(ue.gzhead.hcrc?(ue.pending+2>ue.pending_buf_size&&Oe(ce),ue.pending+2<=ue.pending_buf_size&&(He(ue,255&ce.adler),He(ue,ce.adler>>8&255),ce.adler=0,ue.status=le)):ue.status=le),ue.pending!==0){if(Oe(ce),ce.avail_out===0)return ue.last_flush=-1,$}else if(ce.avail_in===0&&ve($e)<=ve(oe)&&$e!==D)return Ee(ce,-5);if(ue.status===ye&&ce.avail_in!==0)return Ee(ce,-5);if(ce.avail_in!==0||ue.lookahead!==0||$e!==F&&ue.status!==ye){var re=ue.strategy===2?function(me,Ie){for(var xe;;){if(me.lookahead===0&&(Ne(me),me.lookahead===0)){if(Ie===F)return ae;break}if(me.match_length=0,xe=g._tr_tally(me,0,me.window[me.strstart]),me.lookahead--,me.strstart++,xe&&(Ae(me,!1),me.strm.avail_out===0))return ae}return me.insert=0,Ie===D?(Ae(me,!0),me.strm.avail_out===0?Pe:be):me.last_lit&&(Ae(me,!1),me.strm.avail_out===0)?ae:ge}(ue,$e):ue.strategy===3?function(me,Ie){for(var xe,Ze,Xe,nt,lt=me.window;;){if(me.lookahead<=ie){if(Ne(me),me.lookahead<=ie&&Ie===F)return ae;if(me.lookahead===0)break}if(me.match_length=0,me.lookahead>=ee&&me.strstart>0&&(Ze=lt[Xe=me.strstart-1])===lt[++Xe]&&Ze===lt[++Xe]&&Ze===lt[++Xe]){nt=me.strstart+ie;do;while(Ze===lt[++Xe]&&Ze===lt[++Xe]&&Ze===lt[++Xe]&&Ze===lt[++Xe]&&Ze===lt[++Xe]&&Ze===lt[++Xe]&&Ze===lt[++Xe]&&Ze===lt[++Xe]&&Xe<nt);me.match_length=ie-(nt-Xe),me.match_length>me.lookahead&&(me.match_length=me.lookahead)}if(me.match_length>=ee?(xe=g._tr_tally(me,1,me.match_length-ee),me.lookahead-=me.match_length,me.strstart+=me.match_length,me.match_length=0):(xe=g._tr_tally(me,0,me.window[me.strstart]),me.lookahead--,me.strstart++),xe&&(Ae(me,!1),me.strm.avail_out===0))return ae}return me.insert=0,Ie===D?(Ae(me,!0),me.strm.avail_out===0?Pe:be):me.last_lit&&(Ae(me,!1),me.strm.avail_out===0)?ae:ge}(ue,$e):d[ue.level].func(ue,$e);if(re!==Pe&&re!==be||(ue.status=ye),re===ae||re===Pe)return ce.avail_out===0&&(ue.last_flush=-1),$;if(re===ge&&($e===1?g._tr_align(ue):$e!==5&&(g._tr_stored_block(ue,0,0,!1),$e===3&&(Re(ue.head),ue.lookahead===0&&(ue.strstart=0,ue.block_start=0,ue.insert=0))),Oe(ce),ce.avail_out===0))return ue.last_flush=-1,$}return $e!==D?$:ue.wrap<=0?1:(ue.wrap===2?(He(ue,255&ce.adler),He(ue,ce.adler>>8&255),He(ue,ce.adler>>16&255),He(ue,ce.adler>>24&255),He(ue,255&ce.total_in),He(ue,ce.total_in>>8&255),He(ue,ce.total_in>>16&255),He(ue,ce.total_in>>24&255)):(Me(ue,ce.adler>>>16),Me(ue,65535&ce.adler)),Oe(ce),ue.wrap>0&&(ue.wrap=-ue.wrap),ue.pending!==0?$:1)},deflate.deflateEnd=function(ce){var $e;return ce&&ce.state?($e=ce.state.status)!==se&&$e!==69&&$e!==73&&$e!==91&&$e!==de&&$e!==le&&$e!==ye?Ee(ce,V):(ce.state=null,$e===le?Ee(ce,-3):$):V},deflate.deflateSetDictionary=function(ce,$e){var oe,ue,_e,Te,Be,re,me,Ie,xe=$e.length;if(!ce||!ce.state||(Te=(oe=ce.state).wrap)===2||Te===1&&oe.status!==se||oe.lookahead)return V;for(Te===1&&(ce.adler=w(ce.adler,$e,xe,0)),oe.wrap=0,xe>=oe.w_size&&(Te===0&&(Re(oe.head),oe.strstart=0,oe.block_start=0,oe.insert=0),Ie=new m.Buf8(oe.w_size),m.arraySet(Ie,$e,xe-oe.w_size,oe.w_size,0),$e=Ie,xe=oe.w_size),Be=ce.avail_in,re=ce.next_in,me=ce.input,ce.avail_in=xe,ce.next_in=0,ce.input=$e,Ne(oe);oe.lookahead>=ee;){ue=oe.strstart,_e=oe.lookahead-(ee-1);do oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[ue+ee-1])&oe.hash_mask,oe.prev[ue&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=ue,ue++;while(--_e);oe.strstart=ue,oe.lookahead=ee-1,Ne(oe)}return oe.strstart+=oe.lookahead,oe.block_start=oe.strstart,oe.insert=oe.lookahead,oe.lookahead=0,oe.match_length=oe.prev_length=ee-1,oe.match_available=0,ce.next_in=re,ce.input=me,ce.avail_in=Be,oe.wrap=Te,$},deflate.deflateInfo="pako deflate (from Nodeca project)",deflate}var strings={},hasRequiredStrings,zstream,hasRequiredZstream,hasRequiredDeflate;function requireStrings(){if(hasRequiredStrings)return strings;hasRequiredStrings=1;var d=requireCommon(),m=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch{m=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{g=!1}for(var w=new d.Buf8(256),I=0;I<256;I++)w[I]=I>=252?6:I>=248?5:I>=240?4:I>=224?3:I>=192?2:1;function P(F,D){if(D<65534&&(F.subarray&&g||!F.subarray&&m))return String.fromCharCode.apply(null,d.shrinkBuf(F,D));for(var $="",V=0;V<D;V++)$+=String.fromCharCode(F[V]);return $}return w[254]=w[254]=1,strings.string2buf=function(F){var D,$,V,j,G,W=F.length,Z=0;for(j=0;j<W;j++)(64512&($=F.charCodeAt(j)))==55296&&j+1<W&&(64512&(V=F.charCodeAt(j+1)))==56320&&($=65536+($-55296<<10)+(V-56320),j++),Z+=$<128?1:$<2048?2:$<65536?3:4;for(D=new d.Buf8(Z),G=0,j=0;G<Z;j++)(64512&($=F.charCodeAt(j)))==55296&&j+1<W&&(64512&(V=F.charCodeAt(j+1)))==56320&&($=65536+($-55296<<10)+(V-56320),j++),$<128?D[G++]=$:$<2048?(D[G++]=192|$>>>6,D[G++]=128|63&$):$<65536?(D[G++]=224|$>>>12,D[G++]=128|$>>>6&63,D[G++]=128|63&$):(D[G++]=240|$>>>18,D[G++]=128|$>>>12&63,D[G++]=128|$>>>6&63,D[G++]=128|63&$);return D},strings.buf2binstring=function(F){return P(F,F.length)},strings.binstring2buf=function(F){for(var D=new d.Buf8(F.length),$=0,V=D.length;$<V;$++)D[$]=F.charCodeAt($);return D},strings.buf2string=function(F,D){var $,V,j,G,W=D||F.length,Z=new Array(2*W);for(V=0,$=0;$<W;)if((j=F[$++])<128)Z[V++]=j;else if((G=w[j])>4)Z[V++]=65533,$+=G-1;else{for(j&=G===2?31:G===3?15:7;G>1&&$<W;)j=j<<6|63&F[$++],G--;G>1?Z[V++]=65533:j<65536?Z[V++]=j:(j-=65536,Z[V++]=55296|j>>10&1023,Z[V++]=56320|1023&j)}return P(Z,V)},strings.utf8border=function(F,D){var $;for((D=D||F.length)>F.length&&(D=F.length),$=D-1;$>=0&&(192&F[$])==128;)$--;return $<0||$===0?D:$+w[F[$]]>D?$:D},strings}function requireZstream(){return hasRequiredZstream?zstream:(hasRequiredZstream=1,zstream=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0})}function requireDeflate(){if(hasRequiredDeflate)return deflate$1;hasRequiredDeflate=1;var d=requireDeflate$1(),m=requireCommon(),g=requireStrings(),w=requireMessages(),I=requireZstream(),P=Object.prototype.toString,F=0,D=-1,$=0,V=8;function j(W){if(!(this instanceof j))return new j(W);this.options=m.assign({level:D,method:V,chunkSize:16384,windowBits:15,memLevel:8,strategy:$,to:""},W||{});var Z=this.options;Z.raw&&Z.windowBits>0?Z.windowBits=-Z.windowBits:Z.gzip&&Z.windowBits>0&&Z.windowBits<16&&(Z.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new I,this.strm.avail_out=0;var U=d.deflateInit2(this.strm,Z.level,Z.method,Z.windowBits,Z.memLevel,Z.strategy);if(U!==F)throw new Error(w[U]);if(Z.header&&d.deflateSetHeader(this.strm,Z.header),Z.dictionary){var Q;if(Q=typeof Z.dictionary=="string"?g.string2buf(Z.dictionary):P.call(Z.dictionary)==="[object ArrayBuffer]"?new Uint8Array(Z.dictionary):Z.dictionary,(U=d.deflateSetDictionary(this.strm,Q))!==F)throw new Error(w[U]);this._dict_set=!0}}function G(W,Z){var U=new j(Z);if(U.push(W,!0),U.err)throw U.msg||w[U.err];return U.result}return j.prototype.push=function(W,Z){var U,Q,K=this.strm,te=this.options.chunkSize;if(this.ended)return!1;Q=Z===~~Z?Z:Z===!0?4:0,typeof W=="string"?K.input=g.string2buf(W):P.call(W)==="[object ArrayBuffer]"?K.input=new Uint8Array(W):K.input=W,K.next_in=0,K.avail_in=K.input.length;do{if(K.avail_out===0&&(K.output=new m.Buf8(te),K.next_out=0,K.avail_out=te),(U=d.deflate(K,Q))!==1&&U!==F)return this.onEnd(U),this.ended=!0,!1;K.avail_out!==0&&(K.avail_in!==0||Q!==4&&Q!==2)||(this.options.to==="string"?this.onData(g.buf2binstring(m.shrinkBuf(K.output,K.next_out))):this.onData(m.shrinkBuf(K.output,K.next_out)))}while((K.avail_in>0||K.avail_out===0)&&U!==1);return Q===4?(U=d.deflateEnd(this.strm),this.onEnd(U),this.ended=!0,U===F):Q!==2||(this.onEnd(F),K.avail_out=0,!0)},j.prototype.onData=function(W){this.chunks.push(W)},j.prototype.onEnd=function(W){W===F&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=W,this.msg=this.strm.msg},deflate$1.Deflate=j,deflate$1.deflate=G,deflate$1.deflateRaw=function(W,Z){return(Z=Z||{}).raw=!0,G(W,Z)},deflate$1.gzip=function(W,Z){return(Z=Z||{}).gzip=!0,G(W,Z)},deflate$1}var inflate$1={},inflate={},inffast,hasRequiredInffast,inftrees,hasRequiredInftrees,hasRequiredInflate$1,constants,hasRequiredConstants,gzheader,hasRequiredGzheader,hasRequiredInflate,pako_1,hasRequiredPako;function requireInffast(){return hasRequiredInffast?inffast:(hasRequiredInffast=1,inffast=function(d,m){var g,w,I,P,F,D,$,V,j,G,W,Z,U,Q,K,te,X,J,ee,ie,fe,se,de,le,ye;g=d.state,w=d.next_in,le=d.input,I=w+(d.avail_in-5),P=d.next_out,ye=d.output,F=P-(m-d.avail_out),D=P+(d.avail_out-257),$=g.dmax,V=g.wsize,j=g.whave,G=g.wnext,W=g.window,Z=g.hold,U=g.bits,Q=g.lencode,K=g.distcode,te=(1<<g.lenbits)-1,X=(1<<g.distbits)-1;e:do{U<15&&(Z+=le[w++]<<U,U+=8,Z+=le[w++]<<U,U+=8),J=Q[Z&te];t:for(;;){if(Z>>>=ee=J>>>24,U-=ee,(ee=J>>>16&255)===0)ye[P++]=65535&J;else{if(!(16&ee)){if(64&ee){if(32&ee){g.mode=12;break e}d.msg="invalid literal/length code",g.mode=30;break e}J=Q[(65535&J)+(Z&(1<<ee)-1)];continue t}for(ie=65535&J,(ee&=15)&&(U<ee&&(Z+=le[w++]<<U,U+=8),ie+=Z&(1<<ee)-1,Z>>>=ee,U-=ee),U<15&&(Z+=le[w++]<<U,U+=8,Z+=le[w++]<<U,U+=8),J=K[Z&X];;){if(Z>>>=ee=J>>>24,U-=ee,16&(ee=J>>>16&255)){if(fe=65535&J,U<(ee&=15)&&(Z+=le[w++]<<U,(U+=8)<ee&&(Z+=le[w++]<<U,U+=8)),(fe+=Z&(1<<ee)-1)>$){d.msg="invalid distance too far back",g.mode=30;break e}if(Z>>>=ee,U-=ee,fe>(ee=P-F)){if((ee=fe-ee)>j&&g.sane){d.msg="invalid distance too far back",g.mode=30;break e}if(se=0,de=W,G===0){if(se+=V-ee,ee<ie){ie-=ee;do ye[P++]=W[se++];while(--ee);se=P-fe,de=ye}}else if(G<ee){if(se+=V+G-ee,(ee-=G)<ie){ie-=ee;do ye[P++]=W[se++];while(--ee);if(se=0,G<ie){ie-=ee=G;do ye[P++]=W[se++];while(--ee);se=P-fe,de=ye}}}else if(se+=G-ee,ee<ie){ie-=ee;do ye[P++]=W[se++];while(--ee);se=P-fe,de=ye}for(;ie>2;)ye[P++]=de[se++],ye[P++]=de[se++],ye[P++]=de[se++],ie-=3;ie&&(ye[P++]=de[se++],ie>1&&(ye[P++]=de[se++]))}else{se=P-fe;do ye[P++]=ye[se++],ye[P++]=ye[se++],ye[P++]=ye[se++],ie-=3;while(ie>2);ie&&(ye[P++]=ye[se++],ie>1&&(ye[P++]=ye[se++]))}break}if(64&ee){d.msg="invalid distance code",g.mode=30;break e}J=K[(65535&J)+(Z&(1<<ee)-1)]}}break}}while(w<I&&P<D);w-=ie=U>>3,Z&=(1<<(U-=ie<<3))-1,d.next_in=w,d.next_out=P,d.avail_in=w<I?I-w+5:5-(w-I),d.avail_out=P<D?D-P+257:257-(P-D),g.hold=Z,g.bits=U},inffast)}function requireInftrees(){if(hasRequiredInftrees)return inftrees;hasRequiredInftrees=1;var d=requireCommon(),m=15,g=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],w=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],I=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],P=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return inftrees=function(F,D,$,V,j,G,W,Z){var U,Q,K,te,X,J,ee,ie,fe,se=Z.bits,de=0,le=0,ye=0,ae=0,ge=0,Pe=0,be=0,Ee=0,ve=0,Re=0,Oe=null,Ae=0,He=new d.Buf16(16),Me=new d.Buf16(16),je=null,Ne=0;for(de=0;de<=m;de++)He[de]=0;for(le=0;le<V;le++)He[D[$+le]]++;for(ge=se,ae=m;ae>=1&&He[ae]===0;ae--);if(ge>ae&&(ge=ae),ae===0)return j[G++]=20971520,j[G++]=20971520,Z.bits=1,0;for(ye=1;ye<ae&&He[ye]===0;ye++);for(ge<ye&&(ge=ye),Ee=1,de=1;de<=m;de++)if(Ee<<=1,(Ee-=He[de])<0)return-1;if(Ee>0&&(F===0||ae!==1))return-1;for(Me[1]=0,de=1;de<m;de++)Me[de+1]=Me[de]+He[de];for(le=0;le<V;le++)D[$+le]!==0&&(W[Me[D[$+le]]++]=le);if(F===0?(Oe=je=W,J=19):F===1?(Oe=g,Ae-=257,je=w,Ne-=257,J=256):(Oe=I,je=P,J=-1),Re=0,le=0,de=ye,X=G,Pe=ge,be=0,K=-1,te=(ve=1<<ge)-1,F===1&&ve>852||F===2&&ve>592)return 1;for(;;){ee=de-be,W[le]<J?(ie=0,fe=W[le]):W[le]>J?(ie=je[Ne+W[le]],fe=Oe[Ae+W[le]]):(ie=96,fe=0),U=1<<de-be,ye=Q=1<<Pe;do j[X+(Re>>be)+(Q-=U)]=ee<<24|ie<<16|fe;while(Q!==0);for(U=1<<de-1;Re&U;)U>>=1;if(U!==0?(Re&=U-1,Re+=U):Re=0,le++,--He[de]==0){if(de===ae)break;de=D[$+W[le]]}if(de>ge&&(Re&te)!==K){for(be===0&&(be=ge),X+=ye,Ee=1<<(Pe=de-be);Pe+be<ae&&!((Ee-=He[Pe+be])<=0);)Pe++,Ee<<=1;if(ve+=1<<Pe,F===1&&ve>852||F===2&&ve>592)return 1;j[K=Re&te]=ge<<24|Pe<<16|X-G}}return Re!==0&&(j[X+Re]=de-be<<24|64<<16),Z.bits=ge,0}}function requireInflate$1(){if(hasRequiredInflate$1)return inflate;hasRequiredInflate$1=1;var d=requireCommon(),m=requireAdler32(),g=requireCrc32(),w=requireInffast(),I=requireInftrees(),P=1,F=2,D=0,$=-2,V=1,j=12,G=30,W=852,Z=592;function U(le){return(le>>>24&255)+(le>>>8&65280)+((65280&le)<<8)+((255&le)<<24)}function Q(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new d.Buf16(320),this.work=new d.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function K(le){var ye;return le&&le.state?(ye=le.state,le.total_in=le.total_out=ye.total=0,le.msg="",ye.wrap&&(le.adler=1&ye.wrap),ye.mode=V,ye.last=0,ye.havedict=0,ye.dmax=32768,ye.head=null,ye.hold=0,ye.bits=0,ye.lencode=ye.lendyn=new d.Buf32(W),ye.distcode=ye.distdyn=new d.Buf32(Z),ye.sane=1,ye.back=-1,D):$}function te(le){var ye;return le&&le.state?((ye=le.state).wsize=0,ye.whave=0,ye.wnext=0,K(le)):$}function X(le,ye){var ae,ge;return le&&le.state?(ge=le.state,ye<0?(ae=0,ye=-ye):(ae=1+(ye>>4),ye<48&&(ye&=15)),ye&&(ye<8||ye>15)?$:(ge.window!==null&&ge.wbits!==ye&&(ge.window=null),ge.wrap=ae,ge.wbits=ye,te(le))):$}function J(le,ye){var ae,ge;return le?(ge=new Q,le.state=ge,ge.window=null,(ae=X(le,ye))!==D&&(le.state=null),ae):$}var ee,ie,fe=!0;function se(le){if(fe){var ye;for(ee=new d.Buf32(512),ie=new d.Buf32(32),ye=0;ye<144;)le.lens[ye++]=8;for(;ye<256;)le.lens[ye++]=9;for(;ye<280;)le.lens[ye++]=7;for(;ye<288;)le.lens[ye++]=8;for(I(P,le.lens,0,288,ee,0,le.work,{bits:9}),ye=0;ye<32;)le.lens[ye++]=5;I(F,le.lens,0,32,ie,0,le.work,{bits:5}),fe=!1}le.lencode=ee,le.lenbits=9,le.distcode=ie,le.distbits=5}function de(le,ye,ae,ge){var Pe,be=le.state;return be.window===null&&(be.wsize=1<<be.wbits,be.wnext=0,be.whave=0,be.window=new d.Buf8(be.wsize)),ge>=be.wsize?(d.arraySet(be.window,ye,ae-be.wsize,be.wsize,0),be.wnext=0,be.whave=be.wsize):((Pe=be.wsize-be.wnext)>ge&&(Pe=ge),d.arraySet(be.window,ye,ae-ge,Pe,be.wnext),(ge-=Pe)?(d.arraySet(be.window,ye,ae-ge,ge,0),be.wnext=ge,be.whave=be.wsize):(be.wnext+=Pe,be.wnext===be.wsize&&(be.wnext=0),be.whave<be.wsize&&(be.whave+=Pe))),0}return inflate.inflateReset=te,inflate.inflateReset2=X,inflate.inflateResetKeep=K,inflate.inflateInit=function(le){return J(le,15)},inflate.inflateInit2=J,inflate.inflate=function(le,ye){var ae,ge,Pe,be,Ee,ve,Re,Oe,Ae,He,Me,je,Ne,We,Ve,ze,Le,Qe,Ke,Fe,ce,$e,oe,ue,_e=0,Te=new d.Buf8(4),Be=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!le||!le.state||!le.output||!le.input&&le.avail_in!==0)return $;(ae=le.state).mode===j&&(ae.mode=13),Ee=le.next_out,Pe=le.output,Re=le.avail_out,be=le.next_in,ge=le.input,ve=le.avail_in,Oe=ae.hold,Ae=ae.bits,He=ve,Me=Re,$e=D;e:for(;;)switch(ae.mode){case V:if(ae.wrap===0){ae.mode=13;break}for(;Ae<16;){if(ve===0)break e;ve--,Oe+=ge[be++]<<Ae,Ae+=8}if(2&ae.wrap&&Oe===35615){ae.check=0,Te[0]=255&Oe,Te[1]=Oe>>>8&255,ae.check=g(ae.check,Te,2,0),Oe=0,Ae=0,ae.mode=2;break}if(ae.flags=0,ae.head&&(ae.head.done=!1),!(1&ae.wrap)||(((255&Oe)<<8)+(Oe>>8))%31){le.msg="incorrect header check",ae.mode=G;break}if((15&Oe)!=8){le.msg="unknown compression method",ae.mode=G;break}if(Ae-=4,ce=8+(15&(Oe>>>=4)),ae.wbits===0)ae.wbits=ce;else if(ce>ae.wbits){le.msg="invalid window size",ae.mode=G;break}ae.dmax=1<<ce,le.adler=ae.check=1,ae.mode=512&Oe?10:j,Oe=0,Ae=0;break;case 2:for(;Ae<16;){if(ve===0)break e;ve--,Oe+=ge[be++]<<Ae,Ae+=8}if(ae.flags=Oe,(255&ae.flags)!=8){le.msg="unknown compression method",ae.mode=G;break}if(57344&ae.flags){le.msg="unknown header flags set",ae.mode=G;break}ae.head&&(ae.head.text=Oe>>8&1),512&ae.flags&&(Te[0]=255&Oe,Te[1]=Oe>>>8&255,ae.check=g(ae.check,Te,2,0)),Oe=0,Ae=0,ae.mode=3;case 3:for(;Ae<32;){if(ve===0)break e;ve--,Oe+=ge[be++]<<Ae,Ae+=8}ae.head&&(ae.head.time=Oe),512&ae.flags&&(Te[0]=255&Oe,Te[1]=Oe>>>8&255,Te[2]=Oe>>>16&255,Te[3]=Oe>>>24&255,ae.check=g(ae.check,Te,4,0)),Oe=0,Ae=0,ae.mode=4;case 4:for(;Ae<16;){if(ve===0)break e;ve--,Oe+=ge[be++]<<Ae,Ae+=8}ae.head&&(ae.head.xflags=255&Oe,ae.head.os=Oe>>8),512&ae.flags&&(Te[0]=255&Oe,Te[1]=Oe>>>8&255,ae.check=g(ae.check,Te,2,0)),Oe=0,Ae=0,ae.mode=5;case 5:if(1024&ae.flags){for(;Ae<16;){if(ve===0)break e;ve--,Oe+=ge[be++]<<Ae,Ae+=8}ae.length=Oe,ae.head&&(ae.head.extra_len=Oe),512&ae.flags&&(Te[0]=255&Oe,Te[1]=Oe>>>8&255,ae.check=g(ae.check,Te,2,0)),Oe=0,Ae=0}else ae.head&&(ae.head.extra=null);ae.mode=6;case 6:if(1024&ae.flags&&((je=ae.length)>ve&&(je=ve),je&&(ae.head&&(ce=ae.head.extra_len-ae.length,ae.head.extra||(ae.head.extra=new Array(ae.head.extra_len)),d.arraySet(ae.head.extra,ge,be,je,ce)),512&ae.flags&&(ae.check=g(ae.check,ge,je,be)),ve-=je,be+=je,ae.length-=je),ae.length))break e;ae.length=0,ae.mode=7;case 7:if(2048&ae.flags){if(ve===0)break e;je=0;do ce=ge[be+je++],ae.head&&ce&&ae.length<65536&&(ae.head.name+=String.fromCharCode(ce));while(ce&&je<ve);if(512&ae.flags&&(ae.check=g(ae.check,ge,je,be)),ve-=je,be+=je,ce)break e}else ae.head&&(ae.head.name=null);ae.length=0,ae.mode=8;case 8:if(4096&ae.flags){if(ve===0)break e;je=0;do ce=ge[be+je++],ae.head&&ce&&ae.length<65536&&(ae.head.comment+=String.fromCharCode(ce));while(ce&&je<ve);if(512&ae.flags&&(ae.check=g(ae.check,ge,je,be)),ve-=je,be+=je,ce)break e}else ae.head&&(ae.head.comment=null);ae.mode=9;case 9:if(512&ae.flags){for(;Ae<16;){if(ve===0)break e;ve--,Oe+=ge[be++]<<Ae,Ae+=8}if(Oe!==(65535&ae.check)){le.msg="header crc mismatch",ae.mode=G;break}Oe=0,Ae=0}ae.head&&(ae.head.hcrc=ae.flags>>9&1,ae.head.done=!0),le.adler=ae.check=0,ae.mode=j;break;case 10:for(;Ae<32;){if(ve===0)break e;ve--,Oe+=ge[be++]<<Ae,Ae+=8}le.adler=ae.check=U(Oe),Oe=0,Ae=0,ae.mode=11;case 11:if(ae.havedict===0)return le.next_out=Ee,le.avail_out=Re,le.next_in=be,le.avail_in=ve,ae.hold=Oe,ae.bits=Ae,2;le.adler=ae.check=1,ae.mode=j;case j:if(ye===5||ye===6)break e;case 13:if(ae.last){Oe>>>=7&Ae,Ae-=7&Ae,ae.mode=27;break}for(;Ae<3;){if(ve===0)break e;ve--,Oe+=ge[be++]<<Ae,Ae+=8}switch(ae.last=1&Oe,Ae-=1,3&(Oe>>>=1)){case 0:ae.mode=14;break;case 1:if(se(ae),ae.mode=20,ye===6){Oe>>>=2,Ae-=2;break e}break;case 2:ae.mode=17;break;case 3:le.msg="invalid block type",ae.mode=G}Oe>>>=2,Ae-=2;break;case 14:for(Oe>>>=7&Ae,Ae-=7&Ae;Ae<32;){if(ve===0)break e;ve--,Oe+=ge[be++]<<Ae,Ae+=8}if((65535&Oe)!=(Oe>>>16^65535)){le.msg="invalid stored block lengths",ae.mode=G;break}if(ae.length=65535&Oe,Oe=0,Ae=0,ae.mode=15,ye===6)break e;case 15:ae.mode=16;case 16:if(je=ae.length){if(je>ve&&(je=ve),je>Re&&(je=Re),je===0)break e;d.arraySet(Pe,ge,be,je,Ee),ve-=je,be+=je,Re-=je,Ee+=je,ae.length-=je;break}ae.mode=j;break;case 17:for(;Ae<14;){if(ve===0)break e;ve--,Oe+=ge[be++]<<Ae,Ae+=8}if(ae.nlen=257+(31&Oe),Oe>>>=5,Ae-=5,ae.ndist=1+(31&Oe),Oe>>>=5,Ae-=5,ae.ncode=4+(15&Oe),Oe>>>=4,Ae-=4,ae.nlen>286||ae.ndist>30){le.msg="too many length or distance symbols",ae.mode=G;break}ae.have=0,ae.mode=18;case 18:for(;ae.have<ae.ncode;){for(;Ae<3;){if(ve===0)break e;ve--,Oe+=ge[be++]<<Ae,Ae+=8}ae.lens[Be[ae.have++]]=7&Oe,Oe>>>=3,Ae-=3}for(;ae.have<19;)ae.lens[Be[ae.have++]]=0;if(ae.lencode=ae.lendyn,ae.lenbits=7,oe={bits:ae.lenbits},$e=I(0,ae.lens,0,19,ae.lencode,0,ae.work,oe),ae.lenbits=oe.bits,$e){le.msg="invalid code lengths set",ae.mode=G;break}ae.have=0,ae.mode=19;case 19:for(;ae.have<ae.nlen+ae.ndist;){for(;ze=(_e=ae.lencode[Oe&(1<<ae.lenbits)-1])>>>16&255,Le=65535&_e,!((Ve=_e>>>24)<=Ae);){if(ve===0)break e;ve--,Oe+=ge[be++]<<Ae,Ae+=8}if(Le<16)Oe>>>=Ve,Ae-=Ve,ae.lens[ae.have++]=Le;else{if(Le===16){for(ue=Ve+2;Ae<ue;){if(ve===0)break e;ve--,Oe+=ge[be++]<<Ae,Ae+=8}if(Oe>>>=Ve,Ae-=Ve,ae.have===0){le.msg="invalid bit length repeat",ae.mode=G;break}ce=ae.lens[ae.have-1],je=3+(3&Oe),Oe>>>=2,Ae-=2}else if(Le===17){for(ue=Ve+3;Ae<ue;){if(ve===0)break e;ve--,Oe+=ge[be++]<<Ae,Ae+=8}Ae-=Ve,ce=0,je=3+(7&(Oe>>>=Ve)),Oe>>>=3,Ae-=3}else{for(ue=Ve+7;Ae<ue;){if(ve===0)break e;ve--,Oe+=ge[be++]<<Ae,Ae+=8}Ae-=Ve,ce=0,je=11+(127&(Oe>>>=Ve)),Oe>>>=7,Ae-=7}if(ae.have+je>ae.nlen+ae.ndist){le.msg="invalid bit length repeat",ae.mode=G;break}for(;je--;)ae.lens[ae.have++]=ce}}if(ae.mode===G)break;if(ae.lens[256]===0){le.msg="invalid code -- missing end-of-block",ae.mode=G;break}if(ae.lenbits=9,oe={bits:ae.lenbits},$e=I(P,ae.lens,0,ae.nlen,ae.lencode,0,ae.work,oe),ae.lenbits=oe.bits,$e){le.msg="invalid literal/lengths set",ae.mode=G;break}if(ae.distbits=6,ae.distcode=ae.distdyn,oe={bits:ae.distbits},$e=I(F,ae.lens,ae.nlen,ae.ndist,ae.distcode,0,ae.work,oe),ae.distbits=oe.bits,$e){le.msg="invalid distances set",ae.mode=G;break}if(ae.mode=20,ye===6)break e;case 20:ae.mode=21;case 21:if(ve>=6&&Re>=258){le.next_out=Ee,le.avail_out=Re,le.next_in=be,le.avail_in=ve,ae.hold=Oe,ae.bits=Ae,w(le,Me),Ee=le.next_out,Pe=le.output,Re=le.avail_out,be=le.next_in,ge=le.input,ve=le.avail_in,Oe=ae.hold,Ae=ae.bits,ae.mode===j&&(ae.back=-1);break}for(ae.back=0;ze=(_e=ae.lencode[Oe&(1<<ae.lenbits)-1])>>>16&255,Le=65535&_e,!((Ve=_e>>>24)<=Ae);){if(ve===0)break e;ve--,Oe+=ge[be++]<<Ae,Ae+=8}if(ze&&!(240&ze)){for(Qe=Ve,Ke=ze,Fe=Le;ze=(_e=ae.lencode[Fe+((Oe&(1<<Qe+Ke)-1)>>Qe)])>>>16&255,Le=65535&_e,!(Qe+(Ve=_e>>>24)<=Ae);){if(ve===0)break e;ve--,Oe+=ge[be++]<<Ae,Ae+=8}Oe>>>=Qe,Ae-=Qe,ae.back+=Qe}if(Oe>>>=Ve,Ae-=Ve,ae.back+=Ve,ae.length=Le,ze===0){ae.mode=26;break}if(32&ze){ae.back=-1,ae.mode=j;break}if(64&ze){le.msg="invalid literal/length code",ae.mode=G;break}ae.extra=15&ze,ae.mode=22;case 22:if(ae.extra){for(ue=ae.extra;Ae<ue;){if(ve===0)break e;ve--,Oe+=ge[be++]<<Ae,Ae+=8}ae.length+=Oe&(1<<ae.extra)-1,Oe>>>=ae.extra,Ae-=ae.extra,ae.back+=ae.extra}ae.was=ae.length,ae.mode=23;case 23:for(;ze=(_e=ae.distcode[Oe&(1<<ae.distbits)-1])>>>16&255,Le=65535&_e,!((Ve=_e>>>24)<=Ae);){if(ve===0)break e;ve--,Oe+=ge[be++]<<Ae,Ae+=8}if(!(240&ze)){for(Qe=Ve,Ke=ze,Fe=Le;ze=(_e=ae.distcode[Fe+((Oe&(1<<Qe+Ke)-1)>>Qe)])>>>16&255,Le=65535&_e,!(Qe+(Ve=_e>>>24)<=Ae);){if(ve===0)break e;ve--,Oe+=ge[be++]<<Ae,Ae+=8}Oe>>>=Qe,Ae-=Qe,ae.back+=Qe}if(Oe>>>=Ve,Ae-=Ve,ae.back+=Ve,64&ze){le.msg="invalid distance code",ae.mode=G;break}ae.offset=Le,ae.extra=15&ze,ae.mode=24;case 24:if(ae.extra){for(ue=ae.extra;Ae<ue;){if(ve===0)break e;ve--,Oe+=ge[be++]<<Ae,Ae+=8}ae.offset+=Oe&(1<<ae.extra)-1,Oe>>>=ae.extra,Ae-=ae.extra,ae.back+=ae.extra}if(ae.offset>ae.dmax){le.msg="invalid distance too far back",ae.mode=G;break}ae.mode=25;case 25:if(Re===0)break e;if(je=Me-Re,ae.offset>je){if((je=ae.offset-je)>ae.whave&&ae.sane){le.msg="invalid distance too far back",ae.mode=G;break}je>ae.wnext?(je-=ae.wnext,Ne=ae.wsize-je):Ne=ae.wnext-je,je>ae.length&&(je=ae.length),We=ae.window}else We=Pe,Ne=Ee-ae.offset,je=ae.length;je>Re&&(je=Re),Re-=je,ae.length-=je;do Pe[Ee++]=We[Ne++];while(--je);ae.length===0&&(ae.mode=21);break;case 26:if(Re===0)break e;Pe[Ee++]=ae.length,Re--,ae.mode=21;break;case 27:if(ae.wrap){for(;Ae<32;){if(ve===0)break e;ve--,Oe|=ge[be++]<<Ae,Ae+=8}if(Me-=Re,le.total_out+=Me,ae.total+=Me,Me&&(le.adler=ae.check=ae.flags?g(ae.check,Pe,Me,Ee-Me):m(ae.check,Pe,Me,Ee-Me)),Me=Re,(ae.flags?Oe:U(Oe))!==ae.check){le.msg="incorrect data check",ae.mode=G;break}Oe=0,Ae=0}ae.mode=28;case 28:if(ae.wrap&&ae.flags){for(;Ae<32;){if(ve===0)break e;ve--,Oe+=ge[be++]<<Ae,Ae+=8}if(Oe!==(4294967295&ae.total)){le.msg="incorrect length check",ae.mode=G;break}Oe=0,Ae=0}ae.mode=29;case 29:$e=1;break e;case G:$e=-3;break e;case 31:return-4;default:return $}return le.next_out=Ee,le.avail_out=Re,le.next_in=be,le.avail_in=ve,ae.hold=Oe,ae.bits=Ae,(ae.wsize||Me!==le.avail_out&&ae.mode<G&&(ae.mode<27||ye!==4))&&de(le,le.output,le.next_out,Me-le.avail_out),He-=le.avail_in,Me-=le.avail_out,le.total_in+=He,le.total_out+=Me,ae.total+=Me,ae.wrap&&Me&&(le.adler=ae.check=ae.flags?g(ae.check,Pe,Me,le.next_out-Me):m(ae.check,Pe,Me,le.next_out-Me)),le.data_type=ae.bits+(ae.last?64:0)+(ae.mode===j?128:0)+(ae.mode===20||ae.mode===15?256:0),(He===0&&Me===0||ye===4)&&$e===D&&($e=-5),$e},inflate.inflateEnd=function(le){if(!le||!le.state)return $;var ye=le.state;return ye.window&&(ye.window=null),le.state=null,D},inflate.inflateGetHeader=function(le,ye){var ae;return le&&le.state&&2&(ae=le.state).wrap?(ae.head=ye,ye.done=!1,D):$},inflate.inflateSetDictionary=function(le,ye){var ae,ge=ye.length;return le&&le.state?(ae=le.state).wrap!==0&&ae.mode!==11?$:ae.mode===11&&m(1,ye,ge,0)!==ae.check?-3:de(le,ye,ge,ge)?(ae.mode=31,-4):(ae.havedict=1,D):$},inflate.inflateInfo="pako inflate (from Nodeca project)",inflate}function requireConstants(){return hasRequiredConstants?constants:(hasRequiredConstants=1,constants={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8})}function requireGzheader(){return hasRequiredGzheader?gzheader:(hasRequiredGzheader=1,gzheader=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1})}function requireInflate(){if(hasRequiredInflate)return inflate$1;hasRequiredInflate=1;var d=requireInflate$1(),m=requireCommon(),g=requireStrings(),w=requireConstants(),I=requireMessages(),P=requireZstream(),F=requireGzheader(),D=Object.prototype.toString;function $(j){if(!(this instanceof $))return new $(j);this.options=m.assign({chunkSize:16384,windowBits:0,to:""},j||{});var G=this.options;G.raw&&G.windowBits>=0&&G.windowBits<16&&(G.windowBits=-G.windowBits,G.windowBits===0&&(G.windowBits=-15)),!(G.windowBits>=0&&G.windowBits<16)||j&&j.windowBits||(G.windowBits+=32),G.windowBits>15&&G.windowBits<48&&(15&G.windowBits||(G.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new P,this.strm.avail_out=0;var W=d.inflateInit2(this.strm,G.windowBits);if(W!==w.Z_OK)throw new Error(I[W]);if(this.header=new F,d.inflateGetHeader(this.strm,this.header),G.dictionary&&(typeof G.dictionary=="string"?G.dictionary=g.string2buf(G.dictionary):D.call(G.dictionary)==="[object ArrayBuffer]"&&(G.dictionary=new Uint8Array(G.dictionary)),G.raw&&(W=d.inflateSetDictionary(this.strm,G.dictionary))!==w.Z_OK))throw new Error(I[W])}function V(j,G){var W=new $(G);if(W.push(j,!0),W.err)throw W.msg||I[W.err];return W.result}return $.prototype.push=function(j,G){var W,Z,U,Q,K,te=this.strm,X=this.options.chunkSize,J=this.options.dictionary,ee=!1;if(this.ended)return!1;Z=G===~~G?G:G===!0?w.Z_FINISH:w.Z_NO_FLUSH,typeof j=="string"?te.input=g.binstring2buf(j):D.call(j)==="[object ArrayBuffer]"?te.input=new Uint8Array(j):te.input=j,te.next_in=0,te.avail_in=te.input.length;do{if(te.avail_out===0&&(te.output=new m.Buf8(X),te.next_out=0,te.avail_out=X),(W=d.inflate(te,w.Z_NO_FLUSH))===w.Z_NEED_DICT&&J&&(W=d.inflateSetDictionary(this.strm,J)),W===w.Z_BUF_ERROR&&ee===!0&&(W=w.Z_OK,ee=!1),W!==w.Z_STREAM_END&&W!==w.Z_OK)return this.onEnd(W),this.ended=!0,!1;te.next_out&&(te.avail_out!==0&&W!==w.Z_STREAM_END&&(te.avail_in!==0||Z!==w.Z_FINISH&&Z!==w.Z_SYNC_FLUSH)||(this.options.to==="string"?(U=g.utf8border(te.output,te.next_out),Q=te.next_out-U,K=g.buf2string(te.output,U),te.next_out=Q,te.avail_out=X-Q,Q&&m.arraySet(te.output,te.output,U,Q,0),this.onData(K)):this.onData(m.shrinkBuf(te.output,te.next_out)))),te.avail_in===0&&te.avail_out===0&&(ee=!0)}while((te.avail_in>0||te.avail_out===0)&&W!==w.Z_STREAM_END);return W===w.Z_STREAM_END&&(Z=w.Z_FINISH),Z===w.Z_FINISH?(W=d.inflateEnd(this.strm),this.onEnd(W),this.ended=!0,W===w.Z_OK):Z!==w.Z_SYNC_FLUSH||(this.onEnd(w.Z_OK),te.avail_out=0,!0)},$.prototype.onData=function(j){this.chunks.push(j)},$.prototype.onEnd=function(j){j===w.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=j,this.msg=this.strm.msg},inflate$1.Inflate=$,inflate$1.inflate=V,inflate$1.inflateRaw=function(j,G){return(G=G||{}).raw=!0,V(j,G)},inflate$1.ungzip=V,inflate$1}function requirePako(){if(hasRequiredPako)return pako_1;hasRequiredPako=1;var d={};return(0,requireCommon().assign)(d,requireDeflate(),requireInflate(),requireConstants()),pako_1=d}(function(d){(function(){var m={};function g(){typeof process<"u"||console.log.apply(console,arguments)}d.exports=m,function(w,I){(function(){var P=function(){function $(V){this.message="JPEG error: "+V}return $.prototype=new Error,$.prototype.name="JpegError",$.constructor=$,$}(),F=function(){var $=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),V=4017,j=799,G=3406,W=2276,Z=1567,U=3784,Q=5793,K=2896;function te(de){de==null&&(de={}),de.w==null&&(de.w=-1),this.V=de.n,this.N=de.w}function X(de,le){for(var ye,ae,ge,Pe=0,be=[],Ee=16;Ee>0&&!de[Ee-1];)Ee--;be.push({children:[],index:0});var ve=be[0];for(ye=0;ye<Ee;ye++){for(ae=0;ae<de[ye];ae++){for((ve=be.pop()).children[ve.index]=le[Pe];ve.index>0;)ve=be.pop();for(ve.index++,be.push(ve);be.length<=ye;)be.push(ge={children:[],index:0}),ve.children[ve.index]=ge.children,ve=ge;Pe++}ye+1<Ee&&(be.push(ge={children:[],index:0}),ve.children[ve.index]=ge.children,ve=ge)}return be[0].children}function J(de,le,ye){return 64*((de.P+1)*le+ye)}function ee(de,le,ye,ae,ge,Pe,be,Ee,ve,Re){Re==null&&(Re=!1);var Oe,Ae,He,Me,je,Ne,We,Ve,ze,Le,Qe,Ke=ye.m,Fe=ye.Z,ce=le,$e=0,oe=0,ue=0,_e=0,Te=0,Be=0;function re(){if(oe>0)return oe--,$e>>oe&1;if(($e=de[le++])===255){var ot=de[le++];if(ot){if(ot===220&&Re){var dt=D(de,le+=2);if(le+=2,dt>0&&dt!==ye.s)throw new DNLMarkerError("Found DNL marker (0xFFDC) while parsing scan data",dt)}else if(ot===217){if(Re){var ut=8*Te;if(ut>0&&ut<ye.s/10)throw new DNLMarkerError("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",ut)}throw new EOIMarkerError("Found EOI marker (0xFFD9) while parsing scan data")}throw new P("unexpected marker")}}return oe=7,$e>>>7}function me(ot){for(var dt=ot;;){switch(typeof(dt=dt[re()])){case"number":return dt;case"object":continue}throw new P("invalid huffman sequence")}}function Ie(ot){for(var dt=0;ot>0;)dt=dt<<1|re(),ot--;return dt}function xe(ot){if(ot===1)return re()===1?1:-1;var dt=Ie(ot);return dt>=1<<ot-1?dt:dt+(-1<<ot)+1}function Ze(ot,dt,ut,we,et){var rt=ut%Ke;Te=(ut/Ke|0)*ot.A+we;var at=rt*ot.h+et;dt(ot,J(ot,Te,at))}function Xe(ot,dt,ut){Te=ut/ot.P|0;var we=ut%ot.P;dt(ot,J(ot,Te,we))}var nt=ae.length;for(We=Fe?Pe===0?Ee===0?function(ot,dt){var ut=me(ot.J),we=ut===0?0:xe(ut)<<ve;ot.D[dt]=ot.Q+=we}:function(ot,dt){ot.D[dt]|=re()<<ve}:Ee===0?function(ot,dt){if(ue>0)ue--;else for(var ut=Pe,we=be;ut<=we;){var et=me(ot.i),rt=15&et,at=et>>4;if(rt!==0){var H=$[ut+=at];ot.D[dt+H]=xe(rt)*(1<<ve),ut++}else{if(at<15){ue=Ie(at)+(1<<at)-1;break}ut+=16}}}:function(ot,dt){for(var ut,we,et=Pe,rt=be,at=0;et<=rt;){var H=dt+$[et],q=ot.D[H]<0?-1:1;switch(_e){case 0:if(at=(we=me(ot.i))>>4,(ut=15&we)==0)at<15?(ue=Ie(at)+(1<<at),_e=4):(at=16,_e=1);else{if(ut!==1)throw new P("invalid ACn encoding");Oe=xe(ut),_e=at?2:3}continue;case 1:case 2:ot.D[H]?ot.D[H]+=q*(re()<<ve):--at==0&&(_e=_e===2?3:0);break;case 3:ot.D[H]?ot.D[H]+=q*(re()<<ve):(ot.D[H]=Oe<<ve,_e=0);break;case 4:ot.D[H]&&(ot.D[H]+=q*(re()<<ve))}et++}_e===4&&--ue==0&&(_e=0)}:function(ot,dt){var ut=me(ot.J),we=ut===0?0:xe(ut),et=1;for(ot.D[dt]=ot.Q+=we;et<64;){var rt=me(ot.i),at=15&rt,H=rt>>4;if(at!==0){var q=$[et+=H];ot.D[dt+q]=xe(at),et++}else{if(H<15)break;et+=16}}},ze=nt===1?ae[0].P*ae[0].c:Ke*ye.R;Be<=ze;){var lt=ge?Math.min(ze-Be,ge):ze;if(lt>0){for(He=0;He<nt;He++)ae[He].Q=0;if(ue=0,nt===1)for(Ae=ae[0],Ne=0;Ne<lt;Ne++)Xe(Ae,We,Be),Be++;else for(Ne=0;Ne<lt;Ne++){for(He=0;He<nt;He++)for(Le=(Ae=ae[He]).h,Qe=Ae.A,Me=0;Me<Qe;Me++)for(je=0;je<Le;je++)Ze(Ae,We,Be,Me,je);Be++}}if(oe=0,!(Ve=se(de,le))||(Ve.u&&(le=Ve.offset),!(Ve.M>=65488&&Ve.M<=65495)))break;le+=2}return le-ce}function ie(de,le,ye){var ae,ge,Pe,be,Ee,ve,Re,Oe,Ae,He,Me,je,Ne,We,Ve,ze,Le,Qe=de.$,Ke=de.D;if(!Qe)throw new P("missing required Quantization Table.");for(var Fe=0;Fe<64;Fe+=8)Ae=Ke[le+Fe],He=Ke[le+Fe+1],Me=Ke[le+Fe+2],je=Ke[le+Fe+3],Ne=Ke[le+Fe+4],We=Ke[le+Fe+5],Ve=Ke[le+Fe+6],ze=Ke[le+Fe+7],Ae*=Qe[Fe],He|Me|je|Ne|We|Ve|ze?(He*=Qe[Fe+1],Me*=Qe[Fe+2],je*=Qe[Fe+3],Ne*=Qe[Fe+4],We*=Qe[Fe+5],Ve*=Qe[Fe+6],ze*=Qe[Fe+7],ge=(ae=(ae=Q*Ae+128>>8)+(ge=Q*Ne+128>>8)+1>>1)-ge,Le=(Pe=Me)*U+(be=Ve)*Z+128>>8,Pe=Pe*Z-be*U+128>>8,Re=(Ee=(Ee=K*(He-ze)+128>>8)+(Re=We<<4)+1>>1)-Re,ve=(Oe=(Oe=K*(He+ze)+128>>8)+(ve=je<<4)+1>>1)-ve,be=(ae=ae+(be=Le)+1>>1)-be,Pe=(ge=ge+Pe+1>>1)-Pe,Le=Ee*W+Oe*G+2048>>12,Ee=Ee*G-Oe*W+2048>>12,Oe=Le,Le=ve*j+Re*V+2048>>12,ve=ve*V-Re*j+2048>>12,Re=Le,ye[Fe]=ae+Oe,ye[Fe+7]=ae-Oe,ye[Fe+1]=ge+Re,ye[Fe+6]=ge-Re,ye[Fe+2]=Pe+ve,ye[Fe+5]=Pe-ve,ye[Fe+3]=be+Ee,ye[Fe+4]=be-Ee):(Le=Q*Ae+512>>10,ye[Fe]=Le,ye[Fe+1]=Le,ye[Fe+2]=Le,ye[Fe+3]=Le,ye[Fe+4]=Le,ye[Fe+5]=Le,ye[Fe+6]=Le,ye[Fe+7]=Le);for(var ce=0;ce<8;++ce)Ae=ye[ce],(He=ye[ce+8])|(Me=ye[ce+16])|(je=ye[ce+24])|(Ne=ye[ce+32])|(We=ye[ce+40])|(Ve=ye[ce+48])|(ze=ye[ce+56])?(ge=(ae=4112+((ae=Q*Ae+2048>>12)+(ge=Q*Ne+2048>>12)+1>>1))-ge,Le=(Pe=Me)*U+(be=Ve)*Z+2048>>12,Pe=Pe*Z-be*U+2048>>12,be=Le,Re=(Ee=(Ee=K*(He-ze)+2048>>12)+(Re=We)+1>>1)-Re,ve=(Oe=(Oe=K*(He+ze)+2048>>12)+(ve=je)+1>>1)-ve,Le=Ee*W+Oe*G+2048>>12,Ee=Ee*G-Oe*W+2048>>12,Oe=Le,Le=ve*j+Re*V+2048>>12,ve=ve*V-Re*j+2048>>12,(Ae=(ae=ae+be+1>>1)+Oe)<16?Ae=0:Ae>=4080?Ae=255:Ae>>=4,(He=(ge=ge+Pe+1>>1)+(Re=Le))<16?He=0:He>=4080?He=255:He>>=4,(Me=(Pe=ge-Pe)+ve)<16?Me=0:Me>=4080?Me=255:Me>>=4,(je=(be=ae-be)+Ee)<16?je=0:je>=4080?je=255:je>>=4,(Ne=be-Ee)<16?Ne=0:Ne>=4080?Ne=255:Ne>>=4,(We=Pe-ve)<16?We=0:We>=4080?We=255:We>>=4,(Ve=ge-Re)<16?Ve=0:Ve>=4080?Ve=255:Ve>>=4,(ze=ae-Oe)<16?ze=0:ze>=4080?ze=255:ze>>=4,Ke[le+ce]=Ae,Ke[le+ce+8]=He,Ke[le+ce+16]=Me,Ke[le+ce+24]=je,Ke[le+ce+32]=Ne,Ke[le+ce+40]=We,Ke[le+ce+48]=Ve,Ke[le+ce+56]=ze):(Le=(Le=Q*Ae+8192>>14)<-2040?0:Le>=2024?255:Le+2056>>4,Ke[le+ce]=Le,Ke[le+ce+8]=Le,Ke[le+ce+16]=Le,Ke[le+ce+24]=Le,Ke[le+ce+32]=Le,Ke[le+ce+40]=Le,Ke[le+ce+48]=Le,Ke[le+ce+56]=Le)}function fe(de,le){for(var ye=le.P,ae=le.c,ge=new Int16Array(64),Pe=0;Pe<ae;Pe++)for(var be=0;be<ye;be++)ie(le,J(le,Pe,be),ge);return le.D}function se(de,le,ye){ye==null&&(ye=le);var ae=de.length-1,ge=ye<le?ye:le;if(le>=ae)return null;var Pe=D(de,le);if(Pe>=65472&&Pe<=65534)return{u:null,M:Pe,offset:le};for(var be=D(de,ge);!(be>=65472&&be<=65534);){if(++ge>=ae)return null;be=D(de,ge)}return{u:Pe.toString(16),M:be,offset:ge}}return te.prototype={parse(de,le){le==null&&(le={});var ye,ae,ge=le.F,Pe=0,be=null,Ee=null,ve=0;function Re(){var ne=D(de,Pe),Ce=(Pe+=2)+ne-2,Se=se(de,Ce,Pe);Se&&Se.u&&(Ce=Se.offset);var Ye=de.subarray(Pe,Ce);return Pe+=Ye.length,Ye}function Oe(ne){for(var Ce=Math.ceil(ne.o/8/ne.X),Se=Math.ceil(ne.s/8/ne.B),Ye=0;Ye<ne.W.length;Ye++){Xe=ne.W[Ye];var it=Math.ceil(Math.ceil(ne.o/8)*Xe.h/ne.X),he=Math.ceil(Math.ceil(ne.s/8)*Xe.A/ne.B),De=Ce*Xe.h,qe=64*(Se*Xe.A)*(De+1);Xe.D=new Int16Array(qe),Xe.P=it,Xe.c=he}ne.m=Ce,ne.R=Se}var Ae=[],He=[],Me=[],je=D(de,Pe);if(Pe+=2,je!==65496)throw new P("SOI not found");je=D(de,Pe),Pe+=2;e:for(;je!==65497;){var Ne,We,Ve;switch(je){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var ze=Re();je===65504&&ze[0]===74&&ze[1]===70&&ze[2]===73&&ze[3]===70&&ze[4]===0&&(be={version:{d:ze[5],T:ze[6]},K:ze[7],j:ze[8]<<8|ze[9],H:ze[10]<<8|ze[11],S:ze[12],I:ze[13],C:ze.subarray(14,14+3*ze[12]*ze[13])}),je===65518&&ze[0]===65&&ze[1]===100&&ze[2]===111&&ze[3]===98&&ze[4]===101&&(Ee={version:ze[5]<<8|ze[6],k:ze[7]<<8|ze[8],q:ze[9]<<8|ze[10],a:ze[11]});break;case 65499:for(var Le=D(de,Pe)+(Pe+=2)-2;Pe<Le;){var Qe=de[Pe++],Ke=new Uint16Array(64);if(Qe>>4){if(Qe>>4!=1)throw new P("DQT - invalid table spec");for(We=0;We<64;We++)Ke[$[We]]=D(de,Pe),Pe+=2}else for(We=0;We<64;We++)Ke[$[We]]=de[Pe++];Ae[15&Qe]=Ke}break;case 65472:case 65473:case 65474:if(ye)throw new P("Only single frame JPEGs supported");Pe+=2,(ye={}).G=je===65473,ye.Z=je===65474,ye.precision=de[Pe++];var Fe,ce=D(de,Pe),$e=0,oe=0;Pe+=2,ye.s=ge||ce,ye.o=D(de,Pe),Pe+=2,ye.W=[],ye._={};var ue=de[Pe++];for(Ne=0;Ne<ue;Ne++){Fe=de[Pe];var _e=de[Pe+1]>>4,Te=15&de[Pe+1];$e<_e&&($e=_e),oe<Te&&(oe=Te);var Be=de[Pe+2];Ve=ye.W.push({h:_e,A:Te,L:Be,$:null}),ye._[Fe]=Ve-1,Pe+=3}ye.X=$e,ye.B=oe,Oe(ye);break;case 65476:var re=D(de,Pe);for(Pe+=2,Ne=2;Ne<re;){var me=de[Pe++],Ie=new Uint8Array(16),xe=0;for(We=0;We<16;We++,Pe++)xe+=Ie[We]=de[Pe];var Ze=new Uint8Array(xe);for(We=0;We<xe;We++,Pe++)Ze[We]=de[Pe];Ne+=17+xe,(me>>4?He:Me)[15&me]=X(Ie,Ze)}break;case 65501:ae=D(de,Pe+=2),Pe+=2;break;case 65498:var Xe,nt=++ve==1&&!ge;Pe+=2;var lt=de[Pe++],ot=[];for(Ne=0;Ne<lt;Ne++){var dt=de[Pe++],ut=ye._[dt];(Xe=ye.W[ut]).index=dt;var we=de[Pe++];Xe.J=Me[we>>4],Xe.i=He[15&we],ot.push(Xe)}var et=de[Pe++],rt=de[Pe++],at=de[Pe++];try{var H=ee(de,Pe,ye,ot,ae,et,rt,at>>4,15&at,nt);Pe+=H}catch(ne){if(ne instanceof DNLMarkerError)return this.parse(de,{F:ne.s});if(ne instanceof EOIMarkerError)break e;throw ne}break;case 65500:Pe+=4;break;case 65535:de[Pe]!==255&&Pe--;break;default:var q=se(de,Pe-2,Pe-3);if(q&&q.u){Pe=q.offset;break}if(Pe>=de.length-1)break e;throw new P("JpegImage.parse - unknown marker: "+je.toString(16))}je=D(de,Pe),Pe+=2}for(this.width=ye.o,this.height=ye.s,this.g=be,this.b=Ee,this.W=[],Ne=0;Ne<ye.W.length;Ne++){var pe=Ae[(Xe=ye.W[Ne]).L];pe&&(Xe.$=pe),this.W.push({index:Xe.index,e:fe(0,Xe),l:Xe.h/ye.X,t:Xe.A/ye.B,P:Xe.P,c:Xe.c})}this.p=this.W.length},Y(de,le,ye){ye==null&&(ye=!1);var ae,ge,Pe,be,Ee,ve,Re,Oe,Ae,He,Me,je,Ne=this.width/de,We=this.height/le,Ve=0,ze=this.W.length,Le=de*le*ze,Qe=new Uint8ClampedArray(Le),Ke=new Uint32Array(de),Fe=4294967288;for(Re=0;Re<ze;Re++){if(ge=(ae=this.W[Re]).l*Ne,Pe=ae.t*We,Ve=Re,Me=ae.e,be=ae.P+1<<3,ge!==je){for(Ee=0;Ee<de;Ee++)Oe=0|Ee*ge,Ke[Ee]=(Oe&Fe)<<3|7&Oe;je=ge}for(ve=0;ve<le;ve++)for(He=be*((Oe=0|ve*Pe)&Fe)|(7&Oe)<<3,Ee=0;Ee<de;Ee++)Qe[Ve]=Me[He+Ke[Ee]],Ve+=ze}var ce=this.V;if(ye||ze!==4||ce||(ce=new Int32Array([-256,255,-256,255,-256,255,-256,255])),ce)for(Re=0;Re<Le;)for(Oe=0,Ae=0;Oe<ze;Oe++,Re++,Ae+=2)Qe[Re]=(Qe[Re]*ce[Ae]>>8)+ce[Ae+1];return Qe},get f(){return this.b?!!this.b.a:this.p===3?this.N!==0&&(this.W[0].index!==82||this.W[1].index!==71||this.W[2].index!==66):this.N===1},z:function(de){for(var le,ye,ae,ge=0,Pe=de.length;ge<Pe;ge+=3)le=de[ge],ye=de[ge+1],ae=de[ge+2],de[ge]=le-179.456+1.402*ae,de[ge+1]=le+135.459-.344*ye-.714*ae,de[ge+2]=le-226.816+1.772*ye;return de},O:function(de){for(var le,ye,ae,ge,Pe=0,be=0,Ee=de.length;be<Ee;be+=4)le=de[be],ye=de[be+1],ae=de[be+2],ge=de[be+3],de[Pe++]=ye*(-660635669420364e-19*ye+.000437130475926232*ae-54080610064599e-18*le+.00048449797120281*ge-.154362151871126)-122.67195406894+ae*(-.000957964378445773*ae+.000817076911346625*le-.00477271405408747*ge+1.53380253221734)+le*(.000961250184130688*le-.00266257332283933*ge+.48357088451265)+ge*(-.000336197177618394*ge+.484791561490776),de[Pe++]=107.268039397724+ye*(219927104525741e-19*ye-.000640992018297945*ae+.000659397001245577*le+.000426105652938837*ge-.176491792462875)+ae*(-.000778269941513683*ae+.00130872261408275*le+.000770482631801132*ge-.151051492775562)+le*(.00126935368114843*le-.00265090189010898*ge+.25802910206845)+ge*(-.000318913117588328*ge-.213742400323665),de[Pe++]=ye*(-.000570115196973677*ye-263409051004589e-19*ae+.0020741088115012*le-.00288260236853442*ge+.814272968359295)-20.810012546947+ae*(-153496057440975e-19*ae-.000132689043961446*le+.000560833691242812*ge-.195152027534049)+le*(.00174418132927582*le-.00255243321439347*ge+.116935020465145)+ge*(-.000343531996510555*ge+.24165260232407);return de.subarray(0,Pe)},r:function(de){for(var le,ye,ae,ge=0,Pe=de.length;ge<Pe;ge+=4)le=de[ge],ye=de[ge+1],ae=de[ge+2],de[ge]=434.456-le-1.402*ae,de[ge+1]=119.541-le+.344*ye+.714*ae,de[ge+2]=481.816-le-1.772*ye;return de},U:function(de){for(var le,ye,ae,ge,Pe=0,be=0,Ee=de.length;be<Ee;be+=4)le=de[be],ye=de[be+1],ae=de[be+2],ge=de[be+3],de[Pe++]=255+le*(-6747147073602441e-20*le+.0008379262121013727*ye+.0002894718188643294*ae+.003264231057537806*ge-1.1185611867203937)+ye*(26374107616089405e-21*ye-8626949158638572e-20*ae-.0002748769067499491*ge-.02155688794978967)+ae*(-3878099212869363e-20*ae-.0003267808279485286*ge+.0686742238595345)-ge*(.0003361971776183937*ge+.7430659151342254),de[Pe++]=255+le*(.00013596372813588848*le+.000924537132573585*ye+.00010567359618683593*ae+.0004791864687436512*ge-.3109689587515875)+ye*(-.00023545346108370344*ye+.0002702845253534714*ae+.0020200308977307156*ge-.7488052167015494)+ae*(6834815998235662e-20*ae+.00015168452363460973*ge-.09751927774728933)-ge*(.0003189131175883281*ge+.7364883807733168),de[Pe++]=255+le*(13598650411385307e-21*le+.00012423956175490851*ye+.0004751985097583589*ae-36729317476630422e-22*ge-.05562186980264034)+ye*(.00016141380598724676*ye+.0009692239130725186*ae+.0007782692450036253*ge-.44015232367526463)+ae*(5068882914068769e-22*ae+.0017778369011375071*ge-.7591454649749609)-ge*(.0003435319965105553*ge+.7063770186160144);return de.subarray(0,Pe)},getData:function(de){var le=de.width,ye=de.height,ae=de.forceRGB,ge=de.isSourcePDF;if(this.p>4)throw new P("Unsupported color mode");var Pe=this.Y(le,ye,ge);if(this.p===1&&ae){for(var be=Pe.length,Ee=new Uint8ClampedArray(3*be),ve=0,Re=0;Re<be;Re++){var Oe=Pe[Re];Ee[ve++]=Oe,Ee[ve++]=Oe,Ee[ve++]=Oe}return Ee}if(this.p===3&&this.f)return this.z(Pe);if(this.p===4){if(this.f)return ae?this.O(Pe):this.r(Pe);if(ae)return this.U(Pe)}return Pe}},te}();function D($,V){return $[V]<<8|$[V+1]}w.JpegDecoder=F})(),w.encodeImage=function(P,F,D,$){var V={t256:[F],t257:[D],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[D],t279:[F*D*4],t282:[[72,1]],t283:[[72,1]],t284:[1],t286:[[0,1]],t287:[[0,1]],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if($)for(var j in $)V[j]=$[j];var G=new Uint8Array(w.encode([V])),W=new Uint8Array(P),Z=new Uint8Array(1e3+F*D*4);for(j=0;j<G.length;j++)Z[j]=G[j];for(j=0;j<W.length;j++)Z[1e3+j]=W[j];return Z.buffer},w.encode=function(P){var F=new Uint8Array(2e4),D=4,$=w._binBE;F[0]=F[1]=77,$.writeUshort(F,2,42);var V=8;$.writeUint(F,D,V),D+=4;for(var j=0;j<P.length;j++){var G=w._writeIFD($,w._types.basic,F,V,P[j]);V=G[1],j<P.length-1&&(3&V&&(V+=4-(3&V)),$.writeUint(F,G[0],V))}return F.slice(0,V).buffer},w.decode=function(P,F){F==null&&(F={parseMN:!0,debug:!1});var D=new Uint8Array(P),$=0,V=w._binBE.readASCII(D,$,2);$+=2;var j=V=="II"?w._binLE:w._binBE;j.readUshort(D,$),$+=2;var G=j.readUint(D,$);$+=4;for(var W=[];;){var Z=j.readUshort(D,G),U=j.readUshort(D,G+4);if(Z!=0&&(U<1||13<U)){g("error in TIFF");break}if(w._readIFD(j,D,G,W,0,F),(G=j.readUint(D,G+2+12*Z))==0)break}return W},w.decodeImage=function(P,F,D){if(!F.data){var $=new Uint8Array(P),V=w._binBE.readASCII($,0,2);if(F.t256!=null){F.isLE=V=="II",F.width=F.t256[0],F.height=F.t257[0];var j=F.t259?F.t259[0]:1,G=F.t266?F.t266[0]:1;F.t284&&F.t284[0]==2&&g("PlanarConfiguration 2 should not be used!"),j==7&&F.t258&&F.t258.length>3&&(F.t258=F.t258.slice(0,3));var W=F.t277?F.t277[0]:1,Z=(F.t258?F.t258[0]:1)*W;j==1&&F.t279!=null&&F.t278&&F.t262[0]==32803&&(Z=Math.round(8*F.t279[0]/(F.width*F.t278[0]))),F.t50885&&F.t50885[0]==4&&(Z=3*F.t258[0]);var U=8*Math.ceil(F.width*Z/8),Q=F.t273;(Q==null||F.t322)&&(Q=F.t324);var K=F.t279;j==1&&Q.length==1&&(K=[F.height*(U>>>3)]),(K==null||F.t322)&&(K=F.t325);var te=new Uint8Array(F.height*(U>>>3)),X=0;if(F.t322!=null){var J=F.t322[0],ee=F.t323[0],ie=Math.floor((F.width+J-1)/J),fe=Math.floor((F.height+ee-1)/ee),se=new Uint8Array(0|Math.ceil(J*ee*Z/8));console.log("====",ie,fe);for(var de=0;de<fe;de++)for(var le=0;le<ie;le++){var ye=de*ie+le;se.fill(0),w.decode._decompress(F,D,$,Q[ye],K[ye],j,se,0,G,J,ee),j==6?te=se:w._copyTile(se,0|Math.ceil(J*Z/8),ee,te,0|Math.ceil(F.width*Z/8),F.height,0|Math.ceil(le*J*Z/8),de*ee)}X=8*te.length}else{if(Q==null)return;var ae=F.t278?F.t278[0]:F.height;for(ae=Math.min(ae,F.height),ye=0;ye<Q.length;ye++)w.decode._decompress(F,D,$,Q[ye],K[ye],j,te,0|Math.ceil(X/8),G,F.width,ae),X+=U*ae;X=Math.min(X,8*te.length)}F.data=new Uint8Array(te.buffer,0,0|Math.ceil(X/8))}}},w.decode._decompress=function(P,F,D,$,V,j,G,W,Z,U,Q){if(P.t271&&P.t271[0]=="Panasonic"&&P.t45&&P.t45[0]==6&&(j=34316),j==1)for(var K=0;K<V;K++)G[W+K]=D[$+K];else if(j==2)w.decode._decodeG2(D,$,V,G,W,U,Z);else if(j==3)w.decode._decodeG3(D,$,V,G,W,U,Z,!!P.t292&&!(1&~P.t292[0]));else if(j==4)w.decode._decodeG4(D,$,V,G,W,U,Z);else if(j==5)w.decode._decodeLZW(D,$,V,G,W,8);else if(j==6)w.decode._decodeOldJPEG(P,D,$,V,G,W);else if(j==7||j==34892)w.decode._decodeNewJPEG(P,D,$,V,G,W);else if(j==8||j==32946){var te=new Uint8Array(D.buffer,$+2,V-6),X=I.inflateRaw(te);W+X.length<=G.length&&G.set(X,W)}else j==9?w.decode._decodeVC5(D,$,V,G,W,P.t33422):j==32767?w.decode._decodeARW(P,D,$,V,G,W):j==32773?w.decode._decodePackBits(D,$,V,G,W):j==32809?w.decode._decodeThunder(D,$,V,G,W):j==34316?w.decode._decodePanasonic(P,D,$,V,G,W):j==34713?w.decode._decodeNikon(P,F,D,$,V,G,W):j==34676?w.decode._decodeLogLuv32(P,D,$,V,G,W):g("Unknown compression",j);var J=P.t258?Math.min(32,P.t258[0]):1,ee=P.t277?P.t277[0]:1,ie=J*ee>>>3,fe=Math.ceil(J*ee*U/8);if(J==16&&!P.isLE&&P.t33422==null)for(var se=0;se<Q;se++)for(var de=W+se*fe,le=1;le<fe;le+=2){var ye=G[de+le];G[de+le]=G[de+le-1],G[de+le-1]=ye}if(P.t317&&P.t317[0]==2)for(se=0;se<Q;se++){var ae=W+se*fe;if(J==16)for(K=ie;K<fe;K+=2){var ge=(G[ae+K+1]<<8|G[ae+K])+(G[ae+K-ie+1]<<8|G[ae+K-ie]);G[ae+K]=255&ge,G[ae+K+1]=ge>>>8&255}else if(ee==3)for(K=3;K<fe;K+=3)G[ae+K]=G[ae+K]+G[ae+K-3]&255,G[ae+K+1]=G[ae+K+1]+G[ae+K-2]&255,G[ae+K+2]=G[ae+K+2]+G[ae+K-1]&255;else for(K=ie;K<fe;K++)G[ae+K]=G[ae+K]+G[ae+K-ie]&255}},w.decode._decodePanasonic=function(P,F,D,$,V,j){var G,W,Z,U,Q,K,te,X,J=F.buffer,ee=P.t2[0],ie=P.t3[0],fe=P.t10[0],se=P.t45[0],de=0,le=0,ye=0,ae=0,ge=se==6?new Uint32Array(18):new Uint8Array(16),Pe=[0,0],be=[0,0],Ee=0,ve=new Uint8Array(16384),Re=new Uint16Array(V.buffer);function Oe(Be){if(ye==0){var re=new Uint8Array(J,D+le+8184,8200),me=new Uint8Array(J,D+le,8184);ve.set(re),ve.set(me,re.length),le+=16384}if(se!=5)return(ve[ae=(ye=ye-Be&131071)>>3^16368]|ve[ae+1]<<8)>>(7&ye)&~(-1<<Be);for(G=0;G<16;G++)ge[G]=ve[ye++],ye&=16383}function Ae(Be){return ve[ye+15-Be]}function He(){Pe[0]=0,Pe[1]=0,be[0]=0,be[1]=0}if(se==7)throw se;if(se==6){var Me=fe==12,je=Me?function(){ge[0]=Ae(0)<<4|Ae(1)>>4,ge[1]=4095&((15&Ae(1))<<8|Ae(2)),ge[2]=Ae(3)>>6&3,ge[3]=(63&Ae(3))<<2|Ae(4)>>6,ge[4]=(63&Ae(4))<<2|Ae(5)>>6,ge[5]=(63&Ae(5))<<2|Ae(6)>>6,ge[6]=Ae(6)>>4&3,ge[7]=(15&Ae(6))<<4|Ae(7)>>4,ge[8]=(15&Ae(7))<<4|Ae(8)>>4,ge[9]=(15&Ae(8))<<4|Ae(9)>>4,ge[10]=Ae(9)>>2&3,ge[11]=(3&Ae(9))<<6|Ae(10)>>2,ge[12]=(3&Ae(10))<<6|Ae(11)>>2,ge[13]=(3&Ae(11))<<6|Ae(12)>>2,ge[14]=3&Ae(12),ge[15]=Ae(13),ge[16]=Ae(14),ge[17]=Ae(15),ye+=16,ae=0}:function(){ge[0]=Ae(0)<<6|Ae(1)>>2,ge[1]=16383&((3&Ae(1))<<12|Ae(2)<<4|Ae(3)>>4),ge[2]=Ae(3)>>2&3,ge[3]=(3&Ae(3))<<8|Ae(4),ge[4]=Ae(5)<<2|Ae(6)>>6,ge[5]=(63&Ae(6))<<4|Ae(7)>>4,ge[6]=Ae(7)>>2&3,ge[7]=(3&Ae(7))<<8|Ae(8),ge[8]=Ae(9)<<2&1020|Ae(10)>>6,ge[9]=1023&(Ae(10)<<4|Ae(11)>>4),ge[10]=Ae(11)>>2&3,ge[11]=(3&Ae(11))<<8|Ae(12),ge[12]=1023&(Ae(13)<<2&1020|Ae(14)>>6),ge[13]=1023&(Ae(14)<<4|Ae(15)>>4),ye+=16,ae=0},Ne=Me?14:11,We=Me?128:512,Ve=Me?2048:8192,ze=Me?16383:65535,Le=Me?4095:16383,Qe=ee/Ne,Ke=16*Qe,Fe=Me?18:14;for(K=0;K<ie-15;K+=16){var ce=Math.min(16,ie-K),$e=Ke*ce;for(ve=new Uint8Array(J,D+de,$e),ye=0,de+=$e,X=0,te=0;X<ce;X++,te=0){Ee=(K+X)*ee;for(var oe=0;oe<Qe;oe++)for(je(),He(),Z=0,Q=0,G=0;G<Ne;G++){if(U=1&G,G%3==2){var ue=ae<Fe?ge[ae++]:0;ue==3&&(ue=4),Q=We<<ue,Z=1<<ue}var _e=ae<Fe?ge[ae++]:0;Pe[U]?(_e*=Z,Q<Ve&&be[U]>Q&&(_e+=be[U]-Q),be[U]=_e):(Pe[U]=_e,_e?be[U]=_e:_e=be[U]),Re[Ee+te++]=_e-15<=ze?_e-15&ze:_e+2147483633>>31&Le}}}}else if(se==5){var Te=fe==12?10:9;for(K=0;K<ie;K++)for(te=0;te<ee;te+=Te)Oe(0),fe==12?(Re[Ee++]=((15&ge[1])<<8)+ge[0],Re[Ee++]=16*ge[2]+(ge[1]>>4),Re[Ee++]=((15&ge[4])<<8)+ge[3],Re[Ee++]=16*ge[5]+(ge[4]>>4),Re[Ee++]=((15&ge[7])<<8)+ge[6],Re[Ee++]=16*ge[8]+(ge[7]>>4),Re[Ee++]=((15&ge[10])<<8)+ge[9],Re[Ee++]=16*ge[11]+(ge[10]>>4),Re[Ee++]=((15&ge[13])<<8)+ge[12],Re[Ee++]=16*ge[14]+(ge[13]>>4)):fe==14&&(Re[Ee++]=ge[0]+((63&ge[1])<<8),Re[Ee++]=(ge[1]>>6)+4*ge[2]+((15&ge[3])<<10),Re[Ee++]=(ge[3]>>4)+16*ge[4]+((3&ge[5])<<12),Re[Ee++]=((252&ge[5])>>2)+(ge[6]<<6),Re[Ee++]=ge[7]+((63&ge[8])<<8),Re[Ee++]=(ge[8]>>6)+4*ge[9]+((15&ge[10])<<10),Re[Ee++]=(ge[10]>>4)+16*ge[11]+((3&ge[12])<<12),Re[Ee++]=((252&ge[12])>>2)+(ge[13]<<6),Re[Ee++]=ge[14]+((63&ge[15])<<8))}else{if(se!=4)throw se;for(K=0;K<ie;K++)for(te=0;te<ee;te++)U=1&(G=te%14),G==0&&He(),G%3==2&&(Z=4>>3-Oe(2)),be[U]?(W=Oe(8))!=0&&(Pe[U]-=128<<Z,(Pe[U]<0||Z==4)&&(Pe[U]&=~(-1<<Z)),Pe[U]+=W<<Z):(be[U]=Oe(8),(be[U]||G>11)&&(Pe[U]=be[U]<<4|Oe(4))),Re[Ee++]=Pe[1&te]}},w.decode._decodeVC5=function(){var P,F,D,$=[1,0,1,0,2,2,1,1,3,7,1,2,5,25,1,3,6,48,1,4,6,54,1,5,7,111,1,8,7,99,1,6,7,105,12,0,7,107,1,7,8,209,20,0,8,212,1,9,8,220,1,10,9,393,1,11,9,394,32,0,9,416,1,12,9,427,1,13,10,887,1,18,10,784,1,14,10,790,1,15,10,835,60,0,10,852,1,16,10,885,1,17,11,1571,1,19,11,1668,1,20,11,1669,100,0,11,1707,1,21,11,1772,1,22,12,3547,1,29,12,3164,1,24,12,3166,1,25,12,3140,1,23,12,3413,1,26,12,3537,1,27,12,3539,1,28,13,7093,1,35,13,6283,1,30,13,6331,1,31,13,6335,180,0,13,6824,1,32,13,7072,1,33,13,7077,320,0,13,7076,1,34,14,12565,1,36,14,12661,1,37,14,12669,1,38,14,13651,1,39,14,14184,1,40,15,28295,1,46,15,28371,1,47,15,25320,1,42,15,25336,1,43,15,25128,1,41,15,27300,1,44,15,28293,1,45,16,50259,1,48,16,50643,1,49,16,50675,1,50,16,56740,1,53,16,56584,1,51,16,56588,1,52,17,113483,1,61,17,113482,1,60,17,101285,1,55,17,101349,1,56,17,109205,1,57,17,109207,1,58,17,100516,1,54,17,113171,1,59,18,202568,1,62,18,202696,1,63,18,218408,1,64,18,218412,1,65,18,226340,1,66,18,226356,1,67,18,226358,1,68,19,402068,1,69,19,405138,1,70,19,405394,1,71,19,436818,1,72,19,436826,1,73,19,452714,1,75,19,452718,1,76,19,452682,1,74,20,804138,1,77,20,810279,1,78,20,810790,1,79,20,873638,1,80,20,873654,1,81,20,905366,1,82,20,905430,1,83,20,905438,1,84,21,1608278,1,85,21,1620557,1,86,21,1621582,1,87,21,1621583,1,88,21,1747310,1,89,21,1810734,1,90,21,1810735,1,91,21,1810863,1,92,21,1810879,1,93,22,3621725,1,99,22,3621757,1,100,22,3241112,1,94,22,3494556,1,95,22,3494557,1,96,22,3494622,1,97,22,3494623,1,98,23,6482227,1,102,23,6433117,1,101,23,6989117,1,103,23,6989119,1,105,23,6989118,1,104,23,7243449,1,106,23,7243512,1,107,24,13978233,1,111,24,12964453,1,109,24,12866232,1,108,24,14486897,1,113,24,13978232,1,110,24,14486896,1,112,24,14487026,1,114,24,14487027,1,115,25,25732598,1,225,25,25732597,1,189,25,25732596,1,188,25,25732595,1,203,25,25732594,1,202,25,25732593,1,197,25,25732592,1,207,25,25732591,1,169,25,25732590,1,223,25,25732589,1,159,25,25732522,1,235,25,25732579,1,152,25,25732575,1,192,25,25732489,1,179,25,25732573,1,201,25,25732472,1,172,25,25732576,1,149,25,25732488,1,178,25,25732566,1,120,25,25732571,1,219,25,25732577,1,150,25,25732487,1,127,25,25732506,1,211,25,25732548,1,125,25,25732588,1,158,25,25732486,1,247,25,25732467,1,238,25,25732508,1,163,25,25732552,1,228,25,25732603,1,183,25,25732513,1,217,25,25732587,1,168,25,25732520,1,122,25,25732484,1,128,25,25732562,1,249,25,25732505,1,187,25,25732504,1,186,25,25732483,1,136,25,25928905,1,181,25,25732560,1,255,25,25732500,1,230,25,25732482,1,135,25,25732555,1,233,25,25732568,1,222,25,25732583,1,145,25,25732481,1,134,25,25732586,1,167,25,25732521,1,248,25,25732518,1,209,25,25732480,1,243,25,25732512,1,216,25,25732509,1,164,25,25732547,1,140,25,25732479,1,157,25,25732544,1,239,25,25732574,1,191,25,25732564,1,251,25,25732478,1,156,25,25732546,1,139,25,25732498,1,242,25,25732557,1,133,25,25732477,1,162,25,25732515,1,213,25,25732584,1,165,25,25732514,1,212,25,25732476,1,227,25,25732494,1,198,25,25732531,1,236,25,25732530,1,234,25,25732529,1,117,25,25732528,1,215,25,25732527,1,124,25,25732526,1,123,25,25732525,1,254,25,25732524,1,253,25,25732523,1,148,25,25732570,1,218,25,25732580,1,146,25,25732581,1,147,25,25732569,1,224,25,25732533,1,143,25,25732540,1,184,25,25732541,1,185,25,25732585,1,166,25,25732556,1,132,25,25732485,1,129,25,25732563,1,250,25,25732578,1,151,25,25732501,1,119,25,25732502,1,193,25,25732536,1,176,25,25732496,1,245,25,25732553,1,229,25,25732516,1,206,25,25732582,1,144,25,25732517,1,208,25,25732558,1,137,25,25732543,1,241,25,25732466,1,237,25,25732507,1,190,25,25732542,1,240,25,25732551,1,131,25,25732554,1,232,25,25732565,1,252,25,25732475,1,171,25,25732493,1,205,25,25732492,1,204,25,25732491,1,118,25,25732490,1,214,25,25928904,1,180,25,25732549,1,126,25,25732602,1,182,25,25732539,1,175,25,25732545,1,141,25,25732559,1,138,25,25732537,1,177,25,25732534,1,153,25,25732503,1,194,25,25732606,1,160,25,25732567,1,121,25,25732538,1,174,25,25732497,1,246,25,25732550,1,130,25,25732572,1,200,25,25732474,1,170,25,25732511,1,221,25,25732601,1,196,25,25732532,1,142,25,25732519,1,210,25,25732495,1,199,25,25732605,1,155,25,25732535,1,154,25,25732499,1,244,25,25732510,1,220,25,25732600,1,195,25,25732607,1,161,25,25732604,1,231,25,25732473,1,173,25,25732599,1,226,26,51465122,1,116,26,51465123,0,1],V=[3,3,3,3,2,2,2,1,1,1];function j(X){var J=X[1],ee=X[0][J>>>3]>>>7-(7&J)&1;return X[1]++,ee}function G(X,J){if(P==null){P={};for(var ee=0;ee<$.length;ee+=4)P[$[ee+1]]=$.slice(ee,ee+4)}for(var ie=j(X),fe=P[ie];fe==null;)ie=ie<<1|j(X),fe=P[ie];var se=fe[3];se!=0&&(se=j(X)==0?se:-se),J[0]=fe[2],J[1]=se}function W(X,J){for(var ee=0;ee<J;ee++)1&~X||X++,X>>>=1;return X}function Z(X,J){return X>>J}function U(X,J,ee,ie,fe,se){J[ee]=Z(Z(11*X[fe]-4*X[fe+se]+X[fe+se+se]+4,3)+X[ie],1),J[ee+se]=Z(Z(5*X[fe]+4*X[fe+se]-X[fe+se+se]+4,3)-X[ie],1)}function Q(X,J,ee,ie,fe,se){var de=X[fe-se]-X[fe+se],le=X[fe],ye=X[ie];J[ee]=Z(Z(de+4,3)+le+ye,1),J[ee+se]=Z(Z(4-de,3)+le-ye,1)}function K(X,J,ee,ie,fe,se){J[ee]=Z(Z(5*X[fe]+4*X[fe-se]-X[fe-se-se]+4,3)+X[ie],1),J[ee+se]=Z(Z(11*X[fe]-4*X[fe-se]+X[fe-se-se]+4,3)-X[ie],1)}function te(X){return X=D[X=X<0?0:X>4095?4095:X]>>>2}return function(X,J,ee,ie,fe,se){ie=new Uint16Array(ie.buffer);var de,le,ye,ae,ge,Pe,be,Ee,ve=Date.now(),Re=w._binBE,Oe=J+ee;J+=4;for(var Ae=se[0]==1;J<Oe;){var He=Re.readShort(X,J),Me=Re.readUshort(X,J+2);if(J+=4,He==12)Qe=Me;else if(He==20)de=Me;else if(He==21)le=Me;else if(He==48)ye=Me;else if(He==53)ae=Me;else if(He!=35){if(He==62)ge=Me;else if(He!=101){if(He==109)Pe=Me;else if(He!=84){if(He!=106){if(He!=107){if(He!=108){if(He!=102){if(He==104)ut=Me;else if(He!=105){var je=He<0?-He:He,Ne=65280&je,We=0;if(24576&je&&(8192&je?(We=65535&Me,We+=(255&je)<<16):We=65535&Me),24576&~je){if(je==16388)J+=4*We;else if(Ne!=8192&&Ne!=8448&&Ne!=9216)throw je.toString(16)}else{if(be==null){be=[];for(var Ve=0;Ve<4;Ve++)be[Ve]=new Int16Array((de>>>1)*(le>>>1));for(Ee=new Int16Array((de>>>1)*(le>>>1)),F=new Int16Array(1024),Ve=0;Ve<1024;Ve++){var ze=Ve-512,Le=Math.abs(ze),Qe=Math.floor(768*Le*Le*Le/16581375)+Le;F[Ve]=Math.sign(ze)*Qe}for(D=new Uint16Array(4096),Ve=0;Ve<4096;Ve++){var Ke=Ve,Fe=65535*(Math.pow(113,Ke/4095)-1)/112;D[Ve]=Math.min(Fe,65535)}}var ce=be[ge],$e=W(de,1+V[ye]),oe=W(le,1+V[ye]);if(ye==0)for(var ue=0;ue<oe;ue++)for(var _e=0;_e<$e;_e++){var Te=J+2*(ue*$e+_e);ce[ue*(de>>>1)+_e]=X[Te]<<8|X[Te+1]}else{var Be=[X,8*J],re=[],me=0,Ie=$e*oe,xe=[0,0],Ze=0;for(Me=0;me<Ie;)for(G(Be,xe),Ze=xe[0],Me=xe[1];Ze>0;)re[me++]=Me,Ze--;var Xe=(ye-1)%3,nt=Xe!=1?$e:0,lt=Xe!=0?oe:0;for(ue=0;ue<oe;ue++){var ot=(ue+lt)*(de>>>1)+nt,dt=ue*$e;for(_e=0;_e<$e;_e++)ce[ot+_e]=F[re[dt+_e]+512]*ae}if(Xe==2){var ut=de>>>1,we=2*$e,et=2*oe;for(ue=0;ue<oe;ue++)for(_e=0;_e<we;_e++){Ve=2*ue*ut+_e;var rt=oe*ut+(H=ue*ut+_e);ue==0?U(ce,Ee,Ve,rt,H,ut):ue==oe-1?K(ce,Ee,Ve,rt,H,ut):Q(ce,Ee,Ve,rt,H,ut)}var at=ce;for(ce=Ee,Ee=at,ue=0;ue<et;ue++)for(_e=0;_e<$e;_e++){var H;Ve=ue*ut+2*_e,rt=$e+(H=ue*ut+_e),_e==0?U(ce,Ee,Ve,rt,H,1):_e==$e-1?K(ce,Ee,Ve,rt,H,1):Q(ce,Ee,Ve,rt,H,1)}at=ce,ce=Ee,Ee=at;for(var q=[],pe=2-~~((ye-1)/3),ne=0;ne<3;ne++)q[ne]=Pe>>14-2*ne&3;var Ce=q[pe];if(Ce!=0)for(ue=0;ue<et;ue++)for(_e=0;_e<we;_e++)ce[Ve=ue*ut+_e]=ce[Ve]<<Ce}}if(ye==9&&ge==3){var Se=be[0],Ye=be[1],it=be[2],he=be[3];for(ue=0;ue<le;ue+=2)for(_e=0;_e<de;_e+=2){var De=ue*de+_e,qe=Se[Te=(ue>>>1)*(de>>>1)+(_e>>>1)],Ge=Ye[Te]-2048,ke=it[Te]-2048,Ue=he[Te]-2048,Je=(Ge<<1)+qe,st=(ke<<1)+qe,ct=qe+Ue,ft=qe-Ue;Ae?(ie[De]=te(ct),ie[De+1]=te(st),ie[De+de]=te(Je),ie[De+de+1]=te(ft)):(ie[De]=te(Je),ie[De+1]=te(ct),ie[De+de]=te(ft),ie[De+de+1]=te(st))}}J+=4*We}}}}}}}}}}console.log(Date.now()-ve)}}(),w.decode._decodeLogLuv32=function(P,F,D,$,V,j){for(var G=P.width,W=4*G,Z=0,U=new Uint8Array(W);Z<$;){for(var Q=0;Q<W;){var K=F[D+Z];if(Z++,K<128){for(var te=0;te<K;te++)U[Q+te]=F[D+Z+te];Q+=K,Z+=K}else{for(K-=126,te=0;te<K;te++)U[Q+te]=F[D+Z];Q+=K,Z++}}for(var X=0;X<G;X++)V[j+0]=U[X],V[j+1]=U[X+G],V[j+2]=U[X+2*G],V[j+4]=U[X+3*G],j+=6}},w.decode._ljpeg_diff=function(P,F,D){var $,V,j=w.decode._getbithuff;return $=j(P,F,D[0],D),(V=j(P,F,$,0))&1<<$-1||(V-=(1<<$)-1),V},w.decode._decodeARW=function(P,F,D,$,V,j){var G=P.t256[0],W=P.t257[0],Z=P.t258[0],U=P.isLE?w._binLE:w._binBE;if(G*W==$||G*W*1.5==$)if(G*W*1.5!=$){var Q,K,te,X,J,ee,ie,fe,se=new Uint16Array(16),de=new Uint8Array(G+1);for(ve=0;ve<W;ve++){for(var le=0;le<G;le++)de[le]=F[D++];for(fe=0,Ee=0;Ee<G-30;fe+=16){for(K=2047&(Q=U.readUint(de,fe)),te=2047&Q>>>11,X=15&Q>>>22,J=15&Q>>>26,ee=0;ee<4&&128<<ee<=K-te;ee++);for(ie=30,ye=0;ye<16;ye++)ye==X?se[ye]=K:ye==J?se[ye]=te:(se[ye]=((U.readUshort(de,fe+(ie>>3))>>>(7&ie)&127)<<ee)+te,se[ye]>2047&&(se[ye]=2047),ie+=7);for(ye=0;ye<16;ye++,Ee+=2)We=se[ye]<<1,w.decode._putsF(V,(ve*G+Ee)*Z,We<<16-Z);Ee-=1&Ee?1:31}}}else for(var ye=0;ye<$;ye+=3){var ae=F[D+ye+0],ge=F[D+ye+1],Pe=F[D+ye+2];V[j+ye]=ge<<4|ae>>>4,V[j+ye+1]=ae<<4|Pe>>>4,V[j+ye+2]=Pe<<4|ge>>>4}else{W+=8;var be,Ee,ve,Re=[D,0,0,0],Oe=new Uint16Array(32770),Ae=[3857,3856,3599,3342,3085,2828,2571,2314,2057,1800,1543,1286,1029,772,771,768,514,513],He=0,Me=w.decode._ljpeg_diff;for(Oe[0]=15,be=ye=0;ye<18;ye++)for(var je=32768>>>(Ae[ye]>>>8),Ne=0;Ne<je;Ne++)Oe[++be]=Ae[ye];for(Ee=G;Ee--;)for(ve=0;ve<W+1;ve+=2)if(ve==W&&(ve=1),He+=Me(F,Re,Oe),ve<W){var We=4095&He;w.decode._putsF(V,(ve*G+Ee)*Z,We<<16-Z)}}},w.decode._decodeNikon=function(P,F,D,$,V,j,G){var W=[[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],Z=P.t256[0],U=P.t257[0],Q=P.t258[0],K=0,te=0,X=w.decode._make_decoder,J=w.decode._getbithuff,ee=F[0].exifIFD.makerNote,ie=ee.t150?ee.t150:ee.t140,fe=0,se=ie[fe++],de=ie[fe++];se!=73&&de!=88||(fe+=2110),se==70&&(K=2),Q==14&&(K+=3);for(var le=[[0,0],[0,0]],ye=P.isLE?w._binLE:w._binBE,ae=0;ae<2;ae++)for(var ge=0;ge<2;ge++)le[ae][ge]=ye.readShort(ie,fe),fe+=2;var Pe,be,Ee,ve,Re,Oe=1<<Q&32767,Ae=0,He=ye.readShort(ie,fe);fe+=2,He>1&&(Ae=Math.floor(Oe/(He-1))),se==68&&de==32&&Ae>0&&(te=ye.readShort(ie,562));var Me=[0,0],je=X(W[K]),Ne=[$,0,0,0];for(Pe=0;Pe<U;Pe++)for(te&&Pe==te&&(je=X(W[K+1])),be=0;be<Z;be++){ae=J(D,Ne,je[0],je),(Re=1+(J(D,Ne,(Ee=15&ae)-(ve=ae>>>4),0)<<1)<<ve>>>1)&1<<Ee-1||(Re-=(1<<Ee)-(ve==0?1:0)),be<2?Me[be]=le[1&Pe][be]+=Re:Me[1&be]+=Re;var We=Math.min(Math.max(Me[1&be],0),(1<<Q)-1),Ve=(Pe*Z+be)*Q;w.decode._putsF(j,Ve,We<<16-Q)}},w.decode._putsF=function(P,F,D){D<<=8-(7&F);var $=F>>>3;P[$]|=D>>>16,P[$+1]|=D>>>8,P[$+2]|=D},w.decode._getbithuff=function(P,F,D,$){var V;w.decode._get_byte;var j=F[0],G=F[1],W=F[2],Z=F[3];if(D==0||W<0)return 0;for(;!Z&&W<D&&(V=P[j++])!=-1&&!(Z=0);)G=(G<<8)+V,W+=8;if(V=G<<32-W>>>32-D,$?(W-=$[V+1]>>>8,V=255&$[V+1]):W-=D,W<0)throw"e";return F[0]=j,F[1]=G,F[2]=W,F[3]=Z,V},w.decode._make_decoder=function(P){var F,D,$,V,j,G=[];for(F=16;F!=0&&!P[F];F--);var W=17;for(G[0]=F,$=D=1;D<=F;D++)for(V=0;V<P[D];V++,++W)for(j=0;j<1<<F-D;j++)$<=1<<F&&(G[$++]=D<<8|P[W]);return G},w.decode._decodeNewJPEG=function(P,F,D,$,V,j){$=Math.min($,F.length-D);var G=P.t347,W=G?G.length:0,Z=new Uint8Array(W+$);if(G){for(var U=0,Q=0;Q<W-1&&(G[Q]!=255||G[Q+1]!=217);Q++)Z[U++]=G[Q];var K=F[D],te=F[D+1];for(K==255&&te==216||(Z[U++]=K,Z[U++]=te),Q=2;Q<$;Q++)Z[U++]=F[D+Q]}else for(Q=0;Q<$;Q++)Z[Q]=F[D+Q];if(P.t262[0]==32803||P.t259[0]==7&&P.t262[0]==34892){var X=P.t258[0],J=w.LosslessJpegDecode(Z),ee=J.length;if(X==16)if(P.isLE)for(Q=0;Q<ee;Q++)V[j+(Q<<1)]=255&J[Q],V[j+(Q<<1)+1]=J[Q]>>>8;else for(Q=0;Q<ee;Q++)V[j+(Q<<1)]=J[Q]>>>8,V[j+(Q<<1)+1]=255&J[Q];else if(X==14||X==12||X==10){var ie=16-X;for(Q=0;Q<ee;Q++)w.decode._putsF(V,Q*X,J[Q]<<ie)}else{if(X!=8)throw new Error("unsupported bit depth "+X);for(Q=0;Q<ee;Q++)V[j+Q]=J[Q]}}else{var fe=new w.JpegDecoder;fe.parse(Z);var se=fe.getData({width:fe.width,height:fe.height,forceRGB:!0,isSourcePDF:!1});for(Q=0;Q<se.length;Q++)V[j+Q]=se[Q]}P.t262[0]==6&&(P.t262[0]=2)},w.decode._decodeOldJPEGInit=function(P,F,D,$){var V,j,G,W,Z,U=216,Q=0,K=0,te=!1,X=P.t513,J=X?X[0]:0,ee=P.t514,ie=ee?ee[0]:0,fe=P.t324||P.t273||X,se=P.t530,de=0,le=0,ye=P.t277?P.t277[0]:1,ae=P.t515;if(fe&&(K=fe[0],te=fe.length>1),!te){if(F[D]==255&&F[D+1]==U)return{jpegOffset:D};if(X!=null&&(F[D+J]==255&&F[D+J+1]==U?Q=D+J:g("JPEGInterchangeFormat does not point to SOI"),ee==null?g("JPEGInterchangeFormatLength field is missing"):(J>=K||J+ie<=K)&&g("JPEGInterchangeFormatLength field value is invalid"),Q!=null))return{jpegOffset:Q}}if(se!=null&&(de=se[0],le=se[1]),X!=null&&ee!=null)if(ie>=2&&J+ie<=K){for(V=F[D+J+ie-2]==255&&F[D+J+ie-1]==U?new Uint8Array(ie-2):new Uint8Array(ie),G=0;G<V.length;G++)V[G]=F[D+J+G];g("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else g("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(V==null){var ge=0,Pe=[];Pe[ge++]=255,Pe[ge++]=U;var be=P.t519;if(be==null)throw new Error("JPEGQTables tag is missing");for(G=0;G<be.length;G++)for(Pe[ge++]=255,Pe[ge++]=219,Pe[ge++]=0,Pe[ge++]=67,Pe[ge++]=G,W=0;W<64;W++)Pe[ge++]=F[D+be[G]+W];for(Z=0;Z<2;Z++){var Ee=P[Z==0?"t520":"t521"];if(Ee==null)throw new Error((Z==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(G=0;G<Ee.length;G++){Pe[ge++]=255,Pe[ge++]=196;var ve=19;for(W=0;W<16;W++)ve+=F[D+Ee[G]+W];for(Pe[ge++]=ve>>>8,Pe[ge++]=255&ve,Pe[ge++]=G|Z<<4,W=0;W<16;W++)Pe[ge++]=F[D+Ee[G]+W];for(W=0;W<ve;W++)Pe[ge++]=F[D+Ee[G]+16+W]}}if(Pe[ge++]=255,Pe[ge++]=192,Pe[ge++]=0,Pe[ge++]=8+3*ye,Pe[ge++]=8,Pe[ge++]=P.height>>>8&255,Pe[ge++]=255&P.height,Pe[ge++]=P.width>>>8&255,Pe[ge++]=255&P.width,Pe[ge++]=ye,ye==1)Pe[ge++]=1,Pe[ge++]=17,Pe[ge++]=0;else for(G=0;G<3;G++)Pe[ge++]=G+1,Pe[ge++]=G!=0?17:(15&de)<<4|15&le,Pe[ge++]=G;ae!=null&&ae[0]!=0&&(Pe[ge++]=255,Pe[ge++]=221,Pe[ge++]=0,Pe[ge++]=4,Pe[ge++]=ae[0]>>>8&255,Pe[ge++]=255&ae[0]),V=new Uint8Array(Pe)}var Re=-1;for(G=0;G<V.length-1;){if(V[G]==255&&V[G+1]==192){Re=G;break}G++}if(Re==-1){var Oe=new Uint8Array(V.length+10+3*ye);Oe.set(V);var Ae=V.length;if(Re=V.length,(V=Oe)[Ae++]=255,V[Ae++]=192,V[Ae++]=0,V[Ae++]=8+3*ye,V[Ae++]=8,V[Ae++]=P.height>>>8&255,V[Ae++]=255&P.height,V[Ae++]=P.width>>>8&255,V[Ae++]=255&P.width,V[Ae++]=ye,ye==1)V[Ae++]=1,V[Ae++]=17,V[Ae++]=0;else for(G=0;G<3;G++)V[Ae++]=G+1,V[Ae++]=G!=0?17:(15&de)<<4|15&le,V[Ae++]=G}if(F[K]==255&&F[K+1]==218){var He=F[K+2]<<8|F[K+3];for((j=new Uint8Array(He+2))[0]=F[K],j[1]=F[K+1],j[2]=F[K+2],j[3]=F[K+3],G=0;G<He-2;G++)j[G+4]=F[K+G+4]}else{var Me=0;if((j=new Uint8Array(8+2*ye))[Me++]=255,j[Me++]=218,j[Me++]=0,j[Me++]=6+2*ye,j[Me++]=ye,ye==1)j[Me++]=1,j[Me++]=0;else for(G=0;G<3;G++)j[Me++]=G+1,j[Me++]=G<<4|G;j[Me++]=0,j[Me++]=63,j[Me++]=0}return{jpegOffset:D,tables:V,sosMarker:j,sofPosition:Re}},w.decode._decodeOldJPEG=function(P,F,D,$,V,j){var G,W,Z,U,Q=w.decode._decodeOldJPEGInit(P,F,D,$);if(Q.jpegOffset!=null)for(G=D+$-Q.jpegOffset,Z=new Uint8Array(G),X=0;X<G;X++)Z[X]=F[Q.jpegOffset+X];else{for(W=Q.tables.length,(Z=new Uint8Array(W+Q.sosMarker.length+$+2)).set(Q.tables),U=W,Z[Q.sofPosition+5]=P.height>>>8&255,Z[Q.sofPosition+6]=255&P.height,Z[Q.sofPosition+7]=P.width>>>8&255,Z[Q.sofPosition+8]=255&P.width,F[D]==255&&F[D+1]==SOS||(Z.set(Q.sosMarker,U),U+=sosMarker.length),X=0;X<$;X++)Z[U++]=F[D+X];Z[U++]=255,Z[U++]=EOI}var K=new w.JpegDecoder;K.parse(Z);for(var te=K.getData({width:K.width,height:K.height,forceRGB:!0,isSourcePDF:!1}),X=0;X<te.length;X++)V[j+X]=te[X];P.t262&&P.t262[0]==6&&(P.t262[0]=2)},w.decode._decodePackBits=function(P,F,D,$,V){for(var j=new Int8Array(P.buffer),G=new Int8Array($.buffer),W=F+D;F<W;){var Z=j[F];if(F++,Z>=0&&Z<128)for(var U=0;U<Z+1;U++)G[V]=j[F],V++,F++;if(Z>=-127&&Z<0){for(U=0;U<1-Z;U++)G[V]=j[F],V++;F++}}return V},w.decode._decodeThunder=function(P,F,D,$,V){for(var j=[0,1,0,-1],G=[0,1,2,3,0,-3,-2,-1],W=F+D,Z=2*V,U=0;F<W;){var Q=P[F],K=Q>>>6,te=63&Q;if(F++,K==3&&(U=15&te,$[Z>>>1]|=U<<4*(1-Z&1),Z++),K==0)for(var X=0;X<te;X++)$[Z>>>1]|=U<<4*(1-Z&1),Z++;if(K==2)for(X=0;X<2;X++)(J=te>>>3*(1-X)&7)!=4&&(U+=G[J],$[Z>>>1]|=U<<4*(1-Z&1),Z++);if(K==1)for(X=0;X<3;X++){var J;(J=te>>>2*(2-X)&3)!=2&&(U+=j[J],$[Z>>>1]|=U<<4*(1-Z&1),Z++)}}},w.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},w.decode._lens=function(){var P=function(Z,U,Q,K){for(var te=0;te<U.length;te++)Z[U[te]]=Q+te*K},F="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",D="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",$="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",V="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",j="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";F=F.split(","),D=D.split(","),$=$.split(","),V=V.split(","),j=j.split(",");var G={},W={};return P(G,F,0,1),P(G,$,64,64),P(G,j,1792,64),P(W,D,0,1),P(W,V,64,64),P(W,j,1792,64),[G,W]}(),w.decode._decodeG4=function(P,F,D,$,V,j,G){for(var W=w.decode,Z=F<<3,U=0,Q="",K=[],te=[],X=0;X<j;X++)te.push(0);te=W._makeDiff(te);for(var J=0,ee=0,ie=0,fe=0,se=0,de=0,le="",ye=0,ae=8*Math.ceil(j/8);Z>>>3<F+D;){ie=W._findDiff(te,J+(J==0?0:1),1-se),fe=W._findDiff(te,ie,se);var ge=0;if(G==1&&(ge=P[Z>>>3]>>>7-(7&Z)&1),G==2&&(ge=P[Z>>>3]>>>(7&Z)&1),Z++,Q+=ge,le=="H"){if(W._lens[se][Q]!=null){var Pe=W._lens[se][Q];Q="",U+=Pe,Pe<64&&(W._addNtimes(K,U,se),J+=U,se=1-se,U=0,--ye==0&&(le=""))}}else Q=="0001"&&(Q="",W._addNtimes(K,fe-J,se),J=fe),Q=="001"&&(Q="",le="H",ye=2),W._dmap[Q]!=null&&(ee=ie+W._dmap[Q],W._addNtimes(K,ee-J,se),J=ee,Q="",se=1-se);K.length==j&&le==""&&(W._writeBits(K,$,8*V+de*ae),se=0,de++,J=0,te=W._makeDiff(K),K=[])}},w.decode._findDiff=function(P,F,D){for(var $=0;$<P.length;$+=2)if(P[$]>=F&&P[$+1]==D)return P[$]},w.decode._makeDiff=function(P){var F=[];P[0]==1&&F.push(0,1);for(var D=1;D<P.length;D++)P[D-1]!=P[D]&&F.push(D,P[D]);return F.push(P.length,0,P.length,1),F},w.decode._decodeG2=function(P,F,D,$,V,j,G){for(var W=w.decode,Z=F<<3,U=0,Q="",K=[],te=0,X=0,J=8*Math.ceil(j/8);Z>>>3<F+D;){var ee=0;G==1&&(ee=P[Z>>>3]>>>7-(7&Z)&1),G==2&&(ee=P[Z>>>3]>>>(7&Z)&1),Z++,Q+=ee,(U=W._lens[te][Q])!=null&&(W._addNtimes(K,U,te),Q="",U<64&&(te=1-te),K.length==j&&(W._writeBits(K,$,8*V+X*J),K=[],X++,te=0,7&Z&&(Z+=8-(7&Z)),U>=64&&(Z+=8)))}},w.decode._decodeG3=function(P,F,D,$,V,j,G,W){for(var Z=w.decode,U=F<<3,Q=0,K="",te=[],X=[],J=0;J<j;J++)te.push(0);for(var ee=0,ie=0,fe=0,se=0,de=0,le=-1,ye="",ae=0,ge=!0,Pe=8*Math.ceil(j/8);U>>>3<F+D;){fe=Z._findDiff(X,ee+(ee==0?0:1),1-de),se=Z._findDiff(X,fe,de);var be=0;if(G==1&&(be=P[U>>>3]>>>7-(7&U)&1),G==2&&(be=P[U>>>3]>>>(7&U)&1),U++,K+=be,ge){if(Z._lens[de][K]!=null){var Ee=Z._lens[de][K];K="",Q+=Ee,Ee<64&&(Z._addNtimes(te,Q,de),de=1-de,Q=0)}}else ye=="H"?Z._lens[de][K]!=null&&(Ee=Z._lens[de][K],K="",Q+=Ee,Ee<64&&(Z._addNtimes(te,Q,de),ee+=Q,de=1-de,Q=0,--ae==0&&(ye=""))):(K=="0001"&&(K="",Z._addNtimes(te,se-ee,de),ee=se),K=="001"&&(K="",ye="H",ae=2),Z._dmap[K]!=null&&(ie=fe+Z._dmap[K],Z._addNtimes(te,ie-ee,de),ee=ie,K="",de=1-de));K.endsWith("000000000001")&&(le>=0&&Z._writeBits(te,$,8*V+le*Pe),W&&(G==1&&(ge=(P[U>>>3]>>>7-(7&U)&1)==1),G==2&&(ge=(P[U>>>3]>>>(7&U)&1)==1),U++),K="",de=0,le++,ee=0,X=Z._makeDiff(te),te=[])}te.length==j&&Z._writeBits(te,$,8*V+le*Pe)},w.decode._addNtimes=function(P,F,D){for(var $=0;$<F;$++)P.push(D)},w.decode._writeBits=function(P,F,D){for(var $=0;$<P.length;$++)F[D+$>>>3]|=P[$]<<7-(D+$&7)},w.decode._decodeLZW=w.decode._decodeLZW=function(){var P,F,D,$,V=0,j=0,G=0,W=0,Z=function(){var J=P>>>3,ee=(F[J]<<16|F[J+1]<<8|F[J+2])>>>24-(7&P)-j&(1<<j)-1;return P+=j,ee},U=new Uint32Array(16384),Q=0,K=function(J){j=J+1,V=W+1},te=function(J){for(var ee=J<<2,ie=U[ee+2],fe=$+ie-1;ee!=65535;)D[fe--]=U[ee],ee=U[ee+1];$+=ie},X=function(J,ee){var ie=V<<2,fe=J<<2;U[ie]=U[3+(ee<<2)],U[ie+1]=fe,U[ie+2]=U[fe+2]+1,U[ie+3]=U[fe+3],++V+1==1<<j&&j!=12&&j++};return function(J,ee,ie,fe,se,de){P=ee<<3,F=J,D=fe,$=se;var le=ee+ie<<3,ye=0,ae=0;for(function(ge){if(ge!=Q){Q=ge,W=1+(G=1<<ge);for(var Pe=0;Pe<W+1;Pe++)U[4*Pe]=U[4*Pe+3]=Pe,U[4*Pe+1]=65535,U[4*Pe+2]=1}}(de),K(de);P<le&&(ye=Z())!=W;){if(ye==G){if(K(de),(ye=Z())==W)break;te(ye)}else ye<V?(te(ye),X(ae,ye)):(X(ae,ae),te(V-1));ae=ye}return $}}(),w.tags={},w._types=function(){var P=new Array(250);return P.fill(0),{basic:{main:P=P.concat([0,0,0,0,4,3,3,3,3,3,0,0,3,0,0,0,3,0,0,2,2,2,2,4,3,0,0,3,4,4,3,3,5,5,3,2,5,5,0,0,0,0,4,4,0,0,3,3,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,3,5,5,3,0,3,3,4,4,4,3,4,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),rest:{33432:2,33434:5,33437:5,34665:4,34850:3,34853:4,34855:3,34864:3,34866:4,36864:7,36867:2,36868:2,37121:7,37377:10,37378:5,37380:10,37381:5,37383:3,37384:3,37385:3,37386:5,37510:7,37520:2,37521:2,37522:2,40960:7,40961:3,40962:4,40963:4,40965:4,41486:5,41487:5,41488:3,41985:3,41986:3,41987:3,41988:5,41989:3,41990:3,41993:3,41994:3,41995:7,41996:3,42032:2,42033:2,42034:5,42036:2,42037:2,59932:7}},gps:{main:[1,2,5,2,5,1,5,5,0,9],rest:{18:2,29:2}}}}(),w._readIFD=function(P,F,D,$,V,j){var G=P.readUshort(F,D);D+=2;var W={};j.debug&&g("   ".repeat(V),$.length-1,">>>----------------");for(var Z=0;Z<G;Z++){var U=P.readUshort(F,D);D+=2;var Q=P.readUshort(F,D);D+=2;var K=P.readUint(F,D);D+=4;var te=P.readUint(F,D);D+=4;var X=[];if(Q==1||Q==7){var J=K<5?D-4:te;J+K>F.buffer.byteLength&&(K=F.buffer.byteLength-J),X=new Uint8Array(F.buffer,J,K)}if(Q==2){var ee=K<5?D-4:te,ie=F[ee],fe=Math.max(0,Math.min(K-1,F.length-ee));ie<128||fe==0?X.push(P.readASCII(F,ee,fe)):X=new Uint8Array(F.buffer,ee,fe)}if(Q==3)for(var se=0;se<K;se++)X.push(P.readUshort(F,(K<3?D-4:te)+2*se));if(Q==4||Q==13)for(se=0;se<K;se++)X.push(P.readUint(F,(K<2?D-4:te)+4*se));if(Q==5||Q==10){var de=Q==5?P.readUint:P.readInt;for(se=0;se<K;se++)X.push([de(F,te+8*se),de(F,te+8*se+4)])}if(Q==8)for(se=0;se<K;se++)X.push(P.readShort(F,(K<3?D-4:te)+2*se));if(Q==9)for(se=0;se<K;se++)X.push(P.readInt(F,(K<2?D-4:te)+4*se));if(Q==11)for(se=0;se<K;se++)X.push(P.readFloat(F,te+4*se));if(Q==12)for(se=0;se<K;se++)X.push(P.readDouble(F,te+8*se));if(K==0||X.length!=0){if(j.debug&&g("   ".repeat(V),U,Q,w.tags[U],X),W["t"+U]=X,!(U==330&&W.t272&&W.t272[0]=="DSLR-A100")){if(U==330||U==34665||U==34853||U==50740&&P.readUshort(F,P.readUint(X,0))<300||U==61440){var le=U==50740?[P.readUint(X,0)]:X,ye=[];for(se=0;se<le.length;se++)w._readIFD(P,F,le[se],ye,V+1,j);U==330&&(W.subIFD=ye),U==34665&&(W.exifIFD=ye[0]),U==34853&&(W.gpsiIFD=ye[0]),U==50740&&(W.dngPrvt=ye[0]),U==61440&&(W.fujiIFD=ye[0])}}if(U==37500&&j.parseMN){var ae=X;if(P.readASCII(ae,0,5)=="Nikon")W.makerNote=w.decode(ae.slice(10).buffer)[0];else if(P.readASCII(ae,0,5)=="OLYMP"||P.readASCII(ae,0,9)=="OM SYSTEM"){var ge=[8208,8224,8240,8256,8272],Pe=[];w._readIFD(P,ae,ae[1]==77?16:ae[5]==85?12:8,Pe,V+1,j);var be=W.makerNote=Pe.pop();for(se=0;se<ge.length;se++){var Ee="t"+ge[se];be[Ee]!=null&&(w._readIFD(P,ae,be[Ee][0],Pe,V+1,j),be[Ee]=Pe.pop())}be.t12288&&(w._readIFD(P,be.t12288,0,Pe,V+1,j),be.t12288=Pe.pop())}else P.readUshort(F,te)<300&&P.readUshort(F,te+4)<=12&&(Pe=[],w._readIFD(P,F,te,Pe,V+1,j),W.makerNote=Pe[0])}}else if(g(U,"unknown TIFF tag type: ",Q,"num:",K),Z==0)return}return $.push(W),j.debug&&g("   ".repeat(V),"<<<---------------"),D},w._writeIFD=function(P,F,D,$,V){var j=Object.keys(V),G=j.length;V.exifIFD&&G--,V.gpsiIFD&&G--,P.writeUshort(D,$,G);for(var W=($+=2)+12*G+4,Z=0;Z<j.length;Z++){var U=j[Z];if(U!="t34665"&&U!="t34853"){U=="exifIFD"&&(U="t34665"),U=="gpsiIFD"&&(U="t34853");var Q=parseInt(U.slice(1)),K=F.main[Q];if(K==null&&(K=F.rest[Q]),K==null||K==0)throw new Error("unknown type of tag: "+Q);var te=V[U];Q==34665&&(te=[W],W=w._writeIFD(P,F,D,W,V.exifIFD)[1]),Q==34853&&(te=[W],W=w._writeIFD(P,w._types.gps,D,W,V.gpsiIFD)[1]),K==2&&(te=te[0]+"\0");var X=te.length;P.writeUshort(D,$,Q),$+=2,P.writeUshort(D,$,K),$+=2,P.writeUint(D,$,X);var J=[-1,1,1,2,4,8,0,1,0,4,8,0,8][K]*X,ee=$+=4;if(J>4&&(P.writeUint(D,$,W),ee=W),K==1||K==7)for(var ie=0;ie<X;ie++)D[ee+ie]=te[ie];else if(K==2)P.writeASCII(D,ee,te);else if(K==3)for(ie=0;ie<X;ie++)P.writeUshort(D,ee+2*ie,te[ie]);else if(K==4)for(ie=0;ie<X;ie++)P.writeUint(D,ee+4*ie,te[ie]);else if(K==5||K==10){var fe=K==5?P.writeUint:P.writeInt;for(ie=0;ie<X;ie++){var se=te[ie],de=se[0],le=se[1];if(de==null)throw"e";fe(D,ee+8*ie,de),fe(D,ee+8*ie+4,le)}}else if(K==9)for(ie=0;ie<X;ie++)P.writeInt(D,ee+4*ie,te[ie]);else{if(K!=12)throw K;for(ie=0;ie<X;ie++)P.writeDouble(D,ee+8*ie,te[ie])}J>4&&(W+=J+=1&J),$+=4}}return[$,W]},w.toRGBA8=function(P,F){function D(nt){return nt<.0031308?12.92*nt:1.055*Math.pow(nt,1/2.4)-.055}var $=P.width,V=P.height,j=$*V,G=P.data,W=new Uint8Array(4*j),Z=P.t262?P.t262[0]:2,U=P.t258?Math.min(32,P.t258[0]):1;P.t262==null&&U==1&&(Z=0);var Q=P.t277?P.t277[0]:P.t258?P.t258.length:[1,1,3,1,1,4,3][Z],K=P.t339?P.t339[0]:null;if(Z==1&&U==32&&K!=3)throw"e";var te=Math.ceil(Q*U*$/8);if(Z==0){F=1/256;for(var X=0;X<V;X++){var J=X*te,ee=X*$;if(U==1)for(var ie=0;ie<$;ie++){var fe=ee+ie<<2,se=G[J+(ie>>3)]>>7-(7&ie)&1;W[fe]=W[fe+1]=W[fe+2]=255*(1-se),W[fe+3]=255}if(U==4)for(ie=0;ie<$;ie++)fe=ee+ie<<2,se=G[J+(ie>>1)]>>4-4*(1&ie)&15,W[fe]=W[fe+1]=W[fe+2]=17*(15-se),W[fe+3]=255;if(U==8)for(ie=0;ie<$;ie++)fe=ee+ie<<2,se=G[J+ie],W[fe]=W[fe+1]=W[fe+2]=255-se,W[fe+3]=255;if(U==16)for(ie=0;ie<$;ie++)fe=ee+ie<<2,se=G[(le=J+2*ie)+1]<<8|G[le],W[fe]=W[fe+1]=W[fe+2]=Math.min(255,255-~~(se*F)),W[fe+3]=255}}else if(Z==1){F==null&&(F=1/256);var de=3&G.length?null:new Float32Array(G.buffer);for(X=0;X<V;X++){if(J=X*te,ee=X*$,U==1)for(ie=0;ie<$;ie++)fe=ee+ie<<2,se=G[J+(ie>>3)]>>7-(7&ie)&1,W[fe]=W[fe+1]=W[fe+2]=255*se,W[fe+3]=255;if(U==2)for(ie=0;ie<$;ie++)fe=ee+ie<<2,se=G[J+(ie>>2)]>>6-2*(3&ie)&3,W[fe]=W[fe+1]=W[fe+2]=85*se,W[fe+3]=255;if(U==8)for(ie=0;ie<$;ie++)fe=ee+ie<<2,se=G[J+ie*Q],W[fe]=W[fe+1]=W[fe+2]=se,W[fe+3]=255;if(U==16)for(ie=0;ie<$;ie++)fe=ee+ie<<2,se=G[(le=J+2*ie)+1]<<8|G[le],W[fe]=W[fe+1]=W[fe+2]=Math.min(255,~~(se*F)),W[fe+3]=255;if(U==32)for(ie=0;ie<$;ie++){var le;fe=ee+ie<<2,se=de[le=(J>>>2)+ie],W[fe]=W[fe+1]=W[fe+2]=~~(.5+255*se),W[fe+3]=255}}}else if(Z==2)if(U==8){if(Q==1)for(ie=0;ie<j;ie++)W[4*ie]=W[4*ie+1]=W[4*ie+2]=G[ie],W[4*ie+3]=255;if(Q==3)for(ie=0;ie<j;ie++){var ye=3*ie;W[fe=ie<<2]=G[ye],W[fe+1]=G[ye+1],W[fe+2]=G[ye+2],W[fe+3]=255}if(Q>=4)for(ie=0;ie<j;ie++)ye=ie*Q,W[fe=ie<<2]=G[ye],W[fe+1]=G[ye+1],W[fe+2]=G[ye+2],W[fe+3]=G[ye+3]}else if(U==16){if(Q==4)for(ie=0;ie<j;ie++)ye=8*ie+1,W[fe=ie<<2]=G[ye],W[fe+1]=G[ye+2],W[fe+2]=G[ye+4],W[fe+3]=G[ye+6];if(Q==3)for(ie=0;ie<j;ie++)ye=6*ie+1,W[fe=ie<<2]=G[ye],W[fe+1]=G[ye+2],W[fe+2]=G[ye+4],W[fe+3]=255}else{if(U!=32)throw U;var ae=new Float32Array(G.buffer),ge=0;for(ie=0;ie<ae.length;ie++)ge=Math.min(ge,ae[ie]);if(ge<0)for(ie=0;ie<G.length;ie+=4){var Pe=G[ie];G[ie]=G[ie+3],G[ie+3]=Pe,Pe=G[ie+1],G[ie+1]=G[ie+2],G[ie+2]=Pe}var be=[];for(ie=0;ie<65536;ie++)be.push(D(ie/65535));for(ie=0;ie<ae.length;ie++){var Ee=Math.max(0,Math.min(1,ae[ie]));ae[ie]=be[~~(.5+65535*Ee)]}if(Q==3)for(ie=0;ie<j;ie++)ye=3*ie,W[fe=ie<<2]=~~(.5+255*ae[ye]),W[fe+1]=~~(.5+255*ae[ye+1]),W[fe+2]=~~(.5+255*ae[ye+2]),W[fe+3]=255;else{if(Q!=4)throw Q;for(ie=0;ie<j;ie++)ye=4*ie,W[fe=ie<<2]=~~(.5+255*ae[ye]),W[fe+1]=~~(.5+255*ae[ye+1]),W[fe+2]=~~(.5+255*ae[ye+2]),W[fe+3]=~~(.5+255*ae[ye+3])}}else if(Z==3){var ve=P.t320,Re=1<<U,Oe=U==8&&Q>1&&P.t338&&P.t338[0]!=0;for(X=0;X<V;X++)for(var Ae=0;Ae<$;Ae++){fe=(ie=X*$+Ae)<<2;var He=0,Me=X*te;if(U==1)He=G[Me+(Ae>>>3)]>>>7-(7&Ae)&1;else if(U==2)He=G[Me+(Ae>>>2)]>>>6-2*(3&Ae)&3;else if(U==4)He=G[Me+(Ae>>>1)]>>>4-4*(1&Ae)&15;else{if(U!=8)throw U;He=G[Me+Ae*Q]}W[fe]=ve[He]>>8,W[fe+1]=ve[Re+He]>>8,W[fe+2]=ve[Re+Re+He]>>8,W[fe+3]=Oe?G[Me+Ae*Q+1]:255}}else if(Z==5){var je=Q>4?1:0;for(ie=0;ie<j;ie++){fe=ie<<2;var Ne=ie*Q;if(window.UDOC){var We=G[Ne],Ve=G[Ne+1],ze=G[Ne+2],Le=G[Ne+3],Qe=UDOC.C.cmykToRgb([We*(1/255),Ve*(1/255),ze*(1/255),Le*(1/255)]);W[fe]=~~(.5+255*Qe[0]),W[fe+1]=~~(.5+255*Qe[1]),W[fe+2]=~~(.5+255*Qe[2])}else We=255-G[Ne],Ve=255-G[Ne+1],ze=255-G[Ne+2],Le=(255-G[Ne+3])*(1/255),W[fe]=~~(We*Le+.5),W[fe+1]=~~(Ve*Le+.5),W[fe+2]=~~(ze*Le+.5);W[fe+3]=255*(1-je)+G[Ne+4]*je}}else if(Z==6&&P.t278){var Ke=P.t278[0];for(X=0;X<V;X+=Ke){ie=X*$;for(var Fe=Ke*$,ce=0;ce<Fe;ce++){fe=4*(ie+ce),ze=G[(Ne=3*ie+4*(ce>>>1))+(1&ce)];var $e=G[Ne+2]-128,oe=G[Ne+3]-128,ue=ze+((oe>>2)+(oe>>3)+(oe>>5)),_e=ze-(($e>>2)+($e>>4)+($e>>5))-((oe>>1)+(oe>>3)+(oe>>4)+(oe>>5)),Te=ze+($e+($e>>1)+($e>>2)+($e>>6));W[fe]=Math.max(0,Math.min(255,ue)),W[fe+1]=Math.max(0,Math.min(255,_e)),W[fe+2]=Math.max(0,Math.min(255,Te)),W[fe+3]=255}}}else if(Z==32845)for(X=0;X<V;X++)for(Ae=0;Ae<$;Ae++){fe=4*(X*$+Ae);var Be=G[(Ne=6*(X*$+Ae))+1]<<8|G[Ne],re=(Be=Math.pow(2,(Be+.5)/256-64),(G[Ne+3]+.5)/410),me=(G[Ne+5]+.5)/410,Ie=9*re/(6*re-16*me+12),xe=4*me/(6*re-16*me+12),Ze=Ie*Be/xe,Xe=(1-Ie-xe)*Be/xe;ue=2.69*Ze-1.276*(ze=Be)-.414*Xe,_e=-1.022*Ze+1.978*ze+.044*Xe,Te=.061*Ze-.224*ze+1.163*Xe,W[fe]=255*D(Math.min(ue,1)),W[fe+1]=255*D(Math.min(_e,1)),W[fe+2]=255*D(Math.min(Te,1)),W[fe+3]=255}else g("Unknown Photometric interpretation: "+Z);return W},w.replaceIMG=function(P){P==null&&(P=document.getElementsByTagName("img"));for(var F=["tif","tiff","dng","cr2","nef"],D=0;D<P.length;D++){var $=P[D],V=$.getAttribute("src");if(V!=null){var j=V.split(".").pop().toLowerCase();if(F.indexOf(j)!=-1){var G=new XMLHttpRequest;w._xhrs.push(G),w._imgs.push($),G.open("GET",V),G.responseType="arraybuffer",G.onload=w._imgLoaded,G.send()}}}},w._xhrs=[],w._imgs=[],w._imgLoaded=function(P){var F=w._xhrs.indexOf(P.target),D=w._imgs[F];w._xhrs.splice(F,1),w._imgs.splice(F,1),D.setAttribute("src",w.bufferToURI(P.target.response))},w.bufferToURI=function(P){var F=w.decode(P),D=F,$=0,V=D[0];F[0].subIFD&&(D=D.concat(F[0].subIFD));for(var j=0;j<D.length;j++){var G=D[j];if(!(G.t258==null||G.t258.length<3)){var W=G.t256*G.t257;W>$&&($=W,V=G)}}w.decodeImage(P,V,F);var Z=w.toRGBA8(V),U=V.width,Q=V.height,K=document.createElement("canvas");K.width=U,K.height=Q;var te=K.getContext("2d"),X=new ImageData(new Uint8ClampedArray(Z.buffer),U,Q);return te.putImageData(X,0,0),K.toDataURL()},w._binBE={nextZero:function(P,F){for(;P[F]!=0;)F++;return F},readUshort:function(P,F){return P[F]<<8|P[F+1]},readShort:function(P,F){var D=w._binBE.ui8;return D[0]=P[F+1],D[1]=P[F+0],w._binBE.i16[0]},readInt:function(P,F){var D=w._binBE.ui8;return D[0]=P[F+3],D[1]=P[F+2],D[2]=P[F+1],D[3]=P[F+0],w._binBE.i32[0]},readUint:function(P,F){var D=w._binBE.ui8;return D[0]=P[F+3],D[1]=P[F+2],D[2]=P[F+1],D[3]=P[F+0],w._binBE.ui32[0]},readASCII:function(P,F,D){for(var $="",V=0;V<D;V++)$+=String.fromCharCode(P[F+V]);return $},readFloat:function(P,F){for(var D=w._binBE.ui8,$=0;$<4;$++)D[$]=P[F+3-$];return w._binBE.fl32[0]},readDouble:function(P,F){for(var D=w._binBE.ui8,$=0;$<8;$++)D[$]=P[F+7-$];return w._binBE.fl64[0]},writeUshort:function(P,F,D){P[F]=D>>8&255,P[F+1]=255&D},writeInt:function(P,F,D){var $=w._binBE.ui8;w._binBE.i32[0]=D,P[F+3]=$[0],P[F+2]=$[1],P[F+1]=$[2],P[F+0]=$[3]},writeUint:function(P,F,D){P[F]=D>>24&255,P[F+1]=D>>16&255,P[F+2]=D>>8&255,P[F+3]=255&D},writeASCII:function(P,F,D){for(var $=0;$<D.length;$++)P[F+$]=D.charCodeAt($)},writeDouble:function(P,F,D){w._binBE.fl64[0]=D;for(var $=0;$<8;$++)P[F+$]=w._binBE.ui8[7-$]}},w._binBE.ui8=new Uint8Array(8),w._binBE.i16=new Int16Array(w._binBE.ui8.buffer),w._binBE.i32=new Int32Array(w._binBE.ui8.buffer),w._binBE.ui32=new Uint32Array(w._binBE.ui8.buffer),w._binBE.fl32=new Float32Array(w._binBE.ui8.buffer),w._binBE.fl64=new Float64Array(w._binBE.ui8.buffer),w._binLE={nextZero:w._binBE.nextZero,readUshort:function(P,F){return P[F+1]<<8|P[F]},readShort:function(P,F){var D=w._binBE.ui8;return D[0]=P[F+0],D[1]=P[F+1],w._binBE.i16[0]},readInt:function(P,F){var D=w._binBE.ui8;return D[0]=P[F+0],D[1]=P[F+1],D[2]=P[F+2],D[3]=P[F+3],w._binBE.i32[0]},readUint:function(P,F){var D=w._binBE.ui8;return D[0]=P[F+0],D[1]=P[F+1],D[2]=P[F+2],D[3]=P[F+3],w._binBE.ui32[0]},readASCII:w._binBE.readASCII,readFloat:function(P,F){for(var D=w._binBE.ui8,$=0;$<4;$++)D[$]=P[F+$];return w._binBE.fl32[0]},readDouble:function(P,F){for(var D=w._binBE.ui8,$=0;$<8;$++)D[$]=P[F+$];return w._binBE.fl64[0]},writeUshort:function(P,F,D){P[F]=255&D,P[F+1]=D>>8&255},writeInt:function(P,F,D){var $=w._binBE.ui8;w._binBE.i32[0]=D,P[F+0]=$[0],P[F+1]=$[1],P[F+2]=$[2],P[F+3]=$[3]},writeUint:function(P,F,D){P[F]=D>>>0&255,P[F+1]=D>>>8&255,P[F+2]=D>>>16&255,P[F+3]=D>>>24&255},writeASCII:w._binBE.writeASCII},w._copyTile=function(P,F,D,$,V,j,G,W){for(var Z=Math.min(F,V-G),U=Math.min(D,j-W),Q=0;Q<U;Q++)for(var K=(W+Q)*V+G,te=Q*F,X=0;X<Z;X++)$[K+X]=P[te+X]},w.LosslessJpegDecode=function(){var P,F;function D(){return P[F++]}function $(){return P[F++]<<8|P[F++]}function V(J){for(var ee=D(),ie=[0,0,0,255],fe=[],se=0;se<16;se++)fe[se]=D();for(se=0;se<16;se++)for(var de=0;de<fe[se];de++)ie[j(ie,0,se+1,1)+3]=D();var le=new Uint8Array(256);for(J[ee]=[new Uint8Array(ie),le],se=0;se<256;se++){for(var ye=8,ae=se,ge=0;ie[ge+3]==255&&ye!=0;)ge=ie[ge+(ae>>--ye&1)];le[se]=ge}}function j(J,ee,ie,fe){if(J[ee+3]!=255)return 0;if(ie==0)return ee;for(var se=0;se<2;se++){J[ee+se]==0&&(J[ee+se]=J.length,J.push(0,0,fe,255));var de=j(J,J[ee+se],ie-1,fe+1);if(de!=0)return de}return 0}function G(J){for(var ee=J.b,ie=J.f;ee<25&&J.a<J.d;){var fe=J.data[J.a++];fe!=255||J.c||J.a++,ie=ie<<8|fe,ee+=8}if(ee<0)throw"e";J.b=ee,J.f=ie}function W(J,ee){return ee.b<J&&G(ee),ee.f>>(ee.b-=J)&65535>>16-J}function Z(J,ee){var ie=J[0],fe=0,se=255;ee.b<16&&G(ee);var de=ee.f>>ee.b-8&255;for(se=ie[(fe=J[1][de])+3],ee.b-=ie[fe+2];se==255;)se=ie[(fe=ie[fe+(ee.f>>--ee.b&1)])+3];return se}function U(J,ee){return J<32768>>16-ee&&(J+=1-(1<<ee)),J}function Q(J,ee){var ie=Z(J,ee);return ie==0?0:ie==16?-32768:U(W(ie,ee),ie)}function K(J,ee,ie,fe,se,de){for(var le=0,ye=0;ye<de;ye++){for(var ae=ye*ee,ge=0;ge<ee;ge+=se){le++;for(var Pe=0;Pe<se;Pe++)J[ae+ge+Pe]=Q(fe[Pe],ie)}if(ie.e!=0&&le%ie.e==0&&ye!=0){for(var be=ie.a,Ee=ie.data;Ee[be]!=255||!(208<=Ee[be+1]&&Ee[be+1]<=215);)be--;ie.a=be+2,ie.f=0,ie.b=0}}}function te(J,ee){return U(W(J,ee),J)}function X(J,ee,ie,fe,se,de,le,ye){for(var ae=ie*le,ge=se;ge<de;ge++)J[ge]+=1<<ye-1;for(var Pe=le;Pe<ae;Pe+=le)for(ge=se;ge<de;ge++)J[Pe+ge]+=J[Pe+ge-le];for(var be=1;be<fe;be++){var Ee=be*ae;for(ge=se;ge<de;ge++)J[Ee+ge]+=J[Ee+ge-ae];for(Pe=le;Pe<ae;Pe+=le)for(ge=se;ge<de;ge++){var ve=Ee+Pe+ge,Re=ve-ae,Oe=J[ve-le],Ae=0;if(ee==0)Ae=0;else if(ee==1)Ae=Oe;else if(ee==2)Ae=J[Re];else if(ee==3)Ae=J[Re-le];else if(ee==4)Ae=Oe+(J[Re]-J[Re-le]);else if(ee==5)Ae=Oe+(J[Re]-J[Re-le]>>>1);else if(ee==6)Ae=J[Re]+(Oe-J[Re-le]>>>1);else{if(ee!=7)throw ee;Ae=Oe+J[Re]>>>1}J[ve]+=Ae}}}return function(J){if(P=J,F=0,$()!=65496)throw"e";for(var ee=[],ie=0,fe=0,se=0,de=[],le=[],ye=[],ae=0,ge=0,Pe=0;;){var be=$();if(be!=65535){var Ee=$();if(be==65475){fe=D(),ge=$(),Pe=$(),ae=D();for(var ve=0;ve<ae;ve++){var Re=D(),Oe=D();if(D()!=0)throw"e";ee[Re]=[ve,Oe>>4,15&Oe]}}else if(be==65476)for(var Ae=F+Ee-2;F<Ae;)V(le);else{if(be==65498){for(F++,ve=0;ve<ae;ve++){var He=ee[D()];ye[He[0]]=le[D()>>>4],de[He[0]]=He.slice(1)}ie=D(),F+=2;break}be==65501?se=$():F+=Ee-2}}else F--}var Me=new(fe>8?Uint16Array:Uint8Array)(ge*Pe*ae),je={b:0,f:0,c:ie==8,a:F,data:P,d:P.length,e:se};if(je.c)(function(Ze,Xe,nt,lt,ot){for(var dt=P.length-F,ut=0;ut<dt;ut+=4){var we=P[F+ut];P[F+ut]=P[F+ut+3],P[F+ut+3]=we,we=P[F+ut+1],P[F+ut+1]=P[F+ut+2],P[F+ut+2]=we}for(var et=0;et<ot;et++)for(var rt=32768,at=32768,H=0;H<Xe;H+=2){var q=Z(lt,nt),pe=Z(lt,nt);q!=0&&(rt+=te(q,nt)),pe!=0&&(at+=te(pe,nt)),Ze[et*Xe+H]=65535&rt,Ze[et*Xe+H+1]=65535&at}})(Me,Pe*ae,je,ye[0],ge);else{var Ne=[],We=0,Ve=0;for(ve=0;ve<ae;ve++){var ze=de[ve];(Te=ze[0])>We&&(We=Te),(_e=ze[1])>Ve&&(Ve=_e),Ne.push(Te*_e)}if(We!=1||Ve!=1){if(ae!=3||Ne[1]!=1||Ne[2]!=1||We!=2||Ve!=1&&Ve!=2)throw"e";var Le=[],Qe=0;for(ve=0;ve<ae;ve++){for(var Ke=0;Ke<Ne[ve];Ke++)Le.push(ye[ve]);Qe+=Ne[ve]}var Fe=Pe/We,ce=ge/Ve,$e=Fe*ce;K(Me,Fe*Qe,je,Le,Qe,ce),X(Me,ie,Fe,ce,Qe-2,Qe,Qe,fe);var oe=new Uint16Array($e*Ne[0]);if(We==2&&Ve==2){for(ve=0;ve<$e;ve++)oe[4*ve]=Me[6*ve],oe[4*ve+1]=Me[6*ve+1],oe[4*ve+2]=Me[6*ve+2],oe[4*ve+3]=Me[6*ve+3];for(X(oe,ie,4*Fe,ce,0,1,1,fe),ve=0;ve<$e;ve++)Me[6*ve]=oe[4*ve],Me[6*ve+1]=oe[4*ve+1],Me[6*ve+2]=oe[4*ve+2],Me[6*ve+3]=oe[4*ve+3]}if(We==2&&Ve==1){for(ve=0;ve<$e;ve++)oe[2*ve]=Me[4*ve],oe[2*ve+1]=Me[4*ve+1];for(X(oe,ie,2*Fe,ce,0,1,1,fe),ve=0;ve<$e;ve++)Me[4*ve]=oe[2*ve],Me[4*ve+1]=oe[2*ve+1]}for(var ue=Me.slice(0),_e=0;_e<ge;_e++)if(Ve==2)for(var Te=0;Te<Pe;Te++){var Be=((_e>>>1)*Fe+(Te>>>1))*Qe,re=2*(1&_e)+(1&Te);Me[me=(_e*Pe+Te)*ae]=ue[Be+re],Me[me+1]=ue[Be+4],Me[me+2]=ue[Be+5]}else for(Te=0;Te<Pe;Te++){var me;Be=(_e*Fe+(Te>>>1))*Qe,re=1&Te,Me[me=(_e*Pe+Te)*ae]=ue[Be+re],Me[me+1]=ue[Be+2],Me[me+2]=ue[Be+3]}}else if(K(Me,Pe*ae,je,ye,ae,ge),se==0)X(Me,ie,Pe,ge,0,ae,ae,fe);else{var Ie=Math.floor(se/Pe);for(_e=0;_e<ge;_e+=Ie){var xe=Me.slice(_e*Pe*ae,(_e+Ie)*Pe*ae);X(xe,ie,Pe,Ie,0,ae,ae,fe),Me.set(xe,_e*Pe*ae)}}}return Me}}(),function(){var P=2,F=4,D=5,$=6,V=7,j=12,G=13,W=14,Z=15,U=17;function Q(de){var le={c:new Int8Array(2<<de.u)};return function(ye,ae,ge){var Pe=[ae,3*ae+18,5*ae+67,7*ae+276,ge];ye.o=ae,ye.w=(Pe[4]+2*ae)/(2*ae+1)+1|0,ye.v=Math.ceil(Math.log2(ye.w)),ye.t=9,function(be,Ee){for(var ve=-Ee[4],Re=0;ve<=Ee[4];Re++,ve++)be[Re]=ve<=-Ee[3]?-4:ve<=-Ee[2]?-3:ve<=-Ee[1]?-2:ve<-Ee[0]?-1:ve<=Ee[0]?0:ve<Ee[1]?1:ve<Ee[2]?2:ve<Ee[3]?3:4}(ye.c,Pe)}(le,0,de.g),le}function K(de){for(var le=[[],[],[]],ye=Math.max(2,de.w+32>>>6),ae=0;ae<3;ae++)for(var ge=0;ge<41;ge++)le[ae][ge]=[ye,1];return le}function te(de,le){var ye=0,ae=8-de.a;if(de.j,de.a,le){if(le>=ae)do ye<<=ae,le-=ae,ye|=de[de.j]&(1<<ae)-1,de.j++,ae=8;while(le>=8);le&&(ye<<=le,ae-=le,ye|=de[de.j]>>>ae&(1<<le)-1),de.a=8-ae}return ye}function X(de,le,ye,ae,ge,Pe,be,Ee){Ee==null&&(Ee=0);var ve,Re,Oe,Ae,He,Me,je=Pe+1,Ne=je%2,We=0,Ve=ae[ge],ze=ae[ge-1],Le=ae[ge-2][je],Qe=ze[je-1],Ke=ze[je],Fe=ze[je+1],ce=Ve[je-1],$e=Ve[je+1],oe=Math.abs;if(Ne&&(Oe=oe(Fe-Ke),Ae=oe(Le-Ke),He=oe(Qe-Ke)),Ne){if(Me=(Me=Oe>He&&Ae<Oe?Le+Qe:Oe<He&&Ae<He?Le+Fe:Fe+Qe)+2*Ke>>>2,Ee)return void(Ve[je]=Me);ve=le.t*le.c[de.g+Ke-Le]+le.c[de.g+Qe-Ke]}else Me=Ke>Qe&&Ke>Fe||Ke<Qe&&Ke<Fe?$e+ce+2*Ke>>>2:ce+$e>>>1,ve=le.t*le.c[de.g+Ke-Qe]+le.c[de.g+Qe-ce];Re=oe(ve);var ue=function(Te){for(var Be=-1,re=0;!re;Be++)re=Te[Te.j]>>>7-Te.a&1,Te.a++,Te.a&=7,Te.a||Te.j++;return Be}(ye);if(ue<de.n-le.v-1){var _e=function(Te,Be){var re=0;if(Be<Te)for(;re<=14&&Be<<++re<Te;);return re}(be[Re][0],be[Re][1]);We=te(ye,_e)+(ue<<_e)}else We=te(ye,le.v)+1;We=1&We?-1-(We>>>1):We>>>1,be[Re][0]+=oe(We),be[Re][1]==de.f&&(be[Re][0]>>>=1,be[Re][1]>>>=1),be[Re][1]++,Me=ve<0?Me-We:Me+We,de.i&&(Me<0?Me+=le.w:Me>de.g&&(Me-=le.w)),Ve[je]=Me>=0?Math.min(Me,de.g):0}function J(de,le,ye){for(var ae=de[0].length,ge=le;ge<=ye;ge++)de[ge][0]=de[ge-1][1],de[ge][ae-1]=de[ge-1][ae-2]}function ee(de){J(de,V,j),J(de,P,F),J(de,Z,U)}function ie(de,le,ye,ae,ge,Pe,be,Ee,ve,Re,Oe,Ae,He){for(var Me=0,je=1,Ne=ge<G&&ge>F;je<de.m;)Me<de.m&&(X(de,le,ye,ae,ge,Me,be[ve],de.h&&(Ne&&Re||!Ne&&(Oe||(Me&Ae)==He))),X(de,le,ye,ae,Pe,Me,be[ve],de.h&&(!Ne&&Re||Ne&&(Oe||(Me&Ae)==He))),Me+=2),Me>8&&(X(de,le,ye,ae,ge,je,Ee[ve]),X(de,le,ye,ae,Pe,je,Ee[ve]),je+=2);ee(ae)}function fe(de,le,ye,ae,ge,Pe){ie(de,le,ye,ae,P,V,ge,Pe,0,0,1,0,8),ie(de,le,ye,ae,8,Z,ge,Pe,1,0,1,0,8),ie(de,le,ye,ae,3,9,ge,Pe,2,1,0,3,0),ie(de,le,ye,ae,10,16,ge,Pe,0,0,0,3,2),ie(de,le,ye,ae,F,11,ge,Pe,1,0,0,3,2),ie(de,le,ye,ae,j,U,ge,Pe,2,1,0,3,0)}function se(de,le,ye,ae,ge,Pe){var be=Pe.length,Ee=de.l;ge+1==de.s&&(Ee=de.e-ge*de.l);for(var ve=6*de.e*ae+ge*de.l,Re=0;Re<6;Re++){for(var Oe=0;Oe<Ee;Oe++){var Ae,He=Pe[Re%be][Oe%be];Ae=He==0?P+(Re>>>1):He==2?Z+(Re>>>1):V+Re;var Me=de.h?(2*Oe/3&2147483646|Oe%3&1)+(Oe%3>>>1):Oe>>>1;le[ve+Oe]=ye[Ae][Me+1]}ve+=de.e}}w._decompressRAF=function(de,le){var ye=function(je){var Ne=w._binBE.readUshort,We={b:Ne(je,0),i:je[2],C:je[3],u:je[4],q:Ne(je,5),k:Ne(je,7),e:Ne(je,9),l:Ne(je,11),s:je[13],d:Ne(je,14)};if(We.b!=18771||We.i>1||We.q<6||We.q%6||We.e<768||We.e%24||We.l!=768||We.k<We.l||We.k%We.l||We.k-We.e>=We.l||We.s>16||We.s!=We.k/We.l||We.s!=Math.ceil(We.e/We.l)||We.d!=We.q/6||We.u!=12&&We.u!=14&&We.u!=16||We.C!=16&&We.C!=0)throw"Invalid data";if(We.i==0)throw"Not implemented. We need this file!";return We.h=We.C==16,We.m=0|(We.h?2*We.l/3:We.l>>>1),We.A=We.m+2,We.f=64,We.g=(1<<We.u)-1,We.n=4*We.u,We}(de),ae=function(je,Ne){var We=new Array(Ne.s),Ve=4*Ne.s,ze=16+Ve;12&Ve&&(ze+=16-(12&Ve));for(var Le=0,Qe=16;Le<Ne.s;Qe+=4){var Ke=w._binBE.readUint(je,Qe);We[Le]=je.slice(ze,ze+Ke),We[Le].j=0,We[Le].a=0,ze+=Ke,Le++}if(ze!=je.length)throw"Invalid data";return We}(de,ye),ge=Q(ye),Pe=new Int16Array(ye.e*ye.q);le==null&&(le=ye.h?[[1,1,0,1,1,2],[1,1,2,1,1,0],[2,0,1,0,2,1],[1,1,2,1,1,0],[1,1,0,1,1,2],[0,2,1,2,0,1]]:[[0,1],[3,2]]);for(var be=[[0,3],[1,F],[D,11],[$,j],[G,16],[W,U]],Ee=[],ve=0;ve<18;ve++)Ee[ve]=new Uint16Array(ye.A);for(var Re=0;Re<ye.s;Re++){var Oe=K(ge),Ae=K(ge);for(ve=0;ve<18;ve++)for(var He=0;He<ye.A;He++)Ee[ve][He]=0;for(var Me=0;Me<ye.d;Me++){for(fe(ye,ge,ae[Re],Ee,Oe,Ae),ve=0;ve<6;ve++)for(He=0;He<ye.A;He++)Ee[be[ve][0]][He]=Ee[be[ve][1]][He];for(se(ye,Pe,Ee,Me,Re,le),ve=P;ve<18;ve++)if([D,$,G,W].indexOf(ve)==-1)for(He=0;He<ye.A;He++)Ee[ve][He]=0;ee(Ee)}}return Pe}}()}(m,typeof commonjsRequire=="function"?requirePako():self.pako)})()})(UTIF);var UTIFExports=UTIF.exports,utif=getDefaultExportFromCjs(UTIFExports),util$1,objectUtil;function getDimensionValue(d){return typeof d=="number"?d:d instanceof Uint8Array?d[0]:typeof d[0]=="string"?parseInt(d[0]):d[0]}function tiff(){return{mime:"image/tiff",encode:d=>{const m=utif.encodeImage(d.data,d.width,d.height);return Buffer.from(m)},decode:d=>{const m=utif.decode(d),g=m[0];if(!g)throw new Error("No page found in TIFF");if(!g.t256)throw new Error("No image width found in TIFF");if(!g.t257)throw new Error("No image height found in TIFF");m.forEach(I=>{utif.decodeImage(d,I)});const w=utif.toRGBA8(g);return{data:Buffer.from(w),width:getDimensionValue(g.t256),height:getDimensionValue(g.t257)}}}}(function(d){d.assertEqual=m=>m,d.assertIs=function(m){},d.assertNever=function(m){throw new Error},d.arrayToEnum=m=>{const g={};for(const w of m)g[w]=w;return g},d.getValidEnumValues=m=>{const g=d.objectKeys(m).filter(I=>typeof m[m[I]]!="number"),w={};for(const I of g)w[I]=m[I];return d.objectValues(w)},d.objectValues=m=>d.objectKeys(m).map(function(g){return m[g]}),d.objectKeys=typeof Object.keys=="function"?m=>Object.keys(m):m=>{const g=[];for(const w in m)Object.prototype.hasOwnProperty.call(m,w)&&g.push(w);return g},d.find=(m,g)=>{for(const w of m)if(g(w))return w},d.isInteger=typeof Number.isInteger=="function"?m=>Number.isInteger(m):m=>typeof m=="number"&&isFinite(m)&&Math.floor(m)===m,d.joinValues=function(m,g=" | "){return m.map(w=>typeof w=="string"?`'${w}'`:w).join(g)},d.jsonStringifyReplacer=(m,g)=>typeof g=="bigint"?g.toString():g})(util$1||(util$1={})),function(d){d.mergeShapes=(m,g)=>({...m,...g})}(objectUtil||(objectUtil={}));const ZodParsedType=util$1.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=d=>{switch(typeof d){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(d)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(d)?ZodParsedType.array:d===null?ZodParsedType.null:d.then&&typeof d.then=="function"&&d.catch&&typeof d.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&d instanceof Map?ZodParsedType.map:typeof Set<"u"&&d instanceof Set?ZodParsedType.set:typeof Date<"u"&&d instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util$1.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=d=>JSON.stringify(d,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{constructor(m){super(),this.issues=[],this.addIssue=w=>{this.issues=[...this.issues,w]},this.addIssues=(w=[])=>{this.issues=[...this.issues,...w]};const g=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,g):this.__proto__=g,this.name="ZodError",this.issues=m}get errors(){return this.issues}format(m){const g=m||function(P){return P.message},w={_errors:[]},I=P=>{for(const F of P.issues)if(F.code==="invalid_union")F.unionErrors.map(I);else if(F.code==="invalid_return_type")I(F.returnTypeError);else if(F.code==="invalid_arguments")I(F.argumentsError);else if(F.path.length===0)w._errors.push(g(F));else{let D=w,$=0;for(;$<F.path.length;){const V=F.path[$];$===F.path.length-1?(D[V]=D[V]||{_errors:[]},D[V]._errors.push(g(F))):D[V]=D[V]||{_errors:[]},D=D[V],$++}}};return I(this),w}static assert(m){if(!(m instanceof ZodError))throw new Error(`Not a ZodError: ${m}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,util$1.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(m=g=>g.message){const g={},w=[];for(const I of this.issues)I.path.length>0?(g[I.path[0]]=g[I.path[0]]||[],g[I.path[0]].push(m(I))):w.push(m(I));return{formErrors:w,fieldErrors:g}}get formErrors(){return this.flatten()}}ZodError.create=d=>new ZodError(d);const errorMap=(d,m)=>{let g;switch(d.code){case ZodIssueCode.invalid_type:g=d.received===ZodParsedType.undefined?"Required":`Expected ${d.expected}, received ${d.received}`;break;case ZodIssueCode.invalid_literal:g=`Invalid literal value, expected ${JSON.stringify(d.expected,util$1.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:g=`Unrecognized key(s) in object: ${util$1.joinValues(d.keys,", ")}`;break;case ZodIssueCode.invalid_union:g="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:g=`Invalid discriminator value. Expected ${util$1.joinValues(d.options)}`;break;case ZodIssueCode.invalid_enum_value:g=`Invalid enum value. Expected ${util$1.joinValues(d.options)}, received '${d.received}'`;break;case ZodIssueCode.invalid_arguments:g="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:g="Invalid function return type";break;case ZodIssueCode.invalid_date:g="Invalid date";break;case ZodIssueCode.invalid_string:typeof d.validation=="object"?"includes"in d.validation?(g=`Invalid input: must include "${d.validation.includes}"`,typeof d.validation.position=="number"&&(g=`${g} at one or more positions greater than or equal to ${d.validation.position}`)):"startsWith"in d.validation?g=`Invalid input: must start with "${d.validation.startsWith}"`:"endsWith"in d.validation?g=`Invalid input: must end with "${d.validation.endsWith}"`:util$1.assertNever(d.validation):g=d.validation!=="regex"?`Invalid ${d.validation}`:"Invalid";break;case ZodIssueCode.too_small:g=d.type==="array"?`Array must contain ${d.exact?"exactly":d.inclusive?"at least":"more than"} ${d.minimum} element(s)`:d.type==="string"?`String must contain ${d.exact?"exactly":d.inclusive?"at least":"over"} ${d.minimum} character(s)`:d.type==="number"?`Number must be ${d.exact?"exactly equal to ":d.inclusive?"greater than or equal to ":"greater than "}${d.minimum}`:d.type==="date"?`Date must be ${d.exact?"exactly equal to ":d.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(d.minimum))}`:"Invalid input";break;case ZodIssueCode.too_big:g=d.type==="array"?`Array must contain ${d.exact?"exactly":d.inclusive?"at most":"less than"} ${d.maximum} element(s)`:d.type==="string"?`String must contain ${d.exact?"exactly":d.inclusive?"at most":"under"} ${d.maximum} character(s)`:d.type==="number"?`Number must be ${d.exact?"exactly":d.inclusive?"less than or equal to":"less than"} ${d.maximum}`:d.type==="bigint"?`BigInt must be ${d.exact?"exactly":d.inclusive?"less than or equal to":"less than"} ${d.maximum}`:d.type==="date"?`Date must be ${d.exact?"exactly":d.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(d.maximum))}`:"Invalid input";break;case ZodIssueCode.custom:g="Invalid input";break;case ZodIssueCode.invalid_intersection_types:g="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:g=`Number must be a multiple of ${d.multipleOf}`;break;case ZodIssueCode.not_finite:g="Number must be finite";break;default:g=m.defaultError,util$1.assertNever(d)}return{message:g}};let overrideErrorMap=errorMap;function setErrorMap(d){overrideErrorMap=d}function getErrorMap(){return overrideErrorMap}const makeIssue=d=>{const{data:m,path:g,errorMaps:w,issueData:I}=d,P=[...g,...I.path||[]],F={...I,path:P};if(I.message!==void 0)return{...I,path:P,message:I.message};let D="";const $=w.filter(V=>!!V).slice().reverse();for(const V of $)D=V(F,{data:m,defaultError:D}).message;return{...I,path:P,message:D}},EMPTY_PATH=[];function addIssueToContext(d,m){const g=getErrorMap(),w=makeIssue({issueData:m,data:d.data,path:d.path,errorMaps:[d.common.contextualErrorMap,d.schemaErrorMap,g,g===errorMap?void 0:errorMap].filter(I=>!!I)});d.common.issues.push(w)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(m,g){const w=[];for(const I of g){if(I.status==="aborted")return INVALID;I.status==="dirty"&&m.dirty(),w.push(I.value)}return{status:m.value,value:w}}static async mergeObjectAsync(m,g){const w=[];for(const I of g){const P=await I.key,F=await I.value;w.push({key:P,value:F})}return ParseStatus.mergeObjectSync(m,w)}static mergeObjectSync(m,g){const w={};for(const I of g){const{key:P,value:F}=I;if(P.status==="aborted"||F.status==="aborted")return INVALID;P.status==="dirty"&&m.dirty(),F.status==="dirty"&&m.dirty(),P.value==="__proto__"||F.value===void 0&&!I.alwaysSet||(w[P.value]=F.value)}return{status:m.value,value:w}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=d=>({status:"dirty",value:d}),OK=d=>({status:"valid",value:d}),isAborted=d=>d.status==="aborted",isDirty=d=>d.status==="dirty",isValid=d=>d.status==="valid",isAsync$1=d=>typeof Promise<"u"&&d instanceof Promise;function __classPrivateFieldGet(d,m,g,w){if(typeof m=="function"?d!==m||!w:!m.has(d))throw new TypeError("Cannot read private member from an object whose class did not declare it");return m.get(d)}function __classPrivateFieldSet(d,m,g,w,I){if(typeof m=="function"?d!==m||!I:!m.has(d))throw new TypeError("Cannot write private member to an object whose class did not declare it");return m.set(d,g),g}var errorUtil,_ZodEnum_cache,_ZodNativeEnum_cache;typeof SuppressedError=="function"&&SuppressedError,function(d){d.errToObj=m=>typeof m=="string"?{message:m}:m||{},d.toString=m=>typeof m=="string"?m:m==null?void 0:m.message}(errorUtil||(errorUtil={}));class ParseInputLazyPath{constructor(m,g,w,I){this._cachedPath=[],this.parent=m,this.data=g,this._path=w,this._key=I}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(d,m)=>{if(isValid(m))return{success:!0,data:m.value};if(!d.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const g=new ZodError(d.common.issues);return this._error=g,this._error}}};function processCreateParams(d){if(!d)return{};const{errorMap:m,invalid_type_error:g,required_error:w,description:I}=d;if(m&&(g||w))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return m?{errorMap:m,description:I}:{errorMap:(P,F)=>{var D,$;const{message:V}=d;return P.code==="invalid_enum_value"?{message:V??F.defaultError}:F.data===void 0?{message:(D=V??w)!==null&&D!==void 0?D:F.defaultError}:P.code!=="invalid_type"?{message:F.defaultError}:{message:($=V??g)!==null&&$!==void 0?$:F.defaultError}},description:I}}class ZodType{constructor(m){this.spa=this.safeParseAsync,this._def=m,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(m){return getParsedType(m.data)}_getOrReturnCtx(m,g){return g||{common:m.parent.common,data:m.data,parsedType:getParsedType(m.data),schemaErrorMap:this._def.errorMap,path:m.path,parent:m.parent}}_processInputParams(m){return{status:new ParseStatus,ctx:{common:m.parent.common,data:m.data,parsedType:getParsedType(m.data),schemaErrorMap:this._def.errorMap,path:m.path,parent:m.parent}}}_parseSync(m){const g=this._parse(m);if(isAsync$1(g))throw new Error("Synchronous parse encountered promise.");return g}_parseAsync(m){const g=this._parse(m);return Promise.resolve(g)}parse(m,g){const w=this.safeParse(m,g);if(w.success)return w.data;throw w.error}safeParse(m,g){var w;const I={common:{issues:[],async:(w=g==null?void 0:g.async)!==null&&w!==void 0&&w,contextualErrorMap:g==null?void 0:g.errorMap},path:(g==null?void 0:g.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:m,parsedType:getParsedType(m)},P=this._parseSync({data:m,path:I.path,parent:I});return handleResult(I,P)}async parseAsync(m,g){const w=await this.safeParseAsync(m,g);if(w.success)return w.data;throw w.error}async safeParseAsync(m,g){const w={common:{issues:[],contextualErrorMap:g==null?void 0:g.errorMap,async:!0},path:(g==null?void 0:g.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:m,parsedType:getParsedType(m)},I=this._parse({data:m,path:w.path,parent:w}),P=await(isAsync$1(I)?I:Promise.resolve(I));return handleResult(w,P)}refine(m,g){const w=I=>typeof g=="string"||g===void 0?{message:g}:typeof g=="function"?g(I):g;return this._refinement((I,P)=>{const F=m(I),D=()=>P.addIssue({code:ZodIssueCode.custom,...w(I)});return typeof Promise<"u"&&F instanceof Promise?F.then($=>!!$||(D(),!1)):!!F||(D(),!1)})}refinement(m,g){return this._refinement((w,I)=>!!m(w)||(I.addIssue(typeof g=="function"?g(w,I):g),!1))}_refinement(m){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:m}})}superRefine(m){return this._refinement(m)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(m){return ZodUnion.create([this,m],this._def)}and(m){return ZodIntersection.create(this,m,this._def)}transform(m){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:m}})}default(m){const g=typeof m=="function"?m:()=>m;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:g,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(m){const g=typeof m=="function"?m:()=>m;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:g,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(m){return new this.constructor({...this._def,description:m})}pipe(m){return ZodPipeline.create(this,m)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[0-9a-z]+$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nanoidRegex=/^[a-z0-9_-]{21}$/i,durationRegex=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_emojiRegex="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let emojiRegex;const ipv4Regex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6Regex=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,base64Regex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dateRegexSource="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dateRegex=new RegExp(`^${dateRegexSource}$`);function timeRegexSource(d){let m="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return d.precision?m=`${m}\\.\\d{${d.precision}}`:d.precision==null&&(m=`${m}(\\.\\d+)?`),m}function timeRegex(d){return new RegExp(`^${timeRegexSource(d)}$`)}function datetimeRegex(d){let m=`${dateRegexSource}T${timeRegexSource(d)}`;const g=[];return g.push(d.local?"Z?":"Z"),d.offset&&g.push("([+-]\\d{2}:?\\d{2})"),m=`${m}(${g.join("|")})`,new RegExp(`^${m}$`)}function isValidIP(d,m){return!(m!=="v4"&&m||!ipv4Regex.test(d))||!(m!=="v6"&&m||!ipv6Regex.test(d))}class ZodString extends ZodType{_parse(m){if(this._def.coerce&&(m.data=String(m.data)),this._getType(m)!==ZodParsedType.string){const I=this._getOrReturnCtx(m);return addIssueToContext(I,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:I.parsedType}),INVALID}const g=new ParseStatus;let w;for(const I of this._def.checks)if(I.kind==="min")m.data.length<I.value&&(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.too_small,minimum:I.value,type:"string",inclusive:!0,exact:!1,message:I.message}),g.dirty());else if(I.kind==="max")m.data.length>I.value&&(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.too_big,maximum:I.value,type:"string",inclusive:!0,exact:!1,message:I.message}),g.dirty());else if(I.kind==="length"){const P=m.data.length>I.value,F=m.data.length<I.value;(P||F)&&(w=this._getOrReturnCtx(m,w),P?addIssueToContext(w,{code:ZodIssueCode.too_big,maximum:I.value,type:"string",inclusive:!0,exact:!0,message:I.message}):F&&addIssueToContext(w,{code:ZodIssueCode.too_small,minimum:I.value,type:"string",inclusive:!0,exact:!0,message:I.message}),g.dirty())}else if(I.kind==="email")emailRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"email",code:ZodIssueCode.invalid_string,message:I.message}),g.dirty());else if(I.kind==="emoji")emojiRegex||(emojiRegex=new RegExp(_emojiRegex,"u")),emojiRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"emoji",code:ZodIssueCode.invalid_string,message:I.message}),g.dirty());else if(I.kind==="uuid")uuidRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"uuid",code:ZodIssueCode.invalid_string,message:I.message}),g.dirty());else if(I.kind==="nanoid")nanoidRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"nanoid",code:ZodIssueCode.invalid_string,message:I.message}),g.dirty());else if(I.kind==="cuid")cuidRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"cuid",code:ZodIssueCode.invalid_string,message:I.message}),g.dirty());else if(I.kind==="cuid2")cuid2Regex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:I.message}),g.dirty());else if(I.kind==="ulid")ulidRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"ulid",code:ZodIssueCode.invalid_string,message:I.message}),g.dirty());else if(I.kind==="url")try{new URL(m.data)}catch{w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"url",code:ZodIssueCode.invalid_string,message:I.message}),g.dirty()}else I.kind==="regex"?(I.regex.lastIndex=0,I.regex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"regex",code:ZodIssueCode.invalid_string,message:I.message}),g.dirty())):I.kind==="trim"?m.data=m.data.trim():I.kind==="includes"?m.data.includes(I.value,I.position)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:{includes:I.value,position:I.position},message:I.message}),g.dirty()):I.kind==="toLowerCase"?m.data=m.data.toLowerCase():I.kind==="toUpperCase"?m.data=m.data.toUpperCase():I.kind==="startsWith"?m.data.startsWith(I.value)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:{startsWith:I.value},message:I.message}),g.dirty()):I.kind==="endsWith"?m.data.endsWith(I.value)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:{endsWith:I.value},message:I.message}),g.dirty()):I.kind==="datetime"?datetimeRegex(I).test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:"datetime",message:I.message}),g.dirty()):I.kind==="date"?dateRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:"date",message:I.message}),g.dirty()):I.kind==="time"?timeRegex(I).test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:"time",message:I.message}),g.dirty()):I.kind==="duration"?durationRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"duration",code:ZodIssueCode.invalid_string,message:I.message}),g.dirty()):I.kind==="ip"?isValidIP(m.data,I.version)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"ip",code:ZodIssueCode.invalid_string,message:I.message}),g.dirty()):I.kind==="base64"?base64Regex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"base64",code:ZodIssueCode.invalid_string,message:I.message}),g.dirty()):util$1.assertNever(I);return{status:g.value,value:m.data}}_regex(m,g,w){return this.refinement(I=>m.test(I),{validation:g,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(w)})}_addCheck(m){return new ZodString({...this._def,checks:[...this._def.checks,m]})}email(m){return this._addCheck({kind:"email",...errorUtil.errToObj(m)})}url(m){return this._addCheck({kind:"url",...errorUtil.errToObj(m)})}emoji(m){return this._addCheck({kind:"emoji",...errorUtil.errToObj(m)})}uuid(m){return this._addCheck({kind:"uuid",...errorUtil.errToObj(m)})}nanoid(m){return this._addCheck({kind:"nanoid",...errorUtil.errToObj(m)})}cuid(m){return this._addCheck({kind:"cuid",...errorUtil.errToObj(m)})}cuid2(m){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(m)})}ulid(m){return this._addCheck({kind:"ulid",...errorUtil.errToObj(m)})}base64(m){return this._addCheck({kind:"base64",...errorUtil.errToObj(m)})}ip(m){return this._addCheck({kind:"ip",...errorUtil.errToObj(m)})}datetime(m){var g,w;return typeof m=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:m}):this._addCheck({kind:"datetime",precision:(m==null?void 0:m.precision)===void 0?null:m==null?void 0:m.precision,offset:(g=m==null?void 0:m.offset)!==null&&g!==void 0&&g,local:(w=m==null?void 0:m.local)!==null&&w!==void 0&&w,...errorUtil.errToObj(m==null?void 0:m.message)})}date(m){return this._addCheck({kind:"date",message:m})}time(m){return typeof m=="string"?this._addCheck({kind:"time",precision:null,message:m}):this._addCheck({kind:"time",precision:(m==null?void 0:m.precision)===void 0?null:m==null?void 0:m.precision,...errorUtil.errToObj(m==null?void 0:m.message)})}duration(m){return this._addCheck({kind:"duration",...errorUtil.errToObj(m)})}regex(m,g){return this._addCheck({kind:"regex",regex:m,...errorUtil.errToObj(g)})}includes(m,g){return this._addCheck({kind:"includes",value:m,position:g==null?void 0:g.position,...errorUtil.errToObj(g==null?void 0:g.message)})}startsWith(m,g){return this._addCheck({kind:"startsWith",value:m,...errorUtil.errToObj(g)})}endsWith(m,g){return this._addCheck({kind:"endsWith",value:m,...errorUtil.errToObj(g)})}min(m,g){return this._addCheck({kind:"min",value:m,...errorUtil.errToObj(g)})}max(m,g){return this._addCheck({kind:"max",value:m,...errorUtil.errToObj(g)})}length(m,g){return this._addCheck({kind:"length",value:m,...errorUtil.errToObj(g)})}nonempty(m){return this.min(1,errorUtil.errToObj(m))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(m=>m.kind==="datetime")}get isDate(){return!!this._def.checks.find(m=>m.kind==="date")}get isTime(){return!!this._def.checks.find(m=>m.kind==="time")}get isDuration(){return!!this._def.checks.find(m=>m.kind==="duration")}get isEmail(){return!!this._def.checks.find(m=>m.kind==="email")}get isURL(){return!!this._def.checks.find(m=>m.kind==="url")}get isEmoji(){return!!this._def.checks.find(m=>m.kind==="emoji")}get isUUID(){return!!this._def.checks.find(m=>m.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(m=>m.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(m=>m.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(m=>m.kind==="cuid2")}get isULID(){return!!this._def.checks.find(m=>m.kind==="ulid")}get isIP(){return!!this._def.checks.find(m=>m.kind==="ip")}get isBase64(){return!!this._def.checks.find(m=>m.kind==="base64")}get minLength(){let m=null;for(const g of this._def.checks)g.kind==="min"&&(m===null||g.value>m)&&(m=g.value);return m}get maxLength(){let m=null;for(const g of this._def.checks)g.kind==="max"&&(m===null||g.value<m)&&(m=g.value);return m}}function floatSafeRemainder(d,m){const g=(d.toString().split(".")[1]||"").length,w=(m.toString().split(".")[1]||"").length,I=g>w?g:w;return parseInt(d.toFixed(I).replace(".",""))%parseInt(m.toFixed(I).replace(".",""))/Math.pow(10,I)}ZodString.create=d=>{var m;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(m=d==null?void 0:d.coerce)!==null&&m!==void 0&&m,...processCreateParams(d)})};class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(m){if(this._def.coerce&&(m.data=Number(m.data)),this._getType(m)!==ZodParsedType.number){const I=this._getOrReturnCtx(m);return addIssueToContext(I,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:I.parsedType}),INVALID}let g;const w=new ParseStatus;for(const I of this._def.checks)I.kind==="int"?util$1.isInteger(m.data)||(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:I.message}),w.dirty()):I.kind==="min"?(I.inclusive?m.data<I.value:m.data<=I.value)&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.too_small,minimum:I.value,type:"number",inclusive:I.inclusive,exact:!1,message:I.message}),w.dirty()):I.kind==="max"?(I.inclusive?m.data>I.value:m.data>=I.value)&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.too_big,maximum:I.value,type:"number",inclusive:I.inclusive,exact:!1,message:I.message}),w.dirty()):I.kind==="multipleOf"?floatSafeRemainder(m.data,I.value)!==0&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.not_multiple_of,multipleOf:I.value,message:I.message}),w.dirty()):I.kind==="finite"?Number.isFinite(m.data)||(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.not_finite,message:I.message}),w.dirty()):util$1.assertNever(I);return{status:w.value,value:m.data}}gte(m,g){return this.setLimit("min",m,!0,errorUtil.toString(g))}gt(m,g){return this.setLimit("min",m,!1,errorUtil.toString(g))}lte(m,g){return this.setLimit("max",m,!0,errorUtil.toString(g))}lt(m,g){return this.setLimit("max",m,!1,errorUtil.toString(g))}setLimit(m,g,w,I){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:m,value:g,inclusive:w,message:errorUtil.toString(I)}]})}_addCheck(m){return new ZodNumber({...this._def,checks:[...this._def.checks,m]})}int(m){return this._addCheck({kind:"int",message:errorUtil.toString(m)})}positive(m){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(m)})}negative(m){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(m)})}nonpositive(m){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(m)})}nonnegative(m){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(m)})}multipleOf(m,g){return this._addCheck({kind:"multipleOf",value:m,message:errorUtil.toString(g)})}finite(m){return this._addCheck({kind:"finite",message:errorUtil.toString(m)})}safe(m){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(m)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(m)})}get minValue(){let m=null;for(const g of this._def.checks)g.kind==="min"&&(m===null||g.value>m)&&(m=g.value);return m}get maxValue(){let m=null;for(const g of this._def.checks)g.kind==="max"&&(m===null||g.value<m)&&(m=g.value);return m}get isInt(){return!!this._def.checks.find(m=>m.kind==="int"||m.kind==="multipleOf"&&util$1.isInteger(m.value))}get isFinite(){let m=null,g=null;for(const w of this._def.checks){if(w.kind==="finite"||w.kind==="int"||w.kind==="multipleOf")return!0;w.kind==="min"?(g===null||w.value>g)&&(g=w.value):w.kind==="max"&&(m===null||w.value<m)&&(m=w.value)}return Number.isFinite(g)&&Number.isFinite(m)}}ZodNumber.create=d=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:(d==null?void 0:d.coerce)||!1,...processCreateParams(d)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(m){if(this._def.coerce&&(m.data=BigInt(m.data)),this._getType(m)!==ZodParsedType.bigint){const I=this._getOrReturnCtx(m);return addIssueToContext(I,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:I.parsedType}),INVALID}let g;const w=new ParseStatus;for(const I of this._def.checks)I.kind==="min"?(I.inclusive?m.data<I.value:m.data<=I.value)&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.too_small,type:"bigint",minimum:I.value,inclusive:I.inclusive,message:I.message}),w.dirty()):I.kind==="max"?(I.inclusive?m.data>I.value:m.data>=I.value)&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.too_big,type:"bigint",maximum:I.value,inclusive:I.inclusive,message:I.message}),w.dirty()):I.kind==="multipleOf"?m.data%I.value!==BigInt(0)&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.not_multiple_of,multipleOf:I.value,message:I.message}),w.dirty()):util$1.assertNever(I);return{status:w.value,value:m.data}}gte(m,g){return this.setLimit("min",m,!0,errorUtil.toString(g))}gt(m,g){return this.setLimit("min",m,!1,errorUtil.toString(g))}lte(m,g){return this.setLimit("max",m,!0,errorUtil.toString(g))}lt(m,g){return this.setLimit("max",m,!1,errorUtil.toString(g))}setLimit(m,g,w,I){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:m,value:g,inclusive:w,message:errorUtil.toString(I)}]})}_addCheck(m){return new ZodBigInt({...this._def,checks:[...this._def.checks,m]})}positive(m){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(m)})}negative(m){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(m)})}nonpositive(m){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(m)})}nonnegative(m){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(m)})}multipleOf(m,g){return this._addCheck({kind:"multipleOf",value:m,message:errorUtil.toString(g)})}get minValue(){let m=null;for(const g of this._def.checks)g.kind==="min"&&(m===null||g.value>m)&&(m=g.value);return m}get maxValue(){let m=null;for(const g of this._def.checks)g.kind==="max"&&(m===null||g.value<m)&&(m=g.value);return m}}ZodBigInt.create=d=>{var m;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(m=d==null?void 0:d.coerce)!==null&&m!==void 0&&m,...processCreateParams(d)})};class ZodBoolean extends ZodType{_parse(m){if(this._def.coerce&&(m.data=!!m.data),this._getType(m)!==ZodParsedType.boolean){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:g.parsedType}),INVALID}return OK(m.data)}}ZodBoolean.create=d=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:(d==null?void 0:d.coerce)||!1,...processCreateParams(d)});class ZodDate extends ZodType{_parse(m){if(this._def.coerce&&(m.data=new Date(m.data)),this._getType(m)!==ZodParsedType.date){const I=this._getOrReturnCtx(m);return addIssueToContext(I,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:I.parsedType}),INVALID}if(isNaN(m.data.getTime()))return addIssueToContext(this._getOrReturnCtx(m),{code:ZodIssueCode.invalid_date}),INVALID;const g=new ParseStatus;let w;for(const I of this._def.checks)I.kind==="min"?m.data.getTime()<I.value&&(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.too_small,message:I.message,inclusive:!0,exact:!1,minimum:I.value,type:"date"}),g.dirty()):I.kind==="max"?m.data.getTime()>I.value&&(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.too_big,message:I.message,inclusive:!0,exact:!1,maximum:I.value,type:"date"}),g.dirty()):util$1.assertNever(I);return{status:g.value,value:new Date(m.data.getTime())}}_addCheck(m){return new ZodDate({...this._def,checks:[...this._def.checks,m]})}min(m,g){return this._addCheck({kind:"min",value:m.getTime(),message:errorUtil.toString(g)})}max(m,g){return this._addCheck({kind:"max",value:m.getTime(),message:errorUtil.toString(g)})}get minDate(){let m=null;for(const g of this._def.checks)g.kind==="min"&&(m===null||g.value>m)&&(m=g.value);return m!=null?new Date(m):null}get maxDate(){let m=null;for(const g of this._def.checks)g.kind==="max"&&(m===null||g.value<m)&&(m=g.value);return m!=null?new Date(m):null}}ZodDate.create=d=>new ZodDate({checks:[],coerce:(d==null?void 0:d.coerce)||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(d)});class ZodSymbol extends ZodType{_parse(m){if(this._getType(m)!==ZodParsedType.symbol){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:g.parsedType}),INVALID}return OK(m.data)}}ZodSymbol.create=d=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(d)});class ZodUndefined extends ZodType{_parse(m){if(this._getType(m)!==ZodParsedType.undefined){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:g.parsedType}),INVALID}return OK(m.data)}}ZodUndefined.create=d=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(d)});class ZodNull extends ZodType{_parse(m){if(this._getType(m)!==ZodParsedType.null){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:g.parsedType}),INVALID}return OK(m.data)}}ZodNull.create=d=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(d)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(m){return OK(m.data)}}ZodAny.create=d=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(d)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(m){return OK(m.data)}}ZodUnknown.create=d=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(d)});class ZodNever extends ZodType{_parse(m){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:g.parsedType}),INVALID}}ZodNever.create=d=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(d)});class ZodVoid extends ZodType{_parse(m){if(this._getType(m)!==ZodParsedType.undefined){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:g.parsedType}),INVALID}return OK(m.data)}}ZodVoid.create=d=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(d)});class ZodArray extends ZodType{_parse(m){const{ctx:g,status:w}=this._processInputParams(m),I=this._def;if(g.parsedType!==ZodParsedType.array)return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:g.parsedType}),INVALID;if(I.exactLength!==null){const F=g.data.length>I.exactLength.value,D=g.data.length<I.exactLength.value;(F||D)&&(addIssueToContext(g,{code:F?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:D?I.exactLength.value:void 0,maximum:F?I.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:I.exactLength.message}),w.dirty())}if(I.minLength!==null&&g.data.length<I.minLength.value&&(addIssueToContext(g,{code:ZodIssueCode.too_small,minimum:I.minLength.value,type:"array",inclusive:!0,exact:!1,message:I.minLength.message}),w.dirty()),I.maxLength!==null&&g.data.length>I.maxLength.value&&(addIssueToContext(g,{code:ZodIssueCode.too_big,maximum:I.maxLength.value,type:"array",inclusive:!0,exact:!1,message:I.maxLength.message}),w.dirty()),g.common.async)return Promise.all([...g.data].map((F,D)=>I.type._parseAsync(new ParseInputLazyPath(g,F,g.path,D)))).then(F=>ParseStatus.mergeArray(w,F));const P=[...g.data].map((F,D)=>I.type._parseSync(new ParseInputLazyPath(g,F,g.path,D)));return ParseStatus.mergeArray(w,P)}get element(){return this._def.type}min(m,g){return new ZodArray({...this._def,minLength:{value:m,message:errorUtil.toString(g)}})}max(m,g){return new ZodArray({...this._def,maxLength:{value:m,message:errorUtil.toString(g)}})}length(m,g){return new ZodArray({...this._def,exactLength:{value:m,message:errorUtil.toString(g)}})}nonempty(m){return this.min(1,m)}}function deepPartialify(d){if(d instanceof ZodObject){const m={};for(const g in d.shape){const w=d.shape[g];m[g]=ZodOptional.create(deepPartialify(w))}return new ZodObject({...d._def,shape:()=>m})}return d instanceof ZodArray?new ZodArray({...d._def,type:deepPartialify(d.element)}):d instanceof ZodOptional?ZodOptional.create(deepPartialify(d.unwrap())):d instanceof ZodNullable?ZodNullable.create(deepPartialify(d.unwrap())):d instanceof ZodTuple?ZodTuple.create(d.items.map(m=>deepPartialify(m))):d}ZodArray.create=(d,m)=>new ZodArray({type:d,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(m)});class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const m=this._def.shape(),g=util$1.objectKeys(m);return this._cached={shape:m,keys:g}}_parse(m){if(this._getType(m)!==ZodParsedType.object){const $=this._getOrReturnCtx(m);return addIssueToContext($,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:$.parsedType}),INVALID}const{status:g,ctx:w}=this._processInputParams(m),{shape:I,keys:P}=this._getCached(),F=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const $ in w.data)P.includes($)||F.push($);const D=[];for(const $ of P){const V=I[$],j=w.data[$];D.push({key:{status:"valid",value:$},value:V._parse(new ParseInputLazyPath(w,j,w.path,$)),alwaysSet:$ in w.data})}if(this._def.catchall instanceof ZodNever){const $=this._def.unknownKeys;if($==="passthrough")for(const V of F)D.push({key:{status:"valid",value:V},value:{status:"valid",value:w.data[V]}});else if($==="strict")F.length>0&&(addIssueToContext(w,{code:ZodIssueCode.unrecognized_keys,keys:F}),g.dirty());else if($!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const $=this._def.catchall;for(const V of F){const j=w.data[V];D.push({key:{status:"valid",value:V},value:$._parse(new ParseInputLazyPath(w,j,w.path,V)),alwaysSet:V in w.data})}}return w.common.async?Promise.resolve().then(async()=>{const $=[];for(const V of D){const j=await V.key,G=await V.value;$.push({key:j,value:G,alwaysSet:V.alwaysSet})}return $}).then($=>ParseStatus.mergeObjectSync(g,$)):ParseStatus.mergeObjectSync(g,D)}get shape(){return this._def.shape()}strict(m){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...m!==void 0?{errorMap:(g,w)=>{var I,P,F,D;const $=(F=(P=(I=this._def).errorMap)===null||P===void 0?void 0:P.call(I,g,w).message)!==null&&F!==void 0?F:w.defaultError;return g.code==="unrecognized_keys"?{message:(D=errorUtil.errToObj(m).message)!==null&&D!==void 0?D:$}:{message:$}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(m){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...m})})}merge(m){return new ZodObject({unknownKeys:m._def.unknownKeys,catchall:m._def.catchall,shape:()=>({...this._def.shape(),...m._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(m,g){return this.augment({[m]:g})}catchall(m){return new ZodObject({...this._def,catchall:m})}pick(m){const g={};return util$1.objectKeys(m).forEach(w=>{m[w]&&this.shape[w]&&(g[w]=this.shape[w])}),new ZodObject({...this._def,shape:()=>g})}omit(m){const g={};return util$1.objectKeys(this.shape).forEach(w=>{m[w]||(g[w]=this.shape[w])}),new ZodObject({...this._def,shape:()=>g})}deepPartial(){return deepPartialify(this)}partial(m){const g={};return util$1.objectKeys(this.shape).forEach(w=>{const I=this.shape[w];m&&!m[w]?g[w]=I:g[w]=I.optional()}),new ZodObject({...this._def,shape:()=>g})}required(m){const g={};return util$1.objectKeys(this.shape).forEach(w=>{if(m&&!m[w])g[w]=this.shape[w];else{let I=this.shape[w];for(;I instanceof ZodOptional;)I=I._def.innerType;g[w]=I}}),new ZodObject({...this._def,shape:()=>g})}keyof(){return createZodEnum(util$1.objectKeys(this.shape))}}ZodObject.create=(d,m)=>new ZodObject({shape:()=>d,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(m)}),ZodObject.strictCreate=(d,m)=>new ZodObject({shape:()=>d,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(m)}),ZodObject.lazycreate=(d,m)=>new ZodObject({shape:d,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(m)});class ZodUnion extends ZodType{_parse(m){const{ctx:g}=this._processInputParams(m),w=this._def.options;if(g.common.async)return Promise.all(w.map(async I=>{const P={...g,common:{...g.common,issues:[]},parent:null};return{result:await I._parseAsync({data:g.data,path:g.path,parent:P}),ctx:P}})).then(function(I){for(const F of I)if(F.result.status==="valid")return F.result;for(const F of I)if(F.result.status==="dirty")return g.common.issues.push(...F.ctx.common.issues),F.result;const P=I.map(F=>new ZodError(F.ctx.common.issues));return addIssueToContext(g,{code:ZodIssueCode.invalid_union,unionErrors:P}),INVALID});{let I;const P=[];for(const D of w){const $={...g,common:{...g.common,issues:[]},parent:null},V=D._parseSync({data:g.data,path:g.path,parent:$});if(V.status==="valid")return V;V.status!=="dirty"||I||(I={result:V,ctx:$}),$.common.issues.length&&P.push($.common.issues)}if(I)return g.common.issues.push(...I.ctx.common.issues),I.result;const F=P.map(D=>new ZodError(D));return addIssueToContext(g,{code:ZodIssueCode.invalid_union,unionErrors:F}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(d,m)=>new ZodUnion({options:d,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(m)});const getDiscriminator=d=>d instanceof ZodLazy?getDiscriminator(d.schema):d instanceof ZodEffects?getDiscriminator(d.innerType()):d instanceof ZodLiteral?[d.value]:d instanceof ZodEnum?d.options:d instanceof ZodNativeEnum?util$1.objectValues(d.enum):d instanceof ZodDefault?getDiscriminator(d._def.innerType):d instanceof ZodUndefined?[void 0]:d instanceof ZodNull?[null]:d instanceof ZodOptional?[void 0,...getDiscriminator(d.unwrap())]:d instanceof ZodNullable?[null,...getDiscriminator(d.unwrap())]:d instanceof ZodBranded||d instanceof ZodReadonly?getDiscriminator(d.unwrap()):d instanceof ZodCatch?getDiscriminator(d._def.innerType):[];class ZodDiscriminatedUnion extends ZodType{_parse(m){const{ctx:g}=this._processInputParams(m);if(g.parsedType!==ZodParsedType.object)return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:g.parsedType}),INVALID;const w=this.discriminator,I=g.data[w],P=this.optionsMap.get(I);return P?g.common.async?P._parseAsync({data:g.data,path:g.path,parent:g}):P._parseSync({data:g.data,path:g.path,parent:g}):(addIssueToContext(g,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[w]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(m,g,w){const I=new Map;for(const P of g){const F=getDiscriminator(P.shape[m]);if(!F.length)throw new Error(`A discriminator value for key \`${m}\` could not be extracted from all schema options`);for(const D of F){if(I.has(D))throw new Error(`Discriminator property ${String(m)} has duplicate value ${String(D)}`);I.set(D,P)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:m,options:g,optionsMap:I,...processCreateParams(w)})}}function mergeValues(d,m){const g=getParsedType(d),w=getParsedType(m);if(d===m)return{valid:!0,data:d};if(g===ZodParsedType.object&&w===ZodParsedType.object){const I=util$1.objectKeys(m),P=util$1.objectKeys(d).filter(D=>I.indexOf(D)!==-1),F={...d,...m};for(const D of P){const $=mergeValues(d[D],m[D]);if(!$.valid)return{valid:!1};F[D]=$.data}return{valid:!0,data:F}}if(g===ZodParsedType.array&&w===ZodParsedType.array){if(d.length!==m.length)return{valid:!1};const I=[];for(let P=0;P<d.length;P++){const F=mergeValues(d[P],m[P]);if(!F.valid)return{valid:!1};I.push(F.data)}return{valid:!0,data:I}}return g===ZodParsedType.date&&w===ZodParsedType.date&&+d==+m?{valid:!0,data:d}:{valid:!1}}class ZodIntersection extends ZodType{_parse(m){const{status:g,ctx:w}=this._processInputParams(m),I=(P,F)=>{if(isAborted(P)||isAborted(F))return INVALID;const D=mergeValues(P.value,F.value);return D.valid?((isDirty(P)||isDirty(F))&&g.dirty(),{status:g.value,value:D.data}):(addIssueToContext(w,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return w.common.async?Promise.all([this._def.left._parseAsync({data:w.data,path:w.path,parent:w}),this._def.right._parseAsync({data:w.data,path:w.path,parent:w})]).then(([P,F])=>I(P,F)):I(this._def.left._parseSync({data:w.data,path:w.path,parent:w}),this._def.right._parseSync({data:w.data,path:w.path,parent:w}))}}ZodIntersection.create=(d,m,g)=>new ZodIntersection({left:d,right:m,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(g)});class ZodTuple extends ZodType{_parse(m){const{status:g,ctx:w}=this._processInputParams(m);if(w.parsedType!==ZodParsedType.array)return addIssueToContext(w,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:w.parsedType}),INVALID;if(w.data.length<this._def.items.length)return addIssueToContext(w,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&w.data.length>this._def.items.length&&(addIssueToContext(w,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),g.dirty());const I=[...w.data].map((P,F)=>{const D=this._def.items[F]||this._def.rest;return D?D._parse(new ParseInputLazyPath(w,P,w.path,F)):null}).filter(P=>!!P);return w.common.async?Promise.all(I).then(P=>ParseStatus.mergeArray(g,P)):ParseStatus.mergeArray(g,I)}get items(){return this._def.items}rest(m){return new ZodTuple({...this._def,rest:m})}}ZodTuple.create=(d,m)=>{if(!Array.isArray(d))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:d,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(m)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(m){const{status:g,ctx:w}=this._processInputParams(m);if(w.parsedType!==ZodParsedType.object)return addIssueToContext(w,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:w.parsedType}),INVALID;const I=[],P=this._def.keyType,F=this._def.valueType;for(const D in w.data)I.push({key:P._parse(new ParseInputLazyPath(w,D,w.path,D)),value:F._parse(new ParseInputLazyPath(w,w.data[D],w.path,D)),alwaysSet:D in w.data});return w.common.async?ParseStatus.mergeObjectAsync(g,I):ParseStatus.mergeObjectSync(g,I)}get element(){return this._def.valueType}static create(m,g,w){return new ZodRecord(g instanceof ZodType?{keyType:m,valueType:g,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(w)}:{keyType:ZodString.create(),valueType:m,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(g)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(m){const{status:g,ctx:w}=this._processInputParams(m);if(w.parsedType!==ZodParsedType.map)return addIssueToContext(w,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:w.parsedType}),INVALID;const I=this._def.keyType,P=this._def.valueType,F=[...w.data.entries()].map(([D,$],V)=>({key:I._parse(new ParseInputLazyPath(w,D,w.path,[V,"key"])),value:P._parse(new ParseInputLazyPath(w,$,w.path,[V,"value"]))}));if(w.common.async){const D=new Map;return Promise.resolve().then(async()=>{for(const $ of F){const V=await $.key,j=await $.value;if(V.status==="aborted"||j.status==="aborted")return INVALID;V.status!=="dirty"&&j.status!=="dirty"||g.dirty(),D.set(V.value,j.value)}return{status:g.value,value:D}})}{const D=new Map;for(const $ of F){const V=$.key,j=$.value;if(V.status==="aborted"||j.status==="aborted")return INVALID;V.status!=="dirty"&&j.status!=="dirty"||g.dirty(),D.set(V.value,j.value)}return{status:g.value,value:D}}}}ZodMap.create=(d,m,g)=>new ZodMap({valueType:m,keyType:d,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(g)});class ZodSet extends ZodType{_parse(m){const{status:g,ctx:w}=this._processInputParams(m);if(w.parsedType!==ZodParsedType.set)return addIssueToContext(w,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:w.parsedType}),INVALID;const I=this._def;I.minSize!==null&&w.data.size<I.minSize.value&&(addIssueToContext(w,{code:ZodIssueCode.too_small,minimum:I.minSize.value,type:"set",inclusive:!0,exact:!1,message:I.minSize.message}),g.dirty()),I.maxSize!==null&&w.data.size>I.maxSize.value&&(addIssueToContext(w,{code:ZodIssueCode.too_big,maximum:I.maxSize.value,type:"set",inclusive:!0,exact:!1,message:I.maxSize.message}),g.dirty());const P=this._def.valueType;function F($){const V=new Set;for(const j of $){if(j.status==="aborted")return INVALID;j.status==="dirty"&&g.dirty(),V.add(j.value)}return{status:g.value,value:V}}const D=[...w.data.values()].map(($,V)=>P._parse(new ParseInputLazyPath(w,$,w.path,V)));return w.common.async?Promise.all(D).then($=>F($)):F(D)}min(m,g){return new ZodSet({...this._def,minSize:{value:m,message:errorUtil.toString(g)}})}max(m,g){return new ZodSet({...this._def,maxSize:{value:m,message:errorUtil.toString(g)}})}size(m,g){return this.min(m,g).max(m,g)}nonempty(m){return this.min(1,m)}}ZodSet.create=(d,m)=>new ZodSet({valueType:d,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(m)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(m){const{ctx:g}=this._processInputParams(m);if(g.parsedType!==ZodParsedType.function)return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:g.parsedType}),INVALID;function w(D,$){return makeIssue({data:D,path:g.path,errorMaps:[g.common.contextualErrorMap,g.schemaErrorMap,getErrorMap(),errorMap].filter(V=>!!V),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:$}})}function I(D,$){return makeIssue({data:D,path:g.path,errorMaps:[g.common.contextualErrorMap,g.schemaErrorMap,getErrorMap(),errorMap].filter(V=>!!V),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:$}})}const P={errorMap:g.common.contextualErrorMap},F=g.data;if(this._def.returns instanceof ZodPromise){const D=this;return OK(async function(...$){const V=new ZodError([]),j=await D._def.args.parseAsync($,P).catch(Z=>{throw V.addIssue(w($,Z)),V}),G=await Reflect.apply(F,this,j);return await D._def.returns._def.type.parseAsync(G,P).catch(Z=>{throw V.addIssue(I(G,Z)),V})})}{const D=this;return OK(function(...$){const V=D._def.args.safeParse($,P);if(!V.success)throw new ZodError([w($,V.error)]);const j=Reflect.apply(F,this,V.data),G=D._def.returns.safeParse(j,P);if(!G.success)throw new ZodError([I(j,G.error)]);return G.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...m){return new ZodFunction({...this._def,args:ZodTuple.create(m).rest(ZodUnknown.create())})}returns(m){return new ZodFunction({...this._def,returns:m})}implement(m){return this.parse(m)}strictImplement(m){return this.parse(m)}static create(m,g,w){return new ZodFunction({args:m||ZodTuple.create([]).rest(ZodUnknown.create()),returns:g||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(w)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(m){const{ctx:g}=this._processInputParams(m);return this._def.getter()._parse({data:g.data,path:g.path,parent:g})}}ZodLazy.create=(d,m)=>new ZodLazy({getter:d,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(m)});class ZodLiteral extends ZodType{_parse(m){if(m.data!==this._def.value){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{received:g.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:m.data}}get value(){return this._def.value}}function createZodEnum(d,m){return new ZodEnum({values:d,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(m)})}ZodLiteral.create=(d,m)=>new ZodLiteral({value:d,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(m)});class ZodEnum extends ZodType{constructor(){super(...arguments),_ZodEnum_cache.set(this,void 0)}_parse(m){if(typeof m.data!="string"){const g=this._getOrReturnCtx(m),w=this._def.values;return addIssueToContext(g,{expected:util$1.joinValues(w),received:g.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet(this,_ZodEnum_cache)||__classPrivateFieldSet(this,_ZodEnum_cache,new Set(this._def.values)),!__classPrivateFieldGet(this,_ZodEnum_cache).has(m.data)){const g=this._getOrReturnCtx(m),w=this._def.values;return addIssueToContext(g,{received:g.data,code:ZodIssueCode.invalid_enum_value,options:w}),INVALID}return OK(m.data)}get options(){return this._def.values}get enum(){const m={};for(const g of this._def.values)m[g]=g;return m}get Values(){const m={};for(const g of this._def.values)m[g]=g;return m}get Enum(){const m={};for(const g of this._def.values)m[g]=g;return m}extract(m,g=this._def){return ZodEnum.create(m,{...this._def,...g})}exclude(m,g=this._def){return ZodEnum.create(this.options.filter(w=>!m.includes(w)),{...this._def,...g})}}_ZodEnum_cache=new WeakMap,ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{constructor(){super(...arguments),_ZodNativeEnum_cache.set(this,void 0)}_parse(m){const g=util$1.getValidEnumValues(this._def.values),w=this._getOrReturnCtx(m);if(w.parsedType!==ZodParsedType.string&&w.parsedType!==ZodParsedType.number){const I=util$1.objectValues(g);return addIssueToContext(w,{expected:util$1.joinValues(I),received:w.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet(this,_ZodNativeEnum_cache)||__classPrivateFieldSet(this,_ZodNativeEnum_cache,new Set(util$1.getValidEnumValues(this._def.values))),!__classPrivateFieldGet(this,_ZodNativeEnum_cache).has(m.data)){const I=util$1.objectValues(g);return addIssueToContext(w,{received:w.data,code:ZodIssueCode.invalid_enum_value,options:I}),INVALID}return OK(m.data)}get enum(){return this._def.values}}_ZodNativeEnum_cache=new WeakMap,ZodNativeEnum.create=(d,m)=>new ZodNativeEnum({values:d,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(m)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(m){const{ctx:g}=this._processInputParams(m);if(g.parsedType!==ZodParsedType.promise&&g.common.async===!1)return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:g.parsedType}),INVALID;const w=g.parsedType===ZodParsedType.promise?g.data:Promise.resolve(g.data);return OK(w.then(I=>this._def.type.parseAsync(I,{path:g.path,errorMap:g.common.contextualErrorMap})))}}ZodPromise.create=(d,m)=>new ZodPromise({type:d,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(m)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(m){const{status:g,ctx:w}=this._processInputParams(m),I=this._def.effect||null,P={addIssue:F=>{addIssueToContext(w,F),F.fatal?g.abort():g.dirty()},get path(){return w.path}};if(P.addIssue=P.addIssue.bind(P),I.type==="preprocess"){const F=I.transform(w.data,P);if(w.common.async)return Promise.resolve(F).then(async D=>{if(g.value==="aborted")return INVALID;const $=await this._def.schema._parseAsync({data:D,path:w.path,parent:w});return $.status==="aborted"?INVALID:$.status==="dirty"||g.value==="dirty"?DIRTY($.value):$});{if(g.value==="aborted")return INVALID;const D=this._def.schema._parseSync({data:F,path:w.path,parent:w});return D.status==="aborted"?INVALID:D.status==="dirty"||g.value==="dirty"?DIRTY(D.value):D}}if(I.type==="refinement"){const F=D=>{const $=I.refinement(D,P);if(w.common.async)return Promise.resolve($);if($ instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return D};if(w.common.async===!1){const D=this._def.schema._parseSync({data:w.data,path:w.path,parent:w});return D.status==="aborted"?INVALID:(D.status==="dirty"&&g.dirty(),F(D.value),{status:g.value,value:D.value})}return this._def.schema._parseAsync({data:w.data,path:w.path,parent:w}).then(D=>D.status==="aborted"?INVALID:(D.status==="dirty"&&g.dirty(),F(D.value).then(()=>({status:g.value,value:D.value}))))}if(I.type==="transform"){if(w.common.async===!1){const F=this._def.schema._parseSync({data:w.data,path:w.path,parent:w});if(!isValid(F))return F;const D=I.transform(F.value,P);if(D instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:g.value,value:D}}return this._def.schema._parseAsync({data:w.data,path:w.path,parent:w}).then(F=>isValid(F)?Promise.resolve(I.transform(F.value,P)).then(D=>({status:g.value,value:D})):F)}util$1.assertNever(I)}}ZodEffects.create=(d,m,g)=>new ZodEffects({schema:d,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:m,...processCreateParams(g)}),ZodEffects.createWithPreprocess=(d,m,g)=>new ZodEffects({schema:m,effect:{type:"preprocess",transform:d},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(g)});class ZodOptional extends ZodType{_parse(m){return this._getType(m)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(m)}unwrap(){return this._def.innerType}}ZodOptional.create=(d,m)=>new ZodOptional({innerType:d,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(m)});class ZodNullable extends ZodType{_parse(m){return this._getType(m)===ZodParsedType.null?OK(null):this._def.innerType._parse(m)}unwrap(){return this._def.innerType}}ZodNullable.create=(d,m)=>new ZodNullable({innerType:d,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(m)});class ZodDefault extends ZodType{_parse(m){const{ctx:g}=this._processInputParams(m);let w=g.data;return g.parsedType===ZodParsedType.undefined&&(w=this._def.defaultValue()),this._def.innerType._parse({data:w,path:g.path,parent:g})}removeDefault(){return this._def.innerType}}ZodDefault.create=(d,m)=>new ZodDefault({innerType:d,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof m.default=="function"?m.default:()=>m.default,...processCreateParams(m)});class ZodCatch extends ZodType{_parse(m){const{ctx:g}=this._processInputParams(m),w={...g,common:{...g.common,issues:[]}},I=this._def.innerType._parse({data:w.data,path:w.path,parent:{...w}});return isAsync$1(I)?I.then(P=>({status:"valid",value:P.status==="valid"?P.value:this._def.catchValue({get error(){return new ZodError(w.common.issues)},input:w.data})})):{status:"valid",value:I.status==="valid"?I.value:this._def.catchValue({get error(){return new ZodError(w.common.issues)},input:w.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(d,m)=>new ZodCatch({innerType:d,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof m.catch=="function"?m.catch:()=>m.catch,...processCreateParams(m)});class ZodNaN extends ZodType{_parse(m){if(this._getType(m)!==ZodParsedType.nan){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:g.parsedType}),INVALID}return{status:"valid",value:m.data}}}ZodNaN.create=d=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(d)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(m){const{ctx:g}=this._processInputParams(m),w=g.data;return this._def.type._parse({data:w,path:g.path,parent:g})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(m){const{status:g,ctx:w}=this._processInputParams(m);if(w.common.async)return(async()=>{const I=await this._def.in._parseAsync({data:w.data,path:w.path,parent:w});return I.status==="aborted"?INVALID:I.status==="dirty"?(g.dirty(),DIRTY(I.value)):this._def.out._parseAsync({data:I.value,path:w.path,parent:w})})();{const I=this._def.in._parseSync({data:w.data,path:w.path,parent:w});return I.status==="aborted"?INVALID:I.status==="dirty"?(g.dirty(),{status:"dirty",value:I.value}):this._def.out._parseSync({data:I.value,path:w.path,parent:w})}}static create(m,g){return new ZodPipeline({in:m,out:g,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(m){const g=this._def.innerType._parse(m),w=I=>(isValid(I)&&(I.value=Object.freeze(I.value)),I);return isAsync$1(g)?g.then(I=>w(I)):w(g)}unwrap(){return this._def.innerType}}function custom(d,m={},g){return d?ZodAny.create().superRefine((w,I)=>{var P,F;if(!d(w)){const D=typeof m=="function"?m(w):typeof m=="string"?{message:m}:m,$=(F=(P=D.fatal)!==null&&P!==void 0?P:g)===null||F===void 0||F,V=typeof D=="string"?{message:D}:D;I.addIssue({code:"custom",...V,fatal:$})}}):ZodAny.create()}ZodReadonly.create=(d,m)=>new ZodReadonly({innerType:d,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(m)});const late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(d){d.ZodString="ZodString",d.ZodNumber="ZodNumber",d.ZodNaN="ZodNaN",d.ZodBigInt="ZodBigInt",d.ZodBoolean="ZodBoolean",d.ZodDate="ZodDate",d.ZodSymbol="ZodSymbol",d.ZodUndefined="ZodUndefined",d.ZodNull="ZodNull",d.ZodAny="ZodAny",d.ZodUnknown="ZodUnknown",d.ZodNever="ZodNever",d.ZodVoid="ZodVoid",d.ZodArray="ZodArray",d.ZodObject="ZodObject",d.ZodUnion="ZodUnion",d.ZodDiscriminatedUnion="ZodDiscriminatedUnion",d.ZodIntersection="ZodIntersection",d.ZodTuple="ZodTuple",d.ZodRecord="ZodRecord",d.ZodMap="ZodMap",d.ZodSet="ZodSet",d.ZodFunction="ZodFunction",d.ZodLazy="ZodLazy",d.ZodLiteral="ZodLiteral",d.ZodEnum="ZodEnum",d.ZodEffects="ZodEffects",d.ZodNativeEnum="ZodNativeEnum",d.ZodOptional="ZodOptional",d.ZodNullable="ZodNullable",d.ZodDefault="ZodDefault",d.ZodCatch="ZodCatch",d.ZodPromise="ZodPromise",d.ZodBranded="ZodBranded",d.ZodPipeline="ZodPipeline",d.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(d,m={message:`Input not instance of ${d.name}`})=>custom(g=>g instanceof d,m),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce={string:d=>ZodString.create({...d,coerce:!0}),number:d=>ZodNumber.create({...d,coerce:!0}),boolean:d=>ZodBoolean.create({...d,coerce:!0}),bigint:d=>ZodBigInt.create({...d,coerce:!0}),date:d=>ZodDate.create({...d,coerce:!0})},NEVER=INVALID;var z=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid,isAsync:isAsync$1,get util(){return util$1},get objectUtil(){return objectUtil},ZodParsedType,getParsedType,ZodType,datetimeRegex,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,ZodReadonly,custom,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER,ZodIssueCode,quotelessJson,ZodError}),Edge,Edge2;Edge2=Edge||(Edge={}),Edge2[Edge2.EXTEND=1]="EXTEND",Edge2[Edge2.WRAP=2]="WRAP",Edge2[Edge2.CROP=3]="CROP";const JimpClassSchema=z.object({bitmap:z.object({data:z.union([z.instanceof(Buffer),z.instanceof(Uint8Array)]),width:z.number(),height:z.number()})}),BlitOptionsSchemaComplex=z.object({src:JimpClassSchema,x:z.number().optional(),y:z.number().optional(),srcX:z.number().optional(),srcY:z.number().optional(),srcW:z.number().optional(),srcH:z.number().optional()}),BlitOptionsSchema=z.union([JimpClassSchema,BlitOptionsSchemaComplex]),methods$h={blit(d,m){const g=BlitOptionsSchema.parse(m);let{src:w,x:I=0,y:P=0,srcX:F=0,srcY:D=0,srcW:$=w.bitmap.width,srcH:V=w.bitmap.height}="bitmap"in g?{src:g}:g;if(!("bitmap"in w))throw new Error("The source must be a Jimp image");if(typeof I!="number"||typeof P!="number")throw new Error("x and y must be numbers");I=Math.round(I),P=Math.round(P),F=Math.round(F),D=Math.round(D),$=Math.round($),V=Math.round(V);const j=d.bitmap.width,G=d.bitmap.height;return scan(w,F,D,$,V,function(W,Z,U){const Q=I+W-F,K=P+Z-D;if(Q>=0&&K>=0&&j-Q>0&&G-K>0){const te=d.getPixelIndex(Q,K),X={r:w.bitmap.data[U]||0,g:w.bitmap.data[U+1]||0,b:w.bitmap.data[U+2]||0,a:w.bitmap.data[U+3]||0},J={r:d.bitmap.data[te]||0,g:d.bitmap.data[te+1]||0,b:d.bitmap.data[te+2]||0,a:d.bitmap.data[te+3]||0};d.bitmap.data[te]=(X.a*(X.r-J.r)-J.r+255>>8)+J.r,d.bitmap.data[te+1]=(X.a*(X.g-J.g)-J.g+255>>8)+J.g,d.bitmap.data[te+2]=(X.a*(X.b-J.b)-J.b+255>>8)+J.b,d.bitmap.data[te+3]=limit255(J.a+X.a)}}),d}},mulTable=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1],shgTable=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18],methods$g={blur(d,m){if(typeof m!="number")throw new Error("r must be a number");if(m<1)throw new Error("r must be greater than 0");let g,w,I,P,F,D,$,V,j,G,W,Z,U;const Q=d.bitmap.width-1,K=d.bitmap.height-1,te=m+1,X=mulTable[m],J=shgTable[m],ee=[],ie=[],fe=[],se=[],de=[],le=[];let ye=2;for(;ye-- >0;){for(Z=0,U=0,D=0;D<d.bitmap.height;D++){for(g=d.bitmap.data[U]*te,w=d.bitmap.data[U+1]*te,I=d.bitmap.data[U+2]*te,P=d.bitmap.data[U+3]*te,$=1;$<=m;$++)V=U+(($>Q?Q:$)<<2),g+=d.bitmap.data[V++],w+=d.bitmap.data[V++],I+=d.bitmap.data[V++],P+=d.bitmap.data[V];for(F=0;F<d.bitmap.width;F++)ee[Z]=g,ie[Z]=w,fe[Z]=I,se[Z]=P,D===0&&(de[F]=((V=F+te)<Q?V:Q)<<2,le[F]=(V=F-m)>0?V<<2:0),j=U+de[F],G=U+le[F],g+=d.bitmap.data[j++]-d.bitmap.data[G++],w+=d.bitmap.data[j++]-d.bitmap.data[G++],I+=d.bitmap.data[j++]-d.bitmap.data[G++],P+=d.bitmap.data[j]-d.bitmap.data[G++],Z++;U+=d.bitmap.width<<2}for(F=0;F<d.bitmap.width;F++){for(W=F,g=ee[W]*te,w=ie[W]*te,I=fe[W]*te,P=se[W]*te,$=1;$<=m;$++)W+=$>K?0:d.bitmap.width,g+=ee[W],w+=ie[W],I+=fe[W],P+=se[W];for(Z=F<<2,D=0;D<d.bitmap.height;D++)d.bitmap.data[Z]=limit255(g*X>>>J),d.bitmap.data[Z+1]=limit255(w*X>>>J),d.bitmap.data[Z+2]=limit255(I*X>>>J),d.bitmap.data[Z+3]=limit255(P*X>>>J),F===0&&(de[D]=((V=D+te)<K?V:K)*d.bitmap.width,le[D]=(V=D-m)>0?V*d.bitmap.width:0),j=F+de[D],G=F+le[D],g+=ee[j]-ee[G],w+=ie[j]-ie[G],I+=fe[j]-fe[G],P+=se[j]-se[G],Z+=d.bitmap.width<<2}}return d},gaussian(d,m){if(typeof m!="number")throw new Error("r must be a number");if(m<1)throw new Error("r must be greater than 0");const g=Math.ceil(2.57*m),w=2*g+1,I=m*m*2,P=I*Math.PI,F=[];for(let D=0;D<w;D++){const $=[];for(let V=0;V<w;V++){const j=(V-g)**2+(D-g)**2;$[V]=Math.exp(-j/I)/P}F.push($)}for(let D=0;D<d.bitmap.height;D++)for(let $=0;$<d.bitmap.width;$++){let V=0,j=0,G=0,W=0,Z=0;for(let U=0;U<w;U++){for(let K=0;K<w;K++){const te=Math.min(d.bitmap.width-1,Math.max(0,K+$-g)),X=Math.min(d.bitmap.height-1,Math.max(0,U+D-g)),J=F[U][K],ee=X*d.bitmap.width+te<<2;V+=d.bitmap.data[ee]*J,j+=d.bitmap.data[ee+1]*J,G+=d.bitmap.data[ee+2]*J,W+=d.bitmap.data[ee+3]*J,Z+=J}const Q=D*d.bitmap.width+$<<2;d.bitmap.data[Q]=Math.round(V/Z),d.bitmap.data[Q+1]=Math.round(j/Z),d.bitmap.data[Q+2]=Math.round(G/Z),d.bitmap.data[Q+3]=Math.round(W/Z)}}return d}},CircleOptionsSchema=z.object({x:z.number().optional(),y:z.number().optional(),radius:z.number().min(0).optional()}),methods$f={circle(d,m={}){const g=CircleOptionsSchema.parse(m),w=g.radius||(d.bitmap.width>d.bitmap.height?d.bitmap.height:d.bitmap.width)/2,I=typeof g.x=="number"?g.x:d.bitmap.width/2,P=typeof g.y=="number"?g.y:d.bitmap.height/2;return d.scan((F,D,$)=>{const V=Math.sqrt(Math.pow(F-I,2)+Math.pow(D-P,2));w-V<=0?d.bitmap.data[$+3]=0:w-V<1&&(d.bitmap.data[$+3]=255*(w-V))}),d}},ConvolutionMatrixSchema=z.array(z.number()).min(1).array(),ConvolutionComplexOptionsSchema=z.object({kernel:ConvolutionMatrixSchema,edgeHandling:z.nativeEnum(Edge).optional()}),ConvolutionOptionsSchema=z.union([ConvolutionMatrixSchema,ConvolutionComplexOptionsSchema]),ConvoluteComplexOptionsSchema=z.object({kernel:ConvolutionMatrixSchema,x:z.number().optional(),y:z.number().optional(),w:z.number().optional(),h:z.number().optional()}),ConvoluteOptionsSchema=z.union([ConvolutionMatrixSchema,ConvoluteComplexOptionsSchema]),PixelateSize=z.number().min(1).max(1/0),PixelateComplexOptionsSchema=z.object({size:PixelateSize,x:z.number().optional(),y:z.number().optional(),w:z.number().optional(),h:z.number().optional()}),PixelateOptionsSchema=z.union([PixelateSize,PixelateComplexOptionsSchema]);function applyKernel(d,m,g,w){const I=[0,0,0,0],P=(m.length-1)/2;for(let F=0;F<m.length;F+=1)for(let D=0;D<m[F].length;D+=1){const $=d.getPixelIndex(g+F-P,w+D-P);I[0]+=d.bitmap.data[$]*m[F][D],I[1]+=d.bitmap.data[$+1]*m[F][D],I[2]+=d.bitmap.data[$+2]*m[F][D],I[3]+=d.bitmap.data[$+3]*m[F][D]}return I}function mix(d,m,g=50){return{r:(m.r-d.r)*(g/100)+d.r,g:(m.g-d.g)*(g/100)+d.g,b:(m.b-d.b)*(g/100)+d.b}}const HueActionSchema=z.object({apply:z.literal("hue"),params:z.tuple([z.number().min(-360).max(360)])}),SpinActionSchema=z.object({apply:z.literal("spin"),params:z.tuple([z.number().min(-360).max(360)])}),LightenActionSchema=z.object({apply:z.literal("lighten"),params:z.tuple([z.number().min(0).max(100)]).optional()}),RGBColorSchema=z.object({r:z.number().min(0).max(255),g:z.number().min(0).max(255),b:z.number().min(0).max(255)}),MixActionSchema=z.object({apply:z.literal("mix"),params:z.union([z.tuple([RGBColorSchema]),z.tuple([RGBColorSchema,z.number().min(0).max(100)])])}),TintActionSchema=z.object({apply:z.literal("tint"),params:z.tuple([z.number().min(0).max(100)]).optional()}),ShadeActionSchema=z.object({apply:z.literal("shade"),params:z.tuple([z.number().min(0).max(100)]).optional()}),XorActionSchema=z.object({apply:z.literal("xor"),params:z.tuple([RGBColorSchema])}),RedActionSchema=z.object({apply:z.literal("red"),params:z.tuple([z.number().min(-255).max(255)])}),GreenActionSchema=z.object({apply:z.literal("green"),params:z.tuple([z.number().min(-255).max(255)])}),BlueActionSchema=z.object({apply:z.literal("blue"),params:z.tuple([z.number().min(-255).max(255)])}),BrightenActionSchema=z.object({apply:z.literal("brighten"),params:z.tuple([z.number().min(0).max(100)]).optional()}),DarkenActionSchema=z.object({apply:z.literal("darken"),params:z.tuple([z.number().min(0).max(100)]).optional()}),DesaturateActionSchema=z.object({apply:z.literal("desaturate"),params:z.tuple([z.number().min(0).max(100)]).optional()}),SaturateActionSchema=z.object({apply:z.literal("saturate"),params:z.tuple([z.number().min(0).max(100)]).optional()}),GrayscaleActionSchema=z.object({apply:z.literal("greyscale"),params:z.tuple([]).optional()}),ColorActionNameSchema=z.union([HueActionSchema,SpinActionSchema,LightenActionSchema,MixActionSchema,TintActionSchema,ShadeActionSchema,XorActionSchema,RedActionSchema,GreenActionSchema,BlueActionSchema,BrightenActionSchema,DarkenActionSchema,DesaturateActionSchema,SaturateActionSchema,GrayscaleActionSchema]);function histogram(d){const m={r:new Array(256).fill(0),g:new Array(256).fill(0),b:new Array(256).fill(0)};return d.scan((g,w,I)=>{m.r[d.bitmap.data[I+0]]++,m.g[d.bitmap.data[I+1]]++,m.b[d.bitmap.data[I+2]]++}),m}const normalizeValue=function(d,m,g){return 255*(d-m)/(g-m)},getBounds=function(d){return[d.findIndex(m=>m>0),255-d.slice().reverse().findIndex(m=>m>0)]},methods$e={normalize(d){const m=histogram(d),g={r:getBounds(m.r),g:getBounds(m.g),b:getBounds(m.b)};return d.scan((w,I,P)=>{const F=d.bitmap.data[P+0],D=d.bitmap.data[P+1],$=d.bitmap.data[P+2];d.bitmap.data[P+0]=normalizeValue(F,g.r[0],g.r[1]),d.bitmap.data[P+1]=normalizeValue(D,g.g[0],g.g[1]),d.bitmap.data[P+2]=normalizeValue($,g.b[0],g.b[1])}),d},invert:d=>(d.scan((m,g,w)=>{d.bitmap.data[w]=255-d.bitmap.data[w],d.bitmap.data[w+1]=255-d.bitmap.data[w+1],d.bitmap.data[w+2]=255-d.bitmap.data[w+2]}),d),brightness(d,m){if(typeof m!="number")throw new Error("val must be numbers");return d.scan((g,w,I)=>{d.bitmap.data[I]=limit255(d.bitmap.data[I]*m),d.bitmap.data[I+1]=limit255(d.bitmap.data[I+1]*m),d.bitmap.data[I+2]=limit255(d.bitmap.data[I+2]*m)}),d},contrast(d,m){if(typeof m!="number")throw new Error("val must be numbers");if(m<-1||m>1)throw new Error("val must be a number between -1 and +1");const g=(m+1)/(1-m);function w(I){return(I=Math.floor(g*(I-127)+127))<0?0:I>255?255:I}return d.scan((I,P,F)=>{d.bitmap.data[F]=w(d.bitmap.data[F]),d.bitmap.data[F+1]=w(d.bitmap.data[F+1]),d.bitmap.data[F+2]=w(d.bitmap.data[F+2])}),d},posterize(d,m){if(typeof m!="number")throw new Error("n must be numbers");return m<2&&(m=2),d.scan((g,w,I)=>{const P=d.bitmap.data[I],F=d.bitmap.data[I+1],D=d.bitmap.data[I+2];d.bitmap.data[I]=Math.floor(P/255*(m-1))/(m-1)*255,d.bitmap.data[I+1]=Math.floor(F/255*(m-1))/(m-1)*255,d.bitmap.data[I+2]=Math.floor(D/255*(m-1))/(m-1)*255}),d},greyscale:d=>(d.scan((m,g,w)=>{const I=.2126*d.bitmap.data[w]+.7152*d.bitmap.data[w+1]+.0722*d.bitmap.data[w+2];d.bitmap.data[w]=I,d.bitmap.data[w+1]=I,d.bitmap.data[w+2]=I}),d),opacity(d,m){if(typeof m!="number")throw new Error("f must be a number");if(m<0||m>1)throw new Error("f must be a number from 0 to 1");return d.scan((g,w,I)=>{const P=d.bitmap.data[I+3]*m;d.bitmap.data[I+3]=P}),d},sepia:d=>(d.scan((m,g,w)=>{let I=d.bitmap.data[w],P=d.bitmap.data[w+1],F=d.bitmap.data[w+2];I=.393*I+.769*P+.189*F,P=.349*I+.686*P+.168*F,F=.272*I+.534*P+.131*F,d.bitmap.data[w]=I<255?I:255,d.bitmap.data[w+1]=P<255?P:255,d.bitmap.data[w+2]=F<255?F:255}),d),fade(d,m){if(typeof m!="number")throw new Error("f must be a number");if(m<0||m>1)throw new Error("f must be a number from 0 to 1");return this.opacity(d,1-m)},convolution(d,m){const g=ConvolutionOptionsSchema.parse(m),{kernel:w,edgeHandling:I=Edge.EXTEND}="kernel"in g?g:{kernel:g,edgeHandling:void 0};if(!w[0])throw new Error("kernel must be a matrix");const P=Buffer.from(d.bitmap.data),F=w.length,D=w[0].length,$=Math.floor(F/2),V=Math.floor(D/2),j=-$,G=-V;let W,Z,U,Q,K,te,X,J,ee,ie;return d.scan((fe,se,de)=>{Q=0,U=0,Z=0;for(let le=j;le<=$;le++)for(let ye=G;ye<=V;ye++)J=fe+ye,ee=se+le,W=w[le+$][ye+V],ie=d.getPixelIndex(J,ee,I),ie===-1?(X=0,te=0,K=0):(K=d.bitmap.data[ie+0],te=d.bitmap.data[ie+1],X=d.bitmap.data[ie+2]),Z+=W*K,U+=W*te,Q+=W*X;Z<0&&(Z=0),U<0&&(U=0),Q<0&&(Q=0),Z>255&&(Z=255),U>255&&(U=255),Q>255&&(Q=255),P[de+0]=Z,P[de+1]=U,P[de+2]=Q}),d.bitmap.data=P,d},opaque:d=>(d.scan((m,g,w)=>{d.bitmap.data[w+3]=255}),d),pixelate(d,m){const g=PixelateOptionsSchema.parse(m),{size:w,x:I=0,y:P=0,w:F=d.bitmap.width-I,h:D=d.bitmap.height-P}=typeof g=="number"?{size:g}:g,$=[[1/16,2/16,1/16],[2/16,.25,2/16],[1/16,2/16,1/16]],V=clone(d);return scan(V,I,P,F,D,(j,G,W)=>{j=w*Math.floor(j/w),G=w*Math.floor(G/w);const Z=applyKernel(V,$,j,G);d.bitmap.data[W]=Z[0],d.bitmap.data[W+1]=Z[1],d.bitmap.data[W+2]=Z[2],d.bitmap.data[W+3]=Z[3]}),d},convolute(d,m){const g=ConvoluteOptionsSchema.parse(m),{kernel:w,x:I=0,y:P=0,w:F=d.bitmap.width-I,h:D=d.bitmap.height-P}="kernel"in g?g:{kernel:g},$=clone(d);return scan($,I,P,F,D,(V,j,G)=>{const W=applyKernel($,w,V,j);d.bitmap.data[G]=limit255(W[0]),d.bitmap.data[G+1]=limit255(W[1]),d.bitmap.data[G+2]=limit255(W[2]),d.bitmap.data[G+3]=limit255(W[3])}),d},color(d,m){if(!m||!Array.isArray(m))throw new Error("actions must be an array");return m.forEach(g=>ColorActionNameSchema.parse(g)),m=m.map(g=>(g.apply!=="xor"&&g.apply!=="mix"||(g.params[0]=tinycolor(g.params[0]).toRgb()),g)),d.scan((g,w,I)=>{let P={r:d.bitmap.data[I],g:d.bitmap.data[I+1],b:d.bitmap.data[I+2]};const F=(D,$)=>limit255(P[D]+$);m.forEach(D=>{var $,V;if(D.apply==="mix")P=mix(P,D.params[0],D.params[1]);else if(D.apply==="tint")P=mix(P,{r:255,g:255,b:255},($=D.params)==null?void 0:$[0]);else if(D.apply==="shade")P=mix(P,{r:0,g:0,b:0},(V=D.params)==null?void 0:V[0]);else if(D.apply==="xor")P={r:P.r^D.params[0].r,g:P.g^D.params[0].g,b:P.b^D.params[0].b};else if(D.apply==="red")P.r=F("r",D.params[0]);else if(D.apply==="green")P.g=F("g",D.params[0]);else if(D.apply==="blue")P.b=F("b",D.params[0]);else{D.apply==="hue"&&(D.apply="spin");const j=tinycolor(P),G=j[D.apply].bind(j);if(!G)throw new Error("action "+D.apply+" not supported");P=G(...D.params||[]).toRgb()}}),d.bitmap.data[I]=P.r,d.bitmap.data[I+1]=P.g,d.bitmap.data[I+2]=P.b}),d}};var lib$1={},ieee754={read:function(d,m,g,w,I){var P,F,D=8*I-w-1,$=(1<<D)-1,V=$>>1,j=-7,G=g?I-1:0,W=g?-1:1,Z=d[m+G];for(G+=W,P=Z&(1<<-j)-1,Z>>=-j,j+=D;j>0;P=256*P+d[m+G],G+=W,j-=8);for(F=P&(1<<-j)-1,P>>=-j,j+=w;j>0;F=256*F+d[m+G],G+=W,j-=8);if(P===0)P=1-V;else{if(P===$)return F?NaN:1/0*(Z?-1:1);F+=Math.pow(2,w),P-=V}return(Z?-1:1)*F*Math.pow(2,P-w)},write:function(d,m,g,w,I,P){var F,D,$,V=8*P-I-1,j=(1<<V)-1,G=j>>1,W=I===23?Math.pow(2,-24)-Math.pow(2,-77):0,Z=w?0:P-1,U=w?1:-1,Q=m<0||m===0&&1/m<0?1:0;for(m=Math.abs(m),isNaN(m)||m===1/0?(D=isNaN(m)?1:0,F=j):(F=Math.floor(Math.log(m)/Math.LN2),m*($=Math.pow(2,-F))<1&&(F--,$*=2),(m+=F+G>=1?W/$:W*Math.pow(2,1-G))*$>=2&&(F++,$/=2),F+G>=j?(D=0,F=j):F+G>=1?(D=(m*$-1)*Math.pow(2,I),F+=G):(D=m*Math.pow(2,G-1)*Math.pow(2,I),F=0));I>=8;d[g+Z]=255&D,Z+=U,D/=256,I-=8);for(F=F<<I|D,V+=I;V>0;d[g+Z]=255&F,Z+=U,F/=256,V-=8);d[g+Z-U]|=128*Q}};(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.AnsiStringType=d.StringType=d.BufferType=d.Uint8ArrayType=d.IgnoreType=d.Float80_LE=d.Float80_BE=d.Float64_LE=d.Float64_BE=d.Float32_LE=d.Float32_BE=d.Float16_LE=d.Float16_BE=d.INT64_BE=d.UINT64_BE=d.INT64_LE=d.UINT64_LE=d.INT32_LE=d.INT32_BE=d.INT24_BE=d.INT24_LE=d.INT16_LE=d.INT16_BE=d.INT8=d.UINT32_BE=d.UINT32_LE=d.UINT24_BE=d.UINT24_LE=d.UINT16_BE=d.UINT16_LE=d.UINT8=void 0;const m=ieee754;function g(I){return new DataView(I.buffer,I.byteOffset)}d.UINT8={len:1,get:(I,P)=>g(I).getUint8(P),put:(I,P,F)=>(g(I).setUint8(P,F),P+1)},d.UINT16_LE={len:2,get:(I,P)=>g(I).getUint16(P,!0),put:(I,P,F)=>(g(I).setUint16(P,F,!0),P+2)},d.UINT16_BE={len:2,get:(I,P)=>g(I).getUint16(P),put:(I,P,F)=>(g(I).setUint16(P,F),P+2)},d.UINT24_LE={len:3,get(I,P){const F=g(I);return F.getUint8(P)+(F.getUint16(P+1,!0)<<8)},put(I,P,F){const D=g(I);return D.setUint8(P,255&F),D.setUint16(P+1,F>>8,!0),P+3}},d.UINT24_BE={len:3,get(I,P){const F=g(I);return(F.getUint16(P)<<8)+F.getUint8(P+2)},put(I,P,F){const D=g(I);return D.setUint16(P,F>>8),D.setUint8(P+2,255&F),P+3}},d.UINT32_LE={len:4,get:(I,P)=>g(I).getUint32(P,!0),put:(I,P,F)=>(g(I).setUint32(P,F,!0),P+4)},d.UINT32_BE={len:4,get:(I,P)=>g(I).getUint32(P),put:(I,P,F)=>(g(I).setUint32(P,F),P+4)},d.INT8={len:1,get:(I,P)=>g(I).getInt8(P),put:(I,P,F)=>(g(I).setInt8(P,F),P+1)},d.INT16_BE={len:2,get:(I,P)=>g(I).getInt16(P),put:(I,P,F)=>(g(I).setInt16(P,F),P+2)},d.INT16_LE={len:2,get:(I,P)=>g(I).getInt16(P,!0),put:(I,P,F)=>(g(I).setInt16(P,F,!0),P+2)},d.INT24_LE={len:3,get(I,P){const F=d.UINT24_LE.get(I,P);return F>8388607?F-16777216:F},put(I,P,F){const D=g(I);return D.setUint8(P,255&F),D.setUint16(P+1,F>>8,!0),P+3}},d.INT24_BE={len:3,get(I,P){const F=d.UINT24_BE.get(I,P);return F>8388607?F-16777216:F},put(I,P,F){const D=g(I);return D.setUint16(P,F>>8),D.setUint8(P+2,255&F),P+3}},d.INT32_BE={len:4,get:(I,P)=>g(I).getInt32(P),put:(I,P,F)=>(g(I).setInt32(P,F),P+4)},d.INT32_LE={len:4,get:(I,P)=>g(I).getInt32(P,!0),put:(I,P,F)=>(g(I).setInt32(P,F,!0),P+4)},d.UINT64_LE={len:8,get:(I,P)=>g(I).getBigUint64(P,!0),put:(I,P,F)=>(g(I).setBigUint64(P,F,!0),P+8)},d.INT64_LE={len:8,get:(I,P)=>g(I).getBigInt64(P,!0),put:(I,P,F)=>(g(I).setBigInt64(P,F,!0),P+8)},d.UINT64_BE={len:8,get:(I,P)=>g(I).getBigUint64(P),put:(I,P,F)=>(g(I).setBigUint64(P,F),P+8)},d.INT64_BE={len:8,get:(I,P)=>g(I).getBigInt64(P),put:(I,P,F)=>(g(I).setBigInt64(P,F),P+8)},d.Float16_BE={len:2,get(I,P){return m.read(I,P,!1,10,this.len)},put(I,P,F){return m.write(I,F,P,!1,10,this.len),P+this.len}},d.Float16_LE={len:2,get(I,P){return m.read(I,P,!0,10,this.len)},put(I,P,F){return m.write(I,F,P,!0,10,this.len),P+this.len}},d.Float32_BE={len:4,get:(I,P)=>g(I).getFloat32(P),put:(I,P,F)=>(g(I).setFloat32(P,F),P+4)},d.Float32_LE={len:4,get:(I,P)=>g(I).getFloat32(P,!0),put:(I,P,F)=>(g(I).setFloat32(P,F,!0),P+4)},d.Float64_BE={len:8,get:(I,P)=>g(I).getFloat64(P),put:(I,P,F)=>(g(I).setFloat64(P,F),P+8)},d.Float64_LE={len:8,get:(I,P)=>g(I).getFloat64(P,!0),put:(I,P,F)=>(g(I).setFloat64(P,F,!0),P+8)},d.Float80_BE={len:10,get(I,P){return m.read(I,P,!1,63,this.len)},put(I,P,F){return m.write(I,F,P,!1,63,this.len),P+this.len}},d.Float80_LE={len:10,get(I,P){return m.read(I,P,!0,63,this.len)},put(I,P,F){return m.write(I,F,P,!0,63,this.len),P+this.len}},d.IgnoreType=class{constructor(I){this.len=I}get(I,P){}},d.Uint8ArrayType=class{constructor(I){this.len=I}get(I,P){return I.subarray(P,P+this.len)}},d.BufferType=class{constructor(I){this.len=I}get(I,P){return Buffer.from(I.subarray(P,P+this.len))}},d.StringType=class{constructor(I,P){this.len=I,this.encoding=P}get(I,P){return Buffer.from(I).toString(this.encoding,P,P+this.len)}};class w{constructor(P){this.len=P}static decode(P,F,D){let $="";for(let V=F;V<D;++V)$+=w.codePointToString(w.singleByteDecoder(P[V]));return $}static inRange(P,F,D){return F<=P&&P<=D}static codePointToString(P){return P<=65535?String.fromCharCode(P):(P-=65536,String.fromCharCode(55296+(P>>10),56320+(1023&P)))}static singleByteDecoder(P){if(w.inRange(P,0,127))return P;const F=w.windows1252[P-128];if(F===null)throw Error("invaliding encoding");return F}get(P,F=0){return w.decode(P,F,F+this.len)}}d.AnsiStringType=w,w.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]})(lib$1);var core$1={},ReadStreamTokenizer$1={},AbstractTokenizer$1={},lib={},EndOfFileStream={};(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.EndOfStreamError=d.defaultMessages=void 0,d.defaultMessages="End-Of-Stream";class m extends Error{constructor(){super(d.defaultMessages)}}d.EndOfStreamError=m})(EndOfFileStream);var StreamReader={},Deferred$1={};Object.defineProperty(Deferred$1,"__esModule",{value:!0}),Deferred$1.Deferred=void 0;class Deferred{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((m,g)=>{this.reject=g,this.resolve=m})}}Deferred$1.Deferred=Deferred,function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.StreamReader=d.EndOfStreamError=void 0;const m=EndOfFileStream,g=Deferred$1;var w=EndOfFileStream;Object.defineProperty(d,"EndOfStreamError",{enumerable:!0,get:function(){return w.EndOfStreamError}}),d.StreamReader=class{constructor(I){if(this.s=I,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!I.read||!I.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new m.EndOfStreamError)),this.s.once("error",P=>this.reject(P)),this.s.once("close",()=>this.reject(new Error("Stream closed")))}async peek(I,P,F){const D=await this.read(I,P,F);return this.peekQueue.push(I.subarray(P,P+D)),D}async read(I,P,F){if(F===0)return 0;if(this.peekQueue.length===0&&this.endOfStream)throw new m.EndOfStreamError;let D=F,$=0;for(;this.peekQueue.length>0&&D>0;){const V=this.peekQueue.pop();if(!V)throw new Error("peekData should be defined");const j=Math.min(V.length,D);I.set(V.subarray(0,j),P+$),$+=j,D-=j,j<V.length&&this.peekQueue.push(V.subarray(j))}for(;D>0&&!this.endOfStream;){const V=Math.min(D,1048576),j=await this.readFromStream(I,P+$,V);if($+=j,j<V)break;D-=j}return $}async readFromStream(I,P,F){const D=this.s.read(F);if(D)return I.set(D,P),D.length;{const $={buffer:I,offset:P,length:F,deferred:new g.Deferred};return this.deferred=$.deferred,this.s.once("readable",()=>{this.readDeferred($)}),$.deferred.promise}}readDeferred(I){const P=this.s.read(I.length);P?(I.buffer.set(P,I.offset),I.deferred.resolve(P.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(I)})}reject(I){this.endOfStream=!0,this.deferred&&(this.deferred.reject(I),this.deferred=null)}}}(StreamReader),function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.StreamReader=d.EndOfStreamError=void 0;var m=EndOfFileStream;Object.defineProperty(d,"EndOfStreamError",{enumerable:!0,get:function(){return m.EndOfStreamError}});var g=StreamReader;Object.defineProperty(d,"StreamReader",{enumerable:!0,get:function(){return g.StreamReader}})}(lib),Object.defineProperty(AbstractTokenizer$1,"__esModule",{value:!0}),AbstractTokenizer$1.AbstractTokenizer=void 0;const peek_readable_1$2=lib;class AbstractTokenizer{constructor(m){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=m||{}}async readToken(m,g=this.position){const w=Buffer.alloc(m.len);if(await this.readBuffer(w,{position:g})<m.len)throw new peek_readable_1$2.EndOfStreamError;return m.get(w,0)}async peekToken(m,g=this.position){const w=Buffer.alloc(m.len);if(await this.peekBuffer(w,{position:g})<m.len)throw new peek_readable_1$2.EndOfStreamError;return m.get(w,0)}async readNumber(m){if(await this.readBuffer(this.numBuffer,{length:m.len})<m.len)throw new peek_readable_1$2.EndOfStreamError;return m.get(this.numBuffer,0)}async peekNumber(m){if(await this.peekBuffer(this.numBuffer,{length:m.len})<m.len)throw new peek_readable_1$2.EndOfStreamError;return m.get(this.numBuffer,0)}async ignore(m){if(this.fileInfo.size!==void 0){const g=this.fileInfo.size-this.position;if(m>g)return this.position+=g,g}return this.position+=m,m}async close(){}normalizeOptions(m,g){if(g&&g.position!==void 0&&g.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return g?{mayBeLess:g.mayBeLess===!0,offset:g.offset?g.offset:0,length:g.length?g.length:m.length-(g.offset?g.offset:0),position:g.position?g.position:this.position}:{mayBeLess:!1,offset:0,length:m.length,position:this.position}}}AbstractTokenizer$1.AbstractTokenizer=AbstractTokenizer,Object.defineProperty(ReadStreamTokenizer$1,"__esModule",{value:!0}),ReadStreamTokenizer$1.ReadStreamTokenizer=void 0;const AbstractTokenizer_1$1=AbstractTokenizer$1,peek_readable_1$1=lib,maxBufferSize=256e3;class ReadStreamTokenizer extends AbstractTokenizer_1$1.AbstractTokenizer{constructor(m,g){super(g),this.streamReader=new peek_readable_1$1.StreamReader(m)}async getFileInfo(){return this.fileInfo}async readBuffer(m,g){const w=this.normalizeOptions(m,g),I=w.position-this.position;if(I>0)return await this.ignore(I),this.readBuffer(m,g);if(I<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(w.length===0)return 0;const P=await this.streamReader.read(m,w.offset,w.length);if(this.position+=P,(!g||!g.mayBeLess)&&P<w.length)throw new peek_readable_1$1.EndOfStreamError;return P}async peekBuffer(m,g){const w=this.normalizeOptions(m,g);let I=0;if(w.position){const P=w.position-this.position;if(P>0){const F=new Uint8Array(w.length+P);return I=await this.peekBuffer(F,{mayBeLess:w.mayBeLess}),m.set(F.subarray(P),w.offset),I-P}if(P<0)throw new Error("Cannot peek from a negative offset in a stream")}if(w.length>0){try{I=await this.streamReader.peek(m,w.offset,w.length)}catch(P){if(g&&g.mayBeLess&&P instanceof peek_readable_1$1.EndOfStreamError)return 0;throw P}if(!w.mayBeLess&&I<w.length)throw new peek_readable_1$1.EndOfStreamError}return I}async ignore(m){const g=Math.min(maxBufferSize,m),w=new Uint8Array(g);let I=0;for(;I<m;){const P=m-I,F=await this.readBuffer(w,{length:Math.min(g,P)});if(F<0)return F;I+=F}return I}}ReadStreamTokenizer$1.ReadStreamTokenizer=ReadStreamTokenizer;var BufferTokenizer$1={};Object.defineProperty(BufferTokenizer$1,"__esModule",{value:!0}),BufferTokenizer$1.BufferTokenizer=void 0;const peek_readable_1=lib,AbstractTokenizer_1=AbstractTokenizer$1;class BufferTokenizer extends AbstractTokenizer_1.AbstractTokenizer{constructor(m,g){super(g),this.uint8Array=m,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:m.length}async readBuffer(m,g){if(g&&g.position){if(g.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=g.position}const w=await this.peekBuffer(m,g);return this.position+=w,w}async peekBuffer(m,g){const w=this.normalizeOptions(m,g),I=Math.min(this.uint8Array.length-w.position,w.length);if(!w.mayBeLess&&I<w.length)throw new peek_readable_1.EndOfStreamError;return m.set(this.uint8Array.subarray(w.position,w.position+I),w.offset),I}async close(){}}BufferTokenizer$1.BufferTokenizer=BufferTokenizer,function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.fromBuffer=d.fromStream=d.EndOfStreamError=void 0;const m=ReadStreamTokenizer$1,g=BufferTokenizer$1;var w=lib;Object.defineProperty(d,"EndOfStreamError",{enumerable:!0,get:function(){return w.EndOfStreamError}}),d.fromStream=function(I,P){return P=P||{},new m.ReadStreamTokenizer(I,P)},d.fromBuffer=function(I,P){return new g.BufferTokenizer(I,P)}}(core$1);var util={stringToBytes:d=>[...d].map(m=>m.charCodeAt(0)),tarHeaderChecksumMatches:(d,m=0)=>{const g=parseInt(d.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(g))return!1;let w=256;for(let I=m;I<m+148;I++)w+=d[I];for(let I=m+156;I<m+512;I++)w+=d[I];return g===w},uint32SyncSafeToken:{get:(d,m)=>127&d[m+3]|d[m+2]<<7|d[m+1]<<14|d[m]<<21,len:4}},supported$1={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]};const Token=lib$1,strtok3=core$1,{stringToBytes,tarHeaderChecksumMatches,uint32SyncSafeToken}=util,supported$2=supported$1,minimumBytes=4100;async function fromStream(d){const m=await strtok3.fromStream(d);try{return await fromTokenizer(m)}finally{await m.close()}}async function fromBuffer(d){if(!(d instanceof Uint8Array||d instanceof ArrayBuffer||Buffer.isBuffer(d)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof d}\``);const m=d instanceof Buffer?d:Buffer.from(d);if(m&&m.length>1)return fromTokenizer(strtok3.fromBuffer(m))}function _check(d,m,g){g={offset:0,...g};for(const[w,I]of m.entries())if(g.mask){if(I!==(g.mask[w]&d[w+g.offset]))return!1}else if(I!==d[w+g.offset])return!1;return!0}async function fromTokenizer(d){try{return _fromTokenizer(d)}catch(m){if(!(m instanceof strtok3.EndOfStreamError))throw m}}async function _fromTokenizer(d){let m=Buffer.alloc(minimumBytes);const g=(I,P)=>_check(m,I,P),w=(I,P)=>g(stringToBytes(I),P);if(d.fileInfo.size||(d.fileInfo.size=Number.MAX_SAFE_INTEGER),await d.peekBuffer(m,{length:12,mayBeLess:!0}),g([66,77]))return{ext:"bmp",mime:"image/bmp"};if(g([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(g([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(g([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(g([37,33]))return await d.peekBuffer(m,{length:24,mayBeLess:!0}),w("PS-Adobe-",{offset:2})&&w(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(g([31,160])||g([31,157]))return{ext:"Z",mime:"application/x-compress"};if(g([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(g([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(g([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(g([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(w("ID3")){await d.ignore(6);const I=await d.readToken(uint32SyncSafeToken);return d.position+I>d.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await d.ignore(I),fromTokenizer(d))}if(w("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((m[0]===67||m[0]===70)&&g([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(g([71,73,70]))return{ext:"gif",mime:"image/gif"};if(w("FLIF"))return{ext:"flif",mime:"image/flif"};if(w("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(w("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(w("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(w("FORM"))return{ext:"aif",mime:"audio/aiff"};if(w("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(g([80,75,3,4])){try{for(;d.position+30<d.fileInfo.size;){await d.readBuffer(m,{length:30});const I={compressedSize:m.readUInt32LE(18),uncompressedSize:m.readUInt32LE(22),filenameLength:m.readUInt16LE(26),extraFieldLength:m.readUInt16LE(28)};if(I.filename=await d.readToken(new Token.StringType(I.filenameLength,"utf-8")),await d.ignore(I.extraFieldLength),I.filename==="META-INF/mozilla.rsa")return{ext:"xpi",mime:"application/x-xpinstall"};if(I.filename.endsWith(".rels")||I.filename.endsWith(".xml"))switch(I.filename.split("/")[0]){case"_rels":default:break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}if(I.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(I.filename.startsWith("3D/")&&I.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if(I.filename==="mimetype"&&I.compressedSize===I.uncompressedSize)switch(await d.readToken(new Token.StringType(I.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}if(I.compressedSize===0){let P=-1;for(;P<0&&d.position<d.fileInfo.size;)await d.peekBuffer(m,{mayBeLess:!0}),P=m.indexOf("504B0304",0,"hex"),await d.ignore(P>=0?P:m.length)}else await d.ignore(I.compressedSize)}}catch(I){if(!(I instanceof strtok3.EndOfStreamError))throw I}return{ext:"zip",mime:"application/zip"}}if(w("OggS")){await d.ignore(28);const I=Buffer.alloc(8);return await d.readBuffer(I),_check(I,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(I,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(I,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(I,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(I,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(I,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(g([80,75])&&(m[2]===3||m[2]===5||m[2]===7)&&(m[3]===4||m[3]===6||m[3]===8))return{ext:"zip",mime:"application/zip"};if(w("ftyp",{offset:4})&&96&m[8]){const I=m.toString("binary",8,12).replace("\0"," ").trim();switch(I){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return I.startsWith("3g")?I.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(w("MThd"))return{ext:"mid",mime:"audio/midi"};if(w("wOFF")&&(g([0,1,0,0],{offset:4})||w("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(w("wOF2")&&(g([0,1,0,0],{offset:4})||w("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(g([212,195,178,161])||g([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(w("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(w("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(w("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(g([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(w("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(w("%PDF")){await d.ignore(1350);const I=10485760,P=Buffer.alloc(Math.min(I,d.fileInfo.size));return await d.readBuffer(P,{mayBeLess:!0}),P.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(g([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(g([73,73,42,0]))return w("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:g([28,0,254,0],{offset:8})||g([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:g([8,0,0,0],{offset:4})&&(g([45,0,254,0],{offset:8})||g([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(m=Buffer.alloc(24),await d.peekBuffer(m),(g([16,251,134,1],{offset:4})||g([8,0,0,0],{offset:4}))&&g([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(g([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(w("MAC "))return{ext:"ape",mime:"audio/ape"};if(g([26,69,223,163])){async function I(){const $=await d.peekNumber(Token.UINT8);let V=128,j=0;for(;!($&V)&&V!==0;)++j,V>>=1;const G=Buffer.alloc(j+1);return await d.readBuffer(G),G}async function P(){const $=await I(),V=await I();V[0]^=128>>V.length-1;const j=Math.min(6,V.length);return{id:$.readUIntBE(0,$.length),len:V.readUIntBE(V.length-j,j)}}async function F($,V){for(;V>0;){const j=await P();if(j.id===17026)return d.readToken(new Token.StringType(j.len,"utf-8"));await d.ignore(j.len),--V}}const D=await P();switch(await F(0,D.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(g([82,73,70,70])){if(g([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(g([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(g([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(w("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(g([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(w("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(w("MSCF")||w("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(g([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(g([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(g([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(g([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(w("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(w("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(g([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(w("IMPM"))return{ext:"it",mime:"audio/x-it"};if(w("-lh0-",{offset:2})||w("-lh1-",{offset:2})||w("-lh2-",{offset:2})||w("-lh3-",{offset:2})||w("-lh4-",{offset:2})||w("-lh5-",{offset:2})||w("-lh6-",{offset:2})||w("-lh7-",{offset:2})||w("-lzs-",{offset:2})||w("-lz4-",{offset:2})||w("-lz5-",{offset:2})||w("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(g([0,0,1,186])){if(g([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(g([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(w("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(g([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(w("<?xml "))return{ext:"xml",mime:"application/xml"};if(g([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(g([82,97,114,33,26,7])&&(m[6]===0||m[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(w("solid "))return{ext:"stl",mime:"model/stl"};if(w("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(w("!<arch>"))return await d.ignore(8),await d.readToken(new Token.StringType(13,"ascii"))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(g([137,80,78,71,13,10,26,10])){async function I(){return{length:await d.readToken(Token.INT32_BE),type:await d.readToken(new Token.StringType(4,"binary"))}}await d.ignore(8);do{const P=await I();if(P.length<0)return;switch(P.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await d.ignore(P.length+4)}}while(d.position+8<d.fileInfo.size);return{ext:"png",mime:"image/png"}}if(g([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(g([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(g([102,114,101,101],{offset:4})||g([109,100,97,116],{offset:4})||g([109,111,111,118],{offset:4})||g([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(g([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(w("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(g([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(g([48,38,178,117,142,102,207,17,166,217])){async function I(){const P=Buffer.alloc(16);return await d.readBuffer(P),{id:P,size:Number(await d.readToken(Token.UINT64_LE))}}for(await d.ignore(30);d.position+24<d.fileInfo.size;){const P=await I();let F=P.size-24;if(_check(P.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const D=Buffer.alloc(16);if(F-=await d.readBuffer(D),_check(D,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(D,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await d.ignore(F)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(g([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((g([126,16,4])||g([126,24,4]))&&g([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(g([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(g([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await d.ignore(20),await d.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(g([255,10])||g([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(g([0,0,1,186])||g([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(g([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(g([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(g([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(g([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await d.peekBuffer(m,{length:Math.min(256,d.fileInfo.size),mayBeLess:!0}),w("BEGIN:")){if(w("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(w("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(w("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(w("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(w("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(g([4,0,0,0])&&m.length>=16){const I=m.readUInt32LE(12);if(I>12&&m.length>=I+16)try{const P=m.slice(16,I+16).toString();if(JSON.parse(P).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(g([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(w("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(g([71],{offset:4})&&(g([71],{offset:192})||g([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(g([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(g([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(g([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(g([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(g([76,80],{offset:34})&&(g([0,0,1],{offset:8})||g([1,0,2],{offset:8})||g([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(g([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await d.peekBuffer(m,{length:Math.min(512,d.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(m))return{ext:"tar",mime:"application/x-tar"};if(g([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(w("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(m.length>=2&&g([255,224],{offset:0,mask:[255,224]})){if(g([16],{offset:1,mask:[22]}))return g([8],{offset:1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(g([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(g([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(g([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}const stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",async()=>{const d=new stream.PassThrough;let m;m=stream.pipeline?stream.pipeline(readableStream,d,()=>{}):readableStream.pipe(d);const g=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{const w=await fromBuffer(g);d.fileType=w}catch(w){reject(w)}resolve(m)})}),fileType={fromStream,fromTokenizer,fromBuffer,stream};Object.defineProperty(fileType,"extensions",{get:()=>new Set(supported$2.extensions)}),Object.defineProperty(fileType,"mimeTypes",{get:()=>new Set(supported$2.mimeTypes)});var core=fileType,fileType$1=getDefaultExportFromCjs(core);function to(d,m){return d.then(function(g){return[null,g]}).catch(function(g){return[g,void 0]})}const writeFile=async()=>{throw new Error("Not supported")};function Mime$1(){this._types=Object.create(null),this._extensions=Object.create(null);for(let d=0;d<arguments.length;d++)this.define(arguments[d]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}Mime$1.prototype.define=function(d,m){for(let g in d){let w=d[g].map(function(I){return I.toLowerCase()});g=g.toLowerCase();for(let I=0;I<w.length;I++){const P=w[I];if(P[0]!=="*"){if(!m&&P in this._types)throw new Error('Attempt to change mapping for "'+P+'" extension from "'+this._types[P]+'" to "'+g+'". Pass `force=true` to allow this, otherwise remove "'+P+'" from the list of extensions for "'+g+'".');this._types[P]=g}}if(m||!this._extensions[g]){const I=w[0];this._extensions[g]=I[0]!=="*"?I:I.substr(1)}}},Mime$1.prototype.getType=function(d){let m=(d=String(d)).replace(/^.*[/\\]/,"").toLowerCase(),g=m.replace(/^.*\./,"").toLowerCase(),w=m.length<d.length;return(g.length<m.length-1||!w)&&this._types[g]||null},Mime$1.prototype.getExtension=function(d){return(d=/^\s*([^;\s]*)/.test(d)&&RegExp.$1)&&this._extensions[d.toLowerCase()]||null};var Mime_1=Mime$1,standard={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]};let Mime=Mime_1;var lite=new Mime(standard),mime=getDefaultExportFromCjs(lite),HorizontalAlign,HorizontalAlign2,VerticalAlign,VerticalAlign2,BlendMode,BlendMode2;function srcOver(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a;return{r:(d.r*d.a+m.r*m.a*(1-d.a))/w,g:(d.g*d.a+m.g*m.a*(1-d.a))/w,b:(d.b*d.a+m.b*m.a*(1-d.a))/w,a:w}}function dstOver(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a;return{r:(m.r*m.a+d.r*d.a*(1-m.a))/w,g:(m.g*m.a+d.g*d.a*(1-m.a))/w,b:(m.b*m.a+d.b*d.a*(1-m.a))/w,a:w}}function multiply(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,I=d.r*d.a,P=d.g*d.a,F=d.b*d.a,D=m.r*m.a,$=m.g*m.a,V=m.b*m.a;return{r:(I*D+I*(1-m.a)+D*(1-d.a))/w,g:(P*$+P*(1-m.a)+$*(1-d.a))/w,b:(F*V+F*(1-m.a)+V*(1-d.a))/w,a:w}}function add(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,I=d.r*d.a,P=d.g*d.a,F=d.b*d.a;return{r:(I+m.r*m.a)/w,g:(P+m.g*m.a)/w,b:(F+m.b*m.a)/w,a:w}}function screen(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,I=d.r*d.a,P=d.g*d.a,F=d.b*d.a,D=m.r*m.a,$=m.g*m.a,V=m.b*m.a;return{r:(I*m.a+D*d.a-I*D+I*(1-m.a)+D*(1-d.a))/w,g:(P*m.a+$*d.a-P*$+P*(1-m.a)+$*(1-d.a))/w,b:(F*m.a+V*d.a-F*V+F*(1-m.a)+V*(1-d.a))/w,a:w}}function overlay(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,I=d.r*d.a,P=d.g*d.a,F=d.b*d.a,D=m.r*m.a,$=m.g*m.a,V=m.b*m.a;return{r:(2*D<=m.a?2*I*D+I*(1-m.a)+D*(1-d.a):I*(1+m.a)+D*(1+d.a)-2*D*I-m.a*d.a)/w,g:(2*$<=m.a?2*P*$+P*(1-m.a)+$*(1-d.a):P*(1+m.a)+$*(1+d.a)-2*$*P-m.a*d.a)/w,b:(2*V<=m.a?2*F*V+F*(1-m.a)+V*(1-d.a):F*(1+m.a)+V*(1+d.a)-2*V*F-m.a*d.a)/w,a:w}}function darken(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,I=d.r*d.a,P=d.g*d.a,F=d.b*d.a,D=m.r*m.a,$=m.g*m.a,V=m.b*m.a;return{r:(Math.min(I*m.a,D*d.a)+I*(1-m.a)+D*(1-d.a))/w,g:(Math.min(P*m.a,$*d.a)+P*(1-m.a)+$*(1-d.a))/w,b:(Math.min(F*m.a,V*d.a)+F*(1-m.a)+V*(1-d.a))/w,a:w}}function lighten(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,I=d.r*d.a,P=d.g*d.a,F=d.b*d.a,D=m.r*m.a,$=m.g*m.a,V=m.b*m.a;return{r:(Math.max(I*m.a,D*d.a)+I*(1-m.a)+D*(1-d.a))/w,g:(Math.max(P*m.a,$*d.a)+P*(1-m.a)+$*(1-d.a))/w,b:(Math.max(F*m.a,V*d.a)+F*(1-m.a)+V*(1-d.a))/w,a:w}}function hardLight(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,I=d.r*d.a,P=d.g*d.a,F=d.b*d.a,D=m.r*m.a,$=m.g*m.a,V=m.b*m.a;return{r:(2*I<=d.a?2*I*D+I*(1-m.a)+D*(1-d.a):I*(1+m.a)+D*(1+d.a)-2*D*I-m.a*d.a)/w,g:(2*P<=d.a?2*P*$+P*(1-m.a)+$*(1-d.a):P*(1+m.a)+$*(1+d.a)-2*$*P-m.a*d.a)/w,b:(2*F<=d.a?2*F*V+F*(1-m.a)+V*(1-d.a):F*(1+m.a)+V*(1+d.a)-2*V*F-m.a*d.a)/w,a:w}}function difference(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,I=d.r*d.a,P=d.g*d.a,F=d.b*d.a,D=m.r*m.a,$=m.g*m.a,V=m.b*m.a;return{r:(I+D-2*Math.min(I*m.a,D*d.a))/w,g:(P+$-2*Math.min(P*m.a,$*d.a))/w,b:(F+V-2*Math.min(F*m.a,V*d.a))/w,a:w}}function exclusion(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,I=d.r*d.a,P=d.g*d.a,F=d.b*d.a,D=m.r*m.a,$=m.g*m.a,V=m.b*m.a;return{r:(I*m.a+D*d.a-2*I*D+I*(1-m.a)+D*(1-d.a))/w,g:(P*m.a+$*d.a-2*P*$+P*(1-m.a)+$*(1-d.a))/w,b:(F*m.a+V*d.a-2*F*V+F*(1-m.a)+V*(1-d.a))/w,a:w}}HorizontalAlign2=HorizontalAlign||(HorizontalAlign={}),HorizontalAlign2[HorizontalAlign2.LEFT=1]="LEFT",HorizontalAlign2[HorizontalAlign2.CENTER=2]="CENTER",HorizontalAlign2[HorizontalAlign2.RIGHT=4]="RIGHT",VerticalAlign2=VerticalAlign||(VerticalAlign={}),VerticalAlign2[VerticalAlign2.TOP=8]="TOP",VerticalAlign2[VerticalAlign2.MIDDLE=16]="MIDDLE",VerticalAlign2[VerticalAlign2.BOTTOM=32]="BOTTOM",BlendMode2=BlendMode||(BlendMode={}),BlendMode2.SRC_OVER="srcOver",BlendMode2.DST_OVER="dstOver",BlendMode2.MULTIPLY="multiply",BlendMode2.ADD="add",BlendMode2.SCREEN="screen",BlendMode2.OVERLAY="overlay",BlendMode2.DARKEN="darken",BlendMode2.LIGHTEN="lighten",BlendMode2.HARD_LIGHT="hardLight",BlendMode2.DIFFERENCE="difference",BlendMode2.EXCLUSION="exclusion";const names=[srcOver,dstOver,multiply,add,screen,overlay,darken,lighten,hardLight,difference,exclusion];var compositeModes=Object.freeze({__proto__:null,add,darken,difference,dstOver,exclusion,hardLight,lighten,multiply,names,overlay,screen,srcOver});function composite(d,m,g=0,w=0,I={}){if(!(m instanceof d.constructor))throw new Error("The source must be a Jimp image");if(typeof g!="number"||typeof w!="number")throw new Error("x and y must be numbers");const{mode:P=BlendMode.SRC_OVER}=I;let{opacitySource:F=1,opacityDest:D=1}=I;(typeof F!="number"||F<0||F>1)&&(F=1),(typeof D!="number"||D<0||D>1)&&(D=1);const $=compositeModes[P];return g=Math.round(g),w=Math.round(w),D!==1&&d.scan((V,j,G)=>{const W=d.bitmap.data[G+3]*D;d.bitmap.data[G+3]=W}),m.scan((V,j,G)=>{const W=d.getPixelIndex(g+V,w+j,Edge.CROP);if(W===-1)return;const Z=$({r:m.bitmap.data[G+0]/255,g:m.bitmap.data[G+1]/255,b:m.bitmap.data[G+2]/255,a:m.bitmap.data[G+3]/255},{r:d.bitmap.data[W+0]/255,g:d.bitmap.data[W+1]/255,b:d.bitmap.data[W+2]/255,a:d.bitmap.data[W+3]/255},F);d.bitmap.data[W+0]=limit255(255*Z.r),d.bitmap.data[W+1]=limit255(255*Z.g),d.bitmap.data[W+2]=limit255(255*Z.b),d.bitmap.data[W+3]=limit255(255*Z.a)}),d}var jpeg$1={parseSections:function(d,m){var g,w;for(d.setBigEndian(!0);d.remainingLength()>0&&w!==218;){if(d.nextUInt8()!==255)throw new Error("Invalid JPEG section offset");g=(w=d.nextUInt8())>=208&&w<=217||w===218?0:d.nextUInt16()-2,m(w,d.branch(0,g)),d.skip(g)}},getSizeFromSOFSection:function(d){return d.skip(1),{height:d.nextUInt16(),width:d.nextUInt16()}},getSectionName:function(d){var m,g;switch(d){case 216:m="SOI";break;case 196:m="DHT";break;case 219:m="DQT";break;case 221:m="DRI";break;case 218:m="SOS";break;case 254:m="COM";break;case 217:m="EOI";break;default:d>=224&&d<=239?(m="APP",g=d-224):d>=192&&d<=207&&d!==196&&d!==200&&d!==204?(m="SOF",g=d-192):d>=208&&d<=215&&(m="RST",g=d-208)}var w={name:m};return typeof g=="number"&&(w.index=g),w}};function readExifValue(d,m){switch(d){case 1:return m.nextUInt8();case 3:case 8:return m.nextUInt16();case 4:case 9:return m.nextUInt32();case 5:return[m.nextUInt32(),m.nextUInt32()];case 6:return m.nextInt8();case 10:return[m.nextInt32(),m.nextInt32()];case 11:return m.nextFloat();case 12:return m.nextDouble();default:throw new Error("Invalid format while decoding: "+d)}}function getBytesPerComponent(d){switch(d){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}function readExifTag(d,m){var g,w,I=m.nextUInt16(),P=m.nextUInt16(),F=getBytesPerComponent(P),D=m.nextUInt32(),$=F*D;if($>4&&(m=d.openWithOffset(m.nextUInt32())),P===2){var V=(g=m.nextString(D)).indexOf("\0");V!==-1&&(g=g.substr(0,V))}else if(P===7)g=m.nextBuffer(D);else if(P!==0)for(g=[],w=0;w<D;++w)g.push(readExifValue(P,m));return $<4&&m.skip(4-$),[I,g,P]}function readIFDSection(d,m,g){var w,I,P=m.nextUInt16();for(I=0;I<P;++I)g((w=readExifTag(d,m))[0],w[1],w[2])}function readHeader(d){if(d.nextString(6)!=="Exif\0\0")throw new Error("Invalid EXIF header");var m=d.mark(),g=d.nextUInt16();if(g===18761)d.setBigEndian(!1);else{if(g!==19789)throw new Error("Invalid TIFF header");d.setBigEndian(!0)}if(d.nextUInt16()!==42)throw new Error("Invalid TIFF data");return m}var exif$2={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(d,m){var g,w,I,P;try{g=readHeader(d)}catch{return!1}var F=g.openWithOffset(d.nextUInt32()),D=this.IFD0;readIFDSection(g,F,function(U,Q,K){switch(U){case 34853:I=Q[0];break;case 34665:w=Q[0];break;default:m(D,U,Q,K)}});var $=F.nextUInt32();if($!==0){var V=g.openWithOffset($);readIFDSection(g,V,m.bind(null,this.IFD1))}if(I){var j=g.openWithOffset(I);readIFDSection(g,j,m.bind(null,this.GPSIFD))}if(w){var G=g.openWithOffset(w),W=this.InteropIFD;readIFDSection(g,G,function(U,Q,K){U===40965?P=Q[0]:m(W,U,Q,K)})}if(P){var Z=g.openWithOffset(P);readIFDSection(g,Z,m.bind(null,this.InteropIFD))}return!0}};function parseNumber(d){return parseInt(d,10)}var hours=3600,minutes=60;function parseDateTimeParts(d,m){d=d.map(parseNumber),m=m.map(parseNumber);var g=d[0],w=d[1]-1,I=d[2],P=m[0],F=m[1],D=m[2];return Date.UTC(g,w,I,P,F,D,0)/1e3}function parseDateWithTimezoneFormat(d){var m=d.substr(0,10).split("-"),g=d.substr(11,8).split(":"),w=d.substr(19,6).split(":").map(parseNumber),I=w[0]*hours+w[1]*minutes,P=parseDateTimeParts(m,g);if(typeof(P-=I)=="number"&&!isNaN(P))return P}function parseDateWithSpecFormat(d){var m=d.split(" "),g=parseDateTimeParts(m[0].split(":"),m[1].split(":"));if(typeof g=="number"&&!isNaN(g))return g}function parseExifDate(d){var m=d.length===19&&d.charAt(4)===":";return d.length===25&&d.charAt(10)==="T"?parseDateWithTimezoneFormat(d):m?parseDateWithSpecFormat(d):void 0}var date$1={parseDateWithSpecFormat,parseDateWithTimezoneFormat,parseExifDate},exif$1=exif$2,date=date$1,degreeTags=[{section:exif$1.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:exif$1.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],dateTags=[{section:exif$1.SubIFD,type:306,name:"ModifyDate"},{section:exif$1.SubIFD,type:36867,name:"DateTimeOriginal"},{section:exif$1.SubIFD,type:36868,name:"CreateDate"},{section:exif$1.SubIFD,type:306,name:"ModifyDate"}],simplify$1={castDegreeValues:function(d,m){degreeTags.forEach(function(g){var w=d(g);if(w){var I=d({section:g.section,type:g.refType,name:g.refName})===g.posVal?1:-1,P=(w[0]+w[1]/60+w[2]/3600)*I;m(g,P)}})},castDateValues:function(d,m){dateTags.forEach(function(g){var w=d(g);if(w){var I=date.parseExifDate(w);I!==void 0&&m(g,I)}})},simplifyValue:function(d,m){return Array.isArray(d)&&(d=d.map(function(g){return m===10||m===5?g[0]/g[1]:g})).length===1&&(d=d[0]),d}},exifTags,hasRequiredExifTags;function requireExifTags(){return hasRequiredExifTags?exifTags:(hasRequiredExifTags=1,exifTags={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}})}var jpeg=jpeg$1,exif=exif$2,simplify=simplify$1;function ExifResult(d,m,g,w,I,P,F){this.startMarker=d,this.tags=m,this.imageSize=g,this.thumbnailOffset=w,this.thumbnailLength=I,this.thumbnailType=P,this.app1Offset=F}function Parser$1(d){this.stream=d,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}ExifResult.prototype={hasThumbnail:function(d){return!(!this.thumbnailOffset||!this.thumbnailLength)&&(typeof d!="string"||(d.toLowerCase().trim()==="image/jpeg"?this.thumbnailType===6:d.toLowerCase().trim()==="image/tiff"&&this.thumbnailType===1))},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var d,m=this._getThumbnailStream();return jpeg.parseSections(m,function(g,w){jpeg.getSectionName(g).name==="SOF"&&(d=jpeg.getSizeFromSOFSection(w))}),d}},Parser$1.prototype={enableBinaryFields:function(d){return this.flags.readBinaryTags=!!d,this},enablePointers:function(d){return this.flags.hidePointers=!d,this},enableTagNames:function(d){return this.flags.resolveTagNames=!!d,this},enableImageSize:function(d){return this.flags.imageSize=!!d,this},enableReturnTags:function(d){return this.flags.returnTags=!!d,this},enableSimpleValues:function(d){return this.flags.simplifyValues=!!d,this},parse:function(){var d,m,g,w,I,P,F,D,$,V=this.stream.mark(),j=V.openWithOffset(0),G=this.flags;return G.resolveTagNames&&(F=requireExifTags()),G.resolveTagNames?(d={},D=function(W){return d[W.name]},$=function(W,Z){d[W.name]=Z}):(d=[],D=function(W){var Z;for(Z=0;Z<d.length;++Z)if(d[Z].type===W.type&&d[Z].section===W.section)return d.value},$=function(W,Z){var U;for(U=0;U<d.length;++U)if(d[U].type===W.type&&d[U].section===W.section)return void(d.value=Z)}),jpeg.parseSections(j,function(W,Z){var U=Z.offsetFrom(V);W===225?exif.parseTags(Z,function(Q,K,te,X){if(G.readBinaryTags||X!==7){if(K===513){if(g=te[0],G.hidePointers)return}else if(K===514){if(w=te[0],G.hidePointers)return}else if(K===259&&(I=te[0],G.hidePointers))return;if(G.returnTags)if(G.simplifyValues&&(te=simplify.simplifyValue(te,X)),G.resolveTagNames){var J=(Q===exif.GPSIFD?F.gps:F.exif)[K];J||(J=F.exif[K]),d.hasOwnProperty(J)||(d[J]=te)}else d.push({section:Q,type:K,value:te})}})&&(P=U):G.imageSize&&jpeg.getSectionName(W).name==="SOF"&&(m=jpeg.getSizeFromSOFSection(Z))}),G.simplifyValues&&(simplify.castDegreeValues(D,$),simplify.castDateValues(D,$)),new ExifResult(V,d,m,g,w,I,P)}};var parser=Parser$1,domBufferstream,hasRequiredDomBufferstream,bufferstream,hasRequiredBufferstream;function requireDomBufferstream(){if(hasRequiredDomBufferstream)return domBufferstream;function d(m,g,w,I,P,F){this.global=P,g=g||0,w=w||m.byteLength-g,this.arrayBuffer=m.slice(g,g+w),this.view=new P.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(I),this.offset=0,this.parentOffset=(F||0)+g}return hasRequiredDomBufferstream=1,d.prototype={setBigEndian:function(m){this.littleEndian=!m},nextUInt8:function(){var m=this.view.getUint8(this.offset);return this.offset+=1,m},nextInt8:function(){var m=this.view.getInt8(this.offset);return this.offset+=1,m},nextUInt16:function(){var m=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,m},nextUInt32:function(){var m=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,m},nextInt16:function(){var m=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,m},nextInt32:function(){var m=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,m},nextFloat:function(){var m=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,m},nextDouble:function(){var m=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,m},nextBuffer:function(m){var g=this.arrayBuffer.slice(this.offset,this.offset+m);return this.offset+=m,g},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(m){var g=this.arrayBuffer.slice(this.offset,this.offset+m);return g=String.fromCharCode.apply(null,new this.global.Uint8Array(g)),this.offset+=m,g},mark:function(){var m=this;return{openWithOffset:function(g){return g=(g||0)+this.offset,new d(m.arrayBuffer,g,m.arrayBuffer.byteLength-g,!m.littleEndian,m.global,m.parentOffset)},offset:this.offset,getParentOffset:function(){return m.parentOffset}}},offsetFrom:function(m){return this.parentOffset+this.offset-(m.offset+m.getParentOffset())},skip:function(m){this.offset+=m},branch:function(m,g){return g=typeof g=="number"?g:this.arrayBuffer.byteLength-(this.offset+m),new d(this.arrayBuffer,this.offset+m,g,!this.littleEndian,this.global,this.parentOffset)}},domBufferstream=d}function requireBufferstream(){if(hasRequiredBufferstream)return bufferstream;function d(m,g,w,I){this.buffer=m,this.offset=g||0,w=typeof w=="number"?w:m.length,this.endPosition=this.offset+w,this.setBigEndian(I)}return hasRequiredBufferstream=1,d.prototype={setBigEndian:function(m){this.bigEndian=!!m},nextUInt8:function(){var m=this.buffer.readUInt8(this.offset);return this.offset+=1,m},nextInt8:function(){var m=this.buffer.readInt8(this.offset);return this.offset+=1,m},nextUInt16:function(){var m=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,m},nextUInt32:function(){var m=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,m},nextInt16:function(){var m=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,m},nextInt32:function(){var m=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,m},nextFloat:function(){var m=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,m},nextDouble:function(){var m=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,m},nextBuffer:function(m){var g=this.buffer.slice(this.offset,this.offset+m);return this.offset+=m,g},remainingLength:function(){return this.endPosition-this.offset},nextString:function(m){var g=this.buffer.toString("utf8",this.offset,this.offset+m);return this.offset+=m,g},mark:function(){var m=this;return{openWithOffset:function(g){return g=(g||0)+this.offset,new d(m.buffer,g,m.endPosition-g,m.bigEndian)},offset:this.offset}},offsetFrom:function(m){return this.offset-m.offset},skip:function(m){this.offset+=m},branch:function(m,g){return g=typeof g=="number"?g:this.endPosition-(this.offset+m),new d(this.buffer,this.offset+m,g,this.bigEndian)}},bufferstream=d}var Parser=parser;function getGlobal(){return(0,eval)("this")}var exifParser={create:function(d,m){if(d instanceof(m=m||getGlobal()).ArrayBuffer){var g=requireDomBufferstream();return new Parser(new g(d,0,d.byteLength,!0,m))}var w=requireBufferstream();return new Parser(new w(d,0,d.length,!0))}},EXIFParser=getDefaultExportFromCjs(exifParser);function getExifOrientation(d){const m=d._exif;return m&&m.tags&&m.tags.Orientation||1}function getExifOrientationTransformation(d){const m=d.bitmap.width,g=d.bitmap.height;switch(getExifOrientation(d)){case 1:default:return null;case 2:return function(w,I){return[m-w-1,I]};case 3:return function(w,I){return[m-w-1,g-I-1]};case 4:return function(w,I){return[w,g-I-1]};case 5:return function(w,I){return[I,w]};case 6:return function(w,I){return[I,g-w-1]};case 7:return function(w,I){return[m-I-1,g-w-1]};case 8:return function(w,I){return[m-I-1,w]}}}function transformBitmap(d,m,g,w){const I=d.bitmap.data,P=d.bitmap.width,F=Buffer.alloc(I.length);for(let D=0;D<m;D++)for(let $=0;$<g;$++){const[V,j]=w(D,$),G=m*$+D<<2,W=P*j+V<<2,Z=I.readUInt32BE(W);F.writeUInt32BE(Z,G)}d.bitmap.data=F,d.bitmap.width=m,d.bitmap.height=g,d._exif.tags.Orientation=1}function exifRotate(d){if(getExifOrientation(d)<2)return;const m=getExifOrientationTransformation(d),g=getExifOrientation(d)>4,w=g?d.bitmap.height:d.bitmap.width,I=g?d.bitmap.width:d.bitmap.height;m&&transformBitmap(d,w,I,m)}async function attemptExifRotate(d,m){try{d._exif=EXIFParser.create(m).parse(),exifRotate(d)}catch{}}var __defProp$2=Object.defineProperty,__defNormalProp$2=(d,m,g)=>m in d?__defProp$2(d,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[m]=g,__publicField$2=(d,m,g)=>__defNormalProp$2(d,typeof m!="symbol"?m+"":m,g);const emptyBitmap={data:Buffer.alloc(0),width:0,height:0};function bufferFromArrayBuffer(d){const m=Buffer.alloc(d.byteLength),g=new Uint8Array(d);for(let w=0;w<m.length;++w)m[w]=g[w];return m}function createJimp({plugins:d,formats:m}={}){const g=d||[],w=(m||[]).map(P=>P()),I=class{constructor(P=emptyBitmap){if(__publicField$2(this,"bitmap",emptyBitmap),__publicField$2(this,"background",0),__publicField$2(this,"formats",[]),__publicField$2(this,"mime"),this.formats=w,"data"in P)this.bitmap=P;else if(this.bitmap={data:Buffer.alloc(P.width*P.height*4),width:P.width,height:P.height},P.color){this.background=typeof P.color=="string"?cssColorToHex(P.color):P.color;for(let F=0;F<this.bitmap.data.length;F+=4)this.bitmap.data.writeUInt32BE(this.background,F)}for(const F of g)for(const D in F)this[D]=(...$)=>{var j;const V=(j=F[D])==null?void 0:j.call(F,this,...$);return typeof V=="object"&&"bitmap"in V?(this.bitmap=V.bitmap,this):V}}static async read(P,F){if(Buffer.isBuffer(P)||P instanceof ArrayBuffer)return this.fromBuffer(P);const[D,$]=await to(fetch(P));if(D)throw new Error(`Could not load Buffer from URL: ${P}`);if(!$.ok)throw new Error(`HTTP Status ${$.status} for url ${P}`);const[V,j]=await to($.arrayBuffer());if(V)throw new Error(`Could not load Buffer from ${P}`);const G=bufferFromArrayBuffer(j);return this.fromBuffer(G,F)}static fromBitmap(P){let F;if(P.data instanceof Buffer&&(F=Buffer.from(P.data)),(P.data instanceof Uint8Array||P.data instanceof Uint8ClampedArray)&&(F=Buffer.from(P.data.buffer)),Array.isArray(P.data)&&(F=Buffer.concat(P.data.map(D=>Buffer.from(D.toString(16).padStart(8,"0"),"hex")))),!F)throw new Error("data must be a Buffer");if(typeof P.height!="number"||typeof P.width!="number")throw new Error("bitmap must have width and height");return new I({height:P.height,width:P.width,data:F})}static async fromBuffer(P,F){const D=P instanceof ArrayBuffer?bufferFromArrayBuffer(P):P,$=await fileType$1.fromBuffer(D);if(!$||!$.mime)throw new Error("Could not find MIME for Buffer");const V=w.find(G=>G.mime===$.mime);if(!V||!V.decode)throw new Error(`Mime type ${$.mime} does not support decoding`);const j=new I(await V.decode(D,F==null?void 0:F[V.mime]));return j.mime=$.mime,attemptExifRotate(j,D),j}inspect(){return"<Jimp "+(this.bitmap===emptyBitmap?"pending...":this.bitmap.width+"x"+this.bitmap.height)+">"}toString(){return"[object Jimp]"}get width(){return this.bitmap.width}get height(){return this.bitmap.height}async getBuffer(P,F){const D=this.formats.find(V=>V.mime===P);if(!D||!D.encode)throw new Error(`Unsupported MIME type: ${P}`);let $;return D.hasAlpha?$=this:($=new I({width:this.bitmap.width,height:this.bitmap.height,color:this.background}),composite($,this)),D.encode($.bitmap,F)}async getBase64(P,F){return"data:"+P+";base64,"+(await this.getBuffer(P,F)).toString("base64")}async write(P,F){const D=mime.getType(P);await writeFile(P,await this.getBuffer(D,F))}clone(){return new I({...this.bitmap,data:Buffer.from(this.bitmap.data)})}getPixelIndex(P,F,D){let $,V;if(D||(D=Edge.EXTEND),typeof P!="number"||typeof F!="number")throw new Error("x and y must be numbers");$=P=Math.round(P),V=F=Math.round(F),D===Edge.EXTEND&&(P<0&&($=0),P>=this.bitmap.width&&($=this.bitmap.width-1),F<0&&(V=0),F>=this.bitmap.height&&(V=this.bitmap.height-1)),D===Edge.WRAP&&(P<0&&($=this.bitmap.width+P),P>=this.bitmap.width&&($=P%this.bitmap.width),F<0&&(V=this.bitmap.height+F),F>=this.bitmap.height&&(V=F%this.bitmap.height));let j=this.bitmap.width*V+$<<2;return($<0||$>=this.bitmap.width)&&(j=-1),(V<0||V>=this.bitmap.height)&&(j=-1),j}getPixelColor(P,F){if(typeof P!="number"||typeof F!="number")throw new Error("x and y must be numbers");const D=this.getPixelIndex(P,F);return this.bitmap.data.readUInt32BE(D)}setPixelColor(P,F,D){if(typeof P!="number"||typeof F!="number"||typeof D!="number")throw new Error("hex, x and y must be numbers");const $=this.getPixelIndex(F,D);return this.bitmap.data.writeUInt32BE(P,$),this}hasAlpha(){const{width:P,height:F,data:D}=this.bitmap,$=P*F<<2;for(let V=3;V<$;V+=4)if(D[V]!==255)return!0;return!1}composite(P,F=0,D=0,$={}){return composite(this,P,F,D,$)}scan(P,F,D,$,V){return scan(this,P,F,D,$,V)}scanIterator(P=0,F=0,D=this.bitmap.width,$=this.bitmap.height){if(typeof P!="number"||typeof F!="number")throw new Error("x and y must be numbers");if(typeof D!="number"||typeof $!="number")throw new Error("w and h must be numbers");return scanIterator(this,P,F,D,$)}};return I}var ResizeStrategy,ResizeStrategy2;function Resize(d,m,g,w,I,P,F){this.widthOriginal=Math.abs(Math.floor(d)||0),this.heightOriginal=Math.abs(Math.floor(m)||0),this.targetWidth=Math.abs(Math.floor(g)||0),this.targetHeight=Math.abs(Math.floor(w)||0),this.colorChannels=I?4:3,this.interpolationPass=!!P,this.resizeCallback=typeof F=="function"?F:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}ResizeStrategy2=ResizeStrategy||(ResizeStrategy={}),ResizeStrategy2.NEAREST_NEIGHBOR="nearestNeighbor",ResizeStrategy2.BILINEAR="bilinearInterpolation",ResizeStrategy2.BICUBIC="bicubicInterpolation",ResizeStrategy2.HERMITE="hermiteInterpolation",ResizeStrategy2.BEZIER="bezierInterpolation",Resize.prototype.initialize=function(){if(!(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0))throw console.log(this),new Error("Invalid settings specified for the resizer.");this.configurePasses()},Resize.prototype.configurePasses=function(){this.widthOriginal===this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=this.colorChannels===4?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=this.colorChannels===4?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal===this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=this.colorChannels===4?this.resizeHeightRGBA:this.resizeHeightRGB))},Resize.prototype._resizeWidthInterpolatedRGBChannels=function(d,m){const g=m?4:3,w=this.ratioWeightWidthPass,I=this.widthBuffer;let P,F,D=0,$=0,V=0,j=0,G=0;for(P=0;D<1/3;P+=g,D+=w)for($=P,V=0;$<this.widthPassResultSize;V+=this.originalWidthMultipliedByChannels,$+=this.targetWidthMultipliedByChannels)I[$]=d[V],I[$+1]=d[V+1],I[$+2]=d[V+2],m&&(I[$+3]=d[V+3]);for(D-=1/3,F=this.widthOriginal-1;D<F;P+=g,D+=w)for(G=D%1,j=1-G,$=P,V=Math.floor(D)*g;$<this.widthPassResultSize;V+=this.originalWidthMultipliedByChannels,$+=this.targetWidthMultipliedByChannels)I[$+0]=d[V+0]*j+d[V+g+0]*G,I[$+1]=d[V+1]*j+d[V+g+1]*G,I[$+2]=d[V+2]*j+d[V+g+2]*G,m&&(I[$+3]=d[V+3]*j+d[V+g+3]*G);for(F=this.originalWidthMultipliedByChannels-g;P<this.targetWidthMultipliedByChannels;P+=g)for($=P,V=F;$<this.widthPassResultSize;V+=this.originalWidthMultipliedByChannels,$+=this.targetWidthMultipliedByChannels)I[$]=d[V],I[$+1]=d[V+1],I[$+2]=d[V+2],m&&(I[$+3]=d[V+3]);return I},Resize.prototype._resizeWidthRGBChannels=function(d,m){const g=m?4:3,w=this.ratioWeightWidthPass,I=1/w,P=this.originalWidthMultipliedByChannels-g+1,F=this.targetWidthMultipliedByChannels-g+1,D=this.outputWidthWorkBench,$=this.widthBuffer,V=this.outputWidthWorkBenchOpaquePixelsCount;let j=0,G=0,W=0,Z=0,U=0,Q=0,K=0,te=1,X=0,J=0,ee=0,ie=0;do{for(U=0;U<this.originalHeightMultipliedByChannels;)D[U++]=0,D[U++]=0,D[U++]=0,m&&(D[U++]=0,V[U/g-1]=0);j=w;do{for(G=1+W-Z,te=Math.min(j,G),U=0,Q=W;U<this.originalHeightMultipliedByChannels;Q+=P)X=d[Q],J=d[++Q],ee=d[++Q],ie=m?d[++Q]:255,D[U++]+=(ie?X:0)*te,D[U++]+=(ie?J:0)*te,D[U++]+=(ie?ee:0)*te,m&&(D[U++]+=ie*te,V[U/g-1]+=ie?te:0);if(!(j>=G)){Z+=j;break}W+=g,Z=W,j-=G}while(j>0&&W<this.originalWidthMultipliedByChannels);for(U=0,Q=K;U<this.originalHeightMultipliedByChannels;Q+=F)j=m?V[U/g]:1,te=m?j?1/j:0:I,$[Q]=D[U++]*te,$[++Q]=D[U++]*te,$[++Q]=D[U++]*te,m&&($[++Q]=D[U++]*I);K+=g}while(K<this.targetWidthMultipliedByChannels);return $},Resize.prototype._resizeHeightRGBChannels=function(d,m){const g=this.ratioWeightHeightPass,w=1/g,I=this.outputHeightWorkBench,P=this.heightBuffer,F=this.outputHeightWorkBenchOpaquePixelsCount;let D=0,$=0,V=0,j=0,G=0,W=0,Z=0,U=1,Q=0,K=0,te=0,X=0;do{for(G=0;G<this.targetWidthMultipliedByChannels;)I[G++]=0,I[G++]=0,I[G++]=0,m&&(I[G++]=0,F[G/4-1]=0);D=g;do{for($=1+V-j,U=Math.min(D,$),Z=V,G=0;G<this.targetWidthMultipliedByChannels;)Q=d[Z++],K=d[Z++],te=d[Z++],X=m?d[Z++]:255,I[G++]+=(X?Q:0)*U,I[G++]+=(X?K:0)*U,I[G++]+=(X?te:0)*U,m&&(I[G++]+=X*U,F[G/4-1]+=X?U:0);if(!(D>=$)){j+=D;break}V=Z,j=V,D-=$}while(D>0&&V<this.widthPassResultSize);for(G=0;G<this.targetWidthMultipliedByChannels;)D=m?F[G/4]:1,U=m?D?1/D:0:w,P[W++]=Math.round(I[G++]*U),P[W++]=Math.round(I[G++]*U),P[W++]=Math.round(I[G++]*U),m&&(P[W++]=Math.round(I[G++]*w))}while(W<this.finalResultSize);return P},Resize.prototype.resizeWidthInterpolatedRGB=function(d){return this._resizeWidthInterpolatedRGBChannels(d,!1)},Resize.prototype.resizeWidthInterpolatedRGBA=function(d){return this._resizeWidthInterpolatedRGBChannels(d,!0)},Resize.prototype.resizeWidthRGB=function(d){return this._resizeWidthRGBChannels(d,!1)},Resize.prototype.resizeWidthRGBA=function(d){return this._resizeWidthRGBChannels(d,!0)},Resize.prototype.resizeHeightInterpolated=function(d){const m=this.ratioWeightHeightPass,g=this.heightBuffer;let w,I=0,P=0,F=0,D=0,$=0,V=0,j=0;for(;I<1/3;I+=m)for(F=0;F<this.targetWidthMultipliedByChannels;)g[P++]=Math.round(d[F++]);for(I-=1/3,w=this.heightOriginal-1;I<w;I+=m)for(j=I%1,V=1-j,D=Math.floor(I)*this.targetWidthMultipliedByChannels,$=D+this.targetWidthMultipliedByChannels,F=0;F<this.targetWidthMultipliedByChannels;++F)g[P++]=Math.round(d[D++]*V+d[$++]*j);for(;P<this.finalResultSize;)for(F=0,D=w*this.targetWidthMultipliedByChannels;F<this.targetWidthMultipliedByChannels;++F)g[P++]=Math.round(d[D++]);return g},Resize.prototype.resizeHeightRGB=function(d){return this._resizeHeightRGBChannels(d,!1)},Resize.prototype.resizeHeightRGBA=function(d){return this._resizeHeightRGBChannels(d,!0)},Resize.prototype.resize=function(d){this.resizeCallback(this.resizeHeight(this.resizeWidth(d)))},Resize.prototype.bypassResizer=function(d){return d},Resize.prototype.initializeFirstPassBuffers=function(d){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),d||(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels),this.colorChannels>3&&(this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)))},Resize.prototype.initializeSecondPassBuffers=function(d){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),d||(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels),this.colorChannels>3&&(this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)))},Resize.prototype.generateFloatBuffer=function(d){try{return new Float32Array(d)}catch(m){return console.error(m),[]}},Resize.prototype.generateFloat64Buffer=function(d){try{return new Float64Array(d)}catch(m){return console.error(m),[]}},Resize.prototype.generateUint8Buffer=function(d){try{return new Uint8Array(d)}catch(m){return console.error(m),[]}};const operations={nearestNeighbor(d,m){const g=d.width,w=d.height,I=m.width,P=m.height,F=d.data,D=m.data;for(let $=0;$<P;$++)for(let V=0;V<I;V++){let j=4*($*I+V),G=4*(Math.floor($*w/P)*g+Math.floor(V*g/I));D[j++]=F[G++],D[j++]=F[G++],D[j++]=F[G++],D[j++]=F[G++]}},bilinearInterpolation(d,m){const g=d.width,w=d.height,I=m.width,P=m.height,F=d.data,D=m.data,$=function(j,G,W,Z,U){return G===Z?W:Math.round((j-G)*U+(Z-j)*W)},V=function(j,G,W,Z,U,Q,K,te){let X=4*(K*g+Z)+G,J=4*(K*g+U)+G;const ee=$(W,Z,F[X],U,F[J]);if(te===K)D[j+G]=ee;else{X=4*(te*g+Z)+G,J=4*(te*g+U)+G;const ie=$(W,Z,F[X],U,F[J]);D[j+G]=$(Q,K,ee,te,ie)}};for(let j=0;j<P;j++)for(let G=0;G<I;G++){const W=4*(j*I+G),Z=G*g/I,U=Math.floor(Z),Q=Math.min(Math.ceil(Z),g-1),K=j*w/P,te=Math.floor(K),X=Math.min(Math.ceil(K),w-1);V(W,0,Z,U,Q,K,te,X),V(W,1,Z,U,Q,K,te,X),V(W,2,Z,U,Q,K,te,X),V(W,3,Z,U,Q,K,te,X)}},_interpolate2D(d,m,g,w){const I=d.data,P=m.data,F=d.width,D=d.height,$=m.width,V=m.height,j=Math.max(1,Math.floor(F/$)),G=$*j,W=Math.max(1,Math.floor(D/V)),Z=V*W,U=Buffer.alloc(G*D*4);for(let te=0;te<D;te++)for(let X=0;X<G;X++){const J=X*(F-1)/G,ee=Math.floor(J),ie=J-ee,fe=4*(te*F+ee),se=4*(te*G+X);for(let de=0;de<4;de++){const le=fe+de,ye=ee>0?I[le-4]:2*I[le]-I[le+4],ae=I[le],ge=I[le+4],Pe=ee<F-2?I[le+8]:2*I[le+4]-I[le];U[se+de]=w(ye,ae,ge,Pe,ie)}}const Q=Buffer.alloc(G*Z*4);for(let te=0;te<Z;te++)for(let X=0;X<G;X++){const J=te*(D-1)/Z,ee=Math.floor(J),ie=J-ee,fe=4*(ee*G+X),se=4*(te*G+X);for(let de=0;de<4;de++){const le=fe+de,ye=ee>0?U[le-4*G]:2*U[le]-U[le+4*G],ae=U[le],ge=U[le+4*G],Pe=ee<D-2?U[le+8*G]:2*U[le+4*G]-U[le];Q[se+de]=w(ye,ae,ge,Pe,ie)}}const K=j*W;if(K>1)for(let te=0;te<V;te++)for(let X=0;X<$;X++){let J=0,ee=0,ie=0,fe=0,se=0;for(let le=0;le<W;le++){const ye=te*W+le;for(let ae=0;ae<j;ae++){const ge=4*(ye*G+(X*j+ae)),Pe=Q[ge+3];Pe&&(J+=Q[ge],ee+=Q[ge+1],ie+=Q[ge+2],se++),fe+=Pe}}const de=4*(te*$+X);P[de]=se?Math.round(J/se):0,P[de+1]=se?Math.round(ee/se):0,P[de+2]=se?Math.round(ie/se):0,P[de+3]=Math.round(fe/K)}else m.data=Q},bicubicInterpolation(d,m,g){return this._interpolate2D(d,m,g,function(w,I,P,F,D){const $=F-P-w+I,V=w-I-$,j=P-w,G=I;return Math.max(0,Math.min(255,$*(D*D*D)+V*(D*D)+j*D+G))})},hermiteInterpolation(d,m,g){return this._interpolate2D(d,m,g,function(w,I,P,F,D){const $=I,V=.5*(P-w),j=w-2.5*I+2*P-.5*F,G=.5*(F-w)+1.5*(I-P);return Math.max(0,Math.min(255,Math.round(((G*D+j)*D+V)*D+$)))})},bezierInterpolation(d,m,g){return this._interpolate2D(d,m,g,function(w,I,P,F,D){const $=1-D,V=I*$*$*$,j=3*(I+(P-w)/4)*$*$*D,G=3*(P-(F-I)/4)*$*D*D,W=P*D*D*D;return Math.max(0,Math.min(255,Math.round(V+j+G+W)))})}},ResizeOptionsSchema=z.union([z.object({w:z.number().min(0),h:z.number().min(0).optional(),mode:z.nativeEnum(ResizeStrategy).optional()}),z.object({w:z.number().min(0).optional(),h:z.number().min(0),mode:z.nativeEnum(ResizeStrategy).optional()})]),ScaleToFitOptionsSchema=z.object({w:z.number().min(0),h:z.number().min(0),mode:z.nativeEnum(ResizeStrategy).optional()}),ScaleComplexOptionsSchema=z.object({f:z.number().min(0),mode:z.nativeEnum(ResizeStrategy).optional()}),methods$d={resize(d,m){const{mode:g}=ResizeOptionsSchema.parse(m);let w,I;if(typeof m.w=="number")w=m.w,I=m.h??d.bitmap.height*(w/d.bitmap.width);else{if(typeof m.h!="number")throw new Error("w must be a number");I=m.h,w=m.w??d.bitmap.width*(I/d.bitmap.height)}if(w=Math.round(w)||1,I=Math.round(I)||1,g&&typeof operations[g]=="function"){const P={data:Buffer.alloc(w*I*4),width:w,height:I};operations[g](d.bitmap,P),d.bitmap=P}else new Resize(d.bitmap.width,d.bitmap.height,w,I,!0,!0,P=>{d.bitmap.data=Buffer.from(P),d.bitmap.width=w,d.bitmap.height=I}).resize(d.bitmap.data);return d},scale(d,m){const{f:g,mode:w}=typeof m=="number"?{f:m}:ScaleComplexOptionsSchema.parse(m),I=d.bitmap.width*g,P=d.bitmap.height*g;return this.resize(d,{w:I,h:P,mode:w})},scaleToFit(d,m){const{h:g,w,mode:I}=ScaleToFitOptionsSchema.parse(m),P=w/g>d.bitmap.width/d.bitmap.height?g/d.bitmap.height:w/d.bitmap.width;return this.scale(d,{f:P,mode:I})}},ContainOptionsSchema=z.object({w:z.number(),h:z.number(),align:z.number().optional(),mode:z.nativeEnum(ResizeStrategy).optional()}),methods$c={contain(d,m){const{w:g,h:w,align:I=HorizontalAlign.CENTER|VerticalAlign.MIDDLE,mode:P}=ContainOptionsSchema.parse(m),F=7&I,D=I>>3;if((F===0||F&F-1)&&(D===0||D&D-1))throw new Error("only use one flag per alignment direction");const $=F>>1,V=D>>1,j=g/w>d.bitmap.width/d.bitmap.height?w/d.bitmap.height:g/d.bitmap.width,G=methods$d.scale(clone(d),{f:j,mode:P});return(d=methods$d.resize(d,{w:g,h:w,mode:P})).scan((W,Z,U)=>{d.bitmap.data.writeUInt32BE(d.background,U)}),d=methods$h.blit(d,{src:G,x:(d.bitmap.width-G.bitmap.width)/2*$,y:(d.bitmap.height-G.bitmap.height)/2*V})}},CropOptionsSchema=z.object({x:z.number(),y:z.number(),w:z.number(),h:z.number()}),AutocropComplexOptionsSchema=z.object({tolerance:z.number().min(0).max(1).optional(),cropOnlyFrames:z.boolean().optional(),cropSymmetric:z.boolean().optional(),leaveBorder:z.number().optional(),ignoreSides:z.object({north:z.boolean().optional(),south:z.boolean().optional(),east:z.boolean().optional(),west:z.boolean().optional()}).optional()}),methods$b={crop(d,m){let{x:g,y:w,w:I,h:P}=CropOptionsSchema.parse(m);if(g=Math.round(g),w=Math.round(w),I=Math.round(I),P=Math.round(P),g===0&&I===d.bitmap.width){const F=I*w+g<<2,D=F+(P*I<<2);d.bitmap.data=d.bitmap.data.slice(F,D)}else{const F=Buffer.allocUnsafe(I*P*4);let D=0;scan(d,g,w,I,P,function($,V,j){const G=d.bitmap.data.readUInt32BE(j);F.writeUInt32BE(G,D),D+=4}),d.bitmap.data=F}return d.bitmap.width=I,d.bitmap.height=P,d},autocrop(d,m={}){const{tolerance:g=2e-4,cropOnlyFrames:w=!0,cropSymmetric:I=!1,leaveBorder:P=0,ignoreSides:F}=typeof m=="number"?{tolerance:m}:AutocropComplexOptionsSchema.parse(m),D=d.bitmap.width,$=d.bitmap.height,V={north:!1,south:!1,east:!1,west:!1,...F};let j=d.getPixelColor(0,0);const G=intToRGBA$1(j);let W=0,Z=0,U=0,Q=0;if(j=d.getPixelColor(0,0),!V.north)e:for(let J=0;J<$-1;J++){for(let ee=0;ee<D;ee++)if(colorDiff(G,intToRGBA$1(d.getPixelColor(ee,J)))>g)break e;W++}if(j=d.getPixelColor(D,0),!V.west)e:for(let J=0;J<D-1;J++){for(let ee=0+W;ee<$;ee++)if(colorDiff(G,intToRGBA$1(d.getPixelColor(J,ee)))>g)break e;Q++}if(j=d.getPixelColor(0,$),!V.south)e:for(let J=$-1;J>=W+1;J--){for(let ee=D-Z-1;ee>=0;ee--)if(colorDiff(G,intToRGBA$1(d.getPixelColor(ee,J)))>g)break e;U++}if(j=d.getPixelColor(D,$),!V.east)e:for(let J=D-1;J>=0+Q+1;J--){for(let ee=$-1;ee>=0+W;ee--)if(colorDiff(G,intToRGBA$1(d.getPixelColor(J,ee)))>g)break e;Z++}let K=!1;if(Q-=P,Z-=P,W-=P,U-=P,I){const J=Math.min(Z,Q),ee=Math.min(W,U);Q=J,Z=J,W=ee,U=ee}Q=Q>=0?Q:0,Z=Z>=0?Z:0,W=W>=0?W:0,U=U>=0?U:0;const te=D-(Q+Z),X=$-(U+W);return K=w?Z!==0&&W!==0&&Q!==0&&U!==0:Z!==0||W!==0||Q!==0||U!==0,K&&this.crop(d,{x:Q,y:W,w:te,h:X}),d}},CoverOptionsSchema=z.object({w:z.number(),h:z.number(),align:z.number().optional(),mode:z.nativeEnum(ResizeStrategy).optional()}),methods$a={cover(d,m){const{w:g,h:w,align:I=HorizontalAlign.CENTER|VerticalAlign.MIDDLE,mode:P}=CoverOptionsSchema.parse(m),F=7&I,D=I>>3;if((F===0||F&F-1)&&(D===0||D&D-1))throw new Error("only use one flag per alignment direction");const $=F>>1,V=D>>1,j=g/w>d.bitmap.width/d.bitmap.height?g/d.bitmap.width:w/d.bitmap.height;return d=methods$d.scale(d,{f:j,mode:P}),d=methods$b.crop(d,{x:(d.bitmap.width-g)/2*$,y:(d.bitmap.height-w)/2*V,w:g,h:w})}},DisplaceOptionsSchema=z.object({map:JimpClassSchema,offset:z.number()}),methods$9={displace(d,m){const{map:g,offset:w}=DisplaceOptionsSchema.parse(m),I=clone(d);return d.scan((P,F,D)=>{let $=g.bitmap.data[D]/256*w;$=Math.round($);const V=d.getPixelIndex(P+$,F);d.bitmap.data[V]=I.bitmap.data[D],d.bitmap.data[V+1]=I.bitmap.data[D+1],d.bitmap.data[V+2]=I.bitmap.data[D+2]}),d}},methods$8={dither(d){const m=[1,9,3,11,13,5,15,7,4,12,2,10,16,8,14,6];return d.scan((g,w,I)=>{const P=m[((3&w)<<2)+g%4];d.bitmap.data[I]=Math.min(d.bitmap.data[I]+P,255),d.bitmap.data[I+1]=Math.min(d.bitmap.data[I+1]+P,255),d.bitmap.data[I+2]=Math.min(d.bitmap.data[I+2]+P,255)}),d}},FisheyeOptionsSchema=z.object({radius:z.number().min(0).optional()}),methods$7={fisheye(d,m={}){const{radius:g=2.5}=FisheyeOptionsSchema.parse(m),w=clone(d),{width:I,height:P}=w.bitmap;return w.scan((F,D)=>{const $=F/I,V=D/P,j=Math.sqrt(Math.pow($-.5,2)+Math.pow(V-.5,2)),G=2*Math.pow(j,g),W=($-.5)/j,Z=(V-.5)/j,U=Math.round((G*W+.5)*I),Q=Math.round((G*Z+.5)*P),K=w.getPixelColor(U,Q);d.setPixelColor(K,F,D)}),d.setPixelColor(w.getPixelColor(I/2,P/2),I/2,P/2),d}},FlipOptionsSchema=z.object({horizontal:z.boolean().optional(),vertical:z.boolean().optional()}),methods$6={flip(d,m){const{horizontal:g,vertical:w}=FlipOptionsSchema.parse(m),I=Buffer.alloc(d.bitmap.data.length);return d.scan((P,F,D)=>{const $=g?d.bitmap.width-1-P:P,V=w?d.bitmap.height-1-F:F,j=d.bitmap.width*V+$<<2,G=d.bitmap.data.readUInt32BE(D);I.writeUInt32BE(G,j)}),d.bitmap.data=Buffer.from(I),d}};function Converter$1(d,m){if(!(d&&m&&d.length&&m.length))throw new Error("Bad alphabet");this.srcAlphabet=d,this.dstAlphabet=m}Converter$1.prototype.convert=function(d){var m,g,w,I={},P=this.srcAlphabet.length,F=this.dstAlphabet.length,D=d.length,$=typeof d=="string"?"":[];if(!this.isValid(d))throw new Error('Number "'+d+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return d;for(m=0;m<D;m++)I[m]=this.srcAlphabet.indexOf(d[m]);do{for(g=0,w=0,m=0;m<D;m++)(g=g*P+I[m])>=F?(I[w++]=parseInt(g/F,10),g%=F):w>0&&(I[w++]=0);D=w,$=this.dstAlphabet.slice(g,g+1).concat($)}while(w!==0);return $},Converter$1.prototype.isValid=function(d){for(var m=0;m<d.length;++m)if(this.srcAlphabet.indexOf(d[m])===-1)return!1;return!0};var converter=Converter$1,Converter=converter;function anyBase(d,m){var g=new Converter(d,m);return function(w){return g.convert(w)}}anyBase.BIN="01",anyBase.OCT="01234567",anyBase.DEC="0123456789",anyBase.HEX="0123456789abcdef";var anyBase_1=anyBase,anyBase$1=getDefaultExportFromCjs(anyBase_1),__defProp$1=Object.defineProperty,__defNormalProp$1=(d,m,g)=>m in d?__defProp$1(d,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[m]=g,__publicField$1=(d,m,g)=>__defNormalProp$1(d,typeof m!="symbol"?m+"":m,g);class ImagePHash{constructor(m,g){__publicField$1(this,"size"),__publicField$1(this,"smallerSize"),this.size=m||32,this.smallerSize=g||8,initCoefficients(this.size)}distance(m,g){let w=0;for(let I=0;I<m.length;I++)m[I]!==g[I]&&w++;return w/m.length}getHash(m){m=methods$d.resize(clone(m),{w:this.size,h:this.size}),m=methods$e.greyscale(m);const g=[];for(let D=0;D<m.bitmap.width;D++){const $=[];for(let V=0;V<m.bitmap.height;V++)$[V]=intToRGBA(m.getPixelColor(D,V)).b;g[D]=$}const w=applyDCT(g,this.size);let I=0;for(let D=0;D<this.smallerSize;D++)for(let $=0;$<this.smallerSize;$++)I+=w[D][$];const P=I/(this.smallerSize*this.smallerSize);let F="";for(let D=0;D<this.smallerSize;D++)for(let $=0;$<this.smallerSize;$++)F+=w[D][$]>P?"1":"0";return F}}function intToRGBA(d){const m=255&d,g=255&(d>>>=8),w=255&(d>>>=8);return{r:255&(d>>>=8),g:w,b:g,a:m}}const c$1=[];function initCoefficients(d){for(let m=1;m<d;m++)c$1[m]=1;c$1[0]=1/Math.sqrt(2)}function applyDCT(d,m){const g=m,w=[];for(let I=0;I<g;I++){const P=[];for(let F=0;F<g;F++){let D=0;for(let $=0;$<g;$++)for(let V=0;V<g;V++)D+=Math.cos((2*$+1)/(2*g)*I*Math.PI)*Math.cos((2*V+1)/(2*g)*F*Math.PI)*d[$][V];D*=c$1[I]*c$1[F]/4,P[F]=D,w[I]=P}}return w}const alphabet="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",maxHashLength=[NaN,NaN];for(let d=2;d<65;d++){const m=anyBase$1(anyBase$1.BIN,alphabet.slice(0,d))(new Array(65).join("1"));maxHashLength.push(m.length)}const methods$5={pHash:d=>new ImagePHash().getHash(d),hash(d,m=64){if(m<2||m>64)throw new Error("base must be a number between 2 and 64");const g=alphabet.slice(0,m),w=this.pHash(d),I=maxHashLength[m];return anyBase$1(anyBase$1.BIN,g)(w).padStart(I,"0")},distanceFromHash(d,m){const g=new ImagePHash,w=g.getHash(d);return g.distance(w,m)}},MaskOptionsObjectSchema=z.object({src:JimpClassSchema,x:z.number().optional(),y:z.number().optional()}),MaskOptionsSchema=z.union([JimpClassSchema,MaskOptionsObjectSchema]),methods$4={mask(d,m){let g,w,I;MaskOptionsSchema.parse(m),"bitmap"in m?(g=m,w=0,I=0):(g=m.src,w=m.x??0,I=m.y??0),w=Math.round(w),I=Math.round(I);const P=d.bitmap.width,F=d.bitmap.height;return g.scan(function(D,$,V){const j=w+D,G=I+$;if(j>=0&&G>=0&&j<P&&G<F){const W=d.getPixelIndex(j,G),{data:Z}=g.bitmap,U=(Z[V+0]+Z[V+1]+Z[V+2])/3;d.bitmap.data[W+3]*=U/255}}),d}};function measureText(d,m){let g=0;for(let w=0;w<m.length;w++){const I=m[w],P=d.chars[I];if(P){const F=d.kernings[I],D=m[w+1],$=F&&D&&F[D]&&F[D]||0;g+=(P.xadvance||0)+$}}return g}function splitLines(d,m,g){const w=m.replace(/[\r\n]+/g,` 
`).split(" "),I=[];let P=[],F=0;return w.forEach(D=>{if(measureText(d,D+(w.length>1?" ":""))>g){const j=D[Symbol.iterator]();let G="";for(const W of j){const Z=[...P,G+W].join(" "),U=measureText(d,Z);U<g?G+=W:U>g?(I.push([...P,G]),P=[],G=W):(I.push([...P,G+W]),P=[],G="")}return}const $=[...P,D].join(" "),V=measureText(d,$);V<=g&&!D.includes(`
`)?(V>F&&(F=V),P.push(D)):(I.push(P),P=[D.replace(`
`,"")])}),I.push(P),{lines:I,longestLine:F}}function measureTextHeight(d,m,g){const{lines:w}=splitLines(d,m,g);return w.length*d.common.lineHeight}const PrintOptionsSchema=z.object({x:z.number(),y:z.number(),text:z.union([z.union([z.string(),z.number()]),z.object({text:z.union([z.string(),z.number()]),alignmentX:z.nativeEnum(HorizontalAlign).optional(),alignmentY:z.nativeEnum(VerticalAlign).optional()})]),maxWidth:z.number().optional(),maxHeight:z.number().optional(),cb:z.function(z.tuple([z.object({x:z.number(),y:z.number()})])).optional()});function xOffsetBasedOnAlignment(d,m,g,w){return w===HorizontalAlign.LEFT?0:w===HorizontalAlign.CENTER?(g-measureText(d,m))/2:g-measureText(d,m)}function drawCharacter(d,m,g,w,I){if(I.width>0&&I.height>0){const P=m.pages[I.page];P&&(d=methods$h.blit(d,{src:P,x:g+I.xoffset,y:w+I.yoffset,srcX:I.x,srcY:I.y,srcW:I.width,srcH:I.height}))}return d}function printText(d,m,g,w,I,P){for(let F=0;F<I.length;F++){const D=I[F];let $;$=m.chars[D]?D:/\s/.test(D)?"":"?";const V=m.chars[$]||{xadvance:void 0},j=m.kernings[$];V&&drawCharacter(d,m,g,w,V);const G=I[F+1];g+=(j&&G&&j[G]&&j[G]||0)+(V.xadvance||P)}}const methods$3={print(d,{font:m,...g}){var U;let w,I,{x:P,y:F,text:D,maxWidth:$=1/0,maxHeight:V=1/0,cb:j=()=>{}}=PrintOptionsSchema.parse(g);typeof D=="object"&&D.text!==null&&D.text!==void 0?(w=D.alignmentX||HorizontalAlign.LEFT,I=D.alignmentY||VerticalAlign.TOP,{text:D}=D):(w=HorizontalAlign.LEFT,I=VerticalAlign.TOP,D=D.toString()),typeof D=="number"&&(D=D.toString()),V!==1/0&&I===VerticalAlign.BOTTOM?F+=V-measureTextHeight(m,D,$):V!==1/0&&I===VerticalAlign.MIDDLE&&(F+=V/2-measureTextHeight(m,D,$)/2);const G=(U=Object.entries(m.chars).find(Q=>Q[1].xadvance))==null?void 0:U[1].xadvance;if(typeof G!="number")throw new Error("Could not find default character width");const{lines:W,longestLine:Z}=splitLines(m,D,$);return W.forEach(Q=>{const K=Q.join(" "),te=xOffsetBasedOnAlignment(m,K,$,w);printText(d,m,P+te,F,K,G),F+=m.common.lineHeight}),j.bind(d)({x:P+Z,y:F}),d}},RotateOptionsSchema=z.union([z.number(),z.object({deg:z.number(),mode:z.union([z.boolean(),z.nativeEnum(ResizeStrategy)]).optional()})]);function createIdxTranslationFunction(d){return function(m,g){return g*d+m<<2}}function matrixRotate(d,m){if(Math.abs(m)%90!=0)throw new Error("Unsupported matrix rotation degree");const g=d.bitmap.width,w=d.bitmap.height;let I;switch(m){case 90:case-270:I=90;break;case 180:case-180:I=180;break;case 270:case-90:I=-90;break;default:throw new Error("Unsupported matrix rotation degree")}const P=I===180?g:w,F=I===180?w:g,D=Buffer.alloc(d.bitmap.data.length),$=createIdxTranslationFunction(g),V=createIdxTranslationFunction(P);for(let j=0;j<g;j++)for(let G=0;G<w;G++){const W=$(j,G),Z=d.bitmap.data.readUInt32BE(W);let U;switch(I){case 90:U=V(G,g-j-1);break;case-90:U=V(w-G-1,j);break;case 180:U=V(g-j-1,w-G-1);break;default:throw new Error("Unsupported matrix rotation angle")}D.writeUInt32BE(Z,U)}d.bitmap.data=D,d.bitmap.width=P,d.bitmap.height=F}function createTranslationFunction(d,m){return function(g,w){return{x:g+d,y:w+m}}}function advancedRotate(d,m,g){const w=m*Math.PI/180,I=Math.cos(w),P=Math.sin(w);let F=d.bitmap.width,D=d.bitmap.height;if(g===!0||typeof g=="string"){F=Math.ceil(Math.abs(d.bitmap.width*I)+Math.abs(d.bitmap.height*P))+1,D=Math.ceil(Math.abs(d.bitmap.width*P)+Math.abs(d.bitmap.height*I))+1,F%2!=0&&F++,D%2!=0&&D++;const Z=clone(d);d.scan((Q,K,te)=>{d.bitmap.data.writeUInt32BE(d.background,te)});const U=Math.max(F,D,d.bitmap.width,d.bitmap.height);d=composite(d=methods$d.resize(d,{h:U,w:U,mode:g===!0?void 0:g}),Z,d.bitmap.width/2-Z.bitmap.width/2,d.bitmap.height/2-Z.bitmap.height/2)}const $=d.bitmap.width,V=d.bitmap.height,j=Buffer.alloc(d.bitmap.data.length),G=createTranslationFunction(-$/2,-V/2),W=createTranslationFunction($/2+.5,V/2+.5);for(let Z=1;Z<=V;Z++)for(let U=1;U<=$;U++){const Q=G(U,Z),K=W(I*Q.x-P*Q.y,I*Q.y+P*Q.x),te=$*(Z-1)+U-1<<2;if(K.x>=0&&K.x<$&&K.y>=0&&K.y<V){const X=$*(0|K.y)+K.x<<2,J=d.bitmap.data.readUInt32BE(X);j.writeUInt32BE(J,te)}else j.writeUInt32BE(d.background,te)}if(d.bitmap.data=j,g===!0||typeof g=="string"){const Z=Math.max($/2-F/2,0),U=Math.max(V/2-D/2,0);d=methods$b.crop(d,{x:Z,y:U,w:F,h:D})}}const methods$2={rotate(d,m){const g=RotateOptionsSchema.parse(m),w=typeof g=="number"?{deg:g}:g,{mode:I=!0}=w;let{deg:P}=w;return P%=360,P%360==0||(P%90==0&&(I||d.bitmap.width===d.bitmap.height||P%180==0)?matrixRotate(d,P):advancedRotate(d,P,I)),d}},ThresholdOptionsSchema=z.object({max:z.number().min(0).max(255),replace:z.number().min(0).max(255).optional(),autoGreyscale:z.boolean().optional()}),methods$1={threshold(d,m){let{max:g,replace:w=255,autoGreyscale:I=!0}=ThresholdOptionsSchema.parse(m);return g=limit255(g),w=limit255(w),I&&methods$e.greyscale(d),d.scan((P,F,D)=>{const $=d.bitmap.data[D]<g?d.bitmap.data[D]:w;d.bitmap.data[D]=$,d.bitmap.data[D+1]=$,d.bitmap.data[D+2]=$}),d}};var __defProp=Object.defineProperty,__defNormalProp=(d,m,g)=>m in d?__defProp(d,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[m]=g,__export=(d,m)=>{for(var g in m)__defProp(d,g,{get:m[g],enumerable:!0})},__publicField=(d,m,g)=>(__defNormalProp(d,typeof m!="symbol"?m+"":m,g),g),constants_exports={};__export(constants_exports,{bt709:()=>bt709_exports});var bt709_exports={};__export(bt709_exports,{Y:()=>Y,x:()=>x$1,y:()=>y$1});var Y=(d=>(d[d.RED=.2126]="RED",d[d.GREEN=.7152]="GREEN",d[d.BLUE=.0722]="BLUE",d[d.WHITE=1]="WHITE",d))(Y||{}),x$1=(d=>(d[d.RED=.64]="RED",d[d.GREEN=.3]="GREEN",d[d.BLUE=.15]="BLUE",d[d.WHITE=.3127]="WHITE",d))(x$1||{}),y$1=(d=>(d[d.RED=.33]="RED",d[d.GREEN=.6]="GREEN",d[d.BLUE=.06]="BLUE",d[d.WHITE=.329]="WHITE",d))(y$1||{}),conversion_exports={};function correctGamma(d){return d>.04045?((d+.055)/1.055)**2.4:d/12.92}function rgb2xyz(d,m,g){return{x:.4124*(d=correctGamma(d/255))+.3576*(m=correctGamma(m/255))+.1805*(g=correctGamma(g/255)),y:.2126*d+.7152*m+.0722*g,z:.0193*d+.1192*m+.9505*g}}__export(conversion_exports,{lab2rgb:()=>lab2rgb,lab2xyz:()=>lab2xyz,rgb2hsl:()=>rgb2hsl,rgb2lab:()=>rgb2lab,rgb2xyz:()=>rgb2xyz,xyz2lab:()=>xyz2lab,xyz2rgb:()=>xyz2rgb});var arithmetic_exports={};function degrees2radians(d){return d*(Math.PI/180)}function max3(d,m,g){let w=d;return w<m&&(w=m),w<g&&(w=g),w}function min3(d,m,g){let w=d;return w>m&&(w=m),w>g&&(w=g),w}function intInRange(d,m,g){return d>g&&(d=g),d<m&&(d=m),0|d}function inRange0to255Rounded(d){return(d=Math.round(d))>255?d=255:d<0&&(d=0),d}function inRange0to255(d){return d>255?d=255:d<0&&(d=0),d}function stableSort(d,m){const g=typeof d[0];let w;if(g==="number"||g==="string"){const I=Object.create(null);for(let P=0,F=d.length;P<F;P++){const D=d[P];I[D]||I[D]===0||(I[D]=P)}w=d.sort((P,F)=>m(P,F)||I[P]-I[F])}else{const I=d.slice(0);w=d.sort((P,F)=>m(P,F)||I.indexOf(P)-I.indexOf(F))}return w}function rgb2hsl(d,m,g){const w=min3(d,m,g),I=max3(d,m,g),P=I-w,F=(w+I)/510;let D=0;F>0&&F<1&&(D=P/(F<.5?I+w:510-I-w));let $=0;return P>0&&($=I===d?(m-g)/P:I===m?2+(g-d)/P:4+(d-m)/P,$*=60,$<0&&($+=360)),{h:$,s:D,l:F}}__export(arithmetic_exports,{degrees2radians:()=>degrees2radians,inRange0to255:()=>inRange0to255,inRange0to255Rounded:()=>inRange0to255Rounded,intInRange:()=>intInRange,max3:()=>max3,min3:()=>min3,stableSort:()=>stableSort});var refX=.95047,refY=1,refZ=1.08883;function pivot(d){return d>.008856?d**(1/3):7.787*d+16/116}function xyz2lab(d,m,g){if(d=pivot(d/refX),m=pivot(m/refY),g=pivot(g/refZ),116*m-16<0)throw new Error("xxx");return{L:Math.max(0,116*m-16),a:500*(d-m),b:200*(m-g)}}function rgb2lab(d,m,g){const w=rgb2xyz(d,m,g);return xyz2lab(w.x,w.y,w.z)}var refX2=.95047,refY2=1,refZ2=1.08883;function pivot2(d){return d>.206893034?d**3:(d-16/116)/7.787}function lab2xyz(d,m,g){const w=(d+16)/116,I=w-g/200;return{x:refX2*pivot2(m/500+w),y:refY2*pivot2(w),z:refZ2*pivot2(I)}}function correctGamma2(d){return d>.0031308?1.055*d**(1/2.4)-.055:12.92*d}function xyz2rgb(d,m,g){const w=correctGamma2(3.2406*d+-1.5372*m+-.4986*g),I=correctGamma2(-.9689*d+1.8758*m+.0415*g),P=correctGamma2(.0557*d+-.204*m+1.057*g);return{r:inRange0to255Rounded(255*w),g:inRange0to255Rounded(255*I),b:inRange0to255Rounded(255*P)}}function lab2rgb(d,m,g){const w=lab2xyz(d,m,g);return xyz2rgb(w.x,w.y,w.z)}var distance_exports={};__export(distance_exports,{AbstractDistanceCalculator:()=>AbstractDistanceCalculator,AbstractEuclidean:()=>AbstractEuclidean,AbstractManhattan:()=>AbstractManhattan,CIE94GraphicArts:()=>CIE94GraphicArts,CIE94Textiles:()=>CIE94Textiles,CIEDE2000:()=>CIEDE2000,CMetric:()=>CMetric,Euclidean:()=>Euclidean,EuclideanBT709:()=>EuclideanBT709,EuclideanBT709NoAlpha:()=>EuclideanBT709NoAlpha,Manhattan:()=>Manhattan,ManhattanBT709:()=>ManhattanBT709,ManhattanNommyde:()=>ManhattanNommyde,PNGQuant:()=>PNGQuant});var AbstractDistanceCalculator=class{constructor(){__publicField(this,"_maxDistance"),__publicField(this,"_whitePoint"),this._setDefaults(),this.setWhitePoint(255,255,255,255)}setWhitePoint(d,m,g,w){this._whitePoint={r:d>0?255/d:0,g:m>0?255/m:0,b:g>0?255/g:0,a:w>0?255/w:0},this._maxDistance=this.calculateRaw(d,m,g,w,0,0,0,0)}calculateNormalized(d,m){return this.calculateRaw(d.r,d.g,d.b,d.a,m.r,m.g,m.b,m.a)/this._maxDistance}},AbstractCIE94=class extends AbstractDistanceCalculator{calculateRaw(d,m,g,w,I,P,F,D){const $=rgb2lab(inRange0to255(d*this._whitePoint.r),inRange0to255(m*this._whitePoint.g),inRange0to255(g*this._whitePoint.b)),V=rgb2lab(inRange0to255(I*this._whitePoint.r),inRange0to255(P*this._whitePoint.g),inRange0to255(F*this._whitePoint.b)),j=$.L-V.L,G=$.a-V.a,W=$.b-V.b,Z=Math.sqrt($.a*$.a+$.b*$.b),U=Z-Math.sqrt(V.a*V.a+V.b*V.b);let Q=G*G+W*W-U*U;Q=Q<0?0:Math.sqrt(Q);const K=(D-w)*this._whitePoint.a*this._kA;return Math.sqrt((j/this._Kl)**2+(U/(1+this._K1*Z))**2+(Q/(1+this._K2*Z))**2+K**2)}},CIE94Textiles=class extends AbstractCIE94{_setDefaults(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=12.5/255}},CIE94GraphicArts=class extends AbstractCIE94{_setDefaults(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=25/255}},_CIEDE2000=class extends AbstractDistanceCalculator{_setDefaults(){}static _calculatehp(d,m){const g=Math.atan2(d,m);return g>=0?g:g+_CIEDE2000._deg360InRad}static _calculateRT(d,m){const g=m**7,w=2*Math.sqrt(g/(g+_CIEDE2000._pow25to7)),I=_CIEDE2000._deg30InRad*Math.exp(-(((d-_CIEDE2000._deg275InRad)/_CIEDE2000._deg25InRad)**2));return-Math.sin(2*I)*w}static _calculateT(d){return 1-.17*Math.cos(d-_CIEDE2000._deg30InRad)+.24*Math.cos(2*d)+.32*Math.cos(3*d+_CIEDE2000._deg6InRad)-.2*Math.cos(4*d-_CIEDE2000._deg63InRad)}static _calculate_ahp(d,m,g,w){const I=g+w;return d===0?I:m<=_CIEDE2000._deg180InRad?I/2:I<_CIEDE2000._deg360InRad?(I+_CIEDE2000._deg360InRad)/2:(I-_CIEDE2000._deg360InRad)/2}static _calculate_dHp(d,m,g,w){let I;return I=d===0?0:m<=_CIEDE2000._deg180InRad?g-w:g<=w?g-w+_CIEDE2000._deg360InRad:g-w-_CIEDE2000._deg360InRad,2*Math.sqrt(d)*Math.sin(I/2)}calculateRaw(d,m,g,w,I,P,F,D){const $=rgb2lab(inRange0to255(d*this._whitePoint.r),inRange0to255(m*this._whitePoint.g),inRange0to255(g*this._whitePoint.b)),V=rgb2lab(inRange0to255(I*this._whitePoint.r),inRange0to255(P*this._whitePoint.g),inRange0to255(F*this._whitePoint.b)),j=(D-w)*this._whitePoint.a*_CIEDE2000._kA,G=this.calculateRawInLab($,V);return Math.sqrt(G+j*j)}calculateRawInLab(d,m){const g=d.L,w=d.a,I=d.b,P=m.L,F=m.a,D=m.b,$=((Math.sqrt(w*w+I*I)+Math.sqrt(F*F+D*D))/2)**7,V=.5*(1-Math.sqrt($/($+_CIEDE2000._pow25to7))),j=(1+V)*w,G=(1+V)*F,W=Math.sqrt(j*j+I*I),Z=Math.sqrt(G*G+D*D),U=W*Z,Q=_CIEDE2000._calculatehp(I,j),K=_CIEDE2000._calculatehp(D,G),te=Math.abs(Q-K),X=P-g,J=Z-W,ee=_CIEDE2000._calculate_dHp(U,te,K,Q),ie=_CIEDE2000._calculate_ahp(U,te,Q,K),fe=(W+Z)/2,se=((g+P)/2-50)**2,de=J/(1+.045*fe),le=ee/(1+.015*_CIEDE2000._calculateT(ie)*fe);return(X/(1+.015*se/Math.sqrt(20+se)))**2+de**2+le**2+_CIEDE2000._calculateRT(ie,fe)*de*le}},CIEDE2000=_CIEDE2000;__publicField(CIEDE2000,"_kA",25/255),__publicField(CIEDE2000,"_pow25to7",25**7),__publicField(CIEDE2000,"_deg360InRad",degrees2radians(360)),__publicField(CIEDE2000,"_deg180InRad",degrees2radians(180)),__publicField(CIEDE2000,"_deg30InRad",degrees2radians(30)),__publicField(CIEDE2000,"_deg6InRad",degrees2radians(6)),__publicField(CIEDE2000,"_deg63InRad",degrees2radians(63)),__publicField(CIEDE2000,"_deg275InRad",degrees2radians(275)),__publicField(CIEDE2000,"_deg25InRad",degrees2radians(25));var CMetric=class extends AbstractDistanceCalculator{calculateRaw(d,m,g,w,I,P,F,D){const $=(d+I)/2*this._whitePoint.r,V=(d-I)*this._whitePoint.r,j=(m-P)*this._whitePoint.g,G=(g-F)*this._whitePoint.b,W=((512+$)*V*V>>8)+4*j*j+((767-$)*G*G>>8),Z=(D-w)*this._whitePoint.a;return Math.sqrt(W+Z*Z)}_setDefaults(){}},AbstractEuclidean=class extends AbstractDistanceCalculator{calculateRaw(d,m,g,w,I,P,F,D){const $=I-d,V=P-m,j=F-g,G=D-w;return Math.sqrt(this._kR*$*$+this._kG*V*V+this._kB*j*j+this._kA*G*G)}},Euclidean=class extends AbstractEuclidean{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},EuclideanBT709=class extends AbstractEuclidean{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},EuclideanBT709NoAlpha=class extends AbstractEuclidean{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=0}},AbstractManhattan=class extends AbstractDistanceCalculator{calculateRaw(d,m,g,w,I,P,F,D){let $=I-d,V=P-m,j=F-g,G=D-w;return $<0&&($=0-$),V<0&&(V=0-V),j<0&&(j=0-j),G<0&&(G=0-G),this._kR*$+this._kG*V+this._kB*j+this._kA*G}},Manhattan=class extends AbstractManhattan{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},ManhattanNommyde=class extends AbstractManhattan{_setDefaults(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1}},ManhattanBT709=class extends AbstractManhattan{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},PNGQuant=class extends AbstractDistanceCalculator{calculateRaw(d,m,g,w,I,P,F,D){const $=(D-w)*this._whitePoint.a;return this._colordifferenceCh(d*this._whitePoint.r,I*this._whitePoint.r,$)+this._colordifferenceCh(m*this._whitePoint.g,P*this._whitePoint.g,$)+this._colordifferenceCh(g*this._whitePoint.b,F*this._whitePoint.b,$)}_colordifferenceCh(d,m,g){const w=d-m,I=w+g;return w*w+I*I}_setDefaults(){}},palette_exports={};__export(palette_exports,{AbstractPaletteQuantizer:()=>AbstractPaletteQuantizer,ColorHistogram:()=>ColorHistogram,NeuQuant:()=>NeuQuant,NeuQuantFloat:()=>NeuQuantFloat,RGBQuant:()=>RGBQuant,WuColorCube:()=>WuColorCube,WuQuant:()=>WuQuant});var AbstractPaletteQuantizer=class{quantizeSync(){for(const d of this.quantize())if(d.palette)return d.palette;throw new Error("unreachable")}},Point=class{constructor(){__publicField(this,"r"),__publicField(this,"g"),__publicField(this,"b"),__publicField(this,"a"),__publicField(this,"uint32"),__publicField(this,"rgba"),this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}static createByQuadruplet(d){const m=new Point;return m.r=0|d[0],m.g=0|d[1],m.b=0|d[2],m.a=0|d[3],m._loadUINT32(),m._loadQuadruplet(),m}static createByRGBA(d,m,g,w){const I=new Point;return I.r=0|d,I.g=0|m,I.b=0|g,I.a=0|w,I._loadUINT32(),I._loadQuadruplet(),I}static createByUint32(d){const m=new Point;return m.uint32=d>>>0,m._loadRGBA(),m._loadQuadruplet(),m}from(d){this.r=d.r,this.g=d.g,this.b=d.b,this.a=d.a,this.uint32=d.uint32,this.rgba[0]=d.r,this.rgba[1]=d.g,this.rgba[2]=d.b,this.rgba[3]=d.a}getLuminosity(d){let m=this.r,g=this.g,w=this.b;return d&&(m=Math.min(255,255-this.a+this.a*m/255),g=Math.min(255,255-this.a+this.a*g/255),w=Math.min(255,255-this.a+this.a*w/255)),.2126*m+.7152*g+.0722*w}_loadUINT32(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0}_loadRGBA(){this.r=255&this.uint32,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255}_loadQuadruplet(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a}},PointContainer=class{constructor(){__publicField(this,"_pointArray"),__publicField(this,"_width"),__publicField(this,"_height"),this._width=0,this._height=0,this._pointArray=[]}getWidth(){return this._width}getHeight(){return this._height}setWidth(d){this._width=d}setHeight(d){this._height=d}getPointArray(){return this._pointArray}clone(){const d=new PointContainer;d._width=this._width,d._height=this._height;for(let m=0,g=this._pointArray.length;m<g;m++)d._pointArray[m]=Point.createByUint32(0|this._pointArray[m].uint32);return d}toUint32Array(){const d=this._pointArray.length,m=new Uint32Array(d);for(let g=0;g<d;g++)m[g]=this._pointArray[g].uint32;return m}toUint8Array(){return new Uint8Array(this.toUint32Array().buffer)}static fromHTMLImageElement(d){const m=d.naturalWidth,g=d.naturalHeight,w=document.createElement("canvas");return w.width=m,w.height=g,w.getContext("2d").drawImage(d,0,0,m,g,0,0,m,g),PointContainer.fromHTMLCanvasElement(w)}static fromHTMLCanvasElement(d){const m=d.width,g=d.height,w=d.getContext("2d").getImageData(0,0,m,g);return PointContainer.fromImageData(w)}static fromImageData(d){const m=d.width,g=d.height;return PointContainer.fromUint8Array(d.data,m,g)}static fromUint8Array(d,m,g){switch(Object.prototype.toString.call(d)){case"[object Uint8ClampedArray]":case"[object Uint8Array]":break;default:d=new Uint8Array(d)}const w=new Uint32Array(d.buffer);return PointContainer.fromUint32Array(w,m,g)}static fromUint32Array(d,m,g){const w=new PointContainer;w._width=m,w._height=g;for(let I=0,P=d.length;I<P;I++)w._pointArray[I]=Point.createByUint32(0|d[I]);return w}static fromBuffer(d,m,g){const w=new Uint32Array(d.buffer,d.byteOffset,d.byteLength/Uint32Array.BYTES_PER_ELEMENT);return PointContainer.fromUint32Array(w,m,g)}},hueGroups=10;function hueGroup(d,m){const g=360/m;for(let w=1,I=g-g/2;w<m;w++,I+=g)if(d>=I&&d<I+g)return w;return 0}var Palette=class{constructor(){__publicField(this,"_pointContainer"),__publicField(this,"_pointArray",[]),__publicField(this,"_i32idx",{}),this._pointContainer=new PointContainer,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}add(d){this._pointArray.push(d),this._pointContainer.setWidth(this._pointArray.length)}has(d){for(let m=this._pointArray.length-1;m>=0;m--)if(d.uint32===this._pointArray[m].uint32)return!0;return!1}getNearestColor(d,m){return this._pointArray[0|this._getNearestIndex(d,m)]}getPointContainer(){return this._pointContainer}_nearestPointFromCache(d){return typeof this._i32idx[d]=="number"?this._i32idx[d]:-1}_getNearestIndex(d,m){let g=this._nearestPointFromCache(""+m.uint32);if(g>=0)return g;let w=Number.MAX_VALUE;g=0;for(let I=0,P=this._pointArray.length;I<P;I++){const F=this._pointArray[I],D=d.calculateRaw(m.r,m.g,m.b,m.a,F.r,F.g,F.b,F.a);D<w&&(w=D,g=I)}return this._i32idx[m.uint32]=g,g}sort(){this._i32idx={},this._pointArray.sort((d,m)=>{const g=rgb2hsl(d.r,d.g,d.b),w=rgb2hsl(m.r,m.g,m.b),I=d.r===d.g&&d.g===d.b?0:1+hueGroup(g.h,hueGroups),P=(m.r===m.g&&m.g===m.b?0:1+hueGroup(w.h,hueGroups))-I;if(P)return-P;const F=d.getLuminosity(!0),D=m.getLuminosity(!0);if(D-F!=0)return D-F;const $=(100*w.s|0)-(100*g.s|0);return $?-$:0})}},utils_exports={};__export(utils_exports,{HueStatistics:()=>HueStatistics,Palette:()=>Palette,Point:()=>Point,PointContainer:()=>PointContainer,ProgressTracker:()=>ProgressTracker,arithmetic:()=>arithmetic_exports});var HueGroup=class{constructor(){__publicField(this,"num",0),__publicField(this,"cols",[])}},HueStatistics=class{constructor(d,m){__publicField(this,"_numGroups"),__publicField(this,"_minCols"),__publicField(this,"_stats"),__publicField(this,"_groupsFull"),this._numGroups=d,this._minCols=m,this._stats=[];for(let g=0;g<=d;g++)this._stats[g]=new HueGroup;this._groupsFull=0}check(d){this._groupsFull===this._numGroups+1&&(this.check=()=>{});const m=255&d,g=d>>>8&255,w=d>>>16&255,I=m===g&&g===w?0:1+hueGroup(rgb2hsl(m,g,w).h,this._numGroups),P=this._stats[I],F=this._minCols;P.num++,P.num>F||(P.num===F&&this._groupsFull++,P.num<=F&&this._stats[I].cols.push(d))}injectIntoDictionary(d){for(let m=0;m<=this._numGroups;m++)this._stats[m].num<=this._minCols&&this._stats[m].cols.forEach(g=>{d[g]?d[g]++:d[g]=1})}injectIntoArray(d){for(let m=0;m<=this._numGroups;m++)this._stats[m].num<=this._minCols&&this._stats[m].cols.forEach(g=>{d.indexOf(g)===-1&&d.push(g)})}},_ProgressTracker=class{constructor(d,m){__publicField(this,"progress"),__publicField(this,"_step"),__publicField(this,"_range"),__publicField(this,"_last"),__publicField(this,"_progressRange"),this._range=d,this._progressRange=m,this._step=Math.max(1,this._range/(_ProgressTracker.steps+1)|0),this._last=-this._step,this.progress=0}shouldNotify(d){return d-this._last>=this._step&&(this._last=d,this.progress=Math.min(this._progressRange*this._last/this._range,this._progressRange),!0)}},ProgressTracker=_ProgressTracker;__publicField(ProgressTracker,"steps",100);var networkBiasShift=3,Neuron=class{constructor(d){__publicField(this,"r"),__publicField(this,"g"),__publicField(this,"b"),__publicField(this,"a"),this.r=this.g=this.b=this.a=d}toPoint(){return Point.createByRGBA(this.r>>networkBiasShift,this.g>>networkBiasShift,this.b>>networkBiasShift,this.a>>networkBiasShift)}subtract(d,m,g,w){this.r-=0|d,this.g-=0|m,this.b-=0|g,this.a-=0|w}},_NeuQuant=class extends AbstractPaletteQuantizer{constructor(d,m=256){super(),__publicField(this,"_pointArray"),__publicField(this,"_networkSize"),__publicField(this,"_network"),__publicField(this,"_sampleFactor"),__publicField(this,"_radPower"),__publicField(this,"_freq"),__publicField(this,"_bias"),__publicField(this,"_distance"),this._distance=d,this._pointArray=[],this._sampleFactor=1,this._networkSize=m,this._distance.setWhitePoint(255<<networkBiasShift,255<<networkBiasShift,255<<networkBiasShift,255<<networkBiasShift)}sample(d){this._pointArray=this._pointArray.concat(d.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let d=0;d<this._networkSize;d++)this._network[d]=new Neuron((d<<networkBiasShift+8)/this._networkSize|0),this._freq[d]=_NeuQuant._initialBias/this._networkSize|0,this._bias[d]=0}*_learn(){let d=this._sampleFactor;const m=this._pointArray.length;m<_NeuQuant._minpicturebytes&&(d=1);const g=30+(d-1)/3|0,w=m/d|0;let I,P=w/_NeuQuant._nCycles|0,F=_NeuQuant._initAlpha,D=(this._networkSize>>3)*_NeuQuant._radiusBias,$=D>>_NeuQuant._radiusBiasShift;$<=1&&($=0);for(let j=0;j<$;j++)this._radPower[j]=F*(($*$-j*j)*_NeuQuant._radBias/($*$))>>>0;I=m<_NeuQuant._minpicturebytes?1:m%_NeuQuant._prime1!=0?_NeuQuant._prime1:m%_NeuQuant._prime2!=0?_NeuQuant._prime2:m%_NeuQuant._prime3!=0?_NeuQuant._prime3:_NeuQuant._prime4;const V=new ProgressTracker(w,99);for(let j=0,G=0;j<w;){V.shouldNotify(j)&&(yield{progress:V.progress});const W=this._pointArray[G],Z=W.b<<networkBiasShift,U=W.g<<networkBiasShift,Q=W.r<<networkBiasShift,K=W.a<<networkBiasShift,te=this._contest(Z,U,Q,K);if(this._alterSingle(F,te,Z,U,Q,K),$!==0&&this._alterNeighbour($,te,Z,U,Q,K),G+=I,G>=m&&(G-=m),j++,P===0&&(P=1),j%P==0){F-=F/g|0,D-=D/_NeuQuant._radiusDecrease|0,$=D>>_NeuQuant._radiusBiasShift,$<=1&&($=0);for(let X=0;X<$;X++)this._radPower[X]=F*(($*$-X*X)*_NeuQuant._radBias/($*$))>>>0}}}_buildPalette(){const d=new Palette;return this._network.forEach(m=>{d.add(m.toPoint())}),d.sort(),d}_alterNeighbour(d,m,g,w,I,P){let F=m-d;F<-1&&(F=-1);let D=m+d;D>this._networkSize&&(D=this._networkSize);let $=m+1,V=m-1,j=1;for(;$<D||V>F;){const G=this._radPower[j++]/_NeuQuant._alphaRadBias;if($<D){const W=this._network[$++];W.subtract(G*(W.r-I),G*(W.g-w),G*(W.b-g),G*(W.a-P))}if(V>F){const W=this._network[V--];W.subtract(G*(W.r-I),G*(W.g-w),G*(W.b-g),G*(W.a-P))}}}_alterSingle(d,m,g,w,I,P){d/=_NeuQuant._initAlpha;const F=this._network[m];F.subtract(d*(F.r-I),d*(F.g-w),d*(F.b-g),d*(F.a-P))}_contest(d,m,g,w){const I=1020<<networkBiasShift;let P=~(1<<31),F=P,D=-1,$=D;for(let V=0;V<this._networkSize;V++){const j=this._network[V],G=this._distance.calculateNormalized(j,{r:g,g:m,b:d,a:w})*I|0;G<P&&(P=G,D=V);const W=G-(this._bias[V]>>_NeuQuant._initialBiasShift-networkBiasShift);W<F&&(F=W,$=V);const Z=this._freq[V]>>_NeuQuant._betaShift;this._freq[V]-=Z,this._bias[V]+=Z<<_NeuQuant._gammaShift}return this._freq[D]+=_NeuQuant._beta,this._bias[D]-=_NeuQuant._betaGamma,$}},NeuQuant=_NeuQuant;__publicField(NeuQuant,"_prime1",499),__publicField(NeuQuant,"_prime2",491),__publicField(NeuQuant,"_prime3",487),__publicField(NeuQuant,"_prime4",503),__publicField(NeuQuant,"_minpicturebytes",_NeuQuant._prime4),__publicField(NeuQuant,"_nCycles",100),__publicField(NeuQuant,"_initialBiasShift",16),__publicField(NeuQuant,"_initialBias",1<<_NeuQuant._initialBiasShift),__publicField(NeuQuant,"_gammaShift",10),__publicField(NeuQuant,"_betaShift",10),__publicField(NeuQuant,"_beta",_NeuQuant._initialBias>>_NeuQuant._betaShift),__publicField(NeuQuant,"_betaGamma",_NeuQuant._initialBias<<_NeuQuant._gammaShift-_NeuQuant._betaShift),__publicField(NeuQuant,"_radiusBiasShift",6),__publicField(NeuQuant,"_radiusBias",1<<_NeuQuant._radiusBiasShift),__publicField(NeuQuant,"_radiusDecrease",30),__publicField(NeuQuant,"_alphaBiasShift",10),__publicField(NeuQuant,"_initAlpha",1<<_NeuQuant._alphaBiasShift),__publicField(NeuQuant,"_radBiasShift",8),__publicField(NeuQuant,"_radBias",1<<_NeuQuant._radBiasShift),__publicField(NeuQuant,"_alphaRadBiasShift",_NeuQuant._alphaBiasShift+_NeuQuant._radBiasShift),__publicField(NeuQuant,"_alphaRadBias",1<<_NeuQuant._alphaRadBiasShift);var networkBiasShift2=3,NeuronFloat=class{constructor(d){__publicField(this,"r"),__publicField(this,"g"),__publicField(this,"b"),__publicField(this,"a"),this.r=this.g=this.b=this.a=d}toPoint(){return Point.createByRGBA(this.r>>networkBiasShift2,this.g>>networkBiasShift2,this.b>>networkBiasShift2,this.a>>networkBiasShift2)}subtract(d,m,g,w){this.r-=d,this.g-=m,this.b-=g,this.a-=w}},_NeuQuantFloat=class extends AbstractPaletteQuantizer{constructor(d,m=256){super(),__publicField(this,"_pointArray"),__publicField(this,"_networkSize"),__publicField(this,"_network"),__publicField(this,"_sampleFactor"),__publicField(this,"_radPower"),__publicField(this,"_freq"),__publicField(this,"_bias"),__publicField(this,"_distance"),this._distance=d,this._pointArray=[],this._sampleFactor=1,this._networkSize=m,this._distance.setWhitePoint(255<<networkBiasShift2,255<<networkBiasShift2,255<<networkBiasShift2,255<<networkBiasShift2)}sample(d){this._pointArray=this._pointArray.concat(d.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let d=0;d<this._networkSize;d++)this._network[d]=new NeuronFloat((d<<networkBiasShift2+8)/this._networkSize),this._freq[d]=_NeuQuantFloat._initialBias/this._networkSize,this._bias[d]=0}*_learn(){let d=this._sampleFactor;const m=this._pointArray.length;m<_NeuQuantFloat._minpicturebytes&&(d=1);const g=30+(d-1)/3,w=m/d;let I,P=w/_NeuQuantFloat._nCycles|0,F=_NeuQuantFloat._initAlpha,D=(this._networkSize>>3)*_NeuQuantFloat._radiusBias,$=D>>_NeuQuantFloat._radiusBiasShift;$<=1&&($=0);for(let j=0;j<$;j++)this._radPower[j]=F*(($*$-j*j)*_NeuQuantFloat._radBias/($*$));I=m<_NeuQuantFloat._minpicturebytes?1:m%_NeuQuantFloat._prime1!=0?_NeuQuantFloat._prime1:m%_NeuQuantFloat._prime2!=0?_NeuQuantFloat._prime2:m%_NeuQuantFloat._prime3!=0?_NeuQuantFloat._prime3:_NeuQuantFloat._prime4;const V=new ProgressTracker(w,99);for(let j=0,G=0;j<w;){V.shouldNotify(j)&&(yield{progress:V.progress});const W=this._pointArray[G],Z=W.b<<networkBiasShift2,U=W.g<<networkBiasShift2,Q=W.r<<networkBiasShift2,K=W.a<<networkBiasShift2,te=this._contest(Z,U,Q,K);if(this._alterSingle(F,te,Z,U,Q,K),$!==0&&this._alterNeighbour($,te,Z,U,Q,K),G+=I,G>=m&&(G-=m),j++,P===0&&(P=1),j%P==0){F-=F/g,D-=D/_NeuQuantFloat._radiusDecrease,$=D>>_NeuQuantFloat._radiusBiasShift,$<=1&&($=0);for(let X=0;X<$;X++)this._radPower[X]=F*(($*$-X*X)*_NeuQuantFloat._radBias/($*$))}}}_buildPalette(){const d=new Palette;return this._network.forEach(m=>{d.add(m.toPoint())}),d.sort(),d}_alterNeighbour(d,m,g,w,I,P){let F=m-d;F<-1&&(F=-1);let D=m+d;D>this._networkSize&&(D=this._networkSize);let $=m+1,V=m-1,j=1;for(;$<D||V>F;){const G=this._radPower[j++]/_NeuQuantFloat._alphaRadBias;if($<D){const W=this._network[$++];W.subtract(G*(W.r-I),G*(W.g-w),G*(W.b-g),G*(W.a-P))}if(V>F){const W=this._network[V--];W.subtract(G*(W.r-I),G*(W.g-w),G*(W.b-g),G*(W.a-P))}}}_alterSingle(d,m,g,w,I,P){d/=_NeuQuantFloat._initAlpha;const F=this._network[m];F.subtract(d*(F.r-I),d*(F.g-w),d*(F.b-g),d*(F.a-P))}_contest(d,m,g,w){const I=1020<<networkBiasShift2;let P=~(1<<31),F=P,D=-1,$=D;for(let V=0;V<this._networkSize;V++){const j=this._network[V],G=this._distance.calculateNormalized(j,{r:g,g:m,b:d,a:w})*I;G<P&&(P=G,D=V);const W=G-(this._bias[V]>>_NeuQuantFloat._initialBiasShift-networkBiasShift2);W<F&&(F=W,$=V);const Z=this._freq[V]>>_NeuQuantFloat._betaShift;this._freq[V]-=Z,this._bias[V]+=Z<<_NeuQuantFloat._gammaShift}return this._freq[D]+=_NeuQuantFloat._beta,this._bias[D]-=_NeuQuantFloat._betaGamma,$}},NeuQuantFloat=_NeuQuantFloat;__publicField(NeuQuantFloat,"_prime1",499),__publicField(NeuQuantFloat,"_prime2",491),__publicField(NeuQuantFloat,"_prime3",487),__publicField(NeuQuantFloat,"_prime4",503),__publicField(NeuQuantFloat,"_minpicturebytes",_NeuQuantFloat._prime4),__publicField(NeuQuantFloat,"_nCycles",100),__publicField(NeuQuantFloat,"_initialBiasShift",16),__publicField(NeuQuantFloat,"_initialBias",1<<_NeuQuantFloat._initialBiasShift),__publicField(NeuQuantFloat,"_gammaShift",10),__publicField(NeuQuantFloat,"_betaShift",10),__publicField(NeuQuantFloat,"_beta",_NeuQuantFloat._initialBias>>_NeuQuantFloat._betaShift),__publicField(NeuQuantFloat,"_betaGamma",_NeuQuantFloat._initialBias<<_NeuQuantFloat._gammaShift-_NeuQuantFloat._betaShift),__publicField(NeuQuantFloat,"_radiusBiasShift",6),__publicField(NeuQuantFloat,"_radiusBias",1<<_NeuQuantFloat._radiusBiasShift),__publicField(NeuQuantFloat,"_radiusDecrease",30),__publicField(NeuQuantFloat,"_alphaBiasShift",10),__publicField(NeuQuantFloat,"_initAlpha",1<<_NeuQuantFloat._alphaBiasShift),__publicField(NeuQuantFloat,"_radBiasShift",8),__publicField(NeuQuantFloat,"_radBias",1<<_NeuQuantFloat._radBiasShift),__publicField(NeuQuantFloat,"_alphaRadBiasShift",_NeuQuantFloat._alphaBiasShift+_NeuQuantFloat._radBiasShift),__publicField(NeuQuantFloat,"_alphaRadBias",1<<_NeuQuantFloat._alphaRadBiasShift);var _ColorHistogram=class{constructor(d,m){__publicField(this,"_method"),__publicField(this,"_hueStats"),__publicField(this,"_histogram"),__publicField(this,"_initColors"),__publicField(this,"_minHueCols"),this._method=d,this._minHueCols=m<<2,this._initColors=m<<2,this._hueStats=new HueStatistics(_ColorHistogram._hueGroups,this._minHueCols),this._histogram=Object.create(null)}sample(d){switch(this._method){case 1:this._colorStats1D(d);break;case 2:this._colorStats2D(d)}}getImportanceSortedColorsIDXI32(){const d=stableSort(Object.keys(this._histogram),(g,w)=>this._histogram[w]-this._histogram[g]);if(d.length===0)return[];let m;switch(this._method){case 1:const g=Math.min(d.length,this._initColors),w=d[g-1],I=this._histogram[w];m=d.slice(0,g);let P=g;const F=d.length;for(;P<F&&this._histogram[d[P]]===I;)m.push(d[P++]);this._hueStats.injectIntoArray(m);break;case 2:m=d;break;default:throw new Error("Incorrect method")}return m.map(g=>+g)}_colorStats1D(d){const m=this._histogram,g=d.getPointArray(),w=g.length;for(let I=0;I<w;I++){const P=g[I].uint32;this._hueStats.check(P),P in m?m[P]++:m[P]=1}}_colorStats2D(d){const m=d.getWidth(),g=d.getHeight(),w=d.getPointArray(),I=_ColorHistogram._boxSize[0],P=_ColorHistogram._boxSize[1],F=I*P,D=this._makeBoxes(m,g,I,P),$=this._histogram;D.forEach(V=>{let j=Math.round(V.w*V.h/F)*_ColorHistogram._boxPixels;j<2&&(j=2);const G={};this._iterateBox(V,m,W=>{const Z=w[W].uint32;this._hueStats.check(Z),Z in $?$[Z]++:Z in G?++G[Z]>=j&&($[Z]=G[Z]):G[Z]=1})}),this._hueStats.injectIntoDictionary($)}_iterateBox(d,m,g){const w=d,I=w.y*m+w.x,P=(w.y+w.h-1)*m+(w.x+w.w-1),F=m-w.w+1;let D=0,$=I;do g.call(this,$),$+=++D%w.w==0?F:1;while($<=P)}_makeBoxes(d,m,g,w){const I=d%g,P=m%w,F=d-I,D=m-P,$=[];for(let V=0;V<m;V+=w)for(let j=0;j<d;j+=g)$.push({x:j,y:V,w:j===F?I:g,h:V===D?P:w});return $}},ColorHistogram=_ColorHistogram;__publicField(ColorHistogram,"_boxSize",[64,64]),__publicField(ColorHistogram,"_boxPixels",2),__publicField(ColorHistogram,"_hueGroups",10);var RemovedColor=class{constructor(d,m,g){__publicField(this,"index"),__publicField(this,"color"),__publicField(this,"distance"),this.index=d,this.color=m,this.distance=g}},RGBQuant=class extends AbstractPaletteQuantizer{constructor(d,m=256,g=2){super(),__publicField(this,"_colors"),__publicField(this,"_initialDistance"),__publicField(this,"_distanceIncrement"),__publicField(this,"_histogram"),__publicField(this,"_distance"),this._distance=d,this._colors=m,this._histogram=new ColorHistogram(g,m),this._initialDistance=.01,this._distanceIncrement=.005}sample(d){this._histogram.sample(d)}*quantize(){const d=this._histogram.getImportanceSortedColorsIDXI32();if(d.length===0)throw new Error("No colors in image");yield*this._buildPalette(d)}*_buildPalette(d){const m=new Palette,g=m.getPointContainer().getPointArray(),w=new Array(d.length);for(let j=0;j<d.length;j++)g.push(Point.createByUint32(d[j])),w[j]=1;const I=g.length,P=[];let F=I,D=this._initialDistance;const $=new ProgressTracker(F-this._colors,99);for(;F>this._colors;){P.length=0;for(let j=0;j<I;j++){if($.shouldNotify(I-F)&&(yield{progress:$.progress}),w[j]===0)continue;const G=g[j];for(let W=j+1;W<I;W++){if(w[W]===0)continue;const Z=g[W],U=this._distance.calculateNormalized(G,Z);U<D&&(P.push(new RemovedColor(W,Z,U)),w[W]=0,F--)}}D+=F>3*this._colors?this._initialDistance:this._distanceIncrement}if(F<this._colors){stableSort(P,(G,W)=>W.distance-G.distance);let j=0;for(;F<this._colors&&j<P.length;)w[P[j].index]=1,F++,j++}let V=g.length;for(let j=V-1;j>=0;j--)w[j]===0&&(j!==V-1&&(g[j]=g[V-1]),--V);g.length=V,m.sort(),yield{palette:m,progress:100}}};function createArray1D(d){const m=[];for(let g=0;g<d;g++)m[g]=0;return m}function createArray4D(d,m,g,w){const I=new Array(d);for(let P=0;P<d;P++){I[P]=new Array(m);for(let F=0;F<m;F++){I[P][F]=new Array(g);for(let D=0;D<g;D++){I[P][F][D]=new Array(w);for(let $=0;$<w;$++)I[P][F][D][$]=0}}}return I}function createArray3D(d,m,g){const w=new Array(d);for(let I=0;I<d;I++){w[I]=new Array(m);for(let P=0;P<m;P++){w[I][P]=new Array(g);for(let F=0;F<g;F++)w[I][P][F]=0}}return w}function fillArray3D(d,m,g,w,I){for(let P=0;P<m;P++){d[P]=[];for(let F=0;F<g;F++){d[P][F]=[];for(let D=0;D<w;D++)d[P][F][D]=I}}}function fillArray1D(d,m,g){for(let w=0;w<m;w++)d[w]=g}var WuColorCube=class{constructor(){__publicField(this,"redMinimum"),__publicField(this,"redMaximum"),__publicField(this,"greenMinimum"),__publicField(this,"greenMaximum"),__publicField(this,"blueMinimum"),__publicField(this,"blueMaximum"),__publicField(this,"volume"),__publicField(this,"alphaMinimum"),__publicField(this,"alphaMaximum")}},_WuQuant=class extends AbstractPaletteQuantizer{constructor(d,m=256,g=5){super(),__publicField(this,"_reds"),__publicField(this,"_greens"),__publicField(this,"_blues"),__publicField(this,"_alphas"),__publicField(this,"_sums"),__publicField(this,"_weights"),__publicField(this,"_momentsRed"),__publicField(this,"_momentsGreen"),__publicField(this,"_momentsBlue"),__publicField(this,"_momentsAlpha"),__publicField(this,"_moments"),__publicField(this,"_table"),__publicField(this,"_pixels"),__publicField(this,"_cubes"),__publicField(this,"_colors"),__publicField(this,"_significantBitsPerChannel"),__publicField(this,"_maxSideIndex"),__publicField(this,"_alphaMaxSideIndex"),__publicField(this,"_sideSize"),__publicField(this,"_alphaSideSize"),__publicField(this,"_distance"),this._distance=d,this._setQuality(g),this._initialize(m)}sample(d){const m=d.getPointArray();for(let g=0,w=m.length;g<w;g++)this._addColor(m[g]);this._pixels=this._pixels.concat(m)}*quantize(){yield*this._preparePalette();const d=new Palette;for(let m=0;m<this._colors;m++)if(this._sums[m]>0){const g=this._sums[m],w=this._reds[m]/g,I=this._greens[m]/g,P=this._blues[m]/g,F=this._alphas[m]/g,D=Point.createByRGBA(0|w,0|I,0|P,0|F);d.add(D)}d.sort(),yield{palette:d,progress:100}}*_preparePalette(){yield*this._calculateMoments();let d=0;const m=createArray1D(this._colors);for(let F=1;F<this._colors;++F){this._cut(this._cubes[d],this._cubes[F])?(m[d]=this._cubes[d].volume>1?this._calculateVariance(this._cubes[d]):0,m[F]=this._cubes[F].volume>1?this._calculateVariance(this._cubes[F]):0):(m[d]=0,F--),d=0;let D=m[0];for(let $=1;$<=F;++$)m[$]>D&&(D=m[$],d=$);if(D<=0){this._colors=F+1;break}}const g=[],w=[],I=[],P=[];for(let F=0;F<this._colors;++F){const D=_WuQuant._volume(this._cubes[F],this._weights);D>0?(g[F]=_WuQuant._volume(this._cubes[F],this._momentsRed)/D|0,w[F]=_WuQuant._volume(this._cubes[F],this._momentsGreen)/D|0,I[F]=_WuQuant._volume(this._cubes[F],this._momentsBlue)/D|0,P[F]=_WuQuant._volume(this._cubes[F],this._momentsAlpha)/D|0):(g[F]=0,w[F]=0,I[F]=0,P[F]=0)}this._reds=createArray1D(this._colors+1),this._greens=createArray1D(this._colors+1),this._blues=createArray1D(this._colors+1),this._alphas=createArray1D(this._colors+1),this._sums=createArray1D(this._colors+1);for(let F=0,D=this._pixels.length;F<D;F++){const $=this._pixels[F];let V=-1,j=Number.MAX_VALUE;for(let G=0;G<this._colors;G++){const W=g[G],Z=w[G],U=I[G],Q=P[G],K=this._distance.calculateRaw(W,Z,U,Q,$.r,$.g,$.b,$.a);K<j&&(j=K,V=G)}this._reds[V]+=$.r,this._greens[V]+=$.g,this._blues[V]+=$.b,this._alphas[V]+=$.a,this._sums[V]++}}_addColor(d){const m=8-this._significantBitsPerChannel,g=1+(d.r>>m),w=1+(d.g>>m),I=1+(d.b>>m),P=1+(d.a>>m);this._weights[P][g][w][I]++,this._momentsRed[P][g][w][I]+=d.r,this._momentsGreen[P][g][w][I]+=d.g,this._momentsBlue[P][g][w][I]+=d.b,this._momentsAlpha[P][g][w][I]+=d.a,this._moments[P][g][w][I]+=this._table[d.r]+this._table[d.g]+this._table[d.b]+this._table[d.a]}*_calculateMoments(){const d=[],m=[],g=[],w=[],I=[],P=[],F=createArray3D(this._sideSize,this._sideSize,this._sideSize),D=createArray3D(this._sideSize,this._sideSize,this._sideSize),$=createArray3D(this._sideSize,this._sideSize,this._sideSize),V=createArray3D(this._sideSize,this._sideSize,this._sideSize),j=createArray3D(this._sideSize,this._sideSize,this._sideSize),G=createArray3D(this._sideSize,this._sideSize,this._sideSize);let W=0;const Z=new ProgressTracker(this._alphaMaxSideIndex*this._maxSideIndex,99);for(let U=1;U<=this._alphaMaxSideIndex;++U){fillArray3D(F,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(D,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D($,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(V,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(j,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(G,this._sideSize,this._sideSize,this._sideSize,0);for(let Q=1;Q<=this._maxSideIndex;++Q,++W){Z.shouldNotify(W)&&(yield{progress:Z.progress}),fillArray1D(d,this._sideSize,0),fillArray1D(m,this._sideSize,0),fillArray1D(g,this._sideSize,0),fillArray1D(w,this._sideSize,0),fillArray1D(I,this._sideSize,0),fillArray1D(P,this._sideSize,0);for(let K=1;K<=this._maxSideIndex;++K){let te=0,X=0,J=0,ee=0,ie=0,fe=0;for(let se=1;se<=this._maxSideIndex;++se)te+=this._weights[U][Q][K][se],X+=this._momentsRed[U][Q][K][se],J+=this._momentsGreen[U][Q][K][se],ee+=this._momentsBlue[U][Q][K][se],ie+=this._momentsAlpha[U][Q][K][se],fe+=this._moments[U][Q][K][se],d[se]+=te,m[se]+=X,g[se]+=J,w[se]+=ee,I[se]+=ie,P[se]+=fe,F[Q][K][se]=F[Q-1][K][se]+d[se],D[Q][K][se]=D[Q-1][K][se]+m[se],$[Q][K][se]=$[Q-1][K][se]+g[se],V[Q][K][se]=V[Q-1][K][se]+w[se],j[Q][K][se]=j[Q-1][K][se]+I[se],G[Q][K][se]=G[Q-1][K][se]+P[se],this._weights[U][Q][K][se]=this._weights[U-1][Q][K][se]+F[Q][K][se],this._momentsRed[U][Q][K][se]=this._momentsRed[U-1][Q][K][se]+D[Q][K][se],this._momentsGreen[U][Q][K][se]=this._momentsGreen[U-1][Q][K][se]+$[Q][K][se],this._momentsBlue[U][Q][K][se]=this._momentsBlue[U-1][Q][K][se]+V[Q][K][se],this._momentsAlpha[U][Q][K][se]=this._momentsAlpha[U-1][Q][K][se]+j[Q][K][se],this._moments[U][Q][K][se]=this._moments[U-1][Q][K][se]+G[Q][K][se]}}}}static _volumeFloat(d,m){return m[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMaximum]-m[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMaximum]-m[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMaximum]+m[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]-m[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMaximum]+m[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]+m[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-m[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(m[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMinimum]-m[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]-m[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+m[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]-m[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]+m[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]+m[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]-m[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum])}static _volume(d,m){return 0|_WuQuant._volumeFloat(d,m)}static _top(d,m,g,w){let I;switch(m){case _WuQuant._alpha:I=w[g][d.redMaximum][d.greenMaximum][d.blueMaximum]-w[g][d.redMaximum][d.greenMinimum][d.blueMaximum]-w[g][d.redMinimum][d.greenMaximum][d.blueMaximum]+w[g][d.redMinimum][d.greenMinimum][d.blueMaximum]-(w[g][d.redMaximum][d.greenMaximum][d.blueMinimum]-w[g][d.redMaximum][d.greenMinimum][d.blueMinimum]-w[g][d.redMinimum][d.greenMaximum][d.blueMinimum]+w[g][d.redMinimum][d.greenMinimum][d.blueMinimum]);break;case _WuQuant._red:I=w[d.alphaMaximum][g][d.greenMaximum][d.blueMaximum]-w[d.alphaMaximum][g][d.greenMinimum][d.blueMaximum]-w[d.alphaMinimum][g][d.greenMaximum][d.blueMaximum]+w[d.alphaMinimum][g][d.greenMinimum][d.blueMaximum]-(w[d.alphaMaximum][g][d.greenMaximum][d.blueMinimum]-w[d.alphaMaximum][g][d.greenMinimum][d.blueMinimum]-w[d.alphaMinimum][g][d.greenMaximum][d.blueMinimum]+w[d.alphaMinimum][g][d.greenMinimum][d.blueMinimum]);break;case _WuQuant._green:I=w[d.alphaMaximum][d.redMaximum][g][d.blueMaximum]-w[d.alphaMaximum][d.redMinimum][g][d.blueMaximum]-w[d.alphaMinimum][d.redMaximum][g][d.blueMaximum]+w[d.alphaMinimum][d.redMinimum][g][d.blueMaximum]-(w[d.alphaMaximum][d.redMaximum][g][d.blueMinimum]-w[d.alphaMaximum][d.redMinimum][g][d.blueMinimum]-w[d.alphaMinimum][d.redMaximum][g][d.blueMinimum]+w[d.alphaMinimum][d.redMinimum][g][d.blueMinimum]);break;case _WuQuant._blue:I=w[d.alphaMaximum][d.redMaximum][d.greenMaximum][g]-w[d.alphaMaximum][d.redMaximum][d.greenMinimum][g]-w[d.alphaMaximum][d.redMinimum][d.greenMaximum][g]+w[d.alphaMaximum][d.redMinimum][d.greenMinimum][g]-(w[d.alphaMinimum][d.redMaximum][d.greenMaximum][g]-w[d.alphaMinimum][d.redMaximum][d.greenMinimum][g]-w[d.alphaMinimum][d.redMinimum][d.greenMaximum][g]+w[d.alphaMinimum][d.redMinimum][d.greenMinimum][g]);break;default:throw new Error("impossible")}return 0|I}static _bottom(d,m,g){switch(m){case _WuQuant._alpha:return-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMaximum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant._red:return-g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMaximum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant._green:return-g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMaximum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant._blue:return-g[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]-(-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);default:return 0}}_calculateVariance(d){const m=_WuQuant._volume(d,this._momentsRed),g=_WuQuant._volume(d,this._momentsGreen),w=_WuQuant._volume(d,this._momentsBlue),I=_WuQuant._volume(d,this._momentsAlpha);return _WuQuant._volumeFloat(d,this._moments)-(m*m+g*g+w*w+I*I)/_WuQuant._volume(d,this._weights)}_maximize(d,m,g,w,I,P,F,D,$){const V=0|_WuQuant._bottom(d,m,this._momentsRed),j=0|_WuQuant._bottom(d,m,this._momentsGreen),G=0|_WuQuant._bottom(d,m,this._momentsBlue),W=0|_WuQuant._bottom(d,m,this._momentsAlpha),Z=0|_WuQuant._bottom(d,m,this._weights);let U=0,Q=-1;for(let K=g;K<w;++K){let te=V+_WuQuant._top(d,m,K,this._momentsRed),X=j+_WuQuant._top(d,m,K,this._momentsGreen),J=G+_WuQuant._top(d,m,K,this._momentsBlue),ee=W+_WuQuant._top(d,m,K,this._momentsAlpha),ie=Z+_WuQuant._top(d,m,K,this._weights);if(ie!==0){let fe=te*te+X*X+J*J+ee*ee,se=fe/ie;te=I-te,X=P-X,J=F-J,ee=D-ee,ie=$-ie,ie!==0&&(fe=te*te+X*X+J*J+ee*ee,se+=fe/ie,se>U&&(U=se,Q=K))}}return{max:U,position:Q}}_cut(d,m){let g;const w=_WuQuant._volume(d,this._momentsRed),I=_WuQuant._volume(d,this._momentsGreen),P=_WuQuant._volume(d,this._momentsBlue),F=_WuQuant._volume(d,this._momentsAlpha),D=_WuQuant._volume(d,this._weights),$=this._maximize(d,_WuQuant._red,d.redMinimum+1,d.redMaximum,w,I,P,F,D),V=this._maximize(d,_WuQuant._green,d.greenMinimum+1,d.greenMaximum,w,I,P,F,D),j=this._maximize(d,_WuQuant._blue,d.blueMinimum+1,d.blueMaximum,w,I,P,F,D),G=this._maximize(d,_WuQuant._alpha,d.alphaMinimum+1,d.alphaMaximum,w,I,P,F,D);if(G.max>=$.max&&G.max>=V.max&&G.max>=j.max){if(g=_WuQuant._alpha,G.position<0)return!1}else g=$.max>=G.max&&$.max>=V.max&&$.max>=j.max?_WuQuant._red:V.max>=G.max&&V.max>=$.max&&V.max>=j.max?_WuQuant._green:_WuQuant._blue;switch(m.redMaximum=d.redMaximum,m.greenMaximum=d.greenMaximum,m.blueMaximum=d.blueMaximum,m.alphaMaximum=d.alphaMaximum,g){case _WuQuant._red:m.redMinimum=d.redMaximum=$.position,m.greenMinimum=d.greenMinimum,m.blueMinimum=d.blueMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant._green:m.greenMinimum=d.greenMaximum=V.position,m.redMinimum=d.redMinimum,m.blueMinimum=d.blueMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant._blue:m.blueMinimum=d.blueMaximum=j.position,m.redMinimum=d.redMinimum,m.greenMinimum=d.greenMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant._alpha:m.alphaMinimum=d.alphaMaximum=G.position,m.blueMinimum=d.blueMinimum,m.redMinimum=d.redMinimum,m.greenMinimum=d.greenMinimum}return d.volume=(d.redMaximum-d.redMinimum)*(d.greenMaximum-d.greenMinimum)*(d.blueMaximum-d.blueMinimum)*(d.alphaMaximum-d.alphaMinimum),m.volume=(m.redMaximum-m.redMinimum)*(m.greenMaximum-m.greenMinimum)*(m.blueMaximum-m.blueMinimum)*(m.alphaMaximum-m.alphaMinimum),!0}_initialize(d){this._colors=d,this._cubes=[];for(let m=0;m<d;m++)this._cubes[m]=new WuColorCube;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(let m=0;m<256;++m)this._table[m]=m*m;this._pixels=[]}_setQuality(d=5){this._significantBitsPerChannel=d,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1}},WuQuant=_WuQuant;__publicField(WuQuant,"_alpha",3),__publicField(WuQuant,"_red",2),__publicField(WuQuant,"_green",1),__publicField(WuQuant,"_blue",0);var image_exports={};__export(image_exports,{AbstractImageQuantizer:()=>AbstractImageQuantizer,ErrorDiffusionArray:()=>ErrorDiffusionArray,ErrorDiffusionArrayKernel:()=>ErrorDiffusionArrayKernel,ErrorDiffusionRiemersma:()=>ErrorDiffusionRiemersma,NearestColor:()=>NearestColor});var AbstractImageQuantizer=class{quantizeSync(d,m){for(const g of this.quantize(d,m))if(g.pointContainer)return g.pointContainer;throw new Error("unreachable")}},NearestColor=class extends AbstractImageQuantizer{constructor(d){super(),__publicField(this,"_distance"),this._distance=d}*quantize(d,m){const g=d.getPointArray(),w=d.getWidth(),I=d.getHeight(),P=new ProgressTracker(I,99);for(let F=0;F<I;F++){P.shouldNotify(F)&&(yield{progress:P.progress});for(let D=0,$=F*w;D<w;D++,$++){const V=g[$];V.from(m.getNearestColor(this._distance,V))}}yield{pointContainer:d,progress:100}}},ErrorDiffusionArrayKernel=(d=>(d[d.FloydSteinberg=0]="FloydSteinberg",d[d.FalseFloydSteinberg=1]="FalseFloydSteinberg",d[d.Stucki=2]="Stucki",d[d.Atkinson=3]="Atkinson",d[d.Jarvis=4]="Jarvis",d[d.Burkes=5]="Burkes",d[d.Sierra=6]="Sierra",d[d.TwoSierra=7]="TwoSierra",d[d.SierraLite=8]="SierraLite",d))(ErrorDiffusionArrayKernel||{}),ErrorDiffusionArray=class extends AbstractImageQuantizer{constructor(d,m,g=!0,w=0,I=!1){super(),__publicField(this,"_minColorDistance"),__publicField(this,"_serpentine"),__publicField(this,"_kernel"),__publicField(this,"_calculateErrorLikeGIMP"),__publicField(this,"_distance"),this._setKernel(m),this._distance=d,this._minColorDistance=w,this._serpentine=g,this._calculateErrorLikeGIMP=I}*quantize(d,m){const g=d.getPointArray(),w=new Point,I=d.getWidth(),P=d.getHeight(),F=[];let D=1,$=1;for(const j of this._kernel){const G=j[2]+1;$<G&&($=G)}for(let j=0;j<$;j++)this._fillErrorLine(F[j]=[],I);const V=new ProgressTracker(P,99);for(let j=0;j<P;j++){V.shouldNotify(j)&&(yield{progress:V.progress}),this._serpentine&&(D*=-1);const G=j*I,W=D===1?0:I-1,Z=D===1?I:-1;this._fillErrorLine(F[0],I),F.push(F.shift());const U=F[0];for(let Q=W,K=G+W;Q!==Z;Q+=D,K+=D){const te=g[K],X=U[Q];w.from(te);const J=Point.createByRGBA(inRange0to255Rounded(te.r+X[0]),inRange0to255Rounded(te.g+X[1]),inRange0to255Rounded(te.b+X[2]),inRange0to255Rounded(te.a+X[3])),ee=m.getNearestColor(this._distance,J);if(te.from(ee),this._minColorDistance&&this._distance.calculateNormalized(w,ee)<this._minColorDistance)continue;let ie,fe,se,de;this._calculateErrorLikeGIMP?(ie=J.r-ee.r,fe=J.g-ee.g,se=J.b-ee.b,de=J.a-ee.a):(ie=w.r-ee.r,fe=w.g-ee.g,se=w.b-ee.b,de=w.a-ee.a);const le=D===1?0:this._kernel.length-1,ye=D===1?this._kernel.length:-1;for(let ae=le;ae!==ye;ae+=D){const ge=this._kernel[ae][1]*D,Pe=this._kernel[ae][2];if(ge+Q>=0&&ge+Q<I&&Pe+j>=0&&Pe+j<P){const be=this._kernel[ae][0],Ee=F[Pe][ge+Q];Ee[0]+=ie*be,Ee[1]+=fe*be,Ee[2]+=se*be,Ee[3]+=de*be}}}}yield{pointContainer:d,progress:100}}_fillErrorLine(d,m){d.length>m&&(d.length=m);const g=d.length;for(let w=0;w<g;w++){const I=d[w];I[0]=I[1]=I[2]=I[3]=0}for(let w=g;w<m;w++)d[w]=[0,0,0,0]}_setKernel(d){switch(d){case 0:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case 1:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case 2:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case 3:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case 4:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case 5:this._kernel=[[.25,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[.25,0,1],[4/32,1,1],[2/32,2,1]];break;case 6:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case 7:this._kernel=[[.25,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case 8:this._kernel=[[.5,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error(`ErrorDiffusionArray: unknown kernel = ${d}`)}}};function*hilbertCurve(d,m,g){const w=Math.max(d,m),I={width:d,height:m,level:Math.floor(Math.log(w)/Math.log(2)+1),callback:g,tracker:new ProgressTracker(d*m,99),index:0,x:0,y:0};yield*walkHilbert(I,1),visit(I,0)}function*walkHilbert(d,m){if(!(d.level<1)){switch(d.tracker.shouldNotify(d.index)&&(yield{progress:d.tracker.progress}),d.level--,m){case 2:yield*walkHilbert(d,1),visit(d,3),yield*walkHilbert(d,2),visit(d,4),yield*walkHilbert(d,2),visit(d,2),yield*walkHilbert(d,4);break;case 3:yield*walkHilbert(d,4),visit(d,2),yield*walkHilbert(d,3),visit(d,1),yield*walkHilbert(d,3),visit(d,3),yield*walkHilbert(d,1);break;case 1:yield*walkHilbert(d,2),visit(d,4),yield*walkHilbert(d,1),visit(d,3),yield*walkHilbert(d,1),visit(d,1),yield*walkHilbert(d,3);break;case 4:yield*walkHilbert(d,3),visit(d,1),yield*walkHilbert(d,4),visit(d,2),yield*walkHilbert(d,4),visit(d,4),yield*walkHilbert(d,2)}d.level++}}function visit(d,m){switch(d.x>=0&&d.x<d.width&&d.y>=0&&d.y<d.height&&(d.callback(d.x,d.y),d.index++),m){case 2:d.x--;break;case 3:d.x++;break;case 1:d.y--;break;case 4:d.y++}}var ErrorDiffusionRiemersma=class extends AbstractImageQuantizer{constructor(d,m=16,g=1){super(),__publicField(this,"_distance"),__publicField(this,"_weights"),__publicField(this,"_errorQueueSize"),this._distance=d,this._errorQueueSize=m,this._weights=ErrorDiffusionRiemersma._createWeights(g,m)}*quantize(d,m){const g=d.getPointArray(),w=d.getWidth(),I=d.getHeight(),P=[];let F=0;for(let D=0;D<this._errorQueueSize;D++)P[D]={r:0,g:0,b:0,a:0};yield*hilbertCurve(w,I,(D,$)=>{const V=g[D+$*w];let{r:j,g:G,b:W,a:Z}=V;for(let te=0;te<this._errorQueueSize;te++){const X=this._weights[te],J=P[(te+F)%this._errorQueueSize];j+=J.r*X,G+=J.g*X,W+=J.b*X,Z+=J.a*X}const U=Point.createByRGBA(inRange0to255Rounded(j),inRange0to255Rounded(G),inRange0to255Rounded(W),inRange0to255Rounded(Z)),Q=m.getNearestColor(this._distance,U);F=(F+1)%this._errorQueueSize;const K=(F+this._errorQueueSize-1)%this._errorQueueSize;P[K].r=V.r-Q.r,P[K].g=V.g-Q.g,P[K].b=V.b-Q.b,P[K].a=V.a-Q.a,V.from(Q)}),yield{pointContainer:d,progress:100}}static _createWeights(d,m){const g=[],w=Math.exp(Math.log(m)/(m-1));for(let I=0,P=1;I<m;I++)g[I]=(P+.5|0)/m*d,P*=w;return g}},quality_exports={};__export(quality_exports,{ssim:()=>ssim});var K1=.01,K2=.03;function ssim(d,m){if(d.getHeight()!==m.getHeight()||d.getWidth()!==m.getWidth())throw new Error("Images have different sizes!");const g=(255*K1)**2,w=(255*K2)**2;let I=0,P=0;return iterate(d,m,(F,D,$,V)=>{let j=0,G=0,W=0;for(let U=0;U<F.length;U++)G+=(F[U]-$)**2,W+=(D[U]-V)**2,j+=(F[U]-$)*(D[U]-V);const Z=F.length-1;G/=Z,W/=Z,j/=Z,P+=(2*$*V+g)*(2*j+w)/(($**2+V**2+g)*(G+W+w)),I++}),P/I}function iterate(d,m,g){const w=d.getWidth(),I=d.getHeight();for(let P=0;P<I;P+=8)for(let F=0;F<w;F+=8){const D=Math.min(8,w-F),$=Math.min(8,I-P),V=calculateLumaValuesForWindow(d,F,P,D,$),j=calculateLumaValuesForWindow(m,F,P,D,$);g(V,j,calculateAverageLuma(V),calculateAverageLuma(j))}}function calculateLumaValuesForWindow(d,m,g,w,I){const P=d.getPointArray(),F=[];let D=0;for(let $=g;$<g+I;$++){const V=$*d.getWidth();for(let j=m;j<m+w;j++){const G=P[V+j];F[D]=.2126*G.r+.7152*G.g+.0722*G.b,D++}}return F}function calculateAverageLuma(d){let m=0;for(const g of d)m+=g;return m/d.length}function buildPaletteSync(d,{colorDistanceFormula:m,paletteQuantization:g,colors:w}={}){const I=paletteQuantizationToPaletteQuantizer(colorDistanceFormulaToColorDistance(m),g,w);return d.forEach(P=>I.sample(P)),I.quantizeSync()}function applyPaletteSync(d,m,{colorDistanceFormula:g,imageQuantization:w}={}){return imageQuantizationToImageQuantizer(colorDistanceFormulaToColorDistance(g),w).quantizeSync(d,m)}function colorDistanceFormulaToColorDistance(d="euclidean-bt709"){switch(d){case"cie94-graphic-arts":return new CIE94GraphicArts;case"cie94-textiles":return new CIE94Textiles;case"ciede2000":return new CIEDE2000;case"color-metric":return new CMetric;case"euclidean":return new Euclidean;case"euclidean-bt709":return new EuclideanBT709;case"euclidean-bt709-noalpha":return new EuclideanBT709NoAlpha;case"manhattan":return new Manhattan;case"manhattan-bt709":return new ManhattanBT709;case"manhattan-nommyde":return new ManhattanNommyde;case"pngquant":return new PNGQuant;default:throw new Error(`Unknown colorDistanceFormula ${d}`)}}function imageQuantizationToImageQuantizer(d,m="floyd-steinberg"){switch(m){case"nearest":return new NearestColor(d);case"riemersma":return new ErrorDiffusionRiemersma(d);case"floyd-steinberg":return new ErrorDiffusionArray(d,0);case"false-floyd-steinberg":return new ErrorDiffusionArray(d,1);case"stucki":return new ErrorDiffusionArray(d,2);case"atkinson":return new ErrorDiffusionArray(d,3);case"jarvis":return new ErrorDiffusionArray(d,4);case"burkes":return new ErrorDiffusionArray(d,5);case"sierra":return new ErrorDiffusionArray(d,6);case"two-sierra":return new ErrorDiffusionArray(d,7);case"sierra-lite":return new ErrorDiffusionArray(d,8);default:throw new Error(`Unknown imageQuantization ${m}`)}}function paletteQuantizationToPaletteQuantizer(d,m="wuquant",g=256){switch(m){case"neuquant":return new NeuQuant(d,g);case"rgbquant":return new RGBQuant(d,g);case"wuquant":return new WuQuant(d,g);case"neuquant-float":return new NeuQuantFloat(d,g);default:throw new Error(`Unknown paletteQuantization ${m}`)}}/**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cie94.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * ciede2000.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cmetric.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * common.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * constants.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * ditherErrorDiffusionArray.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * euclidean.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * helper.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * hueStatistics.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2rgb.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2xyz.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * manhattanNeuQuant.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * nearestColor.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * palette.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pngQuant.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * point.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pointContainer.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2hsl.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2lab.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2xyz.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * ssim.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * wuQuant.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2lab.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2rgb.ts - part of Image Quantization Library
 *//**
 * @preserve
 * MIT License
 *
 * Copyright 2015-2018 Igor Bezkrovnyi
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
 * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * riemersma.ts - part of Image Quantization Library
 *//**
 * @preserve TypeScript port:
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * colorHistogram.ts - part of Image Quantization Library
 *//**
 * @preserve TypeScript port:
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * neuquant.ts - part of Image Quantization Library
 *//**
 * @preserve TypeScript port:
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgbquant.ts - part of Image Quantization Library
 */typeof setImmediate=="function"?setImmediate:typeof process<"u"&&(process==null||process.nextTick);const QuantizeOptionsSchema=z.object({colors:z.number().optional(),colorDistanceFormula:z.union([z.literal("cie94-textiles"),z.literal("cie94-graphic-arts"),z.literal("ciede2000"),z.literal("color-metric"),z.literal("euclidean"),z.literal("euclidean-bt709-noalpha"),z.literal("euclidean-bt709"),z.literal("manhattan"),z.literal("manhattan-bt709"),z.literal("manhattan-nommyde"),z.literal("pngquant")]).optional(),paletteQuantization:z.union([z.literal("neuquant"),z.literal("neuquant-float"),z.literal("rgbquant"),z.literal("wuquant")]).optional(),imageQuantization:z.union([z.literal("nearest"),z.literal("riemersma"),z.literal("floyd-steinberg"),z.literal("false-floyd-steinberg"),z.literal("stucki"),z.literal("atkinson"),z.literal("jarvis"),z.literal("burkes"),z.literal("sierra"),z.literal("two-sierra"),z.literal("sierra-lite")]).optional()}),methods$i={quantize(d,m){const{colors:g,colorDistanceFormula:w,paletteQuantization:I,imageQuantization:P}=QuantizeOptionsSchema.parse(m),F=utils_exports.PointContainer.fromUint8Array(d.bitmap.data,d.bitmap.width,d.bitmap.height),D=applyPaletteSync(F,buildPaletteSync([F],{colors:g,colorDistanceFormula:w,paletteQuantization:I}),{colorDistanceFormula:w,imageQuantization:P});return d.bitmap.data=Buffer.from(D.toUint8Array()),d}};var parseBmfontAscii=function(d){if(!d)throw new Error("no data provided");var m={pages:[],chars:[],kernings:[]},g=(d=d.toString().trim()).split(/\r\n?|\n/g);if(g.length===0)throw new Error("no data in BMFont file");for(var w=0;w<g.length;w++){var I=splitLine(g[w],w);if(I)if(I.key==="page"){if(typeof I.data.id!="number")throw new Error("malformed file at line "+w+" -- needs page id=N");if(typeof I.data.file!="string")throw new Error("malformed file at line "+w+' -- needs page file="path"');m.pages[I.data.id]=I.data.file}else I.key==="chars"||I.key==="kernings"||(I.key==="char"?m.chars.push(I.data):I.key==="kerning"?m.kernings.push(I.data):m[I.key]=I.data)}return m};function splitLine(d,m){if(!(d=d.replace(/\t+/g," ").trim()))return null;var g=d.indexOf(" ");if(g===-1)throw new Error("no named row at line "+m);var w=d.substring(0,g);d=(d=(d=(d=d.substring(g+1)).replace(/letter=[\'\"]\S+[\'\"]/gi,"")).split("=")).map(function($){return $.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var I=[],P=0;P<d.length;P++){var F=d[P];P===0?I.push({key:F[0],data:""}):P===d.length-1?I[I.length-1].data=parseData(F[0]):(I[I.length-1].data=parseData(F[0]),I.push({key:F[1],data:""}))}var D={key:w,data:{}};return I.forEach(function($){D.data[$.key]=$.data}),D}function parseData(d){return d&&d.length!==0?d.indexOf('"')===0||d.indexOf("'")===0?d.substring(1,d.length-1):d.indexOf(",")!==-1?parseIntList$1(d):parseInt(d,10):""}function parseIntList$1(d){return d.split(",").map(function(m){return parseInt(m,10)})}getDefaultExportFromCjs(parseBmfontAscii);var GLYPH_DESIGNER_ERROR="chasrset",parseAttribs=function(d){for(var m in d=Object.assign({},d),GLYPH_DESIGNER_ERROR in d&&(d.charset=d[GLYPH_DESIGNER_ERROR],delete d[GLYPH_DESIGNER_ERROR]),d)m!=="face"&&m!=="charset"&&(d[m]=m==="padding"||m==="spacing"?parseIntList(d[m]):parseInt(d[m],10));return d};function parseIntList(d){return d.split(",").map(function(m){return parseInt(m,10)})}var xmlParseFromString=self.DOMParser!==void 0?function(d){return new self.DOMParser().parseFromString(d,"application/xml")}:self.ActiveXObject!==void 0&&new self.ActiveXObject("Microsoft.XMLDOM")?function(d){var m=new self.ActiveXObject("Microsoft.XMLDOM");return m.async="false",m.loadXML(d),m}:function(d){var m=document.createElement("div");return m.innerHTML=d,m},parseAttributes=parseAttribs,parseFromString=xmlParseFromString,NAME_MAP={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"},browser$2=function(d){d=d.toString();var m=parseFromString(d),g={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(V){var j=m.getElementsByTagName(V)[0];j&&(g[V]=parseAttributes(getAttribs(j)))});var w=m.getElementsByTagName("pages")[0];if(!w)throw new Error("malformed file -- no <pages> element");for(var I=w.getElementsByTagName("page"),P=0;P<I.length;P++){var F=I[P],D=parseInt(F.getAttribute("id"),10),$=F.getAttribute("file");if(isNaN(D))throw new Error('malformed file -- page "id" attribute is NaN');if(!$)throw new Error('malformed file -- needs page "file" attribute');g.pages[parseInt(D,10)]=$}return["chars","kernings"].forEach(function(V){var j=m.getElementsByTagName(V)[0];if(j)for(var G=V.substring(0,V.length-1),W=j.getElementsByTagName(G),Z=0;Z<W.length;Z++){var U=W[Z];g[V].push(parseAttributes(getAttribs(U)))}}),g};function getAttribs(d){return getAttribList(d).reduce(function(m,g){return m[mapName(g.nodeName)]=g.nodeValue,m},{})}function getAttribList(d){for(var m=[],g=0;g<d.attributes.length;g++)m.push(d.attributes[g]);return m}function mapName(d){return NAME_MAP[d.toLowerCase()]||d}getDefaultExportFromCjs(browser$2);var HEADER$1=[66,77,70],parseBmfontBinary=function(d){if(d.length<6)throw new Error("invalid buffer length for BMFont");var m=HEADER$1.every(function(P,F){return d.readUInt8(F)===P});if(!m)throw new Error("BMFont missing BMF byte header");var g=3;if(d.readUInt8(g++)>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var w={kernings:[],chars:[]},I=0;I<5;I++)g+=readBlock(w,d,g);return w};function readBlock(d,m,g){if(g>m.length-1)return 0;var w=m.readUInt8(g++),I=m.readInt32LE(g);switch(g+=4,w){case 1:d.info=readInfo(m,g);break;case 2:d.common=readCommon(m,g);break;case 3:d.pages=readPages(m,g,I);break;case 4:d.chars=readChars(m,g,I);break;case 5:d.kernings=readKernings(m,g,I)}return 5+I}function readInfo(d,m){var g={};g.size=d.readInt16LE(m);var w=d.readUInt8(m+2);return g.smooth=w>>7&1,g.unicode=w>>6&1,g.italic=w>>5&1,g.bold=w>>4&1,w>>3&1&&(g.fixedHeight=1),g.charset=d.readUInt8(m+3)||"",g.stretchH=d.readUInt16LE(m+4),g.aa=d.readUInt8(m+6),g.padding=[d.readInt8(m+7),d.readInt8(m+8),d.readInt8(m+9),d.readInt8(m+10)],g.spacing=[d.readInt8(m+11),d.readInt8(m+12)],g.outline=d.readUInt8(m+13),g.face=readStringNT(d,m+14),g}function readCommon(d,m){var g={};return g.lineHeight=d.readUInt16LE(m),g.base=d.readUInt16LE(m+2),g.scaleW=d.readUInt16LE(m+4),g.scaleH=d.readUInt16LE(m+6),g.pages=d.readUInt16LE(m+8),d.readUInt8(m+10),g.packed=0,g.alphaChnl=d.readUInt8(m+11),g.redChnl=d.readUInt8(m+12),g.greenChnl=d.readUInt8(m+13),g.blueChnl=d.readUInt8(m+14),g}function readPages(d,m,g){for(var w=[],I=readNameNT(d,m),P=I.length+1,F=g/P,D=0;D<F;D++)w[D]=d.slice(m,m+I.length).toString("utf8"),m+=P;return w}function readChars(d,m,g){for(var w=[],I=g/20,P=0;P<I;P++){var F={},D=20*P;F.id=d.readUInt32LE(m+0+D),F.x=d.readUInt16LE(m+4+D),F.y=d.readUInt16LE(m+6+D),F.width=d.readUInt16LE(m+8+D),F.height=d.readUInt16LE(m+10+D),F.xoffset=d.readInt16LE(m+12+D),F.yoffset=d.readInt16LE(m+14+D),F.xadvance=d.readInt16LE(m+16+D),F.page=d.readUInt8(m+18+D),F.chnl=d.readUInt8(m+19+D),w[P]=F}return w}function readKernings(d,m,g){for(var w=[],I=g/10,P=0;P<I;P++){var F={},D=10*P;F.first=d.readUInt32LE(m+0+D),F.second=d.readUInt32LE(m+4+D),F.amount=d.readInt16LE(m+8+D),w[P]=F}return w}function readNameNT(d,m){for(var g=m;g<d.length&&d[g]!==0;g++);return d.slice(m,g)}function readStringNT(d,m){return readNameNT(d,m).toString("utf8")}getDefaultExportFromCjs(parseBmfontBinary);function e(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}const t=d=>{if(!d)return null;const m={};switch(d.type){case"ELEMENT":{let g={};const w=E(d.value.attributes),I=t(d.value.children);if(w&&(g=Object.assign(g,w)),I){const P=r(d.value.children);g=Object.assign(g,P)}m[d.value.type]=g;break}case"ATTRIBUTE":{const g=d.value;m[g.name]=g.value;break}case"CONTENT":return{content:d.value}}return m},r=d=>d&&Array.isArray(d)&&d.length!==0?n(d)?{content:d[0].value}:{children:d.map(t)}:null,n=d=>d&&Array.isArray(d)&&d.length===1&&d[0].type==="CONTENT",E=d=>d&&Array.isArray(d)?d.map(t).reduce((m,g)=>Object.assign(m,g),{}):null;var s={convert:d=>t(d.value.children[0])},a={Token:(d,m)=>({type:d,value:m}),TOKEN_TYPE:{OPEN_BRACKET:"OPEN_BRACKET",ELEMENT_TYPE:"ELEMENT_TYPE",CLOSE_ELEMENT:"CLOSE_ELEMENT",ATTRIB_NAME:"ATTRIB_NAME",ATTRIB_VALUE:"ATTRIB_VALUE",ASSIGN:"ASSIGN",CLOSE_BRACKET:"CLOSE_BRACKET",CONTENT:"CONTENT",EOF:"EOF"}};const{Token:T,TOKEN_TYPE:u}=a,c=T("EOF"),l=d=>d===" "||d===`
`||d==="\r"||d==="	",o=d=>d.replace(/'/g,'"');var N={createLexer:function(d){let m=null,g=(G=>{let W=0;for(;W<G.length&&l(G[W]);)W++;return((Z,U)=>{if(Z.startsWith("<?xml",U)){const Q=Z.length;for(;U<Q;)if(Z[U]!=="?")U++;else{if(Z[U+1]===">")return U+2;U++}}return U})(G,W)})(d),w=[];const I=()=>d[g],P=()=>m!==c&&g<d.length,F=G=>G==='"'||G==="'",D=()=>{for(;P()&&l(d[g]);)g++},$=G=>{if(P()){if(d[g]==="<"){let W="<";return g++,P()&&d[g]==="/"?(g++,W="</"):P()&&d[g]==="!"&&d[g+1]==="-"&&d[g+2]==="-"&&(g++,g++,g++,W="<!--"),W}if(I()==="/"){let W="/";return g++,P()&&I()===">"&&(g++,W="/>"),W}if(d[g]==="="||d[g]===">"){const W=d[g];return g++,W}}return V(!!G)},V=G=>{const W=G?/[^>=<]/u:/[a-zA-Z0-9_:-]/;let Z=g;for(;P()&&d[g].match(W);)g++;return o(d.substring(Z,g))},j=()=>{const G=g;D();const W=g-G;if(P())if(m&&m.type===u.OPEN_BRACKET){D();const Z=$(!1);m=T(u.ELEMENT_TYPE,Z),w.push(Z)}else if(m&&m.type===u.ASSIGN){P()&&F(I())&&g++;let Z=g;for(;P()&&!F(I());)g++;const U=o(d.substring(Z,g));g++,m=T(u.ATTRIB_VALUE,U)}else{D();let Z=$(!0);switch(Z){case"=":m=m.type===u.ATTRIB_NAME?T(u.ASSIGN):T(u.CONTENT,Z);break;case"</":{const U=g;for(;d[g]!==">";)g++;m=T(u.CLOSE_ELEMENT,d.substring(U,g)),g++,w.pop();break}case"/>":{const U=w.pop();m=T(u.CLOSE_ELEMENT,U);break}case"<!--":{const U=["!","-","-"];for(;P()&&(U[2]!==">"||U[1]!=="-"||U[0]!=="-");)U.shift(),U.push(d[g]),g++;return j()}case">":m=T(u.CLOSE_BRACKET);break;case"<":m=T(u.OPEN_BRACKET);break;default:if(Z&&Z.length>0){if(m.type===u.CLOSE_BRACKET){let U="";I()!=="<"&&(U=V(!0)),m=T(u.CONTENT,Z+U)}else if(m.type!==u.ATTRIB_NAME&&m.type!==u.CONTENT)m.type===u.CLOSE_ELEMENT?(Z=" ".repeat(W)+Z,m=T(u.CONTENT,Z)):m=T(u.ATTRIB_NAME,Z);else{const U=" ".repeat(W)+Z;m=T(u.CONTENT,U)}break}{const U='Unknown Syntax : "'+d[g]+'"';throw new Error(U)}}}else m=c;return m};return{peek:I,next:j,hasNext:P}}};const{createLexer:i}=N,{Token:p,TOKEN_TYPE:O}=a,[A,f,C,h]=["ROOT","ELEMENT","ATTRIBUTE","CONTENT"],_$1=(d,m)=>({type:d,value:m}),L=d=>_$1(h,d),y=(d,m,g)=>_$1(f,{type:d,attributes:m,children:g}),v=(d,m)=>_$1(C,{name:d,value:m}),S=(d,m)=>{const g=[];for(;d.hasNext();){const w=d.next();switch(w.type){case O.OPEN_BRACKET:{const I=d.next(),[P,F]=R(d);let D=[];F.type!==O.CLOSE_ELEMENT&&(D=S(d,I)),D&&D.length>0&&D[0].type===O.CONTENT&&(D=b(D)),g.push(y(I.value,P,D));break}case O.CLOSE_ELEMENT:if(w.value===m.value)return g;break;case O.CONTENT:g.push(L(w.value));break;case O.EOF:return g;default:throw new Error(`Unknown Lexem type: ${w.type} "${w.value}, scoping element: ${m.value}"`)}}return g},R=d=>{const m=[];let g=d.peek();if(!d.hasNext()||g&&g.type===O.CLOSE_BRACKET||g&&g.type===O.CLOSE_ELEMENT)return[m,g];for(g=d.next();d.hasNext()&&g&&g.type!==O.CLOSE_BRACKET&&g.type!==O.CLOSE_ELEMENT;){const w=g;d.next();const I=d.next(),P=v(w.value,I.value);m.push(P),g=d.next()}return[m,g]};function b(d){let m=[],g="";return d.forEach(w=>{w.type===O.CONTENT?g+=w.value:(g.length&&(m.push(L(g)),g=""),m.push(w))}),g.length&&m.push(L(g)),m}var B={transpile:function(d,m){const g=(w=>_$1(A,{children:S(w,p(A,"ROOT"))}))(i(d));return m?m.convert(g):g},Node:_$1,ElementNode:y,AttribNode:v};const M=s,{transpile:x}=B;var k=e({convertXML:function(d,m){return x(d,m||M)},createAST:function(d){return x(d)}}),simpleXmlToJson_min=k;getDefaultExportFromCjs(simpleXmlToJson_min);createJimp({formats:[png]});Buffer.from([66,77,70,3]);var pixelmatch_1=pixelmatch;const defaultOptions$2={threshold:.1,includeAA:!1,alpha:.1,aaColor:[255,255,0],diffColor:[255,0,0],diffColorAlt:null,diffMask:!1};function pixelmatch(d,m,g,w,I,P){if(!isPixelData(d)||!isPixelData(m)||g&&!isPixelData(g))throw new Error("Image data: Uint8Array, Uint8ClampedArray or Buffer expected.");if(d.length!==m.length||g&&g.length!==d.length)throw new Error("Image sizes do not match.");if(d.length!==w*I*4)throw new Error("Image data size does not match width/height.");P=Object.assign({},defaultOptions$2,P);const F=w*I,D=new Uint32Array(d.buffer,d.byteOffset,F),$=new Uint32Array(m.buffer,m.byteOffset,F);let V=!0;for(let W=0;W<F;W++)if(D[W]!==$[W]){V=!1;break}if(V){if(g&&!P.diffMask)for(let W=0;W<F;W++)drawGrayPixel(d,4*W,P.alpha,g);return 0}const j=35215*P.threshold*P.threshold;let G=0;for(let W=0;W<I;W++)for(let Z=0;Z<w;Z++){const U=4*(W*w+Z),Q=colorDelta(d,m,U,U);Math.abs(Q)>j?P.includeAA||!antialiased(d,Z,W,w,I,m)&&!antialiased(m,Z,W,w,I,d)?(g&&drawPixel(g,U,...Q<0&&P.diffColorAlt||P.diffColor),G++):g&&!P.diffMask&&drawPixel(g,U,...P.aaColor):g&&(P.diffMask||drawGrayPixel(d,U,P.alpha,g))}return G}function isPixelData(d){return ArrayBuffer.isView(d)&&d.constructor.BYTES_PER_ELEMENT===1}function antialiased(d,m,g,w,I,P){const F=Math.max(m-1,0),D=Math.max(g-1,0),$=Math.min(m+1,w-1),V=Math.min(g+1,I-1),j=4*(g*w+m);let G,W,Z,U,Q=m===F||m===$||g===D||g===V?1:0,K=0,te=0;for(let X=F;X<=$;X++)for(let J=D;J<=V;J++){if(X===m&&J===g)continue;const ee=colorDelta(d,d,j,4*(J*w+X),!0);if(ee===0){if(Q++,Q>2)return!1}else ee<K?(K=ee,G=X,W=J):ee>te&&(te=ee,Z=X,U=J)}return K!==0&&te!==0&&(hasManySiblings(d,G,W,w,I)&&hasManySiblings(P,G,W,w,I)||hasManySiblings(d,Z,U,w,I)&&hasManySiblings(P,Z,U,w,I))}function hasManySiblings(d,m,g,w,I){const P=Math.max(m-1,0),F=Math.max(g-1,0),D=Math.min(m+1,w-1),$=Math.min(g+1,I-1),V=4*(g*w+m);let j=m===P||m===D||g===F||g===$?1:0;for(let G=P;G<=D;G++)for(let W=F;W<=$;W++){if(G===m&&W===g)continue;const Z=4*(W*w+G);if(d[V]===d[Z]&&d[V+1]===d[Z+1]&&d[V+2]===d[Z+2]&&d[V+3]===d[Z+3]&&j++,j>2)return!0}return!1}function colorDelta(d,m,g,w,I){let P=d[g+0],F=d[g+1],D=d[g+2],$=d[g+3],V=m[w+0],j=m[w+1],G=m[w+2],W=m[w+3];if($===W&&P===V&&F===j&&D===G)return 0;$<255&&($/=255,P=blend(P,$),F=blend(F,$),D=blend(D,$)),W<255&&(W/=255,V=blend(V,W),j=blend(j,W),G=blend(G,W));const Z=rgb2y(P,F,D),U=rgb2y(V,j,G),Q=Z-U;if(I)return Q;const K=rgb2i(P,F,D)-rgb2i(V,j,G),te=rgb2q(P,F,D)-rgb2q(V,j,G),X=.5053*Q*Q+.299*K*K+.1957*te*te;return Z>U?-X:X}function rgb2y(d,m,g){return .29889531*d+.58662247*m+.11448223*g}function rgb2i(d,m,g){return .59597799*d-.2741761*m-.32180189*g}function rgb2q(d,m,g){return .21147017*d-.52261711*m+.31114694*g}function blend(d,m){return 255+(d-255)*m}function drawPixel(d,m,g,w,I){d[m+0]=g,d[m+1]=w,d[m+2]=I,d[m+3]=255}function drawGrayPixel(d,m,g,w){const I=blend(rgb2y(d[m+0],d[m+1],d[m+2]),g*d[m+3]/255);drawPixel(w,m,I,I,I)}getDefaultExportFromCjs(pixelmatch_1);const defaultPlugins=[methods$h,methods$g,methods$f,methods$e,methods$c,methods$a,methods$b,methods$9,methods$8,methods$7,methods$6,methods$5,methods$4,methods$3,methods$d,methods$2,methods$1,methods$i],defaultFormats=[bmp,msBmp,gif,jpeg$2,png,tiff];bmp().mime,gif().mime,jpeg$2().mime,png().mime,tiff().mime;const Jimp=createJimp({formats:defaultFormats,plugins:defaultPlugins}),_hoisted_1$d={key:0,class:"mt-5 p-5 d-flex justify-content-center"},_hoisted_2$b={class:"align-self-center p-5 shadow-lg rounded-lg"},_hoisted_3$8={key:1,class:"mt-5 pt-5"},_hoisted_4$7={class:"section-shaped my-0"},_hoisted_5$5={class:"container shape-container"},_hoisted_6$5={class:"row mt-3"},_hoisted_7$4={class:"col-6 d-flex flex-column align-items-center"},_hoisted_8$4=["src"],_hoisted_9$4={class:"col-6 d-flex flex-column align-items-center"},_hoisted_10$4=["src"],_hoisted_11$4={class:"row mt-3"},_hoisted_12$4={class:"col-6"},_hoisted_13$2={class:"input-group d-flex"},_hoisted_14$2={class:"col-6 d-flex flex-column flex-end"},_sfc_main$l=defineComponent({__name:"Brightness",setup(d){let m=inject("initPct"),g=ref(!0),w,I,P=ref(2);m.value||router.push("/");let F=$=>{P.value=$};onMounted(async()=>{await D()}),watch(()=>P.value,async()=>{await D()});let D=async()=>{var V;g.value=!0,w=createImgUrl(m.value);let $=await Jimp.read(w);$.brightness(P.value),I=bufferImgUrl((await $.getBuffer(m.value.type)).buffer,`${(V=m.value)==null?void 0:V.name}-thresholding`,m.value.type),g.value=!g.value};return($,V)=>unref(g)?(openBlock(),createElementBlock("div",_hoisted_1$d,[createBaseVNode("div",_hoisted_2$b,[createVNode(PulseLoader,{size:"50px"}),V[0]||(V[0]=createBaseVNode("div",{class:"mt-2 d-block d-flex flex-column gap-2 align-items-center"},[createBaseVNode("h5",null,"Loading..."),createBaseVNode("span",null,"Mohon Tunggu Sebentar")],-1))])])):(openBlock(),createElementBlock("div",_hoisted_3$8,[createBaseVNode("section",_hoisted_4$7,[createBaseVNode("div",_hoisted_5$5,[V[6]||(V[6]=createBaseVNode("h3",null,"Kecerahan Gambar",-1)),createBaseVNode("div",_hoisted_6$5,[createBaseVNode("div",_hoisted_7$4,[createBaseVNode("img",{src:unref(w),alt:"initPct",class:"img-thumbnail"},null,8,_hoisted_8$4),V[1]||(V[1]=createBaseVNode("span",{class:"d-block text-center"},"Gambar Awal",-1))]),createBaseVNode("div",_hoisted_9$4,[createBaseVNode("img",{src:unref(I),alt:"afterPct",class:"img-thumbnail"},null,8,_hoisted_10$4),V[2]||(V[2]=createBaseVNode("span",{class:"d-block text-center"},"Gambar Akhir",-1))])]),createBaseVNode("div",_hoisted_11$4,[createBaseVNode("div",_hoisted_12$4,[createBaseVNode("div",_hoisted_13$2,[V[3]||(V[3]=createBaseVNode("div",{class:"input-group-prepend"},[createBaseVNode("span",{class:"input-group-text text-black",id:"basic-addon1"},"Kecerahan")],-1)),createVNode(_sfc_main$m,{options:{minValue:"0",maxValue:"255"},value:unref(P),onValueNumber:unref(F),id:"basic-addon1",class:"flex-grow-1"},null,8,["value","onValueNumber"])]),V[4]||(V[4]=createBaseVNode("span",{class:"text-info d-block",style:{"font-size":"10pt"}},"Tekan Enter untuk menerapkan hasil",-1))]),createBaseVNode("div",_hoisted_14$2,[createVNode(BaseButton,{tag:"a",href:unref(I),class:"mb-3 mb-sm-0",type:"success",icon:"ni ni-cloud-download-95",download:"brightnessed-image"},{default:withCtx(()=>V[5]||(V[5]=[createTextVNode(" Download Hasil ")])),_:1},8,["href"])])])])])]))}}),_hoisted_1$c={key:0,class:"mt-5 p-5 d-flex justify-content-center"},_hoisted_2$a={class:"align-self-center p-5 shadow-lg rounded-lg"},_hoisted_3$7={key:1,class:"mt-5 pt-5"},_hoisted_4$6={class:"section-shaped my-0"},_hoisted_5$4={class:"container shape-container"},_hoisted_6$4={class:"row mt-3"},_hoisted_7$3={class:"col-6 d-flex flex-column align-items-center"},_hoisted_8$3=["src"],_hoisted_9$3={class:"col-6 d-flex flex-column align-items-center"},_hoisted_10$3=["src"],_hoisted_11$3={class:"row mt-3"},_hoisted_12$3={class:"col-6 d-flex flex-column flex-end"},_sfc_main$k=defineComponent({__name:"Convert",setup(d){let m=inject("initPct"),g=ref(!0),w,I;return m.value||router.push("/"),onMounted(async()=>{var F;g.value=!0,w=createImgUrl(m.value);let P=await Jimp.read(w);P.greyscale(),I=bufferImgUrl((await P.getBuffer(m.value.type)).buffer,`${(F=m.value)==null?void 0:F.name}-thresholding`,m.value.type),g.value=!g.value}),(P,F)=>unref(g)?(openBlock(),createElementBlock("div",_hoisted_1$c,[createBaseVNode("div",_hoisted_2$a,[createVNode(PulseLoader,{size:"50px"}),F[0]||(F[0]=createBaseVNode("div",{class:"mt-2 d-block d-flex flex-column gap-2 align-items-center"},[createBaseVNode("h5",null,"Loading..."),createBaseVNode("span",null,"Mohon Tunggu Sebentar")],-1))])])):(openBlock(),createElementBlock("div",_hoisted_3$7,[createBaseVNode("section",_hoisted_4$6,[createBaseVNode("div",_hoisted_5$4,[F[5]||(F[5]=createBaseVNode("h3",null,"Konversi Grayscale",-1)),createBaseVNode("div",_hoisted_6$4,[createBaseVNode("div",_hoisted_7$3,[createBaseVNode("img",{src:unref(w),alt:"initPct",class:"img-thumbnail"},null,8,_hoisted_8$3),F[1]||(F[1]=createBaseVNode("span",{class:"d-block text-center"},"Gambar Awal",-1))]),createBaseVNode("div",_hoisted_9$3,[createBaseVNode("img",{src:unref(I),alt:"afterPct",class:"img-thumbnail"},null,8,_hoisted_10$3),F[2]||(F[2]=createBaseVNode("span",{class:"d-block text-center"},"Gambar Akhir",-1))])]),createBaseVNode("div",_hoisted_11$3,[F[4]||(F[4]=createBaseVNode("div",{class:"col-6"},null,-1)),createBaseVNode("div",_hoisted_12$3,[createVNode(BaseButton,{tag:"a",href:unref(I),class:"mb-3 mb-sm-0",type:"success",icon:"ni ni-cloud-download-95",download:"thresholded-image"},{default:withCtx(()=>F[3]||(F[3]=[createTextVNode(" Download Hasil ")])),_:1},8,["href"])])])])])]))}}),_sfc_main$j={};function _sfc_render$f(d,m){return openBlock(),createElementBlock("div")}const Convolution=_export_sfc(_sfc_main$j,[["render",_sfc_render$f]]),_sfc_main$i={};function _sfc_render$e(d,m){return openBlock(),createElementBlock("div")}const Equalise=_export_sfc(_sfc_main$i,[["render",_sfc_render$e]]),_sfc_main$h={};function _sfc_render$d(d,m){return openBlock(),createElementBlock("div")}const Flip=_export_sfc(_sfc_main$h,[["render",_sfc_render$d]]);/*!
 * FilePond 4.31.4
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const isNode=d=>d instanceof HTMLElement,createStore=(d,m=[],g=[])=>{const w={...d},I=[],P=[],F=()=>({...w}),D=()=>{const U=[...I];return I.length=0,U},$=()=>{const U=[...P];P.length=0,U.forEach(({type:Q,data:K})=>{V(Q,K)})},V=(U,Q,K)=>{if(K&&!document.hidden){P.push({type:U,data:Q});return}Z[U]&&Z[U](Q),I.push({type:U,data:Q})},j=(U,...Q)=>W[U]?W[U](...Q):null,G={getState:F,processActionQueue:D,processDispatchQueue:$,dispatch:V,query:j};let W={};m.forEach(U=>{W={...U(w),...W}});let Z={};return g.forEach(U=>{Z={...U(V,j,w),...Z}}),G},defineProperty=(d,m,g)=>{if(typeof g=="function"){d[m]=g;return}Object.defineProperty(d,m,{...g})},forin=(d,m)=>{for(const g in d)d.hasOwnProperty(g)&&m(g,d[g])},createObject=d=>{const m={};return forin(d,g=>{defineProperty(m,g,d[g])}),m},attr=(d,m,g=null)=>{if(g===null)return d.getAttribute(m)||d.hasAttribute(m);d.setAttribute(m,g)},ns$1="http://www.w3.org/2000/svg",svgElements=["svg","path"],isSVGElement=d=>svgElements.includes(d),createElement=(d,m,g={})=>{typeof m=="object"&&(g=m,m=null);const w=isSVGElement(d)?document.createElementNS(ns$1,d):document.createElement(d);return m&&(isSVGElement(d)?attr(w,"class",m):w.className=m),forin(g,(I,P)=>{attr(w,I,P)}),w},appendChild=d=>(m,g)=>{typeof g<"u"&&d.children[g]?d.insertBefore(m,d.children[g]):d.appendChild(m)},appendChildView=(d,m)=>(g,w)=>(typeof w<"u"?m.splice(w,0,g):m.push(g),g),removeChildView=(d,m)=>g=>(m.splice(m.indexOf(g),1),g.element.parentNode&&d.removeChild(g.element),g),IS_BROWSER=typeof window<"u"&&typeof window.document<"u",isBrowser$2=()=>IS_BROWSER,testElement=isBrowser$2()?createElement("svg"):{},getChildCount="children"in testElement?d=>d.children.length:d=>d.childNodes.length,getViewRect=(d,m,g,w)=>{const I=g[0]||d.left,P=g[1]||d.top,F=I+d.width,D=P+d.height*(w[1]||1),$={element:{...d},inner:{left:d.left,top:d.top,right:d.right,bottom:d.bottom},outer:{left:I,top:P,right:F,bottom:D}};return m.filter(V=>!V.isRectIgnored()).map(V=>V.rect).forEach(V=>{expandRect($.inner,{...V.inner}),expandRect($.outer,{...V.outer})}),calculateRectSize($.inner),$.outer.bottom+=$.element.marginBottom,$.outer.right+=$.element.marginRight,calculateRectSize($.outer),$},expandRect=(d,m)=>{m.top+=d.top,m.right+=d.left,m.bottom+=d.top,m.left+=d.left,m.bottom>d.bottom&&(d.bottom=m.bottom),m.right>d.right&&(d.right=m.right)},calculateRectSize=d=>{d.width=d.right-d.left,d.height=d.bottom-d.top},isNumber=d=>typeof d=="number",thereYet=(d,m,g,w=.001)=>Math.abs(d-m)<w&&Math.abs(g)<w,spring=({stiffness:d=.5,damping:m=.75,mass:g=10}={})=>{let w=null,I=null,P=0,F=!1;const V=createObject({interpolate:(j,G)=>{if(F)return;if(!(isNumber(w)&&isNumber(I))){F=!0,P=0;return}const W=-(I-w)*d;P+=W/g,I+=P,P*=m,thereYet(I,w,P)||G?(I=w,P=0,F=!0,V.onupdate(I),V.oncomplete(I)):V.onupdate(I)},target:{set:j=>{if(isNumber(j)&&!isNumber(I)&&(I=j),w===null&&(w=j,I=j),w=j,I===w||typeof w>"u"){F=!0,P=0,V.onupdate(I),V.oncomplete(I);return}F=!1},get:()=>w},resting:{get:()=>F},onupdate:j=>{},oncomplete:j=>{}});return V},easeInOutQuad=d=>d<.5?2*d*d:-1+(4-2*d)*d,tween=({duration:d=500,easing:m=easeInOutQuad,delay:g=0}={})=>{let w=null,I,P,F=!0,D=!1,$=null;const j=createObject({interpolate:(G,W)=>{F||$===null||(w===null&&(w=G),!(G-w<g)&&(I=G-w-g,I>=d||W?(I=1,P=D?0:1,j.onupdate(P*$),j.oncomplete(P*$),F=!0):(P=I/d,j.onupdate((I>=0?m(D?1-P:P):0)*$))))},target:{get:()=>D?0:$,set:G=>{if($===null){$=G,j.onupdate(G),j.oncomplete(G);return}G<$?($=1,D=!0):(D=!1,$=G),F=!1,w=null}},resting:{get:()=>F},onupdate:G=>{},oncomplete:G=>{}});return j},animator={spring,tween},createAnimator=(d,m,g)=>{const w=d[m]&&typeof d[m][g]=="object"?d[m][g]:d[m]||d,I=typeof w=="string"?w:w.type,P=typeof w=="object"?{...w}:{};return animator[I]?animator[I](P):null},addGetSet=(d,m,g,w=!1)=>{m=Array.isArray(m)?m:[m],m.forEach(I=>{d.forEach(P=>{let F=P,D=()=>g[P],$=V=>g[P]=V;typeof P=="object"&&(F=P.key,D=P.getter||D,$=P.setter||$),!(I[F]&&!w)&&(I[F]={get:D,set:$})})})},animations=({mixinConfig:d,viewProps:m,viewInternalAPI:g,viewExternalAPI:w})=>{const I={...m},P=[];return forin(d,(F,D)=>{const $=createAnimator(D);if(!$)return;$.onupdate=j=>{m[F]=j},$.target=I[F],addGetSet([{key:F,setter:j=>{$.target!==j&&($.target=j)},getter:()=>m[F]}],[g,w],m,!0),P.push($)}),{write:F=>{let D=document.hidden,$=!0;return P.forEach(V=>{V.resting||($=!1),V.interpolate(F,D)}),$},destroy:()=>{}}},addEvent=d=>(m,g)=>{d.addEventListener(m,g)},removeEvent=d=>(m,g)=>{d.removeEventListener(m,g)},listeners=({mixinConfig:d,viewProps:m,viewInternalAPI:g,viewExternalAPI:w,viewState:I,view:P})=>{const F=[],D=addEvent(P.element),$=removeEvent(P.element);return w.on=(V,j)=>{F.push({type:V,fn:j}),D(V,j)},w.off=(V,j)=>{F.splice(F.findIndex(G=>G.type===V&&G.fn===j),1),$(V,j)},{write:()=>!0,destroy:()=>{F.forEach(V=>{$(V.type,V.fn)})}}},apis=({mixinConfig:d,viewProps:m,viewExternalAPI:g})=>{addGetSet(d,g,m)},isDefined$1=d=>d!=null,defaults={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},styles=({mixinConfig:d,viewProps:m,viewInternalAPI:g,viewExternalAPI:w,view:I})=>{const P={...m},F={};addGetSet(d,[g,w],m);const D=()=>[m.translateX||0,m.translateY||0],$=()=>[m.scaleX||0,m.scaleY||0],V=()=>I.rect?getViewRect(I.rect,I.childViews,D(),$()):null;return g.rect={get:V},w.rect={get:V},d.forEach(j=>{m[j]=typeof P[j]>"u"?defaults[j]:P[j]}),{write:()=>{if(propsHaveChanged(F,m))return applyStyles(I.element,m),Object.assign(F,{...m}),!0},destroy:()=>{}}},propsHaveChanged=(d,m)=>{if(Object.keys(d).length!==Object.keys(m).length)return!0;for(const g in m)if(m[g]!==d[g])return!0;return!1},applyStyles=(d,{opacity:m,perspective:g,translateX:w,translateY:I,scaleX:P,scaleY:F,rotateX:D,rotateY:$,rotateZ:V,originX:j,originY:G,width:W,height:Z})=>{let U="",Q="";(isDefined$1(j)||isDefined$1(G))&&(Q+=`transform-origin: ${j||0}px ${G||0}px;`),isDefined$1(g)&&(U+=`perspective(${g}px) `),(isDefined$1(w)||isDefined$1(I))&&(U+=`translate3d(${w||0}px, ${I||0}px, 0) `),(isDefined$1(P)||isDefined$1(F))&&(U+=`scale3d(${isDefined$1(P)?P:1}, ${isDefined$1(F)?F:1}, 1) `),isDefined$1(V)&&(U+=`rotateZ(${V}rad) `),isDefined$1(D)&&(U+=`rotateX(${D}rad) `),isDefined$1($)&&(U+=`rotateY(${$}rad) `),U.length&&(Q+=`transform:${U};`),isDefined$1(m)&&(Q+=`opacity:${m};`,m===0&&(Q+="visibility:hidden;"),m<1&&(Q+="pointer-events:none;")),isDefined$1(Z)&&(Q+=`height:${Z}px;`),isDefined$1(W)&&(Q+=`width:${W}px;`);const K=d.elementCurrentStyle||"";(Q.length!==K.length||Q!==K)&&(d.style.cssText=Q,d.elementCurrentStyle=Q)},Mixins={styles,listeners,animations,apis},updateRect$1=(d={},m={},g={})=>(m.layoutCalculated||(d.paddingTop=parseInt(g.paddingTop,10)||0,d.marginTop=parseInt(g.marginTop,10)||0,d.marginRight=parseInt(g.marginRight,10)||0,d.marginBottom=parseInt(g.marginBottom,10)||0,d.marginLeft=parseInt(g.marginLeft,10)||0,m.layoutCalculated=!0),d.left=m.offsetLeft||0,d.top=m.offsetTop||0,d.width=m.offsetWidth||0,d.height=m.offsetHeight||0,d.right=d.left+d.width,d.bottom=d.top+d.height,d.scrollTop=m.scrollTop,d.hidden=m.offsetParent===null,d),createView=({tag:d="div",name:m=null,attributes:g={},read:w=()=>{},write:I=()=>{},create:P=()=>{},destroy:F=()=>{},filterFrameActionsForChild:D=(Z,U)=>U,didCreateView:$=()=>{},didWriteView:V=()=>{},ignoreRect:j=!1,ignoreRectUpdate:G=!1,mixins:W=[]}={})=>(Z,U={})=>{const Q=createElement(d,`filepond--${m}`,g),K=window.getComputedStyle(Q,null),te=updateRect$1();let X=null,J=!1;const ee=[],ie=[],fe={},se={},de=[I],le=[w],ye=[F],ae=()=>Q,ge=()=>ee.concat(),Pe=()=>fe,be=ze=>(Le,Qe)=>Le(ze,Qe),Ee=()=>X||(X=getViewRect(te,ee,[0,0],[1,1]),X),ve=()=>K,Re=()=>{X=null,ee.forEach(Qe=>Qe._read()),!(G&&te.width&&te.height)&&updateRect$1(te,Q,K);const Le={root:We,props:U,rect:te};le.forEach(Qe=>Qe(Le))},Oe=(ze,Le,Qe)=>{let Ke=Le.length===0;return de.forEach(Fe=>{Fe({props:U,root:We,actions:Le,timestamp:ze,shouldOptimize:Qe})===!1&&(Ke=!1)}),ie.forEach(Fe=>{Fe.write(ze)===!1&&(Ke=!1)}),ee.filter(Fe=>!!Fe.element.parentNode).forEach(Fe=>{Fe._write(ze,D(Fe,Le),Qe)||(Ke=!1)}),ee.forEach((Fe,ce)=>{Fe.element.parentNode||(We.appendChild(Fe.element,ce),Fe._read(),Fe._write(ze,D(Fe,Le),Qe),Ke=!1)}),J=Ke,V({props:U,root:We,actions:Le,timestamp:ze}),Ke},Ae=()=>{ie.forEach(ze=>ze.destroy()),ye.forEach(ze=>{ze({root:We,props:U})}),ee.forEach(ze=>ze._destroy())},He={element:{get:ae},style:{get:ve},childViews:{get:ge}},Me={...He,rect:{get:Ee},ref:{get:Pe},is:ze=>m===ze,appendChild:appendChild(Q),createChildView:be(Z),linkView:ze=>(ee.push(ze),ze),unlinkView:ze=>{ee.splice(ee.indexOf(ze),1)},appendChildView:appendChildView(Q,ee),removeChildView:removeChildView(Q,ee),registerWriter:ze=>de.push(ze),registerReader:ze=>le.push(ze),registerDestroyer:ze=>ye.push(ze),invalidateLayout:()=>Q.layoutCalculated=!1,dispatch:Z.dispatch,query:Z.query},je={element:{get:ae},childViews:{get:ge},rect:{get:Ee},resting:{get:()=>J},isRectIgnored:()=>j,_read:Re,_write:Oe,_destroy:Ae},Ne={...He,rect:{get:()=>te}};Object.keys(W).sort((ze,Le)=>ze==="styles"?1:Le==="styles"?-1:0).forEach(ze=>{const Le=Mixins[ze]({mixinConfig:W[ze],viewProps:U,viewState:se,viewInternalAPI:Me,viewExternalAPI:je,view:createObject(Ne)});Le&&ie.push(Le)});const We=createObject(Me);P({root:We,props:U});const Ve=getChildCount(Q);return ee.forEach((ze,Le)=>{We.appendChild(ze.element,Ve+Le)}),$(We),createObject(je)},createPainter=(d,m,g=60)=>{const w="__framePainter";if(window[w]){window[w].readers.push(d),window[w].writers.push(m);return}window[w]={readers:[d],writers:[m]};const I=window[w],P=1e3/g;let F=null,D=null,$=null,V=null;const j=()=>{document.hidden?($=()=>window.setTimeout(()=>G(performance.now()),P),V=()=>window.clearTimeout(D)):($=()=>window.requestAnimationFrame(G),V=()=>window.cancelAnimationFrame(D))};document.addEventListener("visibilitychange",()=>{V&&V(),j(),G(performance.now())});const G=W=>{D=$(G),F||(F=W);const Z=W-F;Z<=P||(F=W-Z%P,I.readers.forEach(U=>U()),I.writers.forEach(U=>U(W)))};return j(),G(performance.now()),{pause:()=>{V(D)}}},createRoute=(d,m)=>({root:g,props:w,actions:I=[],timestamp:P,shouldOptimize:F})=>{I.filter(D=>d[D.type]).forEach(D=>d[D.type]({root:g,props:w,action:D.data,timestamp:P,shouldOptimize:F})),m&&m({root:g,props:w,actions:I,timestamp:P,shouldOptimize:F})},insertBefore=(d,m)=>m.parentNode.insertBefore(d,m),insertAfter=(d,m)=>m.parentNode.insertBefore(d,m.nextSibling),isArray=d=>Array.isArray(d),isEmpty=d=>d==null,trim=d=>d.trim(),toString=d=>""+d,toArray=(d,m=",")=>isEmpty(d)?[]:isArray(d)?d:toString(d).split(m).map(trim).filter(g=>g.length),isBoolean=d=>typeof d=="boolean",toBoolean=d=>isBoolean(d)?d:d==="true",isString=d=>typeof d=="string",toNumber=d=>isNumber(d)?d:isString(d)?toString(d).replace(/[a-z]+/gi,""):0,toInt=d=>parseInt(toNumber(d),10),toFloat=d=>parseFloat(toNumber(d)),isInt=d=>isNumber(d)&&isFinite(d)&&Math.floor(d)===d,toBytes=(d,m=1e3)=>{if(isInt(d))return d;let g=toString(d).trim();return/MB$/i.test(g)?(g=g.replace(/MB$i/,"").trim(),toInt(g)*m*m):/KB/i.test(g)?(g=g.replace(/KB$i/,"").trim(),toInt(g)*m):toInt(g)},isFunction=d=>typeof d=="function",toFunctionReference=d=>{let m=self,g=d.split("."),w=null;for(;w=g.shift();)if(m=m[w],!m)return null;return m},methods={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},createServerAPI=d=>{const m={};return m.url=isString(d)?d:d.url||"",m.timeout=d.timeout?parseInt(d.timeout,10):0,m.headers=d.headers?d.headers:{},forin(methods,g=>{m[g]=createAction(g,d[g],methods[g],m.timeout,m.headers)}),m.process=d.process||isString(d)||d.url?m.process:null,m.remove=d.remove||null,delete m.headers,m},createAction=(d,m,g,w,I)=>{if(m===null)return null;if(typeof m=="function")return m;const P={url:g==="GET"||g==="PATCH"?`?${d}=`:"",method:g,headers:I,withCredentials:!1,timeout:w,onload:null,ondata:null,onerror:null};if(isString(m))return P.url=m,P;if(Object.assign(P,m),isString(P.headers)){const F=P.headers.split(/:(.+)/);P.headers={header:F[0],value:F[1]}}return P.withCredentials=toBoolean(P.withCredentials),P},toServerAPI=d=>createServerAPI(d),isNull=d=>d===null,isObject$1=d=>typeof d=="object"&&d!==null,isAPI=d=>isObject$1(d)&&isString(d.url)&&isObject$1(d.process)&&isObject$1(d.revert)&&isObject$1(d.restore)&&isObject$1(d.fetch),getType=d=>isArray(d)?"array":isNull(d)?"null":isInt(d)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(d)?"bytes":isAPI(d)?"api":typeof d,replaceSingleQuotes=d=>d.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'),conversionTable={array:toArray,boolean:toBoolean,int:d=>getType(d)==="bytes"?toBytes(d):toInt(d),number:toFloat,float:toFloat,bytes:toBytes,string:d=>isFunction(d)?d:toString(d),function:d=>toFunctionReference(d),serverapi:toServerAPI,object:d=>{try{return JSON.parse(replaceSingleQuotes(d))}catch{return null}}},convertTo=(d,m)=>conversionTable[m](d),getValueByType=(d,m,g)=>{if(d===m)return d;let w=getType(d);if(w!==g){const I=convertTo(d,g);if(w=getType(I),I===null)throw`Trying to assign value with incorrect type to "${option}", allowed type: "${g}"`;d=I}return d},createOption=(d,m)=>{let g=d;return{enumerable:!0,get:()=>g,set:w=>{g=getValueByType(w,d,m)}}},createOptions=d=>{const m={};return forin(d,g=>{const w=d[g];m[g]=createOption(w[0],w[1])}),createObject(m)},createInitialState=d=>({items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:createOptions(d)}),fromCamels=(d,m="-")=>d.split(/(?=[A-Z])/).map(g=>g.toLowerCase()).join(m),createOptionAPI=(d,m)=>{const g={};return forin(m,w=>{g[w]={get:()=>d.getState().options[w],set:I=>{d.dispatch(`SET_${fromCamels(w,"_").toUpperCase()}`,{value:I})}}}),g},createOptionActions=d=>(m,g,w)=>{const I={};return forin(d,P=>{const F=fromCamels(P,"_").toUpperCase();I[`SET_${F}`]=D=>{try{w.options[P]=D.value}catch{}m(`DID_SET_${F}`,{value:w.options[P]})}}),I},createOptionQueries=d=>m=>{const g={};return forin(d,w=>{g[`GET_${fromCamels(w,"_").toUpperCase()}`]=I=>m.options[w]}),g},InteractionMethod={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},getUniqueId=()=>Math.random().toString(36).substring(2,11),arrayRemove=(d,m)=>d.splice(m,1),run=(d,m)=>{m?d():document.hidden?Promise.resolve(1).then(d):setTimeout(d,0)},on=()=>{const d=[],m=(w,I)=>{arrayRemove(d,d.findIndex(P=>P.event===w&&(P.cb===I||!I)))},g=(w,I,P)=>{d.filter(F=>F.event===w).map(F=>F.cb).forEach(F=>run(()=>F(...I),P))};return{fireSync:(w,...I)=>{g(w,I,!0)},fire:(w,...I)=>{g(w,I,!1)},on:(w,I)=>{d.push({event:w,cb:I})},onOnce:(w,I)=>{d.push({event:w,cb:(...P)=>{m(w,I),I(...P)}})},off:m}},copyObjectPropertiesToObject=(d,m,g)=>{Object.getOwnPropertyNames(d).filter(w=>!g.includes(w)).forEach(w=>Object.defineProperty(m,w,Object.getOwnPropertyDescriptor(d,w)))},PRIVATE=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],createItemAPI=d=>{const m={};return copyObjectPropertiesToObject(d,m,PRIVATE),m},removeReleasedItems=d=>{d.forEach((m,g)=>{m.released&&arrayRemove(d,g)})},ItemStatus={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},FileOrigin={INPUT:1,LIMBO:2,LOCAL:3},getNonNumeric=d=>/[^0-9]+/.exec(d),getDecimalSeparator=()=>getNonNumeric(1.1.toLocaleString())[0],getThousandsSeparator=()=>{const d=getDecimalSeparator(),m=1e3.toLocaleString();return m!=="1000"?getNonNumeric(m)[0]:d==="."?",":"."},Type={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},filters=[],applyFilterChain=(d,m,g)=>new Promise((w,I)=>{const P=filters.filter(D=>D.key===d).map(D=>D.cb);if(P.length===0){w(m);return}const F=P.shift();P.reduce((D,$)=>D.then(V=>$(V,g)),F(m,g)).then(D=>w(D)).catch(D=>I(D))}),applyFilters=(d,m,g)=>filters.filter(w=>w.key===d).map(w=>w.cb(m,g)),addFilter=(d,m)=>filters.push({key:d,cb:m}),extendDefaultOptions=d=>Object.assign(defaultOptions$1,d),getOptions=()=>({...defaultOptions$1}),setOptions=d=>{forin(d,(m,g)=>{defaultOptions$1[m]&&(defaultOptions$1[m][0]=getValueByType(g,defaultOptions$1[m][0],defaultOptions$1[m][1]))})},defaultOptions$1={id:[null,Type.STRING],name:["filepond",Type.STRING],disabled:[!1,Type.BOOLEAN],className:[null,Type.STRING],required:[!1,Type.BOOLEAN],captureMethod:[null,Type.STRING],allowSyncAcceptAttribute:[!0,Type.BOOLEAN],allowDrop:[!0,Type.BOOLEAN],allowBrowse:[!0,Type.BOOLEAN],allowPaste:[!0,Type.BOOLEAN],allowMultiple:[!1,Type.BOOLEAN],allowReplace:[!0,Type.BOOLEAN],allowRevert:[!0,Type.BOOLEAN],allowRemove:[!0,Type.BOOLEAN],allowProcess:[!0,Type.BOOLEAN],allowReorder:[!1,Type.BOOLEAN],allowDirectoriesOnly:[!1,Type.BOOLEAN],storeAsFile:[!1,Type.BOOLEAN],forceRevert:[!1,Type.BOOLEAN],maxFiles:[null,Type.INT],checkValidity:[!1,Type.BOOLEAN],itemInsertLocationFreedom:[!0,Type.BOOLEAN],itemInsertLocation:["before",Type.STRING],itemInsertInterval:[75,Type.INT],dropOnPage:[!1,Type.BOOLEAN],dropOnElement:[!0,Type.BOOLEAN],dropValidation:[!1,Type.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],Type.ARRAY],instantUpload:[!0,Type.BOOLEAN],maxParallelUploads:[2,Type.INT],allowMinimumUploadDuration:[!0,Type.BOOLEAN],chunkUploads:[!1,Type.BOOLEAN],chunkForce:[!1,Type.BOOLEAN],chunkSize:[5e6,Type.INT],chunkRetryDelays:[[500,1e3,3e3],Type.ARRAY],server:[null,Type.SERVER_API],fileSizeBase:[1e3,Type.INT],labelFileSizeBytes:["bytes",Type.STRING],labelFileSizeKilobytes:["KB",Type.STRING],labelFileSizeMegabytes:["MB",Type.STRING],labelFileSizeGigabytes:["GB",Type.STRING],labelDecimalSeparator:[getDecimalSeparator(),Type.STRING],labelThousandsSeparator:[getThousandsSeparator(),Type.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',Type.STRING],labelInvalidField:["Field contains invalid files",Type.STRING],labelFileWaitingForSize:["Waiting for size",Type.STRING],labelFileSizeNotAvailable:["Size not available",Type.STRING],labelFileCountSingular:["file in list",Type.STRING],labelFileCountPlural:["files in list",Type.STRING],labelFileLoading:["Loading",Type.STRING],labelFileAdded:["Added",Type.STRING],labelFileLoadError:["Error during load",Type.STRING],labelFileRemoved:["Removed",Type.STRING],labelFileRemoveError:["Error during remove",Type.STRING],labelFileProcessing:["Uploading",Type.STRING],labelFileProcessingComplete:["Upload complete",Type.STRING],labelFileProcessingAborted:["Upload cancelled",Type.STRING],labelFileProcessingError:["Error during upload",Type.STRING],labelFileProcessingRevertError:["Error during revert",Type.STRING],labelTapToCancel:["tap to cancel",Type.STRING],labelTapToRetry:["tap to retry",Type.STRING],labelTapToUndo:["tap to undo",Type.STRING],labelButtonRemoveItem:["Remove",Type.STRING],labelButtonAbortItemLoad:["Abort",Type.STRING],labelButtonRetryItemLoad:["Retry",Type.STRING],labelButtonAbortItemProcessing:["Cancel",Type.STRING],labelButtonUndoItemProcessing:["Undo",Type.STRING],labelButtonRetryItemProcessing:["Retry",Type.STRING],labelButtonProcessItem:["Upload",Type.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',Type.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',Type.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',Type.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',Type.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',Type.STRING],oninit:[null,Type.FUNCTION],onwarning:[null,Type.FUNCTION],onerror:[null,Type.FUNCTION],onactivatefile:[null,Type.FUNCTION],oninitfile:[null,Type.FUNCTION],onaddfilestart:[null,Type.FUNCTION],onaddfileprogress:[null,Type.FUNCTION],onaddfile:[null,Type.FUNCTION],onprocessfilestart:[null,Type.FUNCTION],onprocessfileprogress:[null,Type.FUNCTION],onprocessfileabort:[null,Type.FUNCTION],onprocessfilerevert:[null,Type.FUNCTION],onprocessfile:[null,Type.FUNCTION],onprocessfiles:[null,Type.FUNCTION],onremovefile:[null,Type.FUNCTION],onpreparefile:[null,Type.FUNCTION],onupdatefiles:[null,Type.FUNCTION],onreorderfiles:[null,Type.FUNCTION],beforeDropFile:[null,Type.FUNCTION],beforeAddFile:[null,Type.FUNCTION],beforeRemoveFile:[null,Type.FUNCTION],beforePrepareFile:[null,Type.FUNCTION],stylePanelLayout:[null,Type.STRING],stylePanelAspectRatio:[null,Type.STRING],styleItemPanelAspectRatio:[null,Type.STRING],styleButtonRemoveItemPosition:["left",Type.STRING],styleButtonProcessItemPosition:["right",Type.STRING],styleLoadIndicatorPosition:["right",Type.STRING],styleProgressIndicatorPosition:["right",Type.STRING],styleButtonRemoveItemAlign:[!1,Type.BOOLEAN],files:[[],Type.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],Type.ARRAY]},getItemByQuery=(d,m)=>isEmpty(m)?d[0]||null:isInt(m)?d[m]||null:(typeof m=="object"&&(m=m.id),d.find(g=>g.id===m)||null),getNumericAspectRatioFromString=d=>{if(isEmpty(d))return d;if(/:/.test(d)){const m=d.split(":");return m[1]/m[0]}return parseFloat(d)},getActiveItems=d=>d.filter(m=>!m.archived),Status={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4};let res=null;const canUpdateFileInput=()=>{if(res===null)try{const d=new DataTransfer;d.items.add(new File(["hello world"],"This_Works.txt"));const m=document.createElement("input");m.setAttribute("type","file"),m.files=d.files,res=m.files.length===1}catch{res=!1}return res},ITEM_ERROR=[ItemStatus.LOAD_ERROR,ItemStatus.PROCESSING_ERROR,ItemStatus.PROCESSING_REVERT_ERROR],ITEM_BUSY=[ItemStatus.LOADING,ItemStatus.PROCESSING,ItemStatus.PROCESSING_QUEUED,ItemStatus.INIT],ITEM_READY=[ItemStatus.PROCESSING_COMPLETE],isItemInErrorState=d=>ITEM_ERROR.includes(d.status),isItemInBusyState=d=>ITEM_BUSY.includes(d.status),isItemInReadyState=d=>ITEM_READY.includes(d.status),isAsync=d=>isObject$1(d.options.server)&&(isObject$1(d.options.server.process)||isFunction(d.options.server.process)),queries=d=>({GET_STATUS:()=>{const m=getActiveItems(d.items),{EMPTY:g,ERROR:w,BUSY:I,IDLE:P,READY:F}=Status;return m.length===0?g:m.some(isItemInErrorState)?w:m.some(isItemInBusyState)?I:m.some(isItemInReadyState)?F:P},GET_ITEM:m=>getItemByQuery(d.items,m),GET_ACTIVE_ITEM:m=>getItemByQuery(getActiveItems(d.items),m),GET_ACTIVE_ITEMS:()=>getActiveItems(d.items),GET_ITEMS:()=>d.items,GET_ITEM_NAME:m=>{const g=getItemByQuery(d.items,m);return g?g.filename:null},GET_ITEM_SIZE:m=>{const g=getItemByQuery(d.items,m);return g?g.fileSize:null},GET_STYLES:()=>Object.keys(d.options).filter(m=>/^style/.test(m)).map(m=>({name:m,value:d.options[m]})),GET_PANEL_ASPECT_RATIO:()=>/circle/.test(d.options.stylePanelLayout)?1:getNumericAspectRatioFromString(d.options.stylePanelAspectRatio),GET_ITEM_PANEL_ASPECT_RATIO:()=>d.options.styleItemPanelAspectRatio,GET_ITEMS_BY_STATUS:m=>getActiveItems(d.items).filter(g=>g.status===m),GET_TOTAL_ITEMS:()=>getActiveItems(d.items).length,SHOULD_UPDATE_FILE_INPUT:()=>d.options.storeAsFile&&canUpdateFileInput()&&!isAsync(d),IS_ASYNC:()=>isAsync(d),GET_FILE_SIZE_LABELS:m=>({labelBytes:m("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:m("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:m("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:m("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0})}),hasRoomForItem=d=>{const m=getActiveItems(d.items).length;if(!d.options.allowMultiple)return m===0;const g=d.options.maxFiles;return g===null||m<g},limit$1=(d,m,g)=>Math.max(Math.min(g,d),m),arrayInsert=(d,m,g)=>d.splice(m,0,g),insertItem=(d,m,g)=>isEmpty(m)?null:typeof g>"u"?(d.push(m),m):(g=limit$1(g,0,d.length),arrayInsert(d,g,m),m),isBase64DataURI=d=>/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(d),getFilenameFromURL=d=>`${d}`.split("/").pop().split("?").shift(),getExtensionFromFilename=d=>d.split(".").pop(),guesstimateExtension=d=>{if(typeof d!="string")return"";const m=d.split("/").pop();return/svg/.test(m)?"svg":/zip|compressed/.test(m)?"zip":/plain/.test(m)?"txt":/msword/.test(m)?"doc":/[a-z]+/.test(m)?m==="jpeg"?"jpg":m:""},leftPad=(d,m="")=>(m+d).slice(-m.length),getDateString=(d=new Date)=>`${d.getFullYear()}-${leftPad(d.getMonth()+1,"00")}-${leftPad(d.getDate(),"00")}_${leftPad(d.getHours(),"00")}-${leftPad(d.getMinutes(),"00")}-${leftPad(d.getSeconds(),"00")}`,getFileFromBlob=(d,m,g=null,w=null)=>{const I=typeof g=="string"?d.slice(0,d.size,g):d.slice(0,d.size,d.type);return I.lastModifiedDate=new Date,d._relativePath&&(I._relativePath=d._relativePath),isString(m)||(m=getDateString()),m&&w===null&&getExtensionFromFilename(m)?I.name=m:(w=w||guesstimateExtension(I.type),I.name=m+(w?"."+w:"")),I},getBlobBuilder=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,createBlob=(d,m)=>{const g=getBlobBuilder();if(g){const w=new g;return w.append(d),w.getBlob(m)}return new Blob([d],{type:m})},getBlobFromByteStringWithMimeType=(d,m)=>{const g=new ArrayBuffer(d.length),w=new Uint8Array(g);for(let I=0;I<d.length;I++)w[I]=d.charCodeAt(I);return createBlob(g,m)},getMimeTypeFromBase64DataURI=d=>(/^data:(.+);/.exec(d)||[])[1]||null,getBase64DataFromBase64DataURI=d=>d.split(",")[1].replace(/\s/g,""),getByteStringFromBase64DataURI=d=>atob(getBase64DataFromBase64DataURI(d)),getBlobFromBase64DataURI=d=>{const m=getMimeTypeFromBase64DataURI(d),g=getByteStringFromBase64DataURI(d);return getBlobFromByteStringWithMimeType(g,m)},getFileFromBase64DataURI=(d,m,g)=>getFileFromBlob(getBlobFromBase64DataURI(d),m,null,g),getFileNameFromHeader=d=>{if(!/^content-disposition:/i.test(d))return null;const m=d.split(/filename=|filename\*=.+''/).splice(1).map(g=>g.trim().replace(/^["']|[;"']{0,2}$/g,"")).filter(g=>g.length);return m.length?decodeURI(m[m.length-1]):null},getFileSizeFromHeader=d=>{if(/content-length:/i.test(d)){const m=d.match(/[0-9]+/)[0];return m?parseInt(m,10):null}return null},getTranfserIdFromHeader=d=>/x-content-transfer-id:/i.test(d)&&(d.split(":")[1]||"").trim()||null,getFileInfoFromHeaders=d=>{const m={source:null,name:null,size:null},g=d.split(`
`);for(let w of g){const I=getFileNameFromHeader(w);if(I){m.name=I;continue}const P=getFileSizeFromHeader(w);if(P){m.size=P;continue}const F=getTranfserIdFromHeader(w);if(F){m.source=F;continue}}return m},createFileLoader=d=>{const m={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},g=()=>m.progress,w=()=>{m.request&&m.request.abort&&m.request.abort()},I=()=>{const D=m.source;F.fire("init",D),D instanceof File?F.fire("load",D):D instanceof Blob?F.fire("load",getFileFromBlob(D,D.name)):isBase64DataURI(D)?F.fire("load",getFileFromBase64DataURI(D)):P(D)},P=D=>{if(!d){F.fire("error",{type:"error",body:"Can't load URL",code:400});return}m.timestamp=Date.now(),m.request=d(D,$=>{m.duration=Date.now()-m.timestamp,m.complete=!0,$ instanceof Blob&&($=getFileFromBlob($,$.name||getFilenameFromURL(D))),F.fire("load",$ instanceof Blob?$:$?$.body:null)},$=>{F.fire("error",typeof $=="string"?{type:"error",code:0,body:$}:$)},($,V,j)=>{if(j&&(m.size=j),m.duration=Date.now()-m.timestamp,!$){m.progress=null;return}m.progress=V/j,F.fire("progress",m.progress)},()=>{F.fire("abort")},$=>{const V=getFileInfoFromHeaders(typeof $=="string"?$:$.headers);F.fire("meta",{size:m.size||V.size,filename:V.name,source:V.source})})},F={...on(),setSource:D=>m.source=D,getProgress:g,abort:w,load:I};return F},isGet=d=>/GET|HEAD/.test(d),sendRequest=(d,m,g)=>{const w={onheaders:()=>{},onprogress:()=>{},onload:()=>{},ontimeout:()=>{},onerror:()=>{},onabort:()=>{},abort:()=>{I=!0,F.abort()}};let I=!1,P=!1;g={method:"POST",headers:{},withCredentials:!1,...g},m=encodeURI(m),isGet(g.method)&&d&&(m=`${m}${encodeURIComponent(typeof d=="string"?d:JSON.stringify(d))}`);const F=new XMLHttpRequest,D=isGet(g.method)?F:F.upload;return D.onprogress=$=>{I||w.onprogress($.lengthComputable,$.loaded,$.total)},F.onreadystatechange=()=>{F.readyState<2||F.readyState===4&&F.status===0||P||(P=!0,w.onheaders(F))},F.onload=()=>{F.status>=200&&F.status<300?w.onload(F):w.onerror(F)},F.onerror=()=>w.onerror(F),F.onabort=()=>{I=!0,w.onabort()},F.ontimeout=()=>w.ontimeout(F),F.open(g.method,m,!0),isInt(g.timeout)&&(F.timeout=g.timeout),Object.keys(g.headers).forEach($=>{const V=unescape(encodeURIComponent(g.headers[$]));F.setRequestHeader($,V)}),g.responseType&&(F.responseType=g.responseType),g.withCredentials&&(F.withCredentials=!0),F.send(d),w},createResponse=(d,m,g,w)=>({type:d,code:m,body:g,headers:w}),createTimeoutResponse=d=>m=>{d(createResponse("error",0,"Timeout",m.getAllResponseHeaders()))},hasQS=d=>/\?/.test(d),buildURL=(...d)=>{let m="";return d.forEach(g=>{m+=hasQS(m)&&hasQS(g)?g.replace(/\?/,"&"):g}),m},createFetchFunction=(d="",m)=>{if(typeof m=="function")return m;if(!m||!isString(m.url))return null;const g=m.onload||(I=>I),w=m.onerror||(I=>null);return(I,P,F,D,$,V)=>{const j=sendRequest(I,buildURL(d,m.url),{...m,responseType:"blob"});return j.onload=G=>{const W=G.getAllResponseHeaders(),Z=getFileInfoFromHeaders(W).name||getFilenameFromURL(I);P(createResponse("load",G.status,m.method==="HEAD"?null:getFileFromBlob(g(G.response),Z),W))},j.onerror=G=>{F(createResponse("error",G.status,w(G.response)||G.statusText,G.getAllResponseHeaders()))},j.onheaders=G=>{V(createResponse("headers",G.status,null,G.getAllResponseHeaders()))},j.ontimeout=createTimeoutResponse(F),j.onprogress=D,j.onabort=$,j}},ChunkStatus={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},processFileChunked=(d,m,g,w,I,P,F,D,$,V,j)=>{const G=[],{chunkTransferId:W,chunkServer:Z,chunkSize:U,chunkRetryDelays:Q}=j,K={serverId:W,aborted:!1},te=m.ondata||(be=>be),X=m.onload||((be,Ee)=>Ee==="HEAD"?be.getResponseHeader("Upload-Offset"):be.response),J=m.onerror||(be=>null),ee=be=>{const Ee=new FormData;isObject$1(I)&&Ee.append(g,JSON.stringify(I));const ve=typeof m.headers=="function"?m.headers(w,I):{...m.headers,"Upload-Length":w.size},Re={...m,headers:ve},Oe=sendRequest(te(Ee),buildURL(d,m.url),Re);Oe.onload=Ae=>be(X(Ae,Re.method)),Oe.onerror=Ae=>F(createResponse("error",Ae.status,J(Ae.response)||Ae.statusText,Ae.getAllResponseHeaders())),Oe.ontimeout=createTimeoutResponse(F)},ie=be=>{const Ee=buildURL(d,Z.url,K.serverId),Re={headers:typeof m.headers=="function"?m.headers(K.serverId):{...m.headers},method:"HEAD"},Oe=sendRequest(null,Ee,Re);Oe.onload=Ae=>be(X(Ae,Re.method)),Oe.onerror=Ae=>F(createResponse("error",Ae.status,J(Ae.response)||Ae.statusText,Ae.getAllResponseHeaders())),Oe.ontimeout=createTimeoutResponse(F)},fe=Math.floor(w.size/U);for(let be=0;be<=fe;be++){const Ee=be*U,ve=w.slice(Ee,Ee+U,"application/offset+octet-stream");G[be]={index:be,size:ve.size,offset:Ee,data:ve,file:w,progress:0,retries:[...Q],status:ChunkStatus.QUEUED,error:null,request:null,timeout:null}}const se=()=>P(K.serverId),de=be=>be.status===ChunkStatus.QUEUED||be.status===ChunkStatus.ERROR,le=be=>{if(K.aborted)return;if(be=be||G.find(de),!be){G.every(He=>He.status===ChunkStatus.COMPLETE)&&se();return}be.status=ChunkStatus.PROCESSING,be.progress=null;const Ee=Z.ondata||(He=>He),ve=Z.onerror||(He=>null),Re=buildURL(d,Z.url,K.serverId),Oe=typeof Z.headers=="function"?Z.headers(be):{...Z.headers,"Content-Type":"application/offset+octet-stream","Upload-Offset":be.offset,"Upload-Length":w.size,"Upload-Name":w.name},Ae=be.request=sendRequest(Ee(be.data),Re,{...Z,headers:Oe});Ae.onload=()=>{be.status=ChunkStatus.COMPLETE,be.request=null,ge()},Ae.onprogress=(He,Me,je)=>{be.progress=He?Me:null,ae()},Ae.onerror=He=>{be.status=ChunkStatus.ERROR,be.request=null,be.error=ve(He.response)||He.statusText,ye(be)||F(createResponse("error",He.status,ve(He.response)||He.statusText,He.getAllResponseHeaders()))},Ae.ontimeout=He=>{be.status=ChunkStatus.ERROR,be.request=null,ye(be)||createTimeoutResponse(F)(He)},Ae.onabort=()=>{be.status=ChunkStatus.QUEUED,be.request=null,$()}},ye=be=>be.retries.length===0?!1:(be.status=ChunkStatus.WAITING,clearTimeout(be.timeout),be.timeout=setTimeout(()=>{le(be)},be.retries.shift()),!0),ae=()=>{const be=G.reduce((ve,Re)=>ve===null||Re.progress===null?null:ve+Re.progress,0);if(be===null)return D(!1,0,0);const Ee=G.reduce((ve,Re)=>ve+Re.size,0);D(!0,be,Ee)},ge=()=>{G.filter(Ee=>Ee.status===ChunkStatus.PROCESSING).length>=1||le()},Pe=()=>{G.forEach(be=>{clearTimeout(be.timeout),be.request&&be.request.abort()})};return K.serverId?ie(be=>{K.aborted||(G.filter(Ee=>Ee.offset<be).forEach(Ee=>{Ee.status=ChunkStatus.COMPLETE,Ee.progress=Ee.size}),ge())}):ee(be=>{K.aborted||(V(be),K.serverId=be,ge())}),{abort:()=>{K.aborted=!0,Pe()}}},createFileProcessorFunction=(d,m,g,w)=>(I,P,F,D,$,V,j)=>{if(!I)return;const G=w.chunkUploads,W=G&&I.size>w.chunkSize,Z=G&&(W||w.chunkForce);if(I instanceof Blob&&Z)return processFileChunked(d,m,g,I,P,F,D,$,V,j,w);const U=m.ondata||(ie=>ie),Q=m.onload||(ie=>ie),K=m.onerror||(ie=>null),te=typeof m.headers=="function"?m.headers(I,P)||{}:{...m.headers},X={...m,headers:te};var J=new FormData;isObject$1(P)&&J.append(g,JSON.stringify(P)),(I instanceof Blob?[{name:null,file:I}]:I).forEach(ie=>{J.append(g,ie.file,ie.name===null?ie.file.name:`${ie.name}${ie.file.name}`)});const ee=sendRequest(U(J),buildURL(d,m.url),X);return ee.onload=ie=>{F(createResponse("load",ie.status,Q(ie.response),ie.getAllResponseHeaders()))},ee.onerror=ie=>{D(createResponse("error",ie.status,K(ie.response)||ie.statusText,ie.getAllResponseHeaders()))},ee.ontimeout=createTimeoutResponse(D),ee.onprogress=$,ee.onabort=V,ee},createProcessorFunction=(d="",m,g,w)=>typeof m=="function"?(...I)=>m(g,...I,w):!m||!isString(m.url)?null:createFileProcessorFunction(d,m,g,w),createRevertFunction=(d="",m)=>{if(typeof m=="function")return m;if(!m||!isString(m.url))return(I,P)=>P();const g=m.onload||(I=>I),w=m.onerror||(I=>null);return(I,P,F)=>{const D=sendRequest(I,d+m.url,m);return D.onload=$=>{P(createResponse("load",$.status,g($.response),$.getAllResponseHeaders()))},D.onerror=$=>{F(createResponse("error",$.status,w($.response)||$.statusText,$.getAllResponseHeaders()))},D.ontimeout=createTimeoutResponse(F),D}},getRandomNumber=(d=0,m=1)=>d+Math.random()*(m-d),createPerceivedPerformanceUpdater=(d,m=1e3,g=0,w=25,I=250)=>{let P=null;const F=Date.now(),D=()=>{let $=Date.now()-F,V=getRandomNumber(w,I);$+V>m&&(V=$+V-m);let j=$/m;if(j>=1||document.hidden){d(1);return}d(j),P=setTimeout(D,V)};return m>0&&D(),{clear:()=>{clearTimeout(P)}}},createFileProcessor=(d,m)=>{const g={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},{allowMinimumUploadDuration:w}=m,I=(j,G)=>{const W=()=>{g.duration===0||g.progress===null||V.fire("progress",V.getProgress())},Z=()=>{g.complete=!0,V.fire("load-perceived",g.response.body)};V.fire("start"),g.timestamp=Date.now(),g.perceivedPerformanceUpdater=createPerceivedPerformanceUpdater(U=>{g.perceivedProgress=U,g.perceivedDuration=Date.now()-g.timestamp,W(),g.response&&g.perceivedProgress===1&&!g.complete&&Z()},w?getRandomNumber(750,1500):0),g.request=d(j,G,U=>{g.response=isObject$1(U)?U:{type:"load",code:200,body:`${U}`,headers:{}},g.duration=Date.now()-g.timestamp,g.progress=1,V.fire("load",g.response.body),(!w||w&&g.perceivedProgress===1)&&Z()},U=>{g.perceivedPerformanceUpdater.clear(),V.fire("error",isObject$1(U)?U:{type:"error",code:0,body:`${U}`})},(U,Q,K)=>{g.duration=Date.now()-g.timestamp,g.progress=U?Q/K:null,W()},()=>{g.perceivedPerformanceUpdater.clear(),V.fire("abort",g.response?g.response.body:null)},U=>{V.fire("transfer",U)})},P=()=>{g.request&&(g.perceivedPerformanceUpdater.clear(),g.request.abort&&g.request.abort(),g.complete=!0)},F=()=>{P(),g.complete=!1,g.perceivedProgress=0,g.progress=0,g.timestamp=null,g.perceivedDuration=0,g.duration=0,g.request=null,g.response=null},D=w?()=>g.progress?Math.min(g.progress,g.perceivedProgress):null:()=>g.progress||null,$=w?()=>Math.min(g.duration,g.perceivedDuration):()=>g.duration,V={...on(),process:I,abort:P,getProgress:D,getDuration:$,reset:F};return V},getFilenameWithoutExtension=d=>d.substring(0,d.lastIndexOf("."))||d,createFileStub=d=>{let m=[d.name,d.size,d.type];return d instanceof Blob||isBase64DataURI(d)?m[0]=d.name||getDateString():isBase64DataURI(d)?(m[1]=d.length,m[2]=getMimeTypeFromBase64DataURI(d)):isString(d)&&(m[0]=getFilenameFromURL(d),m[1]=0,m[2]="application/octet-stream"),{name:m[0],size:m[1],type:m[2]}},isFile=d=>!!(d instanceof File||d instanceof Blob&&d.name),deepCloneObject=d=>{if(!isObject$1(d))return d;const m=isArray(d)?[]:{};for(const g in d){if(!d.hasOwnProperty(g))continue;const w=d[g];m[g]=w&&isObject$1(w)?deepCloneObject(w):w}return m},createItem=(d=null,m=null,g=null)=>{const w=getUniqueId(),I={archived:!1,frozen:!1,released:!1,source:null,file:g,serverFileReference:m,transferId:null,processingAborted:!1,status:m?ItemStatus.PROCESSING_COMPLETE:ItemStatus.INIT,activeLoader:null,activeProcessor:null};let P=null;const F={},D=de=>I.status=de,$=(de,...le)=>{I.released||I.frozen||fe.fire(de,...le)},V=()=>getExtensionFromFilename(I.file.name),j=()=>I.file.type,G=()=>I.file.size,W=()=>I.file,Z=(de,le,ye)=>{if(I.source=de,fe.fireSync("init"),I.file){fe.fireSync("load-skip");return}I.file=createFileStub(de),le.on("init",()=>{$("load-init")}),le.on("meta",ae=>{I.file.size=ae.size,I.file.filename=ae.filename,ae.source&&(d=FileOrigin.LIMBO,I.serverFileReference=ae.source,I.status=ItemStatus.PROCESSING_COMPLETE),$("load-meta")}),le.on("progress",ae=>{D(ItemStatus.LOADING),$("load-progress",ae)}),le.on("error",ae=>{D(ItemStatus.LOAD_ERROR),$("load-request-error",ae)}),le.on("abort",()=>{D(ItemStatus.INIT),$("load-abort")}),le.on("load",ae=>{I.activeLoader=null;const ge=be=>{I.file=isFile(be)?be:I.file,d===FileOrigin.LIMBO&&I.serverFileReference?D(ItemStatus.PROCESSING_COMPLETE):D(ItemStatus.IDLE),$("load")},Pe=be=>{I.file=ae,$("load-meta"),D(ItemStatus.LOAD_ERROR),$("load-file-error",be)};if(I.serverFileReference){ge(ae);return}ye(ae,ge,Pe)}),le.setSource(de),I.activeLoader=le,le.load()},U=()=>{I.activeLoader&&I.activeLoader.load()},Q=()=>{if(I.activeLoader){I.activeLoader.abort();return}D(ItemStatus.INIT),$("load-abort")},K=(de,le)=>{if(I.processingAborted){I.processingAborted=!1;return}if(D(ItemStatus.PROCESSING),P=null,!(I.file instanceof Blob)){fe.on("load",()=>{K(de,le)});return}de.on("load",ge=>{I.transferId=null,I.serverFileReference=ge}),de.on("transfer",ge=>{I.transferId=ge}),de.on("load-perceived",ge=>{I.activeProcessor=null,I.transferId=null,I.serverFileReference=ge,D(ItemStatus.PROCESSING_COMPLETE),$("process-complete",ge)}),de.on("start",()=>{$("process-start")}),de.on("error",ge=>{I.activeProcessor=null,D(ItemStatus.PROCESSING_ERROR),$("process-error",ge)}),de.on("abort",ge=>{I.activeProcessor=null,I.serverFileReference=ge,D(ItemStatus.IDLE),$("process-abort"),P&&P()}),de.on("progress",ge=>{$("process-progress",ge)});const ye=ge=>{I.archived||de.process(ge,{...F})},ae=console.error;le(I.file,ye,ae),I.activeProcessor=de},te=()=>{I.processingAborted=!1,D(ItemStatus.PROCESSING_QUEUED)},X=()=>new Promise(de=>{if(!I.activeProcessor){I.processingAborted=!0,D(ItemStatus.IDLE),$("process-abort"),de();return}P=()=>{de()},I.activeProcessor.abort()}),J=(de,le)=>new Promise((ye,ae)=>{const ge=I.serverFileReference!==null?I.serverFileReference:I.transferId;if(ge===null){ye();return}de(ge,()=>{I.serverFileReference=null,I.transferId=null,ye()},Pe=>{if(!le){ye();return}D(ItemStatus.PROCESSING_REVERT_ERROR),$("process-revert-error"),ae(Pe)}),D(ItemStatus.IDLE),$("process-revert")}),ee=(de,le,ye)=>{const ae=de.split("."),ge=ae[0],Pe=ae.pop();let be=F;ae.forEach(Ee=>be=be[Ee]),JSON.stringify(be[Pe])!==JSON.stringify(le)&&(be[Pe]=le,$("metadata-update",{key:ge,value:F[ge],silent:ye}))},fe={id:{get:()=>w},origin:{get:()=>d,set:de=>d=de},serverId:{get:()=>I.serverFileReference},transferId:{get:()=>I.transferId},status:{get:()=>I.status},filename:{get:()=>I.file.name},filenameWithoutExtension:{get:()=>getFilenameWithoutExtension(I.file.name)},fileExtension:{get:V},fileType:{get:j},fileSize:{get:G},file:{get:W},relativePath:{get:()=>I.file._relativePath},source:{get:()=>I.source},getMetadata:de=>deepCloneObject(de?F[de]:F),setMetadata:(de,le,ye)=>{if(isObject$1(de)){const ae=de;return Object.keys(ae).forEach(ge=>{ee(ge,ae[ge],le)}),de}return ee(de,le,ye),le},extend:(de,le)=>se[de]=le,abortLoad:Q,retryLoad:U,requestProcessing:te,abortProcessing:X,load:Z,process:K,revert:J,...on(),freeze:()=>I.frozen=!0,release:()=>I.released=!0,released:{get:()=>I.released},archive:()=>I.archived=!0,archived:{get:()=>I.archived},setFile:de=>I.file=de},se=createObject(fe);return se},getItemIndexByQuery=(d,m)=>isEmpty(m)?0:isString(m)?d.findIndex(g=>g.id===m):-1,getItemById=(d,m)=>{const g=getItemIndexByQuery(d,m);if(!(g<0))return d[g]||null},fetchBlob=(d,m,g,w,I,P)=>{const F=sendRequest(null,d,{method:"GET",responseType:"blob"});return F.onload=D=>{const $=D.getAllResponseHeaders(),V=getFileInfoFromHeaders($).name||getFilenameFromURL(d);m(createResponse("load",D.status,getFileFromBlob(D.response,V),$))},F.onerror=D=>{g(createResponse("error",D.status,D.statusText,D.getAllResponseHeaders()))},F.onheaders=D=>{P(createResponse("headers",D.status,null,D.getAllResponseHeaders()))},F.ontimeout=createTimeoutResponse(g),F.onprogress=w,F.onabort=I,F},getDomainFromURL=d=>(d.indexOf("//")===0&&(d=location.protocol+d),d.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]),isExternalURL=d=>(d.indexOf(":")>-1||d.indexOf("//")>-1)&&getDomainFromURL(location.href)!==getDomainFromURL(d),dynamicLabel=d=>(...m)=>isFunction(d)?d(...m):d,isMockItem=d=>!isFile(d.file),listUpdated=(d,m)=>{clearTimeout(m.listUpdateTimeout),m.listUpdateTimeout=setTimeout(()=>{d("DID_UPDATE_ITEMS",{items:getActiveItems(m.items)})},0)},optionalPromise=(d,...m)=>new Promise(g=>{if(!d)return g(!0);const w=d(...m);if(w==null)return g(!0);if(typeof w=="boolean")return g(w);typeof w.then=="function"&&w.then(g)}),sortItems=(d,m)=>{d.items.sort((g,w)=>m(createItemAPI(g),createItemAPI(w)))},getItemByQueryFromState=(d,m)=>({query:g,success:w=()=>{},failure:I=()=>{},...P}={})=>{const F=getItemByQuery(d.items,g);if(!F){I({error:createResponse("error",0,"Item not found"),file:null});return}m(F,w,I,P||{})},actions=(d,m,g)=>({ABORT_ALL:()=>{getActiveItems(g.items).forEach(w=>{w.freeze(),w.abortLoad(),w.abortProcessing()})},DID_SET_FILES:({value:w=[]})=>{const I=w.map(F=>({source:F.source?F.source:F,options:F.options}));let P=getActiveItems(g.items);P.forEach(F=>{I.find(D=>D.source===F.source||D.source===F.file)||d("REMOVE_ITEM",{query:F,remove:!1})}),P=getActiveItems(g.items),I.forEach((F,D)=>{P.find($=>$.source===F.source||$.file===F.source)||d("ADD_ITEM",{...F,interactionMethod:InteractionMethod.NONE,index:D})})},DID_UPDATE_ITEM_METADATA:({id:w,action:I,change:P})=>{P.silent||(clearTimeout(g.itemUpdateTimeout),g.itemUpdateTimeout=setTimeout(()=>{const F=getItemById(g.items,w);if(!m("IS_ASYNC")){applyFilterChain("SHOULD_PREPARE_OUTPUT",!1,{item:F,query:m,action:I,change:P}).then(j=>{const G=m("GET_BEFORE_PREPARE_FILE");G&&(j=G(F,j)),j&&d("REQUEST_PREPARE_OUTPUT",{query:w,item:F,success:W=>{d("DID_PREPARE_OUTPUT",{id:w,file:W})}},!0)});return}F.origin===FileOrigin.LOCAL&&d("DID_LOAD_ITEM",{id:F.id,error:null,serverFileReference:F.source});const D=()=>{setTimeout(()=>{d("REQUEST_ITEM_PROCESSING",{query:w})},32)},$=j=>{F.revert(createRevertFunction(g.options.server.url,g.options.server.revert),m("GET_FORCE_REVERT")).then(j?D:()=>{}).catch(()=>{})},V=j=>{F.abortProcessing().then(j?D:()=>{})};if(F.status===ItemStatus.PROCESSING_COMPLETE)return $(g.options.instantUpload);if(F.status===ItemStatus.PROCESSING)return V(g.options.instantUpload);g.options.instantUpload&&D()},0))},MOVE_ITEM:({query:w,index:I})=>{const P=getItemByQuery(g.items,w);if(!P)return;const F=g.items.indexOf(P);I=limit$1(I,0,g.items.length-1),F!==I&&g.items.splice(I,0,g.items.splice(F,1)[0])},SORT:({compare:w})=>{sortItems(g,w),d("DID_SORT_ITEMS",{items:m("GET_ACTIVE_ITEMS")})},ADD_ITEMS:({items:w,index:I,interactionMethod:P,success:F=()=>{},failure:D=()=>{}})=>{let $=I;if(I===-1||typeof I>"u"){const Z=m("GET_ITEM_INSERT_LOCATION"),U=m("GET_TOTAL_ITEMS");$=Z==="before"?0:U}const V=m("GET_IGNORED_FILES"),j=Z=>isFile(Z)?!V.includes(Z.name.toLowerCase()):!isEmpty(Z),W=w.filter(j).map(Z=>new Promise((U,Q)=>{d("ADD_ITEM",{interactionMethod:P,source:Z.source||Z,success:U,failure:Q,index:$++,options:Z.options||{}})}));Promise.all(W).then(F).catch(D)},ADD_ITEM:({source:w,index:I=-1,interactionMethod:P,success:F=()=>{},failure:D=()=>{},options:$={}})=>{if(isEmpty(w)){D({error:createResponse("error",0,"No source"),file:null});return}if(isFile(w)&&g.options.ignoredFiles.includes(w.name.toLowerCase()))return;if(!hasRoomForItem(g)){if(g.options.allowMultiple||!g.options.allowMultiple&&!g.options.allowReplace){const X=createResponse("warning",0,"Max files");d("DID_THROW_MAX_FILES",{source:w,error:X}),D({error:X,file:null});return}const te=getActiveItems(g.items)[0];if(te.status===ItemStatus.PROCESSING_COMPLETE||te.status===ItemStatus.PROCESSING_REVERT_ERROR){const X=m("GET_FORCE_REVERT");if(te.revert(createRevertFunction(g.options.server.url,g.options.server.revert),X).then(()=>{X&&d("ADD_ITEM",{source:w,index:I,interactionMethod:P,success:F,failure:D,options:$})}).catch(()=>{}),X)return}d("REMOVE_ITEM",{query:te.id})}const V=$.type==="local"?FileOrigin.LOCAL:$.type==="limbo"?FileOrigin.LIMBO:FileOrigin.INPUT,j=createItem(V,V===FileOrigin.INPUT?null:w,$.file);Object.keys($.metadata||{}).forEach(te=>{j.setMetadata(te,$.metadata[te])}),applyFilters("DID_CREATE_ITEM",j,{query:m,dispatch:d});const G=m("GET_ITEM_INSERT_LOCATION");g.options.itemInsertLocationFreedom||(I=G==="before"?-1:g.items.length),insertItem(g.items,j,I),isFunction(G)&&w&&sortItems(g,G);const W=j.id;j.on("init",()=>{d("DID_INIT_ITEM",{id:W})}),j.on("load-init",()=>{d("DID_START_ITEM_LOAD",{id:W})}),j.on("load-meta",()=>{d("DID_UPDATE_ITEM_META",{id:W})}),j.on("load-progress",te=>{d("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:W,progress:te})}),j.on("load-request-error",te=>{const X=dynamicLabel(g.options.labelFileLoadError)(te);if(te.code>=400&&te.code<500){d("DID_THROW_ITEM_INVALID",{id:W,error:te,status:{main:X,sub:`${te.code} (${te.body})`}}),D({error:te,file:createItemAPI(j)});return}d("DID_THROW_ITEM_LOAD_ERROR",{id:W,error:te,status:{main:X,sub:g.options.labelTapToRetry}})}),j.on("load-file-error",te=>{d("DID_THROW_ITEM_INVALID",{id:W,error:te.status,status:te.status}),D({error:te.status,file:createItemAPI(j)})}),j.on("load-abort",()=>{d("REMOVE_ITEM",{query:W})}),j.on("load-skip",()=>{j.on("metadata-update",te=>{isFile(j.file)&&d("DID_UPDATE_ITEM_METADATA",{id:W,change:te})}),d("COMPLETE_LOAD_ITEM",{query:W,item:j,data:{source:w,success:F}})}),j.on("load",()=>{const te=X=>{if(!X){d("REMOVE_ITEM",{query:W});return}j.on("metadata-update",J=>{d("DID_UPDATE_ITEM_METADATA",{id:W,change:J})}),applyFilterChain("SHOULD_PREPARE_OUTPUT",!1,{item:j,query:m}).then(J=>{const ee=m("GET_BEFORE_PREPARE_FILE");ee&&(J=ee(j,J));const ie=()=>{d("COMPLETE_LOAD_ITEM",{query:W,item:j,data:{source:w,success:F}}),listUpdated(d,g)};if(J){d("REQUEST_PREPARE_OUTPUT",{query:W,item:j,success:fe=>{d("DID_PREPARE_OUTPUT",{id:W,file:fe}),ie()}},!0);return}ie()})};applyFilterChain("DID_LOAD_ITEM",j,{query:m,dispatch:d}).then(()=>{optionalPromise(m("GET_BEFORE_ADD_FILE"),createItemAPI(j)).then(te)}).catch(X=>{if(!X||!X.error||!X.status)return te(!1);d("DID_THROW_ITEM_INVALID",{id:W,error:X.error,status:X.status})})}),j.on("process-start",()=>{d("DID_START_ITEM_PROCESSING",{id:W})}),j.on("process-progress",te=>{d("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:W,progress:te})}),j.on("process-error",te=>{d("DID_THROW_ITEM_PROCESSING_ERROR",{id:W,error:te,status:{main:dynamicLabel(g.options.labelFileProcessingError)(te),sub:g.options.labelTapToRetry}})}),j.on("process-revert-error",te=>{d("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:W,error:te,status:{main:dynamicLabel(g.options.labelFileProcessingRevertError)(te),sub:g.options.labelTapToRetry}})}),j.on("process-complete",te=>{d("DID_COMPLETE_ITEM_PROCESSING",{id:W,error:null,serverFileReference:te}),d("DID_DEFINE_VALUE",{id:W,value:te})}),j.on("process-abort",()=>{d("DID_ABORT_ITEM_PROCESSING",{id:W})}),j.on("process-revert",()=>{d("DID_REVERT_ITEM_PROCESSING",{id:W}),d("DID_DEFINE_VALUE",{id:W,value:null})}),d("DID_ADD_ITEM",{id:W,index:I,interactionMethod:P}),listUpdated(d,g);const{url:Z,load:U,restore:Q,fetch:K}=g.options.server||{};j.load(w,createFileLoader(V===FileOrigin.INPUT?isString(w)&&isExternalURL(w)&&K?createFetchFunction(Z,K):fetchBlob:V===FileOrigin.LIMBO?createFetchFunction(Z,Q):createFetchFunction(Z,U)),(te,X,J)=>{applyFilterChain("LOAD_FILE",te,{query:m}).then(X).catch(J)})},REQUEST_PREPARE_OUTPUT:({item:w,success:I,failure:P=()=>{}})=>{const F={error:createResponse("error",0,"Item not found"),file:null};if(w.archived)return P(F);applyFilterChain("PREPARE_OUTPUT",w.file,{query:m,item:w}).then(D=>{applyFilterChain("COMPLETE_PREPARE_OUTPUT",D,{query:m,item:w}).then($=>{if(w.archived)return P(F);I($)})})},COMPLETE_LOAD_ITEM:({item:w,data:I})=>{const{success:P,source:F}=I,D=m("GET_ITEM_INSERT_LOCATION");if(isFunction(D)&&F&&sortItems(g,D),d("DID_LOAD_ITEM",{id:w.id,error:null,serverFileReference:w.origin===FileOrigin.INPUT?null:F}),P(createItemAPI(w)),w.origin===FileOrigin.LOCAL){d("DID_LOAD_LOCAL_ITEM",{id:w.id});return}if(w.origin===FileOrigin.LIMBO){d("DID_COMPLETE_ITEM_PROCESSING",{id:w.id,error:null,serverFileReference:F}),d("DID_DEFINE_VALUE",{id:w.id,value:w.serverId||F});return}m("IS_ASYNC")&&g.options.instantUpload&&d("REQUEST_ITEM_PROCESSING",{query:w.id})},RETRY_ITEM_LOAD:getItemByQueryFromState(g,w=>{w.retryLoad()}),REQUEST_ITEM_PREPARE:getItemByQueryFromState(g,(w,I,P)=>{d("REQUEST_PREPARE_OUTPUT",{query:w.id,item:w,success:F=>{d("DID_PREPARE_OUTPUT",{id:w.id,file:F}),I({file:w,output:F})},failure:P},!0)}),REQUEST_ITEM_PROCESSING:getItemByQueryFromState(g,(w,I,P)=>{if(!(w.status===ItemStatus.IDLE||w.status===ItemStatus.PROCESSING_ERROR)){const D=()=>d("REQUEST_ITEM_PROCESSING",{query:w,success:I,failure:P}),$=()=>document.hidden?D():setTimeout(D,32);w.status===ItemStatus.PROCESSING_COMPLETE||w.status===ItemStatus.PROCESSING_REVERT_ERROR?w.revert(createRevertFunction(g.options.server.url,g.options.server.revert),m("GET_FORCE_REVERT")).then($).catch(()=>{}):w.status===ItemStatus.PROCESSING&&w.abortProcessing().then($);return}w.status!==ItemStatus.PROCESSING_QUEUED&&(w.requestProcessing(),d("DID_REQUEST_ITEM_PROCESSING",{id:w.id}),d("PROCESS_ITEM",{query:w,success:I,failure:P},!0))}),PROCESS_ITEM:getItemByQueryFromState(g,(w,I,P)=>{const F=m("GET_MAX_PARALLEL_UPLOADS");if(m("GET_ITEMS_BY_STATUS",ItemStatus.PROCESSING).length===F){g.processingQueue.push({id:w.id,success:I,failure:P});return}if(w.status===ItemStatus.PROCESSING)return;const $=()=>{const j=g.processingQueue.shift();if(!j)return;const{id:G,success:W,failure:Z}=j,U=getItemByQuery(g.items,G);if(!U||U.archived){$();return}d("PROCESS_ITEM",{query:G,success:W,failure:Z},!0)};w.onOnce("process-complete",()=>{I(createItemAPI(w)),$();const j=g.options.server;if(g.options.instantUpload&&w.origin===FileOrigin.LOCAL&&isFunction(j.remove)){const Z=()=>{};w.origin=FileOrigin.LIMBO,g.options.server.remove(w.source,Z,Z)}m("GET_ITEMS_BY_STATUS",ItemStatus.PROCESSING_COMPLETE).length===g.items.length&&d("DID_COMPLETE_ITEM_PROCESSING_ALL")}),w.onOnce("process-error",j=>{P({error:j,file:createItemAPI(w)}),$()});const V=g.options;w.process(createFileProcessor(createProcessorFunction(V.server.url,V.server.process,V.name,{chunkTransferId:w.transferId,chunkServer:V.server.patch,chunkUploads:V.chunkUploads,chunkForce:V.chunkForce,chunkSize:V.chunkSize,chunkRetryDelays:V.chunkRetryDelays}),{allowMinimumUploadDuration:m("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(j,G,W)=>{applyFilterChain("PREPARE_OUTPUT",j,{query:m,item:w}).then(Z=>{d("DID_PREPARE_OUTPUT",{id:w.id,file:Z}),G(Z)}).catch(W)})}),RETRY_ITEM_PROCESSING:getItemByQueryFromState(g,w=>{d("REQUEST_ITEM_PROCESSING",{query:w})}),REQUEST_REMOVE_ITEM:getItemByQueryFromState(g,w=>{optionalPromise(m("GET_BEFORE_REMOVE_FILE"),createItemAPI(w)).then(I=>{I&&d("REMOVE_ITEM",{query:w})})}),RELEASE_ITEM:getItemByQueryFromState(g,w=>{w.release()}),REMOVE_ITEM:getItemByQueryFromState(g,(w,I,P,F)=>{const D=()=>{const V=w.id;getItemById(g.items,V).archive(),d("DID_REMOVE_ITEM",{error:null,id:V,item:w}),listUpdated(d,g),I(createItemAPI(w))},$=g.options.server;w.origin===FileOrigin.LOCAL&&$&&isFunction($.remove)&&F.remove!==!1?(d("DID_START_ITEM_REMOVE",{id:w.id}),$.remove(w.source,()=>D(),V=>{d("DID_THROW_ITEM_REMOVE_ERROR",{id:w.id,error:createResponse("error",0,V,null),status:{main:dynamicLabel(g.options.labelFileRemoveError)(V),sub:g.options.labelTapToRetry}})})):((F.revert&&w.origin!==FileOrigin.LOCAL&&w.serverId!==null||g.options.chunkUploads&&w.file.size>g.options.chunkSize||g.options.chunkUploads&&g.options.chunkForce)&&w.revert(createRevertFunction(g.options.server.url,g.options.server.revert),m("GET_FORCE_REVERT")),D())}),ABORT_ITEM_LOAD:getItemByQueryFromState(g,w=>{w.abortLoad()}),ABORT_ITEM_PROCESSING:getItemByQueryFromState(g,w=>{if(w.serverId){d("REVERT_ITEM_PROCESSING",{id:w.id});return}w.abortProcessing().then(()=>{g.options.instantUpload&&d("REMOVE_ITEM",{query:w.id})})}),REQUEST_REVERT_ITEM_PROCESSING:getItemByQueryFromState(g,w=>{if(!g.options.instantUpload){d("REVERT_ITEM_PROCESSING",{query:w});return}const I=D=>{D&&d("REVERT_ITEM_PROCESSING",{query:w})},P=m("GET_BEFORE_REMOVE_FILE");if(!P)return I(!0);const F=P(createItemAPI(w));if(F==null)return I(!0);if(typeof F=="boolean")return I(F);typeof F.then=="function"&&F.then(I)}),REVERT_ITEM_PROCESSING:getItemByQueryFromState(g,w=>{w.revert(createRevertFunction(g.options.server.url,g.options.server.revert),m("GET_FORCE_REVERT")).then(()=>{(g.options.instantUpload||isMockItem(w))&&d("REMOVE_ITEM",{query:w.id})}).catch(()=>{})}),SET_OPTIONS:({options:w})=>{const I=Object.keys(w),P=PrioritizedOptions.filter(D=>I.includes(D));[...P,...Object.keys(w).filter(D=>!P.includes(D))].forEach(D=>{d(`SET_${fromCamels(D,"_").toUpperCase()}`,{value:w[D]})})}}),PrioritizedOptions=["server"],formatFilename=d=>d,createElement$1=d=>document.createElement(d),text=(d,m)=>{let g=d.childNodes[0];g?m!==g.nodeValue&&(g.nodeValue=m):(g=document.createTextNode(m),d.appendChild(g))},polarToCartesian=(d,m,g,w)=>{const I=(w%360-90)*Math.PI/180;return{x:d+g*Math.cos(I),y:m+g*Math.sin(I)}},describeArc=(d,m,g,w,I,P)=>{const F=polarToCartesian(d,m,g,I),D=polarToCartesian(d,m,g,w);return["M",F.x,F.y,"A",g,g,0,P,0,D.x,D.y].join(" ")},percentageArc=(d,m,g,w,I)=>{let P=1;return I>w&&I-w<=.5&&(P=0),w>I&&w-I>=.5&&(P=0),describeArc(d,m,g,Math.min(.9999,w)*360,Math.min(.9999,I)*360,P)},create=({root:d,props:m})=>{m.spin=!1,m.progress=0,m.opacity=0;const g=createElement("svg");d.ref.path=createElement("path",{"stroke-width":2,"stroke-linecap":"round"}),g.appendChild(d.ref.path),d.ref.svg=g,d.appendChild(g)},write=({root:d,props:m})=>{if(m.opacity===0)return;m.align&&(d.element.dataset.align=m.align);const g=parseInt(attr(d.ref.path,"stroke-width"),10),w=d.rect.element.width*.5;let I=0,P=0;m.spin?(I=0,P=.5):(I=0,P=m.progress);const F=percentageArc(w,w,w-g,I,P);attr(d.ref.path,"d",F),attr(d.ref.path,"stroke-opacity",m.spin||m.progress>0?1:0)},progressIndicator=createView({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create,write,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),create$1=({root:d,props:m})=>{d.element.innerHTML=(m.icon||"")+`<span>${m.label}</span>`,m.isDisabled=!1},write$1=({root:d,props:m})=>{const{isDisabled:g}=m,w=d.query("GET_DISABLED")||m.opacity===0;w&&!g?(m.isDisabled=!0,attr(d.element,"disabled","disabled")):!w&&g&&(m.isDisabled=!1,d.element.removeAttribute("disabled"))},fileActionButton=createView({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:create$1,write:write$1}),toNaturalFileSize=(d,m=".",g=1e3,w={})=>{const{labelBytes:I="bytes",labelKilobytes:P="KB",labelMegabytes:F="MB",labelGigabytes:D="GB"}=w;d=Math.round(Math.abs(d));const $=g,V=g*g,j=g*g*g;return d<$?`${d} ${I}`:d<V?`${Math.floor(d/$)} ${P}`:d<j?`${removeDecimalsWhenZero(d/V,1,m)} ${F}`:`${removeDecimalsWhenZero(d/j,2,m)} ${D}`},removeDecimalsWhenZero=(d,m,g)=>d.toFixed(m).split(".").filter(w=>w!=="0").join(g),create$2=({root:d,props:m})=>{const g=createElement$1("span");g.className="filepond--file-info-main",attr(g,"aria-hidden","true"),d.appendChild(g),d.ref.fileName=g;const w=createElement$1("span");w.className="filepond--file-info-sub",d.appendChild(w),d.ref.fileSize=w,text(w,d.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),text(g,formatFilename(d.query("GET_ITEM_NAME",m.id)))},updateFile=({root:d,props:m})=>{text(d.ref.fileSize,toNaturalFileSize(d.query("GET_ITEM_SIZE",m.id),".",d.query("GET_FILE_SIZE_BASE"),d.query("GET_FILE_SIZE_LABELS",d.query))),text(d.ref.fileName,formatFilename(d.query("GET_ITEM_NAME",m.id)))},updateFileSizeOnError=({root:d,props:m})=>{if(isInt(d.query("GET_ITEM_SIZE",m.id))){updateFile({root:d,props:m});return}text(d.ref.fileSize,d.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},fileInfo=createView({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:createRoute({DID_LOAD_ITEM:updateFile,DID_UPDATE_ITEM_META:updateFile,DID_THROW_ITEM_LOAD_ERROR:updateFileSizeOnError,DID_THROW_ITEM_INVALID:updateFileSizeOnError}),didCreateView:d=>{applyFilters("CREATE_VIEW",{...d,view:d})},create:create$2,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),toPercentage$1=d=>Math.round(d*100),create$3=({root:d})=>{const m=createElement$1("span");m.className="filepond--file-status-main",d.appendChild(m),d.ref.main=m;const g=createElement$1("span");g.className="filepond--file-status-sub",d.appendChild(g),d.ref.sub=g,didSetItemLoadProgress({root:d,action:{progress:null}})},didSetItemLoadProgress=({root:d,action:m})=>{const g=m.progress===null?d.query("GET_LABEL_FILE_LOADING"):`${d.query("GET_LABEL_FILE_LOADING")} ${toPercentage$1(m.progress)}%`;text(d.ref.main,g),text(d.ref.sub,d.query("GET_LABEL_TAP_TO_CANCEL"))},didSetItemProcessProgress=({root:d,action:m})=>{const g=m.progress===null?d.query("GET_LABEL_FILE_PROCESSING"):`${d.query("GET_LABEL_FILE_PROCESSING")} ${toPercentage$1(m.progress)}%`;text(d.ref.main,g),text(d.ref.sub,d.query("GET_LABEL_TAP_TO_CANCEL"))},didRequestItemProcessing=({root:d})=>{text(d.ref.main,d.query("GET_LABEL_FILE_PROCESSING")),text(d.ref.sub,d.query("GET_LABEL_TAP_TO_CANCEL"))},didAbortItemProcessing=({root:d})=>{text(d.ref.main,d.query("GET_LABEL_FILE_PROCESSING_ABORTED")),text(d.ref.sub,d.query("GET_LABEL_TAP_TO_RETRY"))},didCompleteItemProcessing=({root:d})=>{text(d.ref.main,d.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),text(d.ref.sub,d.query("GET_LABEL_TAP_TO_UNDO"))},clear=({root:d})=>{text(d.ref.main,""),text(d.ref.sub,"")},error=({root:d,action:m})=>{text(d.ref.main,m.status.main),text(d.ref.sub,m.status.sub)},fileStatus=createView({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:createRoute({DID_LOAD_ITEM:clear,DID_REVERT_ITEM_PROCESSING:clear,DID_REQUEST_ITEM_PROCESSING:didRequestItemProcessing,DID_ABORT_ITEM_PROCESSING:didAbortItemProcessing,DID_COMPLETE_ITEM_PROCESSING:didCompleteItemProcessing,DID_UPDATE_ITEM_PROCESS_PROGRESS:didSetItemProcessProgress,DID_UPDATE_ITEM_LOAD_PROGRESS:didSetItemLoadProgress,DID_THROW_ITEM_LOAD_ERROR:error,DID_THROW_ITEM_INVALID:error,DID_THROW_ITEM_PROCESSING_ERROR:error,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:error,DID_THROW_ITEM_REMOVE_ERROR:error}),didCreateView:d=>{applyFilters("CREATE_VIEW",{...d,view:d})},create:create$3,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),Buttons={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},ButtonKeys=[];forin(Buttons,d=>{ButtonKeys.push(d)});const calculateFileInfoOffset=d=>{if(getRemoveIndicatorAligment(d)==="right")return 0;const m=d.ref.buttonRemoveItem.rect.element;return m.hidden?null:m.width+m.left},calculateButtonWidth=d=>d.ref.buttonAbortItemLoad.rect.element.width,calculateFileVerticalCenterOffset=d=>Math.floor(d.ref.buttonRemoveItem.rect.element.height/4),calculateFileHorizontalCenterOffset=d=>Math.floor(d.ref.buttonRemoveItem.rect.element.left/2),getLoadIndicatorAlignment=d=>d.query("GET_STYLE_LOAD_INDICATOR_POSITION"),getProcessIndicatorAlignment=d=>d.query("GET_STYLE_PROGRESS_INDICATOR_POSITION"),getRemoveIndicatorAligment=d=>d.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION"),DefaultStyle={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:getLoadIndicatorAlignment},processProgressIndicator:{opacity:0,align:getProcessIndicatorAlignment},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},IdleStyle={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:calculateFileInfoOffset},status:{translateX:calculateFileInfoOffset}},ProcessingStyle={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},StyleMap={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:calculateFileInfoOffset},status:{translateX:calculateFileInfoOffset,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:calculateFileInfoOffset},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:getRemoveIndicatorAligment},info:{translateX:calculateFileInfoOffset},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:getRemoveIndicatorAligment},buttonRemoveItem:{opacity:1},info:{translateX:calculateFileInfoOffset},status:{opacity:1,translateX:calculateFileInfoOffset}},DID_LOAD_ITEM:IdleStyle,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:calculateFileInfoOffset},status:{translateX:calculateFileInfoOffset}},DID_START_ITEM_PROCESSING:ProcessingStyle,DID_REQUEST_ITEM_PROCESSING:ProcessingStyle,DID_UPDATE_ITEM_PROCESS_PROGRESS:ProcessingStyle,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:calculateFileInfoOffset}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:calculateFileInfoOffset},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:IdleStyle},processingCompleteIndicatorView=createView({create:({root:d})=>{d.element.innerHTML=d.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),create$4=({root:d,props:m})=>{const g=Object.keys(Buttons).reduce((U,Q)=>(U[Q]={...Buttons[Q]},U),{}),{id:w}=m,I=d.query("GET_ALLOW_REVERT"),P=d.query("GET_ALLOW_REMOVE"),F=d.query("GET_ALLOW_PROCESS"),D=d.query("GET_INSTANT_UPLOAD"),$=d.query("IS_ASYNC"),V=d.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");let j;$?F&&!I?j=U=>!/RevertItemProcessing/.test(U):!F&&I?j=U=>!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(U):!F&&!I&&(j=U=>!/Process/.test(U)):j=U=>!/Process/.test(U);const G=j?ButtonKeys.filter(j):ButtonKeys.concat();if(D&&I&&(g.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",g.RevertItemProcessing.icon="GET_ICON_REMOVE"),$&&!I){const U=StyleMap.DID_COMPLETE_ITEM_PROCESSING;U.info.translateX=calculateFileHorizontalCenterOffset,U.info.translateY=calculateFileVerticalCenterOffset,U.status.translateY=calculateFileVerticalCenterOffset,U.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if($&&!F&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(U=>{StyleMap[U].status.translateY=calculateFileVerticalCenterOffset}),StyleMap.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=calculateButtonWidth),V&&I){g.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";const U=StyleMap.DID_COMPLETE_ITEM_PROCESSING;U.info.translateX=calculateFileInfoOffset,U.status.translateY=calculateFileVerticalCenterOffset,U.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}P||(g.RemoveItem.disabled=!0),forin(g,(U,Q)=>{const K=d.createChildView(fileActionButton,{label:d.query(Q.label),icon:d.query(Q.icon),opacity:0});G.includes(U)&&d.appendChildView(K),Q.disabled&&(K.element.setAttribute("disabled","disabled"),K.element.setAttribute("hidden","hidden")),K.element.dataset.align=d.query(`GET_STYLE_${Q.align}`),K.element.classList.add(Q.className),K.on("click",te=>{te.stopPropagation(),!Q.disabled&&d.dispatch(Q.action,{query:w})}),d.ref[`button${U}`]=K}),d.ref.processingCompleteIndicator=d.appendChildView(d.createChildView(processingCompleteIndicatorView)),d.ref.processingCompleteIndicator.element.dataset.align=d.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),d.ref.info=d.appendChildView(d.createChildView(fileInfo,{id:w})),d.ref.status=d.appendChildView(d.createChildView(fileStatus,{id:w}));const W=d.appendChildView(d.createChildView(progressIndicator,{opacity:0,align:d.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));W.element.classList.add("filepond--load-indicator"),d.ref.loadProgressIndicator=W;const Z=d.appendChildView(d.createChildView(progressIndicator,{opacity:0,align:d.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));Z.element.classList.add("filepond--process-indicator"),d.ref.processProgressIndicator=Z,d.ref.activeStyles=[]},write$2=({root:d,actions:m,props:g})=>{route({root:d,actions:m,props:g});let w=m.concat().filter(I=>/^DID_/.test(I.type)).reverse().find(I=>StyleMap[I.type]);if(w){d.ref.activeStyles=[];const I=StyleMap[w.type];forin(DefaultStyle,(P,F)=>{const D=d.ref[P];forin(F,($,V)=>{const j=I[P]&&typeof I[P][$]<"u"?I[P][$]:V;d.ref.activeStyles.push({control:D,key:$,value:j})})})}d.ref.activeStyles.forEach(({control:I,key:P,value:F})=>{I[P]=typeof F=="function"?F(d):F})},route=createRoute({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:({root:d,action:m})=>{d.ref.buttonAbortItemProcessing.label=m.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:({root:d,action:m})=>{d.ref.buttonAbortItemLoad.label=m.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:({root:d,action:m})=>{d.ref.buttonAbortItemRemoval.label=m.value},DID_REQUEST_ITEM_PROCESSING:({root:d})=>{d.ref.processProgressIndicator.spin=!0,d.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:({root:d})=>{d.ref.loadProgressIndicator.spin=!0,d.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:({root:d})=>{d.ref.processProgressIndicator.spin=!0,d.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:({root:d,action:m})=>{d.ref.loadProgressIndicator.spin=!1,d.ref.loadProgressIndicator.progress=m.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:({root:d,action:m})=>{d.ref.processProgressIndicator.spin=!1,d.ref.processProgressIndicator.progress=m.progress}}),file=createView({create:create$4,write:write$2,didCreateView:d=>{applyFilters("CREATE_VIEW",{...d,view:d})},name:"file"}),create$5=({root:d,props:m})=>{d.ref.fileName=createElement$1("legend"),d.appendChild(d.ref.fileName),d.ref.file=d.appendChildView(d.createChildView(file,{id:m.id})),d.ref.data=!1},didLoadItem=({root:d,props:m})=>{text(d.ref.fileName,formatFilename(d.query("GET_ITEM_NAME",m.id)))},fileWrapper=createView({create:create$5,ignoreRect:!0,write:createRoute({DID_LOAD_ITEM:didLoadItem}),didCreateView:d=>{applyFilters("CREATE_VIEW",{...d,view:d})},tag:"fieldset",name:"file-wrapper"}),PANEL_SPRING_PROPS={type:"spring",damping:.6,mass:7},create$6=({root:d,props:m})=>{[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:PANEL_SPRING_PROPS},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:PANEL_SPRING_PROPS},styles:["translateY"]}}].forEach(g=>{createSection(d,g,m.name)}),d.element.classList.add(`filepond--${m.name}`),d.ref.scalable=null},createSection=(d,m,g)=>{const w=createView({name:`panel-${m.name} filepond--${g}`,mixins:m.mixins,ignoreRectUpdate:!0}),I=d.createChildView(w,m.props);d.ref[m.name]=d.appendChildView(I)},write$3=({root:d,props:m})=>{if((d.ref.scalable===null||m.scalable!==d.ref.scalable)&&(d.ref.scalable=isBoolean(m.scalable)?m.scalable:!0,d.element.dataset.scalable=d.ref.scalable),!m.height)return;const g=d.ref.top.rect.element,w=d.ref.bottom.rect.element,I=Math.max(g.height+w.height,m.height);d.ref.center.translateY=g.height,d.ref.center.scaleY=(I-g.height-w.height)/100,d.ref.bottom.translateY=I-w.height},panel=createView({name:"panel",read:({root:d,props:m})=>m.heightCurrent=d.ref.bottom.translateY,write:write$3,create:create$6,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),createDragHelper=d=>{const m=d.map(w=>w.id);let g;return{setIndex:w=>{g=w},getIndex:()=>g,getItemIndex:w=>m.indexOf(w.id)}},ITEM_TRANSLATE_SPRING={type:"spring",stiffness:.75,damping:.45,mass:10},ITEM_SCALE_SPRING="spring",StateMap={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},create$7=({root:d,props:m})=>{if(d.ref.handleClick=w=>d.dispatch("DID_ACTIVATE_ITEM",{id:m.id}),d.element.id=`filepond--item-${m.id}`,d.element.addEventListener("click",d.ref.handleClick),d.ref.container=d.appendChildView(d.createChildView(fileWrapper,{id:m.id})),d.ref.panel=d.appendChildView(d.createChildView(panel,{name:"item-panel"})),d.ref.panel.height=null,m.markedForRemoval=!1,!d.query("GET_ALLOW_REORDER"))return;d.element.dataset.dragState="idle";const g=w=>{if(!w.isPrimary)return;let I=!1;const P={x:w.pageX,y:w.pageY};m.dragOrigin={x:d.translateX,y:d.translateY},m.dragCenter={x:w.offsetX,y:w.offsetY};const F=createDragHelper(d.query("GET_ACTIVE_ITEMS"));d.dispatch("DID_GRAB_ITEM",{id:m.id,dragState:F});const D=G=>{if(!G.isPrimary)return;G.stopPropagation(),G.preventDefault(),m.dragOffset={x:G.pageX-P.x,y:G.pageY-P.y},m.dragOffset.x*m.dragOffset.x+m.dragOffset.y*m.dragOffset.y>16&&!I&&(I=!0,d.element.removeEventListener("click",d.ref.handleClick)),d.dispatch("DID_DRAG_ITEM",{id:m.id,dragState:F})},$=G=>{G.isPrimary&&(m.dragOffset={x:G.pageX-P.x,y:G.pageY-P.y},j())},V=()=>{j()},j=()=>{document.removeEventListener("pointercancel",V),document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",$),d.dispatch("DID_DROP_ITEM",{id:m.id,dragState:F}),I&&setTimeout(()=>d.element.addEventListener("click",d.ref.handleClick),0)};document.addEventListener("pointercancel",V),document.addEventListener("pointermove",D),document.addEventListener("pointerup",$)};d.element.addEventListener("pointerdown",g)},route$1=createRoute({DID_UPDATE_PANEL_HEIGHT:({root:d,action:m})=>{d.height=m.height}}),write$4=createRoute({DID_GRAB_ITEM:({root:d,props:m})=>{m.dragOrigin={x:d.translateX,y:d.translateY}},DID_DRAG_ITEM:({root:d})=>{d.element.dataset.dragState="drag"},DID_DROP_ITEM:({root:d,props:m})=>{m.dragOffset=null,m.dragOrigin=null,d.element.dataset.dragState="drop"}},({root:d,actions:m,props:g,shouldOptimize:w})=>{d.element.dataset.dragState==="drop"&&d.scaleX<=1&&(d.element.dataset.dragState="idle");let I=m.concat().filter(F=>/^DID_/.test(F.type)).reverse().find(F=>StateMap[F.type]);I&&I.type!==g.currentState&&(g.currentState=I.type,d.element.dataset.filepondItemState=StateMap[g.currentState]||"");const P=d.query("GET_ITEM_PANEL_ASPECT_RATIO")||d.query("GET_PANEL_ASPECT_RATIO");P?w||(d.height=d.rect.element.width*P):(route$1({root:d,actions:m,props:g}),!d.height&&d.ref.container.rect.element.height>0&&(d.height=d.ref.container.rect.element.height)),w&&(d.ref.panel.height=null),d.ref.panel.height=d.height}),item=createView({create:create$7,write:write$4,destroy:({root:d,props:m})=>{d.element.removeEventListener("click",d.ref.handleClick),d.dispatch("RELEASE_ITEM",{query:m.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:ITEM_SCALE_SPRING,scaleY:ITEM_SCALE_SPRING,translateX:ITEM_TRANSLATE_SPRING,translateY:ITEM_TRANSLATE_SPRING,opacity:{type:"tween",duration:150}}}});var getItemsPerRow=(d,m)=>Math.max(1,Math.floor((d+1)/m));const getItemIndexByPosition=(d,m,g)=>{if(!g)return;const w=d.rect.element.width,I=m.length;let P=null;if(I===0||g.top<m[0].rect.element.top)return-1;const D=m[0].rect.element,$=D.marginLeft+D.marginRight,V=D.width+$,j=getItemsPerRow(w,V);if(j===1){for(let Z=0;Z<I;Z++){const U=m[Z],Q=U.rect.outer.top+U.rect.element.height*.5;if(g.top<Q)return Z}return I}const G=D.marginTop+D.marginBottom,W=D.height+G;for(let Z=0;Z<I;Z++){const U=Z%j,Q=Math.floor(Z/j),K=U*V,te=Q*W,X=te-D.marginTop,J=K+V,ee=te+W+D.marginBottom;if(g.top<ee&&g.top>X){if(g.left<J)return Z;Z!==I-1?P=Z:P=null}}return P!==null?P:I},dropAreaDimensions={height:0,width:0,get getHeight(){return this.height},set setHeight(d){(this.height===0||d===0)&&(this.height=d)},get getWidth(){return this.width},set setWidth(d){(this.width===0||d===0)&&(this.width=d)},setDimensions:function(d,m){(this.height===0||d===0)&&(this.height=d),(this.width===0||m===0)&&(this.width=m)}},create$8=({root:d})=>{attr(d.element,"role","list"),d.ref.lastItemSpanwDate=Date.now()},addItemView=({root:d,action:m})=>{const{id:g,index:w,interactionMethod:I}=m;d.ref.addIndex=w;const P=Date.now();let F=P,D=1;if(I!==InteractionMethod.NONE){D=0;const $=d.query("GET_ITEM_INSERT_INTERVAL"),V=P-d.ref.lastItemSpanwDate;F=V<$?P+($-V):P}d.ref.lastItemSpanwDate=F,d.appendChildView(d.createChildView(item,{spawnDate:F,id:g,opacity:D,interactionMethod:I}),w)},moveItem=(d,m,g,w=0,I=1)=>{d.dragOffset?(d.translateX=null,d.translateY=null,d.translateX=d.dragOrigin.x+d.dragOffset.x,d.translateY=d.dragOrigin.y+d.dragOffset.y,d.scaleX=1.025,d.scaleY=1.025):(d.translateX=m,d.translateY=g,Date.now()>d.spawnDate&&(d.opacity===0&&introItemView(d,m,g,w,I),d.scaleX=1,d.scaleY=1,d.opacity=1))},introItemView=(d,m,g,w,I)=>{d.interactionMethod===InteractionMethod.NONE?(d.translateX=null,d.translateX=m,d.translateY=null,d.translateY=g):d.interactionMethod===InteractionMethod.DROP?(d.translateX=null,d.translateX=m-w*20,d.translateY=null,d.translateY=g-I*10,d.scaleX=.8,d.scaleY=.8):d.interactionMethod===InteractionMethod.BROWSE?(d.translateY=null,d.translateY=g-30):d.interactionMethod===InteractionMethod.API&&(d.translateX=null,d.translateX=m-30,d.translateY=null)},removeItemView=({root:d,action:m})=>{const{id:g}=m,w=d.childViews.find(I=>I.id===g);w&&(w.scaleX=.9,w.scaleY=.9,w.opacity=0,w.markedForRemoval=!0)},getItemHeight=d=>d.rect.element.height+d.rect.element.marginBottom*.5+d.rect.element.marginTop*.5,getItemWidth=d=>d.rect.element.width+d.rect.element.marginLeft*.5+d.rect.element.marginRight*.5,dragItem=({root:d,action:m})=>{const{id:g,dragState:w}=m,I=d.query("GET_ITEM",{id:g}),P=d.childViews.find(K=>K.id===g),F=d.childViews.length,D=w.getItemIndex(I);if(!P)return;const $={x:P.dragOrigin.x+P.dragOffset.x+P.dragCenter.x,y:P.dragOrigin.y+P.dragOffset.y+P.dragCenter.y},V=getItemHeight(P),j=getItemWidth(P);let G=Math.floor(d.rect.outer.width/j);G>F&&(G=F);const W=Math.floor(F/G+1);dropAreaDimensions.setHeight=V*W,dropAreaDimensions.setWidth=j*G;var Z={y:Math.floor($.y/V),x:Math.floor($.x/j),getGridIndex:function(){return $.y>dropAreaDimensions.getHeight||$.y<0||$.x>dropAreaDimensions.getWidth||$.x<0?D:this.y*G+this.x},getColIndex:function(){const te=d.query("GET_ACTIVE_ITEMS"),X=d.childViews.filter(ae=>ae.rect.element.height),J=te.map(ae=>X.find(ge=>ge.id===ae.id)),ee=J.findIndex(ae=>ae===P),ie=getItemHeight(P),fe=J.length;let se=fe,de=0,le=0,ye=0;for(let ae=0;ae<fe;ae++)if(de=getItemHeight(J[ae]),ye=le,le=ye+de,$.y<le){if(ee>ae){if($.y<ye+ie){se=ae;break}continue}se=ae;break}return se}};const U=G>1?Z.getGridIndex():Z.getColIndex();d.dispatch("MOVE_ITEM",{query:P,index:U});const Q=w.getIndex();if(Q===void 0||Q!==U){if(w.setIndex(U),Q===void 0)return;d.dispatch("DID_REORDER_ITEMS",{items:d.query("GET_ACTIVE_ITEMS"),origin:D,target:U})}},route$2=createRoute({DID_ADD_ITEM:addItemView,DID_REMOVE_ITEM:removeItemView,DID_DRAG_ITEM:dragItem}),write$5=({root:d,props:m,actions:g,shouldOptimize:w})=>{route$2({root:d,props:m,actions:g});const{dragCoordinates:I}=m,P=d.rect.element.width,F=d.childViews.filter(J=>J.rect.element.height),D=d.query("GET_ACTIVE_ITEMS").map(J=>F.find(ee=>ee.id===J.id)).filter(J=>J),$=I?getItemIndexByPosition(d,D,I):null,V=d.ref.addIndex||null;d.ref.addIndex=null;let j=0,G=0,W=0;if(D.length===0)return;const Z=D[0].rect.element,U=Z.marginTop+Z.marginBottom,Q=Z.marginLeft+Z.marginRight,K=Z.width+Q,te=Z.height+U,X=getItemsPerRow(P,K);if(X===1){let J=0,ee=0;D.forEach((ie,fe)=>{if($){let le=fe-$;le===-2?ee=-U*.25:le===-1?ee=-U*.75:le===0?ee=U*.75:le===1?ee=U*.25:ee=0}w&&(ie.translateX=null,ie.translateY=null),ie.markedForRemoval||moveItem(ie,0,J+ee);let de=(ie.rect.element.height+U)*(ie.markedForRemoval?ie.opacity:1);J+=de})}else{let J=0,ee=0;D.forEach((ie,fe)=>{fe===$&&(j=1),fe===V&&(W+=1),ie.markedForRemoval&&ie.opacity<.5&&(G-=1);const se=fe+W+j+G,de=se%X,le=Math.floor(se/X),ye=de*K,ae=le*te,ge=Math.sign(ye-J),Pe=Math.sign(ae-ee);J=ye,ee=ae,!ie.markedForRemoval&&(w&&(ie.translateX=null,ie.translateY=null),moveItem(ie,ye,ae,ge,Pe))})}},filterSetItemActions=(d,m)=>m.filter(g=>g.data&&g.data.id?d.id===g.data.id:!0),list=createView({create:create$8,write:write$5,tag:"ul",name:"list",didWriteView:({root:d})=>{d.childViews.filter(m=>m.markedForRemoval&&m.opacity===0&&m.resting).forEach(m=>{m._destroy(),d.removeChildView(m)})},filterFrameActionsForChild:filterSetItemActions,mixins:{apis:["dragCoordinates"]}}),create$9=({root:d,props:m})=>{d.ref.list=d.appendChildView(d.createChildView(list)),m.dragCoordinates=null,m.overflowing=!1},storeDragCoordinates=({root:d,props:m,action:g})=>{d.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(m.dragCoordinates={left:g.position.scopeLeft-d.ref.list.rect.element.left,top:g.position.scopeTop-(d.rect.outer.top+d.rect.element.marginTop+d.rect.element.scrollTop)})},clearDragCoordinates=({props:d})=>{d.dragCoordinates=null},route$3=createRoute({DID_DRAG:storeDragCoordinates,DID_END_DRAG:clearDragCoordinates}),write$6=({root:d,props:m,actions:g})=>{if(route$3({root:d,props:m,actions:g}),d.ref.list.dragCoordinates=m.dragCoordinates,m.overflowing&&!m.overflow&&(m.overflowing=!1,d.element.dataset.state="",d.height=null),m.overflow){const w=Math.round(m.overflow);w!==d.height&&(m.overflowing=!0,d.element.dataset.state="overflow",d.height=w)}},listScroller=createView({create:create$9,write:write$6,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),attrToggle=(d,m,g,w="")=>{g?attr(d,m,w):d.removeAttribute(m)},resetFileInput=d=>{if(!(!d||d.value==="")){try{d.value=""}catch{}if(d.value){const m=createElement$1("form"),g=d.parentNode,w=d.nextSibling;m.appendChild(d),m.reset(),w?g.insertBefore(d,w):g.appendChild(d)}}},create$a=({root:d,props:m})=>{d.element.id=`filepond--browser-${m.id}`,attr(d.element,"name",d.query("GET_NAME")),attr(d.element,"aria-controls",`filepond--assistant-${m.id}`),attr(d.element,"aria-labelledby",`filepond--drop-label-${m.id}`),setAcceptedFileTypes({root:d,action:{value:d.query("GET_ACCEPTED_FILE_TYPES")}}),toggleAllowMultiple({root:d,action:{value:d.query("GET_ALLOW_MULTIPLE")}}),toggleDirectoryFilter({root:d,action:{value:d.query("GET_ALLOW_DIRECTORIES_ONLY")}}),toggleDisabled({root:d}),toggleRequired({root:d,action:{value:d.query("GET_REQUIRED")}}),setCaptureMethod({root:d,action:{value:d.query("GET_CAPTURE_METHOD")}}),d.ref.handleChange=g=>{if(!d.element.value)return;const w=Array.from(d.element.files).map(I=>(I._relativePath=I.webkitRelativePath,I));setTimeout(()=>{m.onload(w),resetFileInput(d.element)},250)},d.element.addEventListener("change",d.ref.handleChange)},setAcceptedFileTypes=({root:d,action:m})=>{d.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&attrToggle(d.element,"accept",!!m.value,m.value?m.value.join(","):"")},toggleAllowMultiple=({root:d,action:m})=>{attrToggle(d.element,"multiple",m.value)},toggleDirectoryFilter=({root:d,action:m})=>{attrToggle(d.element,"webkitdirectory",m.value)},toggleDisabled=({root:d})=>{const m=d.query("GET_DISABLED"),g=d.query("GET_ALLOW_BROWSE"),w=m||!g;attrToggle(d.element,"disabled",w)},toggleRequired=({root:d,action:m})=>{m.value?d.query("GET_TOTAL_ITEMS")===0&&attrToggle(d.element,"required",!0):attrToggle(d.element,"required",!1)},setCaptureMethod=({root:d,action:m})=>{attrToggle(d.element,"capture",!!m.value,m.value===!0?"":m.value)},updateRequiredStatus=({root:d})=>{const{element:m}=d;d.query("GET_TOTAL_ITEMS")>0?(attrToggle(m,"required",!1),attrToggle(m,"name",!1)):(attrToggle(m,"name",!0,d.query("GET_NAME")),d.query("GET_CHECK_VALIDITY")&&m.setCustomValidity(""),d.query("GET_REQUIRED")&&attrToggle(m,"required",!0))},updateFieldValidityStatus=({root:d})=>{d.query("GET_CHECK_VALIDITY")&&d.element.setCustomValidity(d.query("GET_LABEL_INVALID_FIELD"))},browser=createView({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:create$a,destroy:({root:d})=>{d.element.removeEventListener("change",d.ref.handleChange)},write:createRoute({DID_LOAD_ITEM:updateRequiredStatus,DID_REMOVE_ITEM:updateRequiredStatus,DID_THROW_ITEM_INVALID:updateFieldValidityStatus,DID_SET_DISABLED:toggleDisabled,DID_SET_ALLOW_BROWSE:toggleDisabled,DID_SET_ALLOW_DIRECTORIES_ONLY:toggleDirectoryFilter,DID_SET_ALLOW_MULTIPLE:toggleAllowMultiple,DID_SET_ACCEPTED_FILE_TYPES:setAcceptedFileTypes,DID_SET_CAPTURE_METHOD:setCaptureMethod,DID_SET_REQUIRED:toggleRequired})}),Key={ENTER:13,SPACE:32},create$b=({root:d,props:m})=>{const g=createElement$1("label");attr(g,"for",`filepond--browser-${m.id}`),attr(g,"id",`filepond--drop-label-${m.id}`),d.ref.handleKeyDown=w=>{(w.keyCode===Key.ENTER||w.keyCode===Key.SPACE)&&(w.preventDefault(),d.ref.label.click())},d.ref.handleClick=w=>{w.target===g||g.contains(w.target)||d.ref.label.click()},g.addEventListener("keydown",d.ref.handleKeyDown),d.element.addEventListener("click",d.ref.handleClick),updateLabelValue(g,m.caption),d.appendChild(g),d.ref.label=g},updateLabelValue=(d,m)=>{d.innerHTML=m;const g=d.querySelector(".filepond--label-action");return g&&attr(g,"tabindex","0"),m},dropLabel=createView({name:"drop-label",ignoreRect:!0,create:create$b,destroy:({root:d})=>{d.ref.label.addEventListener("keydown",d.ref.handleKeyDown),d.element.removeEventListener("click",d.ref.handleClick)},write:createRoute({DID_SET_LABEL_IDLE:({root:d,action:m})=>{updateLabelValue(d.ref.label,m.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),blob=createView({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),addBlob=({root:d})=>{const m=d.rect.element.width*.5,g=d.rect.element.height*.5;d.ref.blob=d.appendChildView(d.createChildView(blob,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:m,translateY:g}))},moveBlob=({root:d,action:m})=>{if(!d.ref.blob){addBlob({root:d});return}d.ref.blob.translateX=m.position.scopeLeft,d.ref.blob.translateY=m.position.scopeTop,d.ref.blob.scaleX=1,d.ref.blob.scaleY=1,d.ref.blob.opacity=1},hideBlob=({root:d})=>{d.ref.blob&&(d.ref.blob.opacity=0)},explodeBlob=({root:d})=>{d.ref.blob&&(d.ref.blob.scaleX=2.5,d.ref.blob.scaleY=2.5,d.ref.blob.opacity=0)},write$7=({root:d,props:m,actions:g})=>{route$4({root:d,props:m,actions:g});const{blob:w}=d.ref;g.length===0&&w&&w.opacity===0&&(d.removeChildView(w),d.ref.blob=null)},route$4=createRoute({DID_DRAG:moveBlob,DID_DROP:explodeBlob,DID_END_DRAG:hideBlob}),drip=createView({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:write$7}),setInputFiles=(d,m)=>{try{const g=new DataTransfer;m.forEach(w=>{w instanceof File?g.items.add(w):g.items.add(new File([w],w.name,{type:w.type}))}),d.files=g.files}catch{return!1}return!0},create$c=({root:d})=>d.ref.fields={},getField=(d,m)=>d.ref.fields[m],syncFieldPositionsWithItems=d=>{d.query("GET_ACTIVE_ITEMS").forEach(m=>{d.ref.fields[m.id]&&d.element.appendChild(d.ref.fields[m.id])})},didReorderItems=({root:d})=>syncFieldPositionsWithItems(d),didAddItem=({root:d,action:m})=>{const I=!(d.query("GET_ITEM",m.id).origin===FileOrigin.LOCAL)&&d.query("SHOULD_UPDATE_FILE_INPUT"),P=createElement$1("input");P.type=I?"file":"hidden",P.name=d.query("GET_NAME"),d.ref.fields[m.id]=P,syncFieldPositionsWithItems(d)},didLoadItem$1=({root:d,action:m})=>{const g=getField(d,m.id);if(!g||(m.serverFileReference!==null&&(g.value=m.serverFileReference),!d.query("SHOULD_UPDATE_FILE_INPUT")))return;const w=d.query("GET_ITEM",m.id);setInputFiles(g,[w.file])},didPrepareOutput=({root:d,action:m})=>{d.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(()=>{const g=getField(d,m.id);g&&setInputFiles(g,[m.file])},0)},didSetDisabled=({root:d})=>{d.element.disabled=d.query("GET_DISABLED")},didRemoveItem=({root:d,action:m})=>{const g=getField(d,m.id);g&&(g.parentNode&&g.parentNode.removeChild(g),delete d.ref.fields[m.id])},didDefineValue=({root:d,action:m})=>{const g=getField(d,m.id);g&&(m.value===null?g.removeAttribute("value"):g.type!="file"&&(g.value=m.value),syncFieldPositionsWithItems(d))},write$8=createRoute({DID_SET_DISABLED:didSetDisabled,DID_ADD_ITEM:didAddItem,DID_LOAD_ITEM:didLoadItem$1,DID_REMOVE_ITEM:didRemoveItem,DID_DEFINE_VALUE:didDefineValue,DID_PREPARE_OUTPUT:didPrepareOutput,DID_REORDER_ITEMS:didReorderItems,DID_SORT_ITEMS:didReorderItems}),data$1=createView({tag:"fieldset",name:"data",create:create$c,write:write$8,ignoreRect:!0}),getRootNode=d=>"getRootNode"in d?d.getRootNode():document,images=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],text$1=["css","csv","html","txt"],map={zip:"zip|compressed",epub:"application/epub+zip"},guesstimateMimeType=(d="")=>(d=d.toLowerCase(),images.includes(d)?"image/"+(d==="jpg"?"jpeg":d==="svg"?"svg+xml":d):text$1.includes(d)?"text/"+d:map[d]||""),requestDataTransferItems=d=>new Promise((m,g)=>{const w=getLinks(d);if(w.length&&!hasFiles(d))return m(w);getFiles(d).then(m)}),hasFiles=d=>d.files?d.files.length>0:!1,getFiles=d=>new Promise((m,g)=>{const w=(d.items?Array.from(d.items):[]).filter(I=>isFileSystemItem(I)).map(I=>getFilesFromItem(I));if(!w.length){m(d.files?Array.from(d.files):[]);return}Promise.all(w).then(I=>{const P=[];I.forEach(F=>{P.push.apply(P,F)}),m(P.filter(F=>F).map(F=>(F._relativePath||(F._relativePath=F.webkitRelativePath),F)))}).catch(console.error)}),isFileSystemItem=d=>{if(isEntry(d)){const m=getAsEntry(d);if(m)return m.isFile||m.isDirectory}return d.kind==="file"},getFilesFromItem=d=>new Promise((m,g)=>{if(isDirectoryEntry(d)){getFilesInDirectory(getAsEntry(d)).then(m).catch(g);return}m([d.getAsFile()])}),getFilesInDirectory=d=>new Promise((m,g)=>{const w=[];let I=0,P=0;const F=()=>{P===0&&I===0&&m(w)},D=$=>{I++;const V=$.createReader(),j=()=>{V.readEntries(G=>{if(G.length===0){I--,F();return}G.forEach(W=>{W.isDirectory?D(W):(P++,W.file(Z=>{const U=correctMissingFileType(Z);W.fullPath&&(U._relativePath=W.fullPath),w.push(U),P--,F()}))}),j()},g)};j()};D(d)}),correctMissingFileType=d=>{if(d.type.length)return d;const m=d.lastModifiedDate,g=d.name,w=guesstimateMimeType(getExtensionFromFilename(d.name));return w.length&&(d=d.slice(0,d.size,w),d.name=g,d.lastModifiedDate=m),d},isDirectoryEntry=d=>isEntry(d)&&(getAsEntry(d)||{}).isDirectory,isEntry=d=>"webkitGetAsEntry"in d,getAsEntry=d=>d.webkitGetAsEntry(),getLinks=d=>{let m=[];try{if(m=getLinksFromTransferMetaData(d),m.length)return m;m=getLinksFromTransferURLData(d)}catch{}return m},getLinksFromTransferURLData=d=>{let m=d.getData("url");return typeof m=="string"&&m.length?[m]:[]},getLinksFromTransferMetaData=d=>{let m=d.getData("text/html");if(typeof m=="string"&&m.length){const g=m.match(/src\s*=\s*"(.+?)"/);if(g)return[g[1]]}return[]},dragNDropObservers=[],eventPosition=d=>({pageLeft:d.pageX,pageTop:d.pageY,scopeLeft:d.offsetX||d.layerX,scopeTop:d.offsetY||d.layerY}),createDragNDropClient=(d,m,g)=>{const w=getDragNDropObserver(m),I={element:d,filterElement:g,state:null,ondrop:()=>{},onenter:()=>{},ondrag:()=>{},onexit:()=>{},onload:()=>{},allowdrop:()=>{}};return I.destroy=w.addListener(I),I},getDragNDropObserver=d=>{const m=dragNDropObservers.find(w=>w.element===d);if(m)return m;const g=createDragNDropObserver(d);return dragNDropObservers.push(g),g},createDragNDropObserver=d=>{const m=[],g={dragenter,dragover,dragleave,drop},w={};forin(g,(P,F)=>{w[P]=F(d,m),d.addEventListener(P,w[P],!1)});const I={element:d,addListener:P=>(m.push(P),()=>{m.splice(m.indexOf(P),1),m.length===0&&(dragNDropObservers.splice(dragNDropObservers.indexOf(I),1),forin(g,F=>{d.removeEventListener(F,w[F],!1)}))})};return I},elementFromPoint=(d,m)=>("elementFromPoint"in d||(d=document),d.elementFromPoint(m.x,m.y)),isEventTarget=(d,m)=>{const g=getRootNode(m),w=elementFromPoint(g,{x:d.pageX-window.pageXOffset,y:d.pageY-window.pageYOffset});return w===m||m.contains(w)};let initialTarget=null;const setDropEffect=(d,m)=>{try{d.dropEffect=m}catch{}},dragenter=(d,m)=>g=>{g.preventDefault(),initialTarget=g.target,m.forEach(w=>{const{element:I,onenter:P}=w;isEventTarget(g,I)&&(w.state="enter",P(eventPosition(g)))})},dragover=(d,m)=>g=>{g.preventDefault();const w=g.dataTransfer;requestDataTransferItems(w).then(I=>{let P=!1;m.some(F=>{const{filterElement:D,element:$,onenter:V,onexit:j,ondrag:G,allowdrop:W}=F;setDropEffect(w,"copy");const Z=W(I);if(!Z){setDropEffect(w,"none");return}if(isEventTarget(g,$)){if(P=!0,F.state===null){F.state="enter",V(eventPosition(g));return}if(F.state="over",D&&!Z){setDropEffect(w,"none");return}G(eventPosition(g))}else D&&!P&&setDropEffect(w,"none"),F.state&&(F.state=null,j(eventPosition(g)))})})},drop=(d,m)=>g=>{g.preventDefault();const w=g.dataTransfer;requestDataTransferItems(w).then(I=>{m.forEach(P=>{const{filterElement:F,element:D,ondrop:$,onexit:V,allowdrop:j}=P;if(P.state=null,!(F&&!isEventTarget(g,D))){if(!j(I))return V(eventPosition(g));$(eventPosition(g),I)}})})},dragleave=(d,m)=>g=>{initialTarget===g.target&&m.forEach(w=>{const{onexit:I}=w;w.state=null,I(eventPosition(g))})},createHopper=(d,m,g)=>{d.classList.add("filepond--hopper");const{catchesDropsOnPage:w,requiresDropOnElement:I,filterItems:P=j=>j}=g,F=createDragNDropClient(d,w?document.documentElement:d,I);let D="",$="";F.allowdrop=j=>m(P(j)),F.ondrop=(j,G)=>{const W=P(G);if(!m(W)){V.ondragend(j);return}$="drag-drop",V.onload(W,j)},F.ondrag=j=>{V.ondrag(j)},F.onenter=j=>{$="drag-over",V.ondragstart(j)},F.onexit=j=>{$="drag-exit",V.ondragend(j)};const V={updateHopperState:()=>{D!==$&&(d.dataset.hopperState=$,D=$)},onload:()=>{},ondragstart:()=>{},ondrag:()=>{},ondragend:()=>{},destroy:()=>{F.destroy()}};return V};let listening=!1;const listeners$1=[],handlePaste=d=>{const m=document.activeElement;if(m&&(/textarea|input/i.test(m.nodeName)||m.getAttribute("contenteditable")==="true")){let w=!1,I=m;for(;I!==document.body;){if(I.classList.contains("filepond--root")){w=!0;break}I=I.parentNode}if(!w)return}requestDataTransferItems(d.clipboardData).then(w=>{w.length&&listeners$1.forEach(I=>I(w))})},listen=d=>{listeners$1.includes(d)||(listeners$1.push(d),!listening&&(listening=!0,document.addEventListener("paste",handlePaste)))},unlisten=d=>{arrayRemove(listeners$1,listeners$1.indexOf(d)),listeners$1.length===0&&(document.removeEventListener("paste",handlePaste),listening=!1)},createPaster=()=>{const d=g=>{m.onload(g)},m={destroy:()=>{unlisten(d)},onload:()=>{}};return listen(d),m},create$d=({root:d,props:m})=>{d.element.id=`filepond--assistant-${m.id}`,attr(d.element,"role","status"),attr(d.element,"aria-live","polite"),attr(d.element,"aria-relevant","additions")};let addFilesNotificationTimeout=null,notificationClearTimeout=null;const filenames=[],assist=(d,m)=>{d.element.textContent=m},clear$1=d=>{d.element.textContent=""},listModified=(d,m,g)=>{const w=d.query("GET_TOTAL_ITEMS");assist(d,`${g} ${m}, ${w} ${w===1?d.query("GET_LABEL_FILE_COUNT_SINGULAR"):d.query("GET_LABEL_FILE_COUNT_PLURAL")}`),clearTimeout(notificationClearTimeout),notificationClearTimeout=setTimeout(()=>{clear$1(d)},1500)},isUsingFilePond=d=>d.element.parentNode.contains(document.activeElement),itemAdded=({root:d,action:m})=>{if(!isUsingFilePond(d))return;d.element.textContent="";const g=d.query("GET_ITEM",m.id);filenames.push(g.filename),clearTimeout(addFilesNotificationTimeout),addFilesNotificationTimeout=setTimeout(()=>{listModified(d,filenames.join(", "),d.query("GET_LABEL_FILE_ADDED")),filenames.length=0},750)},itemRemoved=({root:d,action:m})=>{if(!isUsingFilePond(d))return;const g=m.item;listModified(d,g.filename,d.query("GET_LABEL_FILE_REMOVED"))},itemProcessed=({root:d,action:m})=>{const w=d.query("GET_ITEM",m.id).filename,I=d.query("GET_LABEL_FILE_PROCESSING_COMPLETE");assist(d,`${w} ${I}`)},itemProcessedUndo=({root:d,action:m})=>{const w=d.query("GET_ITEM",m.id).filename,I=d.query("GET_LABEL_FILE_PROCESSING_ABORTED");assist(d,`${w} ${I}`)},itemError=({root:d,action:m})=>{const w=d.query("GET_ITEM",m.id).filename;assist(d,`${m.status.main} ${w} ${m.status.sub}`)},assistant=createView({create:create$d,ignoreRect:!0,ignoreRectUpdate:!0,write:createRoute({DID_LOAD_ITEM:itemAdded,DID_REMOVE_ITEM:itemRemoved,DID_COMPLETE_ITEM_PROCESSING:itemProcessed,DID_ABORT_ITEM_PROCESSING:itemProcessedUndo,DID_REVERT_ITEM_PROCESSING:itemProcessedUndo,DID_THROW_ITEM_REMOVE_ERROR:itemError,DID_THROW_ITEM_LOAD_ERROR:itemError,DID_THROW_ITEM_INVALID:itemError,DID_THROW_ITEM_PROCESSING_ERROR:itemError}),tag:"span",name:"assistant"}),toCamels=(d,m="-")=>d.replace(new RegExp(`${m}.`,"g"),g=>g.charAt(1).toUpperCase()),debounce=(d,m=16,g=!0)=>{let w=Date.now(),I=null;return(...P)=>{clearTimeout(I);const F=Date.now()-w,D=()=>{w=Date.now(),d(...P)};F<m?g||(I=setTimeout(D,m-F)):D()}},MAX_FILES_LIMIT=1e6,prevent=d=>d.preventDefault(),create$e=({root:d,props:m})=>{const g=d.query("GET_ID");g&&(d.element.id=g);const w=d.query("GET_CLASS_NAME");w&&w.split(" ").filter($=>$.length).forEach($=>{d.element.classList.add($)}),d.ref.label=d.appendChildView(d.createChildView(dropLabel,{...m,translateY:null,caption:d.query("GET_LABEL_IDLE")})),d.ref.list=d.appendChildView(d.createChildView(listScroller,{translateY:null})),d.ref.panel=d.appendChildView(d.createChildView(panel,{name:"panel-root"})),d.ref.assistant=d.appendChildView(d.createChildView(assistant,{...m})),d.ref.data=d.appendChildView(d.createChildView(data$1,{...m})),d.ref.measure=createElement$1("div"),d.ref.measure.style.height="100%",d.element.appendChild(d.ref.measure),d.ref.bounds=null,d.query("GET_STYLES").filter($=>!isEmpty($.value)).map(({name:$,value:V})=>{d.element.dataset[$]=V}),d.ref.widthPrevious=null,d.ref.widthUpdated=debounce(()=>{d.ref.updateHistory=[],d.dispatch("DID_RESIZE_ROOT")},250),d.ref.previousAspectRatio=null,d.ref.updateHistory=[];const I=window.matchMedia("(pointer: fine) and (hover: hover)").matches,P="PointerEvent"in window;d.query("GET_ALLOW_REORDER")&&P&&!I&&(d.element.addEventListener("touchmove",prevent,{passive:!1}),d.element.addEventListener("gesturestart",prevent));const F=d.query("GET_CREDITS");if(F.length===2){const $=document.createElement("a");$.className="filepond--credits",$.href=F[0],$.tabIndex=-1,$.target="_blank",$.rel="noopener noreferrer",$.textContent=F[1],d.element.appendChild($),d.ref.credits=$}},write$9=({root:d,props:m,actions:g})=>{if(route$5({root:d,props:m,actions:g}),g.filter(fe=>/^DID_SET_STYLE_/.test(fe.type)).filter(fe=>!isEmpty(fe.data.value)).map(({type:fe,data:se})=>{const de=toCamels(fe.substring(8).toLowerCase(),"_");d.element.dataset[de]=se.value,d.invalidateLayout()}),d.rect.element.hidden)return;d.rect.element.width!==d.ref.widthPrevious&&(d.ref.widthPrevious=d.rect.element.width,d.ref.widthUpdated());let w=d.ref.bounds;w||(w=d.ref.bounds=calculateRootBoundingBoxHeight(d),d.element.removeChild(d.ref.measure),d.ref.measure=null);const{hopper:I,label:P,list:F,panel:D}=d.ref;I&&I.updateHopperState();const $=d.query("GET_PANEL_ASPECT_RATIO"),V=d.query("GET_ALLOW_MULTIPLE"),j=d.query("GET_TOTAL_ITEMS"),G=V?d.query("GET_MAX_FILES")||MAX_FILES_LIMIT:1,W=j===G,Z=g.find(fe=>fe.type==="DID_ADD_ITEM");if(W&&Z){const fe=Z.data.interactionMethod;P.opacity=0,V?P.translateY=-40:fe===InteractionMethod.API?P.translateX=40:fe===InteractionMethod.BROWSE?P.translateY=40:P.translateY=30}else W||(P.opacity=1,P.translateX=0,P.translateY=0);const U=calculateListItemMargin(d),Q=calculateListHeight(d),K=P.rect.element.height,te=!V||W?0:K,X=W?F.rect.element.marginTop:0,J=j===0?0:F.rect.element.marginBottom,ee=te+X+Q.visual+J,ie=te+X+Q.bounds+J;if(F.translateY=Math.max(0,te-F.rect.element.marginTop)-U.top,$){const fe=d.rect.element.width,se=fe*$;$!==d.ref.previousAspectRatio&&(d.ref.previousAspectRatio=$,d.ref.updateHistory=[]);const de=d.ref.updateHistory;de.push(fe);const le=2;if(de.length>le*2){const ae=de.length,ge=ae-10;let Pe=0;for(let be=ae;be>=ge;be--)if(de[be]===de[be-2]&&Pe++,Pe>=le)return}D.scalable=!1,D.height=se;const ye=se-te-(J-U.bottom)-(W?X:0);Q.visual>ye?F.overflow=ye:F.overflow=null,d.height=se}else if(w.fixedHeight){D.scalable=!1;const fe=w.fixedHeight-te-(J-U.bottom)-(W?X:0);Q.visual>fe?F.overflow=fe:F.overflow=null}else if(w.cappedHeight){const fe=ee>=w.cappedHeight,se=Math.min(w.cappedHeight,ee);D.scalable=!0,D.height=fe?se:se-U.top-U.bottom;const de=se-te-(J-U.bottom)-(W?X:0);ee>w.cappedHeight&&Q.visual>de?F.overflow=de:F.overflow=null,d.height=Math.min(w.cappedHeight,ie-U.top-U.bottom)}else{const fe=j>0?U.top+U.bottom:0;D.scalable=!0,D.height=Math.max(K,ee-fe),d.height=Math.max(K,ie-fe)}d.ref.credits&&D.heightCurrent&&(d.ref.credits.style.transform=`translateY(${D.heightCurrent}px)`)},calculateListItemMargin=d=>{const m=d.ref.list.childViews[0].childViews[0];return m?{top:m.rect.element.marginTop,bottom:m.rect.element.marginBottom}:{top:0,bottom:0}},calculateListHeight=d=>{let m=0,g=0;const w=d.ref.list,I=w.childViews[0],P=I.childViews.filter(X=>X.rect.element.height),F=d.query("GET_ACTIVE_ITEMS").map(X=>P.find(J=>J.id===X.id)).filter(X=>X);if(F.length===0)return{visual:m,bounds:g};const D=I.rect.element.width,$=getItemIndexByPosition(I,F,w.dragCoordinates),V=F[0].rect.element,j=V.marginTop+V.marginBottom,G=V.marginLeft+V.marginRight,W=V.width+G,Z=V.height+j,U=typeof $<"u"&&$>=0?1:0,Q=F.find(X=>X.markedForRemoval&&X.opacity<.45)?-1:0,K=F.length+U+Q,te=getItemsPerRow(D,W);return te===1?F.forEach(X=>{const J=X.rect.element.height+j;g+=J,m+=J*X.opacity}):(g=Math.ceil(K/te)*Z,m=g),{visual:m,bounds:g}},calculateRootBoundingBoxHeight=d=>{const m=d.ref.measureHeight||null;return{cappedHeight:parseInt(d.style.maxHeight,10)||null,fixedHeight:m===0?null:m}},exceedsMaxFiles=(d,m)=>{const g=d.query("GET_ALLOW_REPLACE"),w=d.query("GET_ALLOW_MULTIPLE"),I=d.query("GET_TOTAL_ITEMS");let P=d.query("GET_MAX_FILES");const F=m.length;return!w&&F>1?(d.dispatch("DID_THROW_MAX_FILES",{source:m,error:createResponse("warning",0,"Max files")}),!0):(P=w?P:1,!w&&g?!1:isInt(P)&&I+F>P?(d.dispatch("DID_THROW_MAX_FILES",{source:m,error:createResponse("warning",0,"Max files")}),!0):!1)},getDragIndex=(d,m,g)=>{const w=d.childViews[0];return getItemIndexByPosition(w,m,{left:g.scopeLeft-w.rect.element.left,top:g.scopeTop-(d.rect.outer.top+d.rect.element.marginTop+d.rect.element.scrollTop)})},toggleDrop=d=>{const m=d.query("GET_ALLOW_DROP"),g=d.query("GET_DISABLED"),w=m&&!g;if(w&&!d.ref.hopper){const I=createHopper(d.element,P=>{const F=d.query("GET_BEFORE_DROP_FILE")||(()=>!0);return d.query("GET_DROP_VALIDATION")?P.every($=>applyFilters("ALLOW_HOPPER_ITEM",$,{query:d.query}).every(V=>V===!0)&&F($)):!0},{filterItems:P=>{const F=d.query("GET_IGNORED_FILES");return P.filter(D=>isFile(D)?!F.includes(D.name.toLowerCase()):!0)},catchesDropsOnPage:d.query("GET_DROP_ON_PAGE"),requiresDropOnElement:d.query("GET_DROP_ON_ELEMENT")});I.onload=(P,F)=>{const $=d.ref.list.childViews[0].childViews.filter(j=>j.rect.element.height),V=d.query("GET_ACTIVE_ITEMS").map(j=>$.find(G=>G.id===j.id)).filter(j=>j);applyFilterChain("ADD_ITEMS",P,{dispatch:d.dispatch}).then(j=>{if(exceedsMaxFiles(d,j))return!1;d.dispatch("ADD_ITEMS",{items:j,index:getDragIndex(d.ref.list,V,F),interactionMethod:InteractionMethod.DROP})}),d.dispatch("DID_DROP",{position:F}),d.dispatch("DID_END_DRAG",{position:F})},I.ondragstart=P=>{d.dispatch("DID_START_DRAG",{position:P})},I.ondrag=debounce(P=>{d.dispatch("DID_DRAG",{position:P})}),I.ondragend=P=>{d.dispatch("DID_END_DRAG",{position:P})},d.ref.hopper=I,d.ref.drip=d.appendChildView(d.createChildView(drip))}else!w&&d.ref.hopper&&(d.ref.hopper.destroy(),d.ref.hopper=null,d.removeChildView(d.ref.drip))},toggleBrowse=(d,m)=>{const g=d.query("GET_ALLOW_BROWSE"),w=d.query("GET_DISABLED"),I=g&&!w;I&&!d.ref.browser?d.ref.browser=d.appendChildView(d.createChildView(browser,{...m,onload:P=>{applyFilterChain("ADD_ITEMS",P,{dispatch:d.dispatch}).then(F=>{if(exceedsMaxFiles(d,F))return!1;d.dispatch("ADD_ITEMS",{items:F,index:-1,interactionMethod:InteractionMethod.BROWSE})})}}),0):!I&&d.ref.browser&&(d.removeChildView(d.ref.browser),d.ref.browser=null)},togglePaste=d=>{const m=d.query("GET_ALLOW_PASTE"),g=d.query("GET_DISABLED"),w=m&&!g;w&&!d.ref.paster?(d.ref.paster=createPaster(),d.ref.paster.onload=I=>{applyFilterChain("ADD_ITEMS",I,{dispatch:d.dispatch}).then(P=>{if(exceedsMaxFiles(d,P))return!1;d.dispatch("ADD_ITEMS",{items:P,index:-1,interactionMethod:InteractionMethod.PASTE})})}):!w&&d.ref.paster&&(d.ref.paster.destroy(),d.ref.paster=null)},route$5=createRoute({DID_SET_ALLOW_BROWSE:({root:d,props:m})=>{toggleBrowse(d,m)},DID_SET_ALLOW_DROP:({root:d})=>{toggleDrop(d)},DID_SET_ALLOW_PASTE:({root:d})=>{togglePaste(d)},DID_SET_DISABLED:({root:d,props:m})=>{toggleDrop(d),togglePaste(d),toggleBrowse(d,m),d.query("GET_DISABLED")?d.element.dataset.disabled="disabled":d.element.removeAttribute("data-disabled")}}),root=createView({name:"root",read:({root:d})=>{d.ref.measure&&(d.ref.measureHeight=d.ref.measure.offsetHeight)},create:create$e,write:write$9,destroy:({root:d})=>{d.ref.paster&&d.ref.paster.destroy(),d.ref.hopper&&d.ref.hopper.destroy(),d.element.removeEventListener("touchmove",prevent),d.element.removeEventListener("gesturestart",prevent)},mixins:{styles:["height"]}}),createApp=(d={})=>{let m=null;const g=getOptions(),w=createStore(createInitialState(g),[queries,createOptionQueries(g)],[actions,createOptionActions(g)]);w.dispatch("SET_OPTIONS",{options:d});const I=()=>{document.hidden||w.dispatch("KICK")};document.addEventListener("visibilitychange",I);let P=null,F=!1,D=!1,$=null,V=null;const j=()=>{F||(F=!0),clearTimeout(P),P=setTimeout(()=>{F=!1,$=null,V=null,D&&(D=!1,w.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",j);const G=root(w,{id:getUniqueId()});let W=!1,Z=!1;const U={_read:()=>{F&&(V=window.innerWidth,$||($=V),!D&&V!==$&&(w.dispatch("DID_START_RESIZE"),D=!0)),Z&&W&&(W=G.element.offsetParent===null),!W&&(G._read(),Z=G.rect.element.hidden)},_write:ve=>{const Re=w.processActionQueue().filter(Oe=>!/^SET_/.test(Oe.type));W&&!Re.length||(X(Re),W=G._write(ve,Re,D),removeReleasedItems(w.query("GET_ITEMS")),W&&w.processDispatchQueue())}},Q=ve=>Re=>{const Oe={type:ve};if(!Re)return Oe;if(Re.hasOwnProperty("error")&&(Oe.error=Re.error?{...Re.error}:null),Re.status&&(Oe.status={...Re.status}),Re.file&&(Oe.output=Re.file),Re.source)Oe.file=Re.source;else if(Re.item||Re.id){const Ae=Re.item?Re.item:w.query("GET_ITEM",Re.id);Oe.file=Ae?createItemAPI(Ae):null}return Re.items&&(Oe.items=Re.items.map(createItemAPI)),/progress/.test(ve)&&(Oe.progress=Re.progress),Re.hasOwnProperty("origin")&&Re.hasOwnProperty("target")&&(Oe.origin=Re.origin,Oe.target=Re.target),Oe},K={DID_DESTROY:Q("destroy"),DID_INIT:Q("init"),DID_THROW_MAX_FILES:Q("warning"),DID_INIT_ITEM:Q("initfile"),DID_START_ITEM_LOAD:Q("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:Q("addfileprogress"),DID_LOAD_ITEM:Q("addfile"),DID_THROW_ITEM_INVALID:[Q("error"),Q("addfile")],DID_THROW_ITEM_LOAD_ERROR:[Q("error"),Q("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[Q("error"),Q("removefile")],DID_PREPARE_OUTPUT:Q("preparefile"),DID_START_ITEM_PROCESSING:Q("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:Q("processfileprogress"),DID_ABORT_ITEM_PROCESSING:Q("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:Q("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:Q("processfiles"),DID_REVERT_ITEM_PROCESSING:Q("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[Q("error"),Q("processfile")],DID_REMOVE_ITEM:Q("removefile"),DID_UPDATE_ITEMS:Q("updatefiles"),DID_ACTIVATE_ITEM:Q("activatefile"),DID_REORDER_ITEMS:Q("reorderfiles")},te=ve=>{const Re={pond:Ee,...ve};delete Re.type,G.element.dispatchEvent(new CustomEvent(`FilePond:${ve.type}`,{detail:Re,bubbles:!0,cancelable:!0,composed:!0}));const Oe=[];ve.hasOwnProperty("error")&&Oe.push(ve.error),ve.hasOwnProperty("file")&&Oe.push(ve.file);const Ae=["type","error","file"];Object.keys(ve).filter(Me=>!Ae.includes(Me)).forEach(Me=>Oe.push(ve[Me])),Ee.fire(ve.type,...Oe);const He=w.query(`GET_ON${ve.type.toUpperCase()}`);He&&He(...Oe)},X=ve=>{ve.length&&ve.filter(Re=>K[Re.type]).forEach(Re=>{const Oe=K[Re.type];(Array.isArray(Oe)?Oe:[Oe]).forEach(Ae=>{Re.type==="DID_INIT_ITEM"?te(Ae(Re.data)):setTimeout(()=>{te(Ae(Re.data))},0)})})},J=ve=>w.dispatch("SET_OPTIONS",{options:ve}),ee=ve=>w.query("GET_ACTIVE_ITEM",ve),ie=ve=>new Promise((Re,Oe)=>{w.dispatch("REQUEST_ITEM_PREPARE",{query:ve,success:Ae=>{Re(Ae)},failure:Ae=>{Oe(Ae)}})}),fe=(ve,Re={})=>new Promise((Oe,Ae)=>{le([{source:ve,options:Re}],{index:Re.index}).then(He=>Oe(He&&He[0])).catch(Ae)}),se=ve=>ve.file&&ve.id,de=(ve,Re)=>(typeof ve=="object"&&!se(ve)&&!Re&&(Re=ve,ve=void 0),w.dispatch("REMOVE_ITEM",{...Re,query:ve}),w.query("GET_ACTIVE_ITEM",ve)===null),le=(...ve)=>new Promise((Re,Oe)=>{const Ae=[],He={};if(isArray(ve[0]))Ae.push.apply(Ae,ve[0]),Object.assign(He,ve[1]||{});else{const Me=ve[ve.length-1];typeof Me=="object"&&!(Me instanceof Blob)&&Object.assign(He,ve.pop()),Ae.push(...ve)}w.dispatch("ADD_ITEMS",{items:Ae,index:He.index,interactionMethod:InteractionMethod.API,success:Re,failure:Oe})}),ye=()=>w.query("GET_ACTIVE_ITEMS"),ae=ve=>new Promise((Re,Oe)=>{w.dispatch("REQUEST_ITEM_PROCESSING",{query:ve,success:Ae=>{Re(Ae)},failure:Ae=>{Oe(Ae)}})}),ge=(...ve)=>{const Re=Array.isArray(ve[0])?ve[0]:ve,Oe=Re.length?Re:ye();return Promise.all(Oe.map(ie))},Pe=(...ve)=>{const Re=Array.isArray(ve[0])?ve[0]:ve;if(!Re.length){const Oe=ye().filter(Ae=>!(Ae.status===ItemStatus.IDLE&&Ae.origin===FileOrigin.LOCAL)&&Ae.status!==ItemStatus.PROCESSING&&Ae.status!==ItemStatus.PROCESSING_COMPLETE&&Ae.status!==ItemStatus.PROCESSING_REVERT_ERROR);return Promise.all(Oe.map(ae))}return Promise.all(Re.map(ae))},be=(...ve)=>{const Re=Array.isArray(ve[0])?ve[0]:ve;let Oe;typeof Re[Re.length-1]=="object"?Oe=Re.pop():Array.isArray(ve[0])&&(Oe=ve[1]);const Ae=ye();return Re.length?Re.map(Me=>isNumber(Me)?Ae[Me]?Ae[Me].id:null:Me).filter(Me=>Me).map(Me=>de(Me,Oe)):Promise.all(Ae.map(Me=>de(Me,Oe)))},Ee={...on(),...U,...createOptionAPI(w,g),setOptions:J,addFile:fe,addFiles:le,getFile:ee,processFile:ae,prepareFile:ie,removeFile:de,moveFile:(ve,Re)=>w.dispatch("MOVE_ITEM",{query:ve,index:Re}),getFiles:ye,processFiles:Pe,removeFiles:be,prepareFiles:ge,sort:ve=>w.dispatch("SORT",{compare:ve}),browse:()=>{var ve=G.element.querySelector("input[type=file]");ve&&ve.click()},destroy:()=>{Ee.fire("destroy",G.element),w.dispatch("ABORT_ALL"),G._destroy(),window.removeEventListener("resize",j),document.removeEventListener("visibilitychange",I),w.dispatch("DID_DESTROY")},insertBefore:ve=>insertBefore(G.element,ve),insertAfter:ve=>insertAfter(G.element,ve),appendTo:ve=>ve.appendChild(G.element),replaceElement:ve=>{insertBefore(G.element,ve),ve.parentNode.removeChild(ve),m=ve},restoreElement:()=>{m&&(insertAfter(m,G.element),G.element.parentNode.removeChild(G.element),m=null)},isAttachedTo:ve=>G.element===ve||m===ve,element:{get:()=>G.element},status:{get:()=>w.query("GET_STATUS")}};return w.dispatch("DID_INIT"),createObject(Ee)},createAppObject=(d={})=>{const m={};return forin(getOptions(),(w,I)=>{m[w]=I[0]}),createApp({...m,...d})},lowerCaseFirstLetter=d=>d.charAt(0).toLowerCase()+d.slice(1),attributeNameToPropertyName=d=>toCamels(d.replace(/^data-/,"")),mapObject=(d,m)=>{forin(m,(g,w)=>{forin(d,(I,P)=>{const F=new RegExp(g);if(!F.test(I)||(delete d[I],w===!1))return;if(isString(w)){d[w]=P;return}const $=w.group;isObject$1(w)&&!d[$]&&(d[$]={}),d[$][lowerCaseFirstLetter(I.replace(F,""))]=P}),w.mapping&&mapObject(d[w.group],w.mapping)})},getAttributesAsObject=(d,m={})=>{const g=[];forin(d.attributes,I=>{g.push(d.attributes[I])});const w=g.filter(I=>I.name).reduce((I,P)=>{const F=attr(d,P.name);return I[attributeNameToPropertyName(P.name)]=F===P.name?!0:F,I},{});return mapObject(w,m),w},createAppAtElement=(d,m={})=>{const g={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};applyFilters("SET_ATTRIBUTE_TO_OPTION_MAP",g);const w={...m},I=getAttributesAsObject(d.nodeName==="FIELDSET"?d.querySelector("input[type=file]"):d,g);Object.keys(I).forEach(F=>{isObject$1(I[F])?(isObject$1(w[F])||(w[F]={}),Object.assign(w[F],I[F])):w[F]=I[F]}),w.files=(m.files||[]).concat(Array.from(d.querySelectorAll("input:not([type=file])")).map(F=>({source:F.value,options:{type:F.dataset.type}})));const P=createAppObject(w);return d.files&&Array.from(d.files).forEach(F=>{P.addFile(F)}),P.replaceElement(d),P},createApp$1=(...d)=>isNode(d[0])?createAppAtElement(...d):createAppObject(...d),PRIVATE_METHODS=["fire","_read","_write"],createAppAPI=d=>{const m={};return copyObjectPropertiesToObject(d,m,PRIVATE_METHODS),m},replaceInString=(d,m)=>d.replace(/(?:{([a-zA-Z]+)})/g,(g,w)=>m[w]),createWorker=d=>{const m=new Blob(["(",d.toString(),")()"],{type:"application/javascript"}),g=URL.createObjectURL(m),w=new Worker(g);return{transfer:(I,P)=>{},post:(I,P,F)=>{const D=getUniqueId();w.onmessage=$=>{$.data.id===D&&P($.data.message)},w.postMessage({id:D,message:I},F)},terminate:()=>{w.terminate(),URL.revokeObjectURL(g)}}},loadImage$1=d=>new Promise((m,g)=>{const w=new Image;w.onload=()=>{m(w)},w.onerror=I=>{g(I)},w.src=d}),renameFile=(d,m)=>{const g=d.slice(0,d.size,d.type);return g.lastModifiedDate=d.lastModifiedDate,g.name=m,g},copyFile=d=>renameFile(d,d.name),registeredPlugins=[],createAppPlugin=d=>{if(registeredPlugins.includes(d))return;registeredPlugins.push(d);const m=d({addFilter,utils:{Type,forin,isString,isFile,toNaturalFileSize,replaceInString,getExtensionFromFilename,getFilenameWithoutExtension,guesstimateMimeType,getFileFromBlob,getFilenameFromURL,createRoute,createWorker,createView,createItemAPI,loadImage:loadImage$1,copyFile,renameFile,createBlob,applyFilterChain,text,getNumericAspectRatioFromString},views:{fileActionButton}});extendDefaultOptions(m.options)},isOperaMini=()=>Object.prototype.toString.call(window.operamini)==="[object OperaMini]",hasPromises=()=>"Promise"in window,hasBlobSlice=()=>"slice"in Blob.prototype,hasCreateObjectURL=()=>"URL"in window&&"createObjectURL"in window.URL,hasVisibility=()=>"visibilityState"in document,hasTiming=()=>"performance"in window,hasCSSSupports=()=>"supports"in(window.CSS||{}),isIE11=()=>/MSIE|Trident/.test(window.navigator.userAgent),supported=(()=>{const d=isBrowser$2()&&!isOperaMini()&&hasVisibility()&&hasPromises()&&hasBlobSlice()&&hasCreateObjectURL()&&hasTiming()&&(hasCSSSupports()||isIE11());return()=>d})(),state={apps:[]},name="filepond",fn=()=>{};let OptionTypes={},create$f=fn,destroy=fn,parse=fn,find=fn,registerPlugin=fn,getOptions$1=fn,setOptions$1=fn;if(supported()){createPainter(()=>{state.apps.forEach(g=>g._read())},g=>{state.apps.forEach(w=>w._write(g))});const d=()=>{document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported,create:create$f,destroy,parse,find,registerPlugin,setOptions:setOptions$1}})),document.removeEventListener("DOMContentLoaded",d)};document.readyState!=="loading"?setTimeout(()=>d(),0):document.addEventListener("DOMContentLoaded",d);const m=()=>forin(getOptions(),(g,w)=>{OptionTypes[g]=w[1]});OptionTypes={},m(),create$f=(...g)=>{const w=createApp$1(...g);return w.on("destroy",destroy),state.apps.push(w),createAppAPI(w)},destroy=g=>{const w=state.apps.findIndex(I=>I.isAttachedTo(g));return w>=0?(state.apps.splice(w,1)[0].restoreElement(),!0):!1},parse=g=>Array.from(g.querySelectorAll(`.${name}`)).filter(P=>!state.apps.find(F=>F.isAttachedTo(P))).map(P=>create$f(P)),find=g=>{const w=state.apps.find(I=>I.isAttachedTo(g));return w?createAppAPI(w):null},registerPlugin=(...g)=>{g.forEach(createAppPlugin),m()},getOptions$1=()=>{const g={};return forin(getOptions(),(w,I)=>{g[w]=I[0]}),g},setOptions$1=g=>(isObject$1(g)&&(state.apps.forEach(w=>{w.setOptions(g)}),setOptions(g)),getOptions$1())}/*!
 * vue-filepond v7.0.4
 * A handy FilePond adapter component for Vue
 * 
 * Copyright (c) 2023 PQINA
 * https://pqina.nl/filepond
 * 
 * Licensed under the MIT license.
 */const filteredComponentMethods=["setOptions","on","off","onOnce","appendTo","insertAfter","insertBefore","isAttachedTo","replaceElement","restoreElement","destroy"],isSupported=supported(),getNativeConstructorFromType=d=>({string:String,boolean:Boolean,array:Array,function:Function,int:Number,serverapi:Object,object:Object})[d],props={},events=[],instances=[];let globalOptions={};const VueFilePond=(...d)=>{registerPlugin(...d),events.length=0;for(const m in OptionTypes){if(/^on/.test(m)){events.push(m);continue}let g=[String,getNativeConstructorFromType(OptionTypes[m])];m=="labelFileProcessingError"&&g.push(Function),props[m]={type:g,default:void 0}}return{name:"FilePond",props,render(){const m=Object.entries({id:this.id,name:this.name,type:"file",class:this.className,required:this.required,multiple:this.allowMultiple,accept:this.acceptedFileTypes,capture:this.captureMethod}).reduce((g,[w,I])=>(I!==void 0&&(g[w]=I),g),{});return h$1("div",{class:{"filepond--wrapper":!0}},[h$1("input",m)])},created(){this.watchers=Object.keys(props).map(m=>this.$watch(m,g=>{this._pond&&(this._pond[m]=g)}))},mounted(){if(!isSupported)return;this._element=this.$el.querySelector("input");const m=events.reduce((w,I)=>(w[I]=(...P)=>{this.$emit("input",this._pond?this._pond.getFiles():[]),this.$emit(I.substr(2),...P)},w),{}),g={};Object.keys(props).forEach(w=>{this[w]!==void 0&&(g[w]=this[w])}),this._pond=create$f(this._element,Object.assign({},globalOptions,m,g)),Object.keys(this._pond).filter(w=>!filteredComponentMethods.includes(w)).forEach(w=>{this[w]=this._pond[w]}),instances.push(this._pond)},beforeUnmount(){const{detached:m}=this.$options;if(!this.$el.offsetParent){m.call(this);return}const g=(I,P)=>{const D=((I[0]||{}).removedNodes||[])[0];!D||!D.contains(this.$el)||(P.disconnect(),m.call(this))};new MutationObserver(g).observe(document.documentElement,{childList:!0,subtree:!0})},detached(){if(this.watchers.forEach(g=>g()),!this._pond)return;this._pond.destroy();const m=instances.indexOf(this._pond);m>=0&&instances.splice(m,1),this._pond=null}}};/*!
 * FilePondPluginFileValidateType 1.2.9
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const plugin$1=({addFilter:d,utils:m})=>{const{Type:g,isString:w,replaceInString:I,guesstimateMimeType:P,getExtensionFromFilename:F,getFilenameFromURL:D}=m,$=(Z,U)=>{const Q=(/^[^/]+/.exec(Z)||[]).pop(),K=U.slice(0,-2);return Q===K},V=(Z,U)=>Z.some(Q=>/\*$/.test(Q)?$(U,Q):Q===U),j=Z=>{let U="";if(w(Z)){const Q=D(Z),K=F(Q);K&&(U=P(K))}else U=Z.type;return U},G=(Z,U,Q)=>{if(U.length===0)return!0;const K=j(Z);return Q?new Promise((te,X)=>{Q(Z,K).then(J=>{V(U,J)?te():X()}).catch(X)}):V(U,K)},W=Z=>U=>Z[U]===null?!1:Z[U]||U;return d("SET_ATTRIBUTE_TO_OPTION_MAP",Z=>Object.assign(Z,{accept:"acceptedFileTypes"})),d("ALLOW_HOPPER_ITEM",(Z,{query:U})=>U("GET_ALLOW_FILE_TYPE_VALIDATION")?G(Z,U("GET_ACCEPTED_FILE_TYPES")):!0),d("LOAD_FILE",(Z,{query:U})=>new Promise((Q,K)=>{if(!U("GET_ALLOW_FILE_TYPE_VALIDATION")){Q(Z);return}const te=U("GET_ACCEPTED_FILE_TYPES"),X=U("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),J=G(Z,te,X),ee=()=>{const ie=te.map(W(U("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter(se=>se!==!1),fe=ie.filter((se,de)=>ie.indexOf(se)===de);K({status:{main:U("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:I(U("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:fe.join(", "),allButLastType:fe.slice(0,-1).join(", "),lastType:fe[fe.length-1]})}})};if(typeof J=="boolean")return J?Q(Z):ee();J.then(()=>{Q(Z)}).catch(ee)})),{options:{allowFileTypeValidation:[!0,g.BOOLEAN],acceptedFileTypes:[[],g.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",g.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",g.STRING],fileValidateTypeLabelExpectedTypesMap:[{},g.OBJECT],fileValidateTypeDetectType:[null,g.FUNCTION]}}},isBrowser$1=typeof window<"u"&&typeof window.document<"u";isBrowser$1&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:plugin$1}));/*!
 * FilePondPluginImagePreview 4.6.12
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const isPreviewableImage=d=>/^image/.test(d.type),vectorMultiply=(d,m)=>createVector(d.x*m,d.y*m),vectorAdd=(d,m)=>createVector(d.x+m.x,d.y+m.y),vectorNormalize=d=>{const m=Math.sqrt(d.x*d.x+d.y*d.y);return m===0?{x:0,y:0}:createVector(d.x/m,d.y/m)},vectorRotate=(d,m,g)=>{const w=Math.cos(m),I=Math.sin(m),P=createVector(d.x-g.x,d.y-g.y);return createVector(g.x+w*P.x-I*P.y,g.y+I*P.x+w*P.y)},createVector=(d=0,m=0)=>({x:d,y:m}),getMarkupValue=(d,m,g=1,w)=>{if(typeof d=="string")return parseFloat(d)*g;if(typeof d=="number")return d*(w?m[w]:Math.min(m.width,m.height))},getMarkupStyles=(d,m,g)=>{const w=d.borderStyle||d.lineStyle||"solid",I=d.backgroundColor||d.fontColor||"transparent",P=d.borderColor||d.lineColor||"transparent",F=getMarkupValue(d.borderWidth||d.lineWidth,m,g),D=d.lineCap||"round",$=d.lineJoin||"round",V=typeof w=="string"?"":w.map(G=>getMarkupValue(G,m,g)).join(","),j=d.opacity||1;return{"stroke-linecap":D,"stroke-linejoin":$,"stroke-width":F||0,"stroke-dasharray":V,stroke:P,fill:I,opacity:j}},isDefined=d=>d!=null,getMarkupRect=(d,m,g=1)=>{let w=getMarkupValue(d.x,m,g,"width")||getMarkupValue(d.left,m,g,"width"),I=getMarkupValue(d.y,m,g,"height")||getMarkupValue(d.top,m,g,"height"),P=getMarkupValue(d.width,m,g,"width"),F=getMarkupValue(d.height,m,g,"height"),D=getMarkupValue(d.right,m,g,"width"),$=getMarkupValue(d.bottom,m,g,"height");return isDefined(I)||(isDefined(F)&&isDefined($)?I=m.height-F-$:I=$),isDefined(w)||(isDefined(P)&&isDefined(D)?w=m.width-P-D:w=D),isDefined(P)||(isDefined(w)&&isDefined(D)?P=m.width-w-D:P=0),isDefined(F)||(isDefined(I)&&isDefined($)?F=m.height-I-$:F=0),{x:w||0,y:I||0,width:P||0,height:F||0}},pointsToPathShape=d=>d.map((m,g)=>`${g===0?"M":"L"} ${m.x} ${m.y}`).join(" "),setAttributes=(d,m)=>Object.keys(m).forEach(g=>d.setAttribute(g,m[g])),ns="http://www.w3.org/2000/svg",svg=(d,m)=>{const g=document.createElementNS(ns,d);return m&&setAttributes(g,m),g},updateRect=d=>setAttributes(d,{...d.rect,...d.styles}),updateEllipse=d=>{const m=d.rect.x+d.rect.width*.5,g=d.rect.y+d.rect.height*.5,w=d.rect.width*.5,I=d.rect.height*.5;return setAttributes(d,{cx:m,cy:g,rx:w,ry:I,...d.styles})},IMAGE_FIT_STYLE={contain:"xMidYMid meet",cover:"xMidYMid slice"},updateImage=(d,m)=>{setAttributes(d,{...d.rect,...d.styles,preserveAspectRatio:IMAGE_FIT_STYLE[m.fit]||"none"})},TEXT_ANCHOR={left:"start",center:"middle",right:"end"},updateText=(d,m,g,w)=>{const I=getMarkupValue(m.fontSize,g,w),P=m.fontFamily||"sans-serif",F=m.fontWeight||"normal",D=TEXT_ANCHOR[m.textAlign]||"start";setAttributes(d,{...d.rect,...d.styles,"stroke-width":0,"font-weight":F,"font-size":I,"font-family":P,"text-anchor":D}),d.text!==m.text&&(d.text=m.text,d.textContent=m.text.length?m.text:" ")},updateLine=(d,m,g,w)=>{setAttributes(d,{...d.rect,...d.styles,fill:"none"});const I=d.childNodes[0],P=d.childNodes[1],F=d.childNodes[2],D=d.rect,$={x:d.rect.x+d.rect.width,y:d.rect.y+d.rect.height};if(setAttributes(I,{x1:D.x,y1:D.y,x2:$.x,y2:$.y}),!m.lineDecoration)return;P.style.display="none",F.style.display="none";const V=vectorNormalize({x:$.x-D.x,y:$.y-D.y}),j=getMarkupValue(.05,g,w);if(m.lineDecoration.indexOf("arrow-begin")!==-1){const G=vectorMultiply(V,j),W=vectorAdd(D,G),Z=vectorRotate(D,2,W),U=vectorRotate(D,-2,W);setAttributes(P,{style:"display:block;",d:`M${Z.x},${Z.y} L${D.x},${D.y} L${U.x},${U.y}`})}if(m.lineDecoration.indexOf("arrow-end")!==-1){const G=vectorMultiply(V,-j),W=vectorAdd($,G),Z=vectorRotate($,2,W),U=vectorRotate($,-2,W);setAttributes(F,{style:"display:block;",d:`M${Z.x},${Z.y} L${$.x},${$.y} L${U.x},${U.y}`})}},updatePath=(d,m,g,w)=>{setAttributes(d,{...d.styles,fill:"none",d:pointsToPathShape(m.points.map(I=>({x:getMarkupValue(I.x,g,w,"width"),y:getMarkupValue(I.y,g,w,"height")})))})},createShape=d=>m=>svg(d,{id:m.id}),createImage=d=>{const m=svg("image",{id:d.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return m.onload=()=>{m.setAttribute("opacity",d.opacity||1)},m.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d.src),m},createLine=d=>{const m=svg("g",{id:d.id,"stroke-linecap":"round","stroke-linejoin":"round"}),g=svg("line");m.appendChild(g);const w=svg("path");m.appendChild(w);const I=svg("path");return m.appendChild(I),m},CREATE_TYPE_ROUTES={image:createImage,rect:createShape("rect"),ellipse:createShape("ellipse"),text:createShape("text"),path:createShape("path"),line:createLine},UPDATE_TYPE_ROUTES={rect:updateRect,ellipse:updateEllipse,image:updateImage,text:updateText,path:updatePath,line:updateLine},createMarkupByType=(d,m)=>CREATE_TYPE_ROUTES[d](m),updateMarkupByType=(d,m,g,w,I)=>{m!=="path"&&(d.rect=getMarkupRect(g,w,I)),d.styles=getMarkupStyles(g,w,I),UPDATE_TYPE_ROUTES[m](d,g,w,I)},MARKUP_RECT=["x","y","left","top","right","bottom","width","height"],toOptionalFraction=d=>typeof d=="string"&&/%/.test(d)?parseFloat(d)/100:d,prepareMarkup=d=>{const[m,g]=d,w=g.points?{}:MARKUP_RECT.reduce((I,P)=>(I[P]=toOptionalFraction(g[P]),I),{});return[m,{zIndex:0,...g,...w}]},sortMarkupByZIndex=(d,m)=>d[1].zIndex>m[1].zIndex?1:d[1].zIndex<m[1].zIndex?-1:0,createMarkupView=d=>d.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:({root:m,props:g})=>{if(!g.dirty)return;const{crop:w,resize:I,markup:P}=g,F=g.width,D=g.height;let $=w.width,V=w.height;if(I){const{size:Z}=I;let U=Z&&Z.width,Q=Z&&Z.height;const K=I.mode,te=I.upscale;U&&!Q&&(Q=U),Q&&!U&&(U=Q);const X=$<U&&V<Q;if(!X||X&&te){let J=U/$,ee=Q/V;if(K==="force")$=U,V=Q;else{let ie;K==="cover"?ie=Math.max(J,ee):K==="contain"&&(ie=Math.min(J,ee)),$=$*ie,V=V*ie}}}const j={width:F,height:D};m.element.setAttribute("width",j.width),m.element.setAttribute("height",j.height);const G=Math.min(F/$,D/V);m.element.innerHTML="";const W=m.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");P.filter(W).map(prepareMarkup).sort(sortMarkupByZIndex).forEach(Z=>{const[U,Q]=Z,K=createMarkupByType(U,Q);updateMarkupByType(K,U,Q,j,G),m.element.appendChild(K)})}}),createVector$1=(d,m)=>({x:d,y:m}),vectorDot=(d,m)=>d.x*m.x+d.y*m.y,vectorSubtract=(d,m)=>createVector$1(d.x-m.x,d.y-m.y),vectorDistanceSquared=(d,m)=>vectorDot(vectorSubtract(d,m),vectorSubtract(d,m)),vectorDistance=(d,m)=>Math.sqrt(vectorDistanceSquared(d,m)),getOffsetPointOnEdge=(d,m)=>{const g=d,w=1.5707963267948966,I=m,P=1.5707963267948966-m,F=Math.sin(w),D=Math.sin(I),$=Math.sin(P),V=Math.cos(P),j=g/F,G=j*D,W=j*$;return createVector$1(V*G,V*W)},getRotatedRectSize=(d,m)=>{const g=d.width,w=d.height,I=getOffsetPointOnEdge(g,m),P=getOffsetPointOnEdge(w,m),F=createVector$1(d.x+Math.abs(I.x),d.y-Math.abs(I.y)),D=createVector$1(d.x+d.width+Math.abs(P.y),d.y+Math.abs(P.x)),$=createVector$1(d.x-Math.abs(P.y),d.y+d.height-Math.abs(P.x));return{width:vectorDistance(F,D),height:vectorDistance(F,$)}},calculateCanvasSize=(d,m,g=1)=>{const w=d.height/d.width;let I=1,P=m,F=1,D=w;D>P&&(D=P,F=D/w);const $=Math.max(I/F,P/D),V=d.width/(g*$*F),j=V*m;return{width:V,height:j}},getImageRectZoomFactor=(d,m,g,w)=>{const I=w.x>.5?1-w.x:w.x,P=w.y>.5?1-w.y:w.y,F=I*2*d.width,D=P*2*d.height,$=getRotatedRectSize(m,g);return Math.max($.width/F,$.height/D)},getCenteredCropRect=(d,m)=>{let g=d.width,w=g*m;w>d.height&&(w=d.height,g=w/m);const I=(d.width-g)*.5,P=(d.height-w)*.5;return{x:I,y:P,width:g,height:w}},getCurrentCropSize=(d,m={})=>{let{zoom:g,rotation:w,center:I,aspectRatio:P}=m;P||(P=d.height/d.width);const F=calculateCanvasSize(d,P,g),D={x:F.width*.5,y:F.height*.5},$={x:0,y:0,width:F.width,height:F.height,center:D},V=typeof m.scaleToFit>"u"||m.scaleToFit,j=getImageRectZoomFactor(d,getCenteredCropRect($,P),w,V?I:{x:.5,y:.5}),G=g*j;return{widthFloat:F.width/G,heightFloat:F.height/G,width:Math.round(F.width/G),height:Math.round(F.height/G)}},IMAGE_SCALE_SPRING_PROPS={type:"spring",stiffness:.5,damping:.45,mass:10},createBitmapView=d=>d.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:({root:m,props:g})=>{m.appendChild(g.image)}}),createImageCanvasWrapper=d=>d.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:IMAGE_SCALE_SPRING_PROPS,originY:IMAGE_SCALE_SPRING_PROPS,scaleX:IMAGE_SCALE_SPRING_PROPS,scaleY:IMAGE_SCALE_SPRING_PROPS,translateX:IMAGE_SCALE_SPRING_PROPS,translateY:IMAGE_SCALE_SPRING_PROPS,rotateZ:IMAGE_SCALE_SPRING_PROPS}},create:({root:m,props:g})=>{g.width=g.image.width,g.height=g.image.height,m.ref.bitmap=m.appendChildView(m.createChildView(createBitmapView(d),{image:g.image}))},write:({root:m,props:g})=>{const{flip:w}=g.crop,{bitmap:I}=m.ref;I.scaleX=w.horizontal?-1:1,I.scaleY=w.vertical?-1:1}}),createClipView=d=>d.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function({root:m,props:g}){g.background&&(m.element.style.backgroundColor=g.background)},create:({root:m,props:g})=>{m.ref.image=m.appendChildView(m.createChildView(createImageCanvasWrapper(d),Object.assign({},g))),m.ref.createMarkup=()=>{m.ref.markup||(m.ref.markup=m.appendChildView(m.createChildView(createMarkupView(d),Object.assign({},g))))},m.ref.destroyMarkup=()=>{m.ref.markup&&(m.removeChildView(m.ref.markup),m.ref.markup=null)};const w=m.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");w!==null&&(w==="grid"?m.element.dataset.transparencyIndicator=w:m.element.dataset.transparencyIndicator="color")},write:({root:m,props:g,shouldOptimize:w})=>{const{crop:I,markup:P,resize:F,dirty:D,width:$,height:V}=g;m.ref.image.crop=I;const j={x:0,y:0,width:$,height:V,center:{x:$*.5,y:V*.5}},G={width:m.ref.image.width,height:m.ref.image.height},W={x:I.center.x*G.width,y:I.center.y*G.height},Z={x:j.center.x-G.width*I.center.x,y:j.center.y-G.height*I.center.y},U=Math.PI*2+I.rotation%(Math.PI*2),Q=I.aspectRatio||G.height/G.width,K=typeof I.scaleToFit>"u"||I.scaleToFit,te=getImageRectZoomFactor(G,getCenteredCropRect(j,Q),U,K?I.center:{x:.5,y:.5}),X=I.zoom*te;P&&P.length?(m.ref.createMarkup(),m.ref.markup.width=$,m.ref.markup.height=V,m.ref.markup.resize=F,m.ref.markup.dirty=D,m.ref.markup.markup=P,m.ref.markup.crop=getCurrentCropSize(G,I)):m.ref.markup&&m.ref.destroyMarkup();const J=m.ref.image;if(w){J.originX=null,J.originY=null,J.translateX=null,J.translateY=null,J.rotateZ=null,J.scaleX=null,J.scaleY=null;return}J.originX=W.x,J.originY=W.y,J.translateX=Z.x,J.translateY=Z.y,J.rotateZ=U,J.scaleX=X,J.scaleY=X}}),createImageView=d=>d.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:IMAGE_SCALE_SPRING_PROPS,scaleY:IMAGE_SCALE_SPRING_PROPS,translateY:IMAGE_SCALE_SPRING_PROPS,opacity:{type:"tween",duration:400}}},create:({root:m,props:g})=>{m.ref.clip=m.appendChildView(m.createChildView(createClipView(d),{id:g.id,image:g.image,crop:g.crop,markup:g.markup,resize:g.resize,dirty:g.dirty,background:g.background}))},write:({root:m,props:g,shouldOptimize:w})=>{const{clip:I}=m.ref,{image:P,crop:F,markup:D,resize:$,dirty:V}=g;if(I.crop=F,I.markup=D,I.resize=$,I.dirty=V,I.opacity=w?0:1,w||m.rect.element.hidden)return;const j=P.height/P.width;let G=F.aspectRatio||j;const W=m.rect.inner.width,Z=m.rect.inner.height;let U=m.query("GET_IMAGE_PREVIEW_HEIGHT");const Q=m.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),K=m.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),te=m.query("GET_PANEL_ASPECT_RATIO"),X=m.query("GET_ALLOW_MULTIPLE");te&&!X&&(U=W*te,G=te);let J=U!==null?U:Math.max(Q,Math.min(W*G,K)),ee=J/G;ee>W&&(ee=W,J=ee*G),J>Z&&(J=Z,ee=Z/G),I.width=ee,I.height=J}});let SVG_MASK=`<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">
    <defs>
        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">
            <stop offset='50%' stop-color='#000000'/>
            <stop offset='56%' stop-color='#0a0a0a'/>
            <stop offset='63%' stop-color='#262626'/>
            <stop offset='69%' stop-color='#4f4f4f'/>
            <stop offset='75%' stop-color='#808080'/>
            <stop offset='81%' stop-color='#b1b1b1'/>
            <stop offset='88%' stop-color='#dadada'/>
            <stop offset='94%' stop-color='#f6f6f6'/>
            <stop offset='100%' stop-color='#ffffff'/>
        </radialGradient>
        <mask id="mask-__UID__">
            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>
        </mask>
    </defs>
    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>
</svg>`,SVGMaskUniqueId=0;const createImageOverlayView=d=>d.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:({root:m,props:g})=>{let w=SVG_MASK;if(document.querySelector("base")){const I=new URL(window.location.href.replace(window.location.hash,"")).href;w=w.replace(/url\(\#/g,"url("+I+"#")}SVGMaskUniqueId++,m.element.classList.add(`filepond--image-preview-overlay-${g.status}`),m.element.innerHTML=w.replace(/__UID__/g,SVGMaskUniqueId)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),BitmapWorker=function(){self.onmessage=d=>{createImageBitmap(d.data.message.file).then(m=>{self.postMessage({id:d.data.id,message:m},[m])})}},ColorMatrixWorker=function(){self.onmessage=d=>{const m=d.data.message.imageData,g=d.data.message.colorMatrix,w=m.data,I=w.length,P=g[0],F=g[1],D=g[2],$=g[3],V=g[4],j=g[5],G=g[6],W=g[7],Z=g[8],U=g[9],Q=g[10],K=g[11],te=g[12],X=g[13],J=g[14],ee=g[15],ie=g[16],fe=g[17],se=g[18],de=g[19];let le=0,ye=0,ae=0,ge=0,Pe=0;for(;le<I;le+=4)ye=w[le]/255,ae=w[le+1]/255,ge=w[le+2]/255,Pe=w[le+3]/255,w[le]=Math.max(0,Math.min((ye*P+ae*F+ge*D+Pe*$+V)*255,255)),w[le+1]=Math.max(0,Math.min((ye*j+ae*G+ge*W+Pe*Z+U)*255,255)),w[le+2]=Math.max(0,Math.min((ye*Q+ae*K+ge*te+Pe*X+J)*255,255)),w[le+3]=Math.max(0,Math.min((ye*ee+ae*ie+ge*fe+Pe*se+de)*255,255));self.postMessage({id:d.data.id,message:m},[m.data.buffer])}},getImageSize=(d,m)=>{let g=new Image;g.onload=()=>{const w=g.naturalWidth,I=g.naturalHeight;g=null,m(w,I)},g.src=d},transforms={1:()=>[1,0,0,1,0,0],2:d=>[-1,0,0,1,d,0],3:(d,m)=>[-1,0,0,-1,d,m],4:(d,m)=>[1,0,0,-1,0,m],5:()=>[0,1,1,0,0,0],6:(d,m)=>[0,1,-1,0,m,0],7:(d,m)=>[0,-1,-1,0,m,d],8:d=>[0,-1,1,0,0,d]},fixImageOrientation=(d,m,g,w)=>{w!==-1&&d.transform.apply(d,transforms[w](m,g))},createPreviewImage=(d,m,g,w)=>{m=Math.round(m),g=Math.round(g);const I=document.createElement("canvas");I.width=m,I.height=g;const P=I.getContext("2d");return w>=5&&w<=8&&([m,g]=[g,m]),fixImageOrientation(P,m,g,w),P.drawImage(d,0,0,m,g),I},isBitmap=d=>/^image/.test(d.type)&&!/svg/.test(d.type),MAX_WIDTH=10,MAX_HEIGHT=10,calculateAverageColor=d=>{const m=Math.min(MAX_WIDTH/d.width,MAX_HEIGHT/d.height),g=document.createElement("canvas"),w=g.getContext("2d"),I=g.width=Math.ceil(d.width*m),P=g.height=Math.ceil(d.height*m);w.drawImage(d,0,0,I,P);let F=null;try{F=w.getImageData(0,0,I,P).data}catch{return null}const D=F.length;let $=0,V=0,j=0,G=0;for(;G<D;G+=4)$+=F[G]*F[G],V+=F[G+1]*F[G+1],j+=F[G+2]*F[G+2];return $=averageColor($,D),V=averageColor(V,D),j=averageColor(j,D),{r:$,g:V,b:j}},averageColor=(d,m)=>Math.floor(Math.sqrt(d/(m/4))),cloneCanvas=(d,m)=>(m=m||document.createElement("canvas"),m.width=d.width,m.height=d.height,m.getContext("2d").drawImage(d,0,0),m),cloneImageData=d=>{let m;try{m=new ImageData(d.width,d.height)}catch{m=document.createElement("canvas").getContext("2d").createImageData(d.width,d.height)}return m.data.set(new Uint8ClampedArray(d.data)),m},loadImage=d=>new Promise((m,g)=>{const w=new Image;w.crossOrigin="Anonymous",w.onload=()=>{m(w)},w.onerror=I=>{g(I)},w.src=d}),createImageWrapperView=d=>{const m=createImageOverlayView(d),g=createImageView(d),{createWorker:w}=d.utils,I=(X,J,ee)=>new Promise(ie=>{X.ref.imageData||(X.ref.imageData=ee.getContext("2d").getImageData(0,0,ee.width,ee.height));const fe=cloneImageData(X.ref.imageData);if(!J||J.length!==20)return ee.getContext("2d").putImageData(fe,0,0),ie();const se=w(ColorMatrixWorker);se.post({imageData:fe,colorMatrix:J},de=>{ee.getContext("2d").putImageData(de,0,0),se.terminate(),ie()},[fe.data.buffer])}),P=(X,J)=>{X.removeChildView(J),J.image.width=1,J.image.height=1,J._destroy()},F=({root:X})=>{const J=X.ref.images.shift();return J.opacity=0,J.translateY=-15,X.ref.imageViewBin.push(J),J},D=({root:X,props:J,image:ee})=>{const ie=J.id,fe=X.query("GET_ITEM",{id:ie});if(!fe)return;const se=fe.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},de=X.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR");let le,ye,ae=!1;X.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(le=fe.getMetadata("markup")||[],ye=fe.getMetadata("resize"),ae=!0);const ge=X.appendChildView(X.createChildView(g,{id:ie,image:ee,crop:se,resize:ye,markup:le,dirty:ae,background:de,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),X.childViews.length);X.ref.images.push(ge),ge.opacity=1,ge.scaleX=1,ge.scaleY=1,ge.translateY=0,setTimeout(()=>{X.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:ie})},250)},$=({root:X,props:J})=>{const ee=X.query("GET_ITEM",{id:J.id});if(!ee)return;const ie=X.ref.images[X.ref.images.length-1];ie.crop=ee.getMetadata("crop"),ie.background=X.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),X.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(ie.dirty=!0,ie.resize=ee.getMetadata("resize"),ie.markup=ee.getMetadata("markup"))},V=({root:X,props:J,action:ee})=>{if(!/crop|filter|markup|resize/.test(ee.change.key)||!X.ref.images.length)return;const ie=X.query("GET_ITEM",{id:J.id});if(ie){if(/filter/.test(ee.change.key)){const fe=X.ref.images[X.ref.images.length-1];I(X,ee.change.value,fe.image);return}if(/crop|markup|resize/.test(ee.change.key)){const fe=ie.getMetadata("crop"),se=X.ref.images[X.ref.images.length-1];if(fe&&fe.aspectRatio&&se.crop&&se.crop.aspectRatio&&Math.abs(fe.aspectRatio-se.crop.aspectRatio)>1e-5){const de=F({root:X});D({root:X,props:J,image:cloneCanvas(de.image)})}else $({root:X,props:J})}}},j=X=>{const ee=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./),ie=ee?parseInt(ee[1]):null;return ie!==null&&ie<=58?!1:"createImageBitmap"in window&&isBitmap(X)},G=({root:X,props:J})=>{const{id:ee}=J,ie=X.query("GET_ITEM",ee);if(!ie)return;const fe=URL.createObjectURL(ie.file);getImageSize(fe,(se,de)=>{X.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:ee,width:se,height:de})})},W=({root:X,props:J})=>{const{id:ee}=J,ie=X.query("GET_ITEM",ee);if(!ie)return;const fe=URL.createObjectURL(ie.file),se=()=>{loadImage(fe).then(de)},de=le=>{URL.revokeObjectURL(fe);const ae=(ie.getMetadata("exif")||{}).orientation||-1;let{width:ge,height:Pe}=le;if(!ge||!Pe)return;ae>=5&&ae<=8&&([ge,Pe]=[Pe,ge]);const be=Math.max(1,window.devicePixelRatio*.75),ve=X.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*be,Re=Pe/ge,Oe=X.rect.element.width,Ae=X.rect.element.height;let He=Oe,Me=He*Re;Re>1?(He=Math.min(ge,Oe*ve),Me=He*Re):(Me=Math.min(Pe,Ae*ve),He=Me/Re);const je=createPreviewImage(le,He,Me,ae),Ne=()=>{const Ve=X.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?calculateAverageColor(data):null;ie.setMetadata("color",Ve,!0),"close"in le&&le.close(),X.ref.overlayShadow.opacity=1,D({root:X,props:J,image:je})},We=ie.getMetadata("filter");We?I(X,We,je).then(Ne):Ne()};if(j(ie.file)){const le=w(BitmapWorker);le.post({file:ie.file},ye=>{if(le.terminate(),!ye){se();return}de(ye)})}else se()},Z=({root:X})=>{const J=X.ref.images[X.ref.images.length-1];J.translateY=0,J.scaleX=1,J.scaleY=1,J.opacity=1},U=({root:X})=>{X.ref.overlayShadow.opacity=1,X.ref.overlayError.opacity=0,X.ref.overlaySuccess.opacity=0},Q=({root:X})=>{X.ref.overlayShadow.opacity=.25,X.ref.overlayError.opacity=1},K=({root:X})=>{X.ref.overlayShadow.opacity=.25,X.ref.overlaySuccess.opacity=1},te=({root:X})=>{X.ref.images=[],X.ref.imageData=null,X.ref.imageViewBin=[],X.ref.overlayShadow=X.appendChildView(X.createChildView(m,{opacity:0,status:"idle"})),X.ref.overlaySuccess=X.appendChildView(X.createChildView(m,{opacity:0,status:"success"})),X.ref.overlayError=X.appendChildView(X.createChildView(m,{opacity:0,status:"failure"}))};return d.utils.createView({name:"image-preview-wrapper",create:te,styles:["height"],apis:["height"],destroy:({root:X})=>{X.ref.images.forEach(J=>{J.image.width=1,J.image.height=1})},didWriteView:({root:X})=>{X.ref.images.forEach(J=>{J.dirty=!1})},write:d.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:Z,DID_IMAGE_PREVIEW_CONTAINER_CREATE:G,DID_FINISH_CALCULATE_PREVIEWSIZE:W,DID_UPDATE_ITEM_METADATA:V,DID_THROW_ITEM_LOAD_ERROR:Q,DID_THROW_ITEM_PROCESSING_ERROR:Q,DID_THROW_ITEM_INVALID:Q,DID_COMPLETE_ITEM_PROCESSING:K,DID_START_ITEM_PROCESSING:U,DID_REVERT_ITEM_PROCESSING:U},({root:X})=>{const J=X.ref.imageViewBin.filter(ee=>ee.opacity===0);X.ref.imageViewBin=X.ref.imageViewBin.filter(ee=>ee.opacity>0),J.forEach(ee=>P(X,ee)),J.length=0})})},plugin=d=>{const{addFilter:m,utils:g}=d,{Type:w,createRoute:I,isFile:P}=g,F=createImageWrapperView(d);return m("CREATE_VIEW",D=>{const{is:$,view:V,query:j}=D;if(!$("file")||!j("GET_ALLOW_IMAGE_PREVIEW"))return;const G=({root:K,props:te})=>{const{id:X}=te,J=j("GET_ITEM",X);if(!J||!P(J.file)||J.archived)return;const ee=J.file;if(!isPreviewableImage(ee)||!j("GET_IMAGE_PREVIEW_FILTER_ITEM")(J))return;const ie="createImageBitmap"in(window||{}),fe=j("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!ie&&fe&&ee.size>fe)return;K.ref.imagePreview=V.appendChildView(V.createChildView(F,{id:X}));const se=K.query("GET_IMAGE_PREVIEW_HEIGHT");se&&K.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:J.id,height:se});const de=!ie&&ee.size>j("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");K.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:X},de)},W=(K,te)=>{if(!K.ref.imagePreview)return;let{id:X}=te;const J=K.query("GET_ITEM",{id:X});if(!J)return;const ee=K.query("GET_PANEL_ASPECT_RATIO"),ie=K.query("GET_ITEM_PANEL_ASPECT_RATIO"),fe=K.query("GET_IMAGE_PREVIEW_HEIGHT");if(ee||ie||fe)return;let{imageWidth:se,imageHeight:de}=K.ref;if(!se||!de)return;const le=K.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),ye=K.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),ge=(J.getMetadata("exif")||{}).orientation||-1;if(ge>=5&&ge<=8&&([se,de]=[de,se]),!isBitmap(J.file)||K.query("GET_IMAGE_PREVIEW_UPSCALE")){const Oe=2048/se;se*=Oe,de*=Oe}const Pe=de/se,be=(J.getMetadata("crop")||{}).aspectRatio||Pe;let Ee=Math.max(le,Math.min(de,ye));const ve=K.rect.element.width,Re=Math.min(ve*be,Ee);K.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:J.id,height:Re})},Z=({root:K})=>{K.ref.shouldRescale=!0},U=({root:K,action:te})=>{te.change.key==="crop"&&(K.ref.shouldRescale=!0)},Q=({root:K,action:te})=>{K.ref.imageWidth=te.width,K.ref.imageHeight=te.height,K.ref.shouldRescale=!0,K.ref.shouldDrawPreview=!0,K.dispatch("KICK")};V.registerWriter(I({DID_RESIZE_ROOT:Z,DID_STOP_RESIZE:Z,DID_LOAD_ITEM:G,DID_IMAGE_PREVIEW_CALCULATE_SIZE:Q,DID_UPDATE_ITEM_METADATA:U},({root:K,props:te})=>{K.ref.imagePreview&&(K.rect.element.hidden||(K.ref.shouldRescale&&(W(K,te),K.ref.shouldRescale=!1),K.ref.shouldDrawPreview&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{K.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:te.id})})}),K.ref.shouldDrawPreview=!1)))}))}),{options:{allowImagePreview:[!0,w.BOOLEAN],imagePreviewFilterItem:[()=>!0,w.FUNCTION],imagePreviewHeight:[null,w.INT],imagePreviewMinHeight:[44,w.INT],imagePreviewMaxHeight:[256,w.INT],imagePreviewMaxFileSize:[null,w.INT],imagePreviewZoomFactor:[2,w.INT],imagePreviewUpscale:[!1,w.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,w.INT],imagePreviewTransparencyIndicator:[null,w.STRING],imagePreviewCalculateAverageImageColor:[!1,w.BOOLEAN],imagePreviewMarkupShow:[!0,w.BOOLEAN],imagePreviewMarkupFilter:[()=>!0,w.FUNCTION]}}},isBrowser=typeof window<"u"&&typeof window.document<"u";isBrowser&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:plugin}));const _sfc_main$g=defineComponent({__name:"FileUpload",props:{name:{},label:{default:"Drag & Drop your files or <a>Browse</a>"},multiple:{type:Boolean,default:!1},mimeType:{default:"image/jpeg, image/png, image/jpg"},initPct:{}},emits:["file"],setup(d,{emit:m}){const g=VueFilePond(plugin$1,plugin),w=d,I=m,P=ref(null),F=ref([]),D=()=>{if(P.value){const $=P.value.getFiles();I("file",$[0].file)}};return onMounted(()=>{w.initPct&&(F.value=[{source:w.initPct,options:{type:"local"}}])}),($,V)=>(openBlock(),createBlock(unref(g),{name:$.name,ref_key:"pond",ref:P,"label-idle":$.label,"allow-multiple":$.multiple,"accepted-file-types":$.mimeType,files:F.value,onAddfile:D},null,8,["name","label-idle","allow-multiple","accepted-file-types","files"]))}}),FileUpload=_export_sfc(_sfc_main$g,[["__scopeId","data-v-30010ec3"]]),_sfc_main$f={name:"badge",props:{tag:{type:String,default:"span",description:"Html tag to use for the badge."},rounded:{type:Boolean,default:!1,description:"Whether badge is of pill type"},circle:{type:Boolean,default:!1,description:"Whether badge is circle"},icon:{type:String,default:"",description:"Icon name. Will be overwritten by slot if slot is used"},type:{type:String,default:"default",description:"Badge type (primary|info|danger|default|warning|success)"}}};function _sfc_render$c(d,m,g,w,I,P){return openBlock(),createBlock(resolveDynamicComponent(g.tag),{class:normalizeClass(["badge",[`badge-${g.type}`,g.rounded?"badge-pill":"",g.circle&&"badge-circle"]])},{default:withCtx(()=>[renderSlot(d.$slots,"default",{},()=>[g.icon?(openBlock(),createElementBlock("i",{key:0,class:normalizeClass(g.icon)},null,2)):createCommentVNode("",!0)])]),_:3},8,["class"])}const Badge=_export_sfc(_sfc_main$f,[["render",_sfc_render$c]]),_sfc_main$e={name:"modal",components:{},props:{show:Boolean,showClose:{type:Boolean,default:!0},type:{type:String,default:"",validator(d){return["","notice","mini"].indexOf(d)!==-1},description:'Modal type (notice|mini|"") '},modalClasses:{type:[Object,String],description:"Modal dialog css classes"},modalContentClasses:{type:[Object,String],description:"Modal dialog content css classes"},gradient:{type:String,description:"Modal gradient type (danger, primary etc)"},headerClasses:{type:[Object,String],description:"Modal Header css classes"},bodyClasses:{type:[Object,String],description:"Modal Body css classes"},footerClasses:{type:[Object,String],description:"Modal Footer css classes"},animationDuration:{type:Number,default:500,description:"Modal transition duration"}},methods:{closeModal(){this.$emit("update:show",!1),this.$emit("close")}},watch:{show(d){let m=document.body.classList;d?m.add("modal-open"):m.remove("modal-open")}}},_hoisted_1$b=["aria-hidden"],_hoisted_2$9=["aria-hidden"];function _sfc_render$b(d,m,g,w,I,P){return withDirectives((openBlock(),createElementBlock("div",{class:normalizeClass(["modal fade",[{"show d-block":g.show},{"d-none":!g.show},{"modal-mini":g.type==="mini"}]]),onClick:m[1]||(m[1]=withModifiers((...F)=>P.closeModal&&P.closeModal(...F),["self"])),tabindex:"-1",role:"dialog","aria-hidden":!g.show},[createBaseVNode("div",{class:normalizeClass(["modal-dialog modal-dialog-centered",[{"modal-notice":g.type==="notice"},g.modalClasses]])},[createBaseVNode("div",{class:normalizeClass(["modal-content",[g.gradient?`bg-gradient-${g.gradient}`:"",g.modalContentClasses]])},[d.$slots.header?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["modal-header",[g.headerClasses]])},[renderSlot(d.$slots,"header"),renderSlot(d.$slots,"close-button",{},()=>[g.showClose?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"close",onClick:m[0]||(m[0]=(...F)=>P.closeModal&&P.closeModal(...F)),"data-dismiss":"modal","aria-label":"Close"},[createBaseVNode("span",{"aria-hidden":!g.show},"×",8,_hoisted_2$9)])):createCommentVNode("",!0)])],2)):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(["modal-body",g.bodyClasses])},[renderSlot(d.$slots,"default")],2),d.$slots.footer?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(["modal-footer",g.footerClasses])},[renderSlot(d.$slots,"footer")],2)):createCommentVNode("",!0)],2)],2)],10,_hoisted_1$b)),[[vShow,g.show]])}const Modal=_export_sfc(_sfc_main$e,[["render",_sfc_render$b]]),_hoisted_1$a={class:"position-relative"},_hoisted_2$8={class:"section-shaped my-0"},_hoisted_3$6={class:"container shape-container d-flex"},_hoisted_4$5={class:"col px-0"},_hoisted_5$3={class:"row"},_hoisted_6$3={class:"col-lg-12"},_hoisted_7$2={class:"section section-lg pt-lg-0 mt--200"},_hoisted_8$2={class:"container"},_hoisted_9$2={class:"row justify-content-center"},_hoisted_10$2={class:"col-lg-12"},_hoisted_11$2={class:"row row-grid"},_hoisted_12$2={class:"col-lg-4"},_hoisted_13$1={class:"col-lg-4"},_hoisted_14$1={class:"col-lg-4"},_hoisted_15={class:"modal-title",id:"modal-title-default"},_hoisted_16={class:"d-flex flex-wrap",style:{gap:"10px"}},_hoisted_17={class:"nav-link-inner--text"},_hoisted_18={class:"nav-link-inner--text"},_sfc_main$d=defineComponent({__name:"Landing",setup(d){let m=inject("initPct"),g=P=>{m.value=P},w=ref({modal3:!1}),I=P=>{router.push(`/${P}`)};return(P,F)=>{const D=resolveComponent("icon"),$=resolveComponent("card");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",null,[createBaseVNode("div",_hoisted_1$a,[createBaseVNode("section",_hoisted_2$8,[F[14]||(F[14]=createBaseVNode("div",{class:"shape shape-style-1 shape-default shape-skew"},[createBaseVNode("span"),createBaseVNode("span"),createBaseVNode("span"),createBaseVNode("span"),createBaseVNode("span"),createBaseVNode("span"),createBaseVNode("span")],-1)),createBaseVNode("div",_hoisted_3$6,[createBaseVNode("div",_hoisted_4$5,[createBaseVNode("div",_hoisted_5$3,[createBaseVNode("div",_hoisted_6$3,[F[12]||(F[12]=createBaseVNode("h1",{class:"display-3 text-white"},[createTextVNode("Olah Citra dengan Beberapa Pengaturan "),createBaseVNode("span",null,"disertai dengan preview gambar")],-1)),F[13]||(F[13]=createBaseVNode("p",{class:"lead text-white",style:{"font-size":"13pt"}},"Memungkinkan Anda untuk mengolah gambar dengan berbagai fitur, mulai dari penyesuaian citra, transformasi geometri, ekualisasi histogram, hingga penggunaan filter konvolusi pada citra. Sesuaikan gambar sesuai kebutuhan Anda dengan mudah dan simpan hasilnya!",-1)),createVNode(FileUpload,{name:"initPct",onFile:unref(g),onRemovefile:unref(g),"init-pct":unref(m)},null,8,["onFile","onRemovefile","init-pct"]),unref(m)?(openBlock(),createBlock(BaseButton,{key:1,block:"",type:"default",tag:"button",class:"mb-3 mb-sm-0",icon:"fa fa-code",onClick:F[0]||(F[0]=V=>unref(w).modal3=!0)},{default:withCtx(()=>F[11]||(F[11]=[createTextVNode(" Proses Pengolahan Citra ")])),_:1})):(openBlock(),createBlock(BaseButton,{key:0,tag:"button",class:"mb-3 mb-sm-0",block:"",type:"default",icon:"fa fa-code",disabled:""},{default:withCtx(()=>F[10]||(F[10]=[createTextVNode(" Proses Pengolahan Citra ")])),_:1}))])])])])])]),createBaseVNode("section",_hoisted_7$2,[createBaseVNode("div",_hoisted_8$2,[createBaseVNode("div",_hoisted_9$2,[createBaseVNode("div",_hoisted_10$2,[createBaseVNode("div",_hoisted_11$2,[createBaseVNode("div",_hoisted_12$2,[createVNode($,{class:"border-0",hover:"",shadow:"","body-classes":"py-5"},{default:withCtx(()=>[createVNode(D,{name:"ni ni-check-bold",type:"primary",rounded:"",class:"mb-4"}),F[19]||(F[19]=createBaseVNode("h6",{class:"text-primary text-uppercase"},"Download Argon",-1)),F[20]||(F[20]=createBaseVNode("p",{class:"description mt-3"},"Argon is a great free UI package based on Bootstrap 4 that includes the most important components and features.",-1)),createBaseVNode("div",null,[createVNode(Badge,{type:"primary",rounded:""},{default:withCtx(()=>F[15]||(F[15]=[createTextVNode("design")])),_:1}),createVNode(Badge,{type:"primary",rounded:""},{default:withCtx(()=>F[16]||(F[16]=[createTextVNode("system")])),_:1}),createVNode(Badge,{type:"primary",rounded:""},{default:withCtx(()=>F[17]||(F[17]=[createTextVNode("creative")])),_:1})]),createVNode(BaseButton,{tag:"a",href:"#",type:"primary",class:"mt-4"},{default:withCtx(()=>F[18]||(F[18]=[createTextVNode(" Learn more ")])),_:1})]),_:1})]),createBaseVNode("div",_hoisted_13$1,[createVNode($,{class:"border-0",hover:"",shadow:"","body-classes":"py-5"},{default:withCtx(()=>[createVNode(D,{name:"ni ni-istanbul",type:"success",rounded:"",class:"mb-4"}),F[25]||(F[25]=createBaseVNode("h6",{class:"text-success text-uppercase"},"Build Something",-1)),F[26]||(F[26]=createBaseVNode("p",{class:"description mt-3"},"Argon is a great free UI package based on Bootstrap 4 that includes the most important components and features.",-1)),createBaseVNode("div",null,[createVNode(Badge,{type:"success",rounded:""},{default:withCtx(()=>F[21]||(F[21]=[createTextVNode("business")])),_:1}),createVNode(Badge,{type:"success",rounded:""},{default:withCtx(()=>F[22]||(F[22]=[createTextVNode("vision")])),_:1}),createVNode(Badge,{type:"success",rounded:""},{default:withCtx(()=>F[23]||(F[23]=[createTextVNode("success")])),_:1})]),createVNode(BaseButton,{tag:"a",href:"#",type:"success",class:"mt-4"},{default:withCtx(()=>F[24]||(F[24]=[createTextVNode(" Learn more ")])),_:1})]),_:1})]),createBaseVNode("div",_hoisted_14$1,[createVNode($,{class:"border-0",hover:"",shadow:"","body-classes":"py-5"},{default:withCtx(()=>[createVNode(D,{name:"ni ni-planet",type:"warning",rounded:"",class:"mb-4"}),F[31]||(F[31]=createBaseVNode("h6",{class:"text-warning text-uppercase"},"Prepare Launch",-1)),F[32]||(F[32]=createBaseVNode("p",{class:"description mt-3"},"Argon is a great free UI package based on Bootstrap 4 that includes the most important components and features.",-1)),createBaseVNode("div",null,[createVNode(Badge,{type:"warning",rounded:""},{default:withCtx(()=>F[27]||(F[27]=[createTextVNode("marketing")])),_:1}),createVNode(Badge,{type:"warning",rounded:""},{default:withCtx(()=>F[28]||(F[28]=[createTextVNode("product")])),_:1}),createVNode(Badge,{type:"warning",rounded:""},{default:withCtx(()=>F[29]||(F[29]=[createTextVNode("launch")])),_:1})]),createVNode(BaseButton,{tag:"a",href:"#",type:"warning",class:"mt-4"},{default:withCtx(()=>F[30]||(F[30]=[createTextVNode(" Learn more ")])),_:1})]),_:1})])])])])])])]),createVNode(Modal,{show:unref(w).modal3,"onUpdate:show":F[9]||(F[9]=V=>unref(w).modal3=V)},{header:withCtx(()=>[createBaseVNode("h6",_hoisted_15,[createVNode(unref(FontAwesomeIcon),{icon:unref(faCode)},null,8,["icon"]),F[33]||(F[33]=createTextVNode(" Pilih Pengolahan Citra "))])]),default:withCtx(()=>[F[36]||(F[36]=createBaseVNode("p",null,"Untuk lanjut ke proses pengolahan citra, silakan pilih salah satu operasi yang tersedia berikut.",-1)),createBaseVNode("div",_hoisted_16,[createVNode(BaseDropdown,{class:"flex-grow-1"},{title:withCtx(()=>[createVNode(BaseButton,{type:"primary",class:"dropdown-toggle"},{default:withCtx(()=>[createVNode(unref(FontAwesomeIcon),{icon:unref(faPenFancy.faPenFancy)},null,8,["icon"]),F[34]||(F[34]=createBaseVNode("span",{class:"nav-link-inner--text"},"Pengolahan Gambar",-1))]),_:1})]),default:withCtx(()=>[createBaseVNode("a",{href:"/tresholding",onClick:F[1]||(F[1]=withModifiers(V=>unref(I)("tresholding"),["prevent"])),class:"dropdown-item"},"Tresholding"),createBaseVNode("a",{href:"/negative",onClick:F[2]||(F[2]=withModifiers(V=>unref(I)("negative"),["prevent"])),class:"dropdown-item"},"Citra Negatif"),createBaseVNode("a",{href:"/brightness",onClick:F[3]||(F[3]=withModifiers(V=>unref(I)("brightness"),["prevent"])),class:"dropdown-item"},"Kecerahan Gambar"),createBaseVNode("a",{href:"/convert",onClick:F[4]||(F[4]=withModifiers(V=>unref(I)("convert"),["prevent"])),class:"dropdown-item"},"Konversi Grayscale")]),_:1}),createVNode(BaseDropdown,{class:"flex-grow-1"},{title:withCtx(()=>[createVNode(BaseButton,{type:"success",class:"dropdown-toggle"},{default:withCtx(()=>[createVNode(unref(FontAwesomeIcon),{icon:unref(faGears)},null,8,["icon"]),F[35]||(F[35]=createBaseVNode("span",{class:"nav-link-inner--text"},"Geometri Gambar",-1))]),_:1})]),default:withCtx(()=>[createBaseVNode("a",{href:"/rotate",onClick:F[5]||(F[5]=withModifiers(V=>unref(I)("rotate"),["prevent"])),class:"dropdown-item"},"Rotasi Gambar"),createBaseVNode("a",{href:"/flip",onClick:F[6]||(F[6]=withModifiers(V=>unref(I)("flip"),["prevent"])),class:"dropdown-item"},"Flipping Gambar")]),_:1}),createVNode(BaseDropdown,{class:"flex-grow-1"},{title:withCtx(()=>[createVNode(BaseButton,{type:"warning"},{default:withCtx(()=>[createVNode(unref(FontAwesomeIcon),{icon:unref(faBolt)},null,8,["icon"]),createBaseVNode("span",_hoisted_17,[createBaseVNode("a",{href:"/equalise",onClick:F[7]||(F[7]=withModifiers(V=>unref(I)("equalise"),["prevent"])),class:"dropdown-item"},"Ekualisasi Citra")])]),_:1})]),_:1}),createVNode(BaseDropdown,{class:"flex-grow-1"},{title:withCtx(()=>[createVNode(BaseButton,{type:"danger"},{default:withCtx(()=>[createVNode(unref(FontAwesomeIcon),{icon:unref(faCircleUp)},null,8,["icon"]),createBaseVNode("span",_hoisted_18,[createBaseVNode("a",{href:"/convolution",onClick:F[8]||(F[8]=withModifiers(V=>unref(I)("convolution"),["prevent"])),class:"dropdown-item"},"Konvolusi Citra")])]),_:1})]),_:1})])]),_:1},8,["show"])],64)}}}),_hoisted_1$9={key:0,class:"mt-5 p-5 d-flex justify-content-center"},_hoisted_2$7={class:"align-self-center p-5 shadow-lg rounded-lg"},_hoisted_3$5={key:1,class:"mt-5 pt-5"},_hoisted_4$4={class:"section-shaped my-0"},_hoisted_5$2={class:"container shape-container"},_hoisted_6$2={class:"row mt-3"},_hoisted_7$1={class:"col-6 d-flex flex-column align-items-center"},_hoisted_8$1=["src"],_hoisted_9$1={class:"col-6 d-flex flex-column align-items-center"},_hoisted_10$1=["src"],_hoisted_11$1={class:"row mt-3"},_hoisted_12$1={class:"col-6 d-flex flex-column flex-end"},_sfc_main$c=defineComponent({__name:"Negative",setup(d){let m=inject("initPct"),g=ref(!0),w,I;return m.value||router.push("/"),onMounted(async()=>{var F;g.value=!0,w=createImgUrl(m.value);let P=await Jimp.read(w);P.invert(),I=bufferImgUrl((await P.getBuffer(m.value.type)).buffer,`${(F=m.value)==null?void 0:F.name}-thresholding`,m.value.type),g.value=!g.value}),(P,F)=>unref(g)?(openBlock(),createElementBlock("div",_hoisted_1$9,[createBaseVNode("div",_hoisted_2$7,[createVNode(PulseLoader,{size:"50px"}),F[0]||(F[0]=createBaseVNode("div",{class:"mt-2 d-block d-flex flex-column gap-2 align-items-center"},[createBaseVNode("h5",null,"Loading..."),createBaseVNode("span",null,"Mohon Tunggu Sebentar")],-1))])])):(openBlock(),createElementBlock("div",_hoisted_3$5,[createBaseVNode("section",_hoisted_4$4,[createBaseVNode("div",_hoisted_5$2,[F[5]||(F[5]=createBaseVNode("h3",null,"Citra Negatif",-1)),createBaseVNode("div",_hoisted_6$2,[createBaseVNode("div",_hoisted_7$1,[createBaseVNode("img",{src:unref(w),alt:"initPct",class:"img-thumbnail"},null,8,_hoisted_8$1),F[1]||(F[1]=createBaseVNode("span",{class:"d-block text-center"},"Gambar Awal",-1))]),createBaseVNode("div",_hoisted_9$1,[createBaseVNode("img",{src:unref(I),alt:"afterPct",class:"img-thumbnail"},null,8,_hoisted_10$1),F[2]||(F[2]=createBaseVNode("span",{class:"d-block text-center"},"Gambar Akhir",-1))])]),createBaseVNode("div",_hoisted_11$1,[F[4]||(F[4]=createBaseVNode("div",{class:"col-6"},null,-1)),createBaseVNode("div",_hoisted_12$1,[createVNode(BaseButton,{tag:"a",href:unref(I),class:"mb-3 mb-sm-0",type:"success",icon:"ni ni-cloud-download-95",download:"inverted-image"},{default:withCtx(()=>F[3]||(F[3]=[createTextVNode(" Download Hasil ")])),_:1},8,["href"])])])])])]))}}),_sfc_main$b={};function _sfc_render$a(d,m){return openBlock(),createElementBlock("div")}const Rotate=_export_sfc(_sfc_main$b,[["render",_sfc_render$a]]),_hoisted_1$8={key:0,class:"mt-5 p-5 d-flex justify-content-center"},_hoisted_2$6={class:"align-self-center p-5 shadow-lg rounded-lg"},_hoisted_3$4={key:1,class:"mt-5 pt-5"},_hoisted_4$3={class:"section-shaped my-0"},_hoisted_5$1={class:"container shape-container"},_hoisted_6$1={class:"row mt-3"},_hoisted_7={class:"col-6 d-flex flex-column align-items-center"},_hoisted_8=["src"],_hoisted_9={class:"col-6 d-flex flex-column align-items-center"},_hoisted_10=["src"],_hoisted_11={class:"row mt-3"},_hoisted_12={class:"col-6"},_hoisted_13={class:"input-group d-flex"},_hoisted_14={class:"col-6 d-flex flex-column flex-end"},_sfc_main$a=defineComponent({__name:"Thresholding",setup(d){let m=inject("initPct"),g=ref(!0),w,I,P=ref(50);m.value||router.push("/");let F=$=>{P.value=$};onMounted(async()=>{await D()}),watch(()=>P.value,async()=>{await D()});let D=async()=>{var V;g.value=!0,w=createImgUrl(m.value);let $=await Jimp.read(w);$.threshold({max:P.value}),I=bufferImgUrl((await $.getBuffer(m.value.type)).buffer,`${(V=m.value)==null?void 0:V.name}-thresholding`,m.value.type),g.value=!g.value};return($,V)=>unref(g)?(openBlock(),createElementBlock("div",_hoisted_1$8,[createBaseVNode("div",_hoisted_2$6,[createVNode(PulseLoader,{size:"50px"}),V[0]||(V[0]=createBaseVNode("div",{class:"mt-2 d-block d-flex flex-column gap-2 align-items-center"},[createBaseVNode("h5",null,"Loading..."),createBaseVNode("span",null,"Mohon Tunggu Sebentar")],-1))])])):(openBlock(),createElementBlock("div",_hoisted_3$4,[createBaseVNode("section",_hoisted_4$3,[createBaseVNode("div",_hoisted_5$1,[V[6]||(V[6]=createBaseVNode("h3",null,"Thresholding",-1)),createBaseVNode("div",_hoisted_6$1,[createBaseVNode("div",_hoisted_7,[createBaseVNode("img",{src:unref(w),alt:"initPct",class:"img-thumbnail"},null,8,_hoisted_8),V[1]||(V[1]=createBaseVNode("span",{class:"d-block text-center"},"Gambar Awal",-1))]),createBaseVNode("div",_hoisted_9,[createBaseVNode("img",{src:unref(I),alt:"afterPct",class:"img-thumbnail"},null,8,_hoisted_10),V[2]||(V[2]=createBaseVNode("span",{class:"d-block text-center"},"Gambar Akhir",-1))])]),createBaseVNode("div",_hoisted_11,[createBaseVNode("div",_hoisted_12,[createBaseVNode("div",_hoisted_13,[V[3]||(V[3]=createBaseVNode("div",{class:"input-group-prepend"},[createBaseVNode("span",{class:"input-group-text text-black",id:"basic-addon1"},"Ambang")],-1)),createVNode(_sfc_main$m,{value:unref(P),onValueNumber:unref(F),id:"basic-addon1",class:"flex-grow-1"},null,8,["value","onValueNumber"])]),V[4]||(V[4]=createBaseVNode("span",{class:"text-info d-block",style:{"font-size":"10pt"}},"Tekan Enter untuk menerapkan hasil",-1))]),createBaseVNode("div",_hoisted_14,[createVNode(BaseButton,{tag:"a",href:unref(I),class:"mb-3 mb-sm-0",type:"success",icon:"ni ni-cloud-download-95",download:"thresholded-image"},{default:withCtx(()=>V[5]||(V[5]=[createTextVNode(" Download Hasil ")])),_:1},8,["href"])])])])])]))}}),router=createRouter({history:createWebHistory("/pengolahan_citra1/"),routes:[{path:"/",name:"landing",components:{header:_sfc_main$q,main:_sfc_main$d,footer:AppFooter}},{path:"/tresholding",name:"tresholding",components:{header:_sfc_main$p,main:_sfc_main$a,footer:AppFooter}},{path:"/negative",name:"negative",components:{header:_sfc_main$p,main:_sfc_main$c,footer:AppFooter}},{path:"/brightness",name:"brightness",components:{header:_sfc_main$p,main:_sfc_main$l,footer:AppFooter}},{path:"/convert",name:"convert",components:{header:_sfc_main$p,main:_sfc_main$k,footer:AppFooter}},{path:"/rotate",name:"rotate",components:{header:_sfc_main$p,main:Rotate,footer:AppFooter}},{path:"/flip",name:"flip",components:{header:_sfc_main$p,main:Flip,footer:AppFooter}},{path:"/equalise",name:"equalise",components:{header:_sfc_main$p,main:Equalise,footer:AppFooter}},{path:"/convolution",name:"convolution",components:{header:_sfc_main$p,main:Convolution,footer:AppFooter}}]}),_sfc_main$9={name:"base-alert",components:{},props:{type:{type:String,default:"default",description:"Alert type"},icon:{type:String,default:"",description:"Alert icon. Will be overwritten by default slot"},dismissible:{type:Boolean,default:!1,description:"Whether alert is closes when clicking"}},data(){return{visible:!0}},methods:{dismissAlert(){this.visible=!1}}},_hoisted_1$7={key:0,class:"alert-inner--icon"},_hoisted_2$5={key:1,class:"alert-inner--text"},_hoisted_3$3={key:0,class:"alert-inner--icon"},_hoisted_4$2={key:1,class:"alert-inner--text"};function _sfc_render$9(d,m,g,w,I,P){return I.visible?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["alert",[`alert-${g.type}`,{"alert-dismissible":g.dismissible}]]),role:"alert"},[g.dismissible?(openBlock(),createElementBlock(Fragment,{key:1},[renderSlot(d.$slots,"default",{},()=>[g.icon?(openBlock(),createElementBlock("span",_hoisted_3$3,[createBaseVNode("i",{class:normalizeClass(g.icon)},null,2)])):createCommentVNode("",!0),d.$slots.text?(openBlock(),createElementBlock("span",_hoisted_4$2,[renderSlot(d.$slots,"text")])):createCommentVNode("",!0)]),renderSlot(d.$slots,"dismiss-icon",{},()=>[createBaseVNode("button",{type:"button","data-dismiss":"alert","aria-label":"Close",class:"close",onClick:m[0]||(m[0]=(...F)=>P.dismissAlert&&P.dismissAlert(...F))},m[1]||(m[1]=[createBaseVNode("span",{"aria-hidden":"true"},"×",-1)]))])],64)):renderSlot(d.$slots,"default",{key:0},()=>[g.icon?(openBlock(),createElementBlock("span",_hoisted_1$7,[createBaseVNode("i",{class:normalizeClass(g.icon)},null,2)])):createCommentVNode("",!0),d.$slots.text?(openBlock(),createElementBlock("span",_hoisted_2$5,[renderSlot(d.$slots,"text")])):createCommentVNode("",!0)])],2)):createCommentVNode("",!0)}const BaseAlert=_export_sfc(_sfc_main$9,[["render",_sfc_render$9]]);function randomString(d=7){const m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";let g="";for(let w=0;w<d;w++)g+=m.charAt(Math.floor(Math.random()*m.length));return g}const _sfc_main$8={name:"base-checkbox",model:{prop:"checked"},props:{checked:{type:[Array,Boolean],description:"Whether checkbox is checked"},disabled:{type:Boolean,description:"Whether checkbox is disabled"},inline:{type:Boolean,description:"Whether checkbox is inline"}},data(){return{cbId:"",touched:!1}},computed:{model:{get(){return this.checked},set(d){this.touched||(this.touched=!0),this.$emit("input",d)}},inlineClass(){if(this.inline)return"form-check-inline"}},mounted(){this.cbId=randomString()}},_hoisted_1$6=["id","disabled"],_hoisted_2$4=["for"],_hoisted_3$2={key:0};function _sfc_render$8(d,m,g,w,I,P){return openBlock(),createElementBlock("div",{class:normalizeClass(["custom-control custom-checkbox",[{disabled:g.disabled},P.inlineClass]])},[withDirectives(createBaseVNode("input",{id:I.cbId,class:"custom-control-input",type:"checkbox",disabled:g.disabled,"onUpdate:modelValue":m[0]||(m[0]=F=>P.model=F)},null,8,_hoisted_1$6),[[vModelCheckbox,P.model]]),createBaseVNode("label",{for:I.cbId,class:"custom-control-label"},[renderSlot(d.$slots,"default",{},()=>[g.inline?(openBlock(),createElementBlock("span",_hoisted_3$2," ")):createCommentVNode("",!0)])],8,_hoisted_2$4)],2)}const BaseCheckbox=_export_sfc(_sfc_main$8,[["render",_sfc_render$8]]),_sfc_main$7={inheritAttrs:!1,name:"base-input",props:{required:{type:Boolean,description:"Whether input is required (adds an asterix *)"},valid:{type:Boolean,description:"Whether is valid",default:void 0},alternative:{type:Boolean,description:"Whether input is of alternative layout"},label:{type:String,description:"Input label (text before input)"},error:{type:String,description:"Input error (below input)"},labelClasses:{type:String,description:"Input label css classes"},inputClasses:{type:String,description:"Input css classes"},value:{type:[String,Number],description:"Input value"},addonRightIcon:{type:String,description:"Addon right icon"},addonLeftIcon:{type:String,description:"Addont left icon"}},data(){return{focused:!1}},computed:{listeners(){return{...this.$listeners,input:this.updateValue,focus:this.onFocus,blur:this.onBlur}},slotData(){return{focused:this.focused,...this.listeners}},hasIcon(){const{addonRight:d,addonLeft:m}=this.$slots;return d!==void 0||m!==void 0||this.addonRightIcon!==void 0||this.addonLeftIcon!==void 0}},methods:{updateValue(d){let m=d.target.value;this.$emit("input",m)},onFocus(d){this.focused=!0,this.$emit("focus",d)},onBlur(d){this.focused=!1,this.$emit("blur",d)}}},_hoisted_1$5={key:0},_hoisted_2$3={key:0,class:"input-group-prepend"},_hoisted_3$1={class:"input-group-text"},_hoisted_4$1=["value"],_hoisted_5={key:1,class:"input-group-append"},_hoisted_6={class:"input-group-text"};function _sfc_render$7(d,m,g,w,I,P){return openBlock(),createElementBlock("div",{class:normalizeClass(["form-group",[{"input-group":P.hasIcon},{"has-danger":g.error},{focused:I.focused},{"input-group-alternative":g.alternative},{"has-label":g.label||d.$slots.label},{"has-success":g.valid===!0},{"has-danger":g.valid===!1}]])},[renderSlot(d.$slots,"label",{},()=>[g.label?(openBlock(),createElementBlock("label",{key:0,class:normalizeClass(g.labelClasses)},[createTextVNode(toDisplayString(g.label)+" ",1),g.required?(openBlock(),createElementBlock("span",_hoisted_1$5,"*")):createCommentVNode("",!0)],2)):createCommentVNode("",!0)]),g.addonLeftIcon||d.$slots.addonLeft?(openBlock(),createElementBlock("div",_hoisted_2$3,[createBaseVNode("span",_hoisted_3$1,[renderSlot(d.$slots,"addonLeft",{},()=>[createBaseVNode("i",{class:normalizeClass(g.addonLeftIcon)},null,2)])])])):createCommentVNode("",!0),renderSlot(d.$slots,"default",normalizeProps(guardReactiveProps(P.slotData)),()=>[createBaseVNode("input",mergeProps({value:g.value},toHandlers(P.listeners),d.$attrs,{class:["form-control",[{"is-valid":g.valid===!0},{"is-invalid":g.valid===!1},g.inputClasses]],"aria-describedby":"addon-right addon-left"}),null,16,_hoisted_4$1)]),g.addonRightIcon||d.$slots.addonRight?(openBlock(),createElementBlock("div",_hoisted_5,[createBaseVNode("span",_hoisted_6,[renderSlot(d.$slots,"addonRight",{},()=>[createBaseVNode("i",{class:normalizeClass(g.addonRightIcon)},null,2)])])])):createCommentVNode("",!0),renderSlot(d.$slots,"infoBlock"),renderSlot(d.$slots,"helpBlock",{},()=>[g.error?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["text-danger invalid-feedback",{"mt-2":P.hasIcon}]),style:{display:"block"}},toDisplayString(g.error),3)):createCommentVNode("",!0)])],2)}const BaseInput=_export_sfc(_sfc_main$7,[["render",_sfc_render$7]]),_sfc_main$6={name:"base-pagination",props:{pageCount:{type:Number,default:0,description:"Pagination page count. This should be specified in combination with perPage"},perPage:{type:Number,default:10,description:"Pagination per page. Should be specified with total or pageCount"},total:{type:Number,default:0,description:"Can be specified instead of pageCount. The page count in this case will be total/perPage"},value:{type:Number,default:1,description:"Pagination value"},size:{type:String,default:"",description:"Pagination size"},align:{type:String,default:"",description:"Pagination alignment (e.g center|start|end)"}},computed:{totalPages(){return this.pageCount>0?this.pageCount:this.total>0?Math.ceil(this.total/this.perPage):1},pagesToDisplay(){return this.totalPages>0&&this.totalPages<this.defaultPagesToDisplay?this.totalPages:this.defaultPagesToDisplay},minPage(){if(this.value>=this.pagesToDisplay){const d=Math.floor(this.pagesToDisplay/2);return d+this.value>this.totalPages?this.totalPages-this.pagesToDisplay+1:this.value-d}else return 1},maxPage(){if(this.value>=this.pagesToDisplay){const m=Math.floor(this.pagesToDisplay/2)+this.value;return m<this.totalPages?m:this.totalPages}else return this.pagesToDisplay}},data(){return{defaultPagesToDisplay:5}},methods:{range(d,m){let g=[];for(let w=d;w<=m;w++)g.push(w);return g},changePage(d){this.$emit("input",d)},nextPage(){this.value<this.totalPages&&this.$emit("input",this.value+1)},prevPage(){this.value>1&&this.$emit("input",this.value-1)}},watch:{perPage(){this.$emit("input",1)},total(){this.$emit("input",1)}}},_hoisted_1$4=["onClick"];function _sfc_render$6(d,m,g,w,I,P){return openBlock(),createElementBlock("ul",{class:normalizeClass(["pagination",[g.size&&`pagination-${g.size}`,g.align&&`justify-content-${g.align}`]])},[createBaseVNode("li",{class:normalizeClass(["page-item prev-page",{disabled:g.value===1}])},[createBaseVNode("a",{class:"page-link","aria-label":"Previous",onClick:m[0]||(m[0]=(...F)=>P.prevPage&&P.prevPage(...F))},m[2]||(m[2]=[createBaseVNode("span",{"aria-hidden":"true"},[createBaseVNode("i",{class:"fa fa-angle-left","aria-hidden":"true"})],-1)]))],2),(openBlock(!0),createElementBlock(Fragment,null,renderList(P.range(P.minPage,P.maxPage),F=>(openBlock(),createElementBlock("li",{class:normalizeClass(["page-item",{active:g.value===F}]),key:F},[createBaseVNode("a",{class:"page-link",onClick:D=>P.changePage(F)},toDisplayString(F),9,_hoisted_1$4)],2))),128)),createBaseVNode("li",{class:normalizeClass(["page-item next-page",{disabled:g.value===P.totalPages}])},[createBaseVNode("a",{class:"page-link","aria-label":"Next",onClick:m[1]||(m[1]=(...F)=>P.nextPage&&P.nextPage(...F))},m[3]||(m[3]=[createBaseVNode("span",{"aria-hidden":"true"},[createBaseVNode("i",{class:"fa fa-angle-right","aria-hidden":"true"})],-1)]))],2)],2)}const BasePagination=_export_sfc(_sfc_main$6,[["render",_sfc_render$6]]),_sfc_main$5={name:"base-progress",props:{striped:{type:Boolean,description:"Whether progress is striped"},animated:{type:Boolean,description:"Whether progress is animated (works only with `striped` prop together)"},label:{type:String,description:"Progress label (shown on the left above progress)"},height:{type:Number,default:8,description:"Progress line height"},type:{type:String,default:"default",description:"Progress type (e.g danger, primary etc)"},value:{type:Number,default:0,validator:d=>d>=0&&d<=100,description:"Progress value"}},computed:{computedClasses(){return[{"progress-bar-striped":this.striped},{"progress-bar-animated":this.animated},{[`bg-${this.type}`]:this.type}]}}},_hoisted_1$3={class:"progress-wrapper"},_hoisted_2$2={class:"progress-label"},_hoisted_3={class:"progress-percentage"},_hoisted_4=["aria-valuenow"];function _sfc_render$5(d,m,g,w,I,P){return openBlock(),createElementBlock("div",_hoisted_1$3,[createBaseVNode("div",{class:normalizeClass(`progress-${g.type}`)},[createBaseVNode("div",_hoisted_2$2,[renderSlot(d.$slots,"label",{},()=>[createBaseVNode("span",null,toDisplayString(g.label),1)])]),createBaseVNode("div",_hoisted_3,[renderSlot(d.$slots,"default",{},()=>[createBaseVNode("span",null,toDisplayString(g.value)+"%",1)])])],2),createBaseVNode("div",{class:"progress",style:normalizeStyle(`height: ${g.height}px`)},[createBaseVNode("div",{class:normalizeClass(["progress-bar",P.computedClasses]),role:"progressbar","aria-valuenow":g.value,"aria-valuemin":"0","aria-valuemax":"100",style:normalizeStyle(`width: ${g.value}%;`)},null,14,_hoisted_4)],4)])}const BaseProgress=_export_sfc(_sfc_main$5,[["render",_sfc_render$5]]),_sfc_main$4={name:"base-radio",props:{name:{type:[String,Number],description:"Radio label"},disabled:{type:Boolean,description:"Whether radio is disabled"},value:{type:[String,Boolean],description:"Radio value"},inline:{type:Boolean,description:"Whether radio is inline"}},data(){return{cbId:""}},computed:{model:{get(){return this.value},set(d){this.$emit("input",d)}},inlineClass(){return this.inline?"form-check-inline":""}},mounted(){this.cbId=randomString()}},_hoisted_1$2=["id","disabled","value"],_hoisted_2$1=["for"];function _sfc_render$4(d,m,g,w,I,P){return openBlock(),createElementBlock("div",{class:normalizeClass(["custom-control custom-radio",[P.inlineClass,{disabled:g.disabled}]])},[withDirectives(createBaseVNode("input",{id:I.cbId,class:"custom-control-input",type:"radio",disabled:g.disabled,value:g.name,"onUpdate:modelValue":m[0]||(m[0]=F=>P.model=F)},null,8,_hoisted_1$2),[[vModelRadio,P.model]]),createBaseVNode("label",{for:I.cbId,class:"custom-control-label"},[renderSlot(d.$slots,"default")],8,_hoisted_2$1)],2)}const BaseRadio=_export_sfc(_sfc_main$4,[["render",_sfc_render$4]]);var PipsMode;(function(d){d.Range="range",d.Steps="steps",d.Positions="positions",d.Count="count",d.Values="values"})(PipsMode||(PipsMode={}));var PipsType;(function(d){d[d.None=-1]="None",d[d.NoValue=0]="NoValue",d[d.LargeValue=1]="LargeValue",d[d.SmallValue=2]="SmallValue"})(PipsType||(PipsType={}));function isValidFormatter(d){return isValidPartialFormatter(d)&&typeof d.from=="function"}function isValidPartialFormatter(d){return typeof d=="object"&&typeof d.to=="function"}function removeElement(d){d.parentElement.removeChild(d)}function isSet(d){return d!=null}function preventDefault(d){d.preventDefault()}function unique(d){return d.filter(function(m){return this[m]?!1:this[m]=!0},{})}function closest(d,m){return Math.round(d/m)*m}function offset(d,m){var g=d.getBoundingClientRect(),w=d.ownerDocument,I=w.documentElement,P=getPageOffset(w);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(P.x=0),m?g.top+P.y-I.clientTop:g.left+P.x-I.clientLeft}function isNumeric(d){return typeof d=="number"&&!isNaN(d)&&isFinite(d)}function addClassFor(d,m,g){g>0&&(addClass(d,m),setTimeout(function(){removeClass(d,m)},g))}function limit(d){return Math.max(Math.min(d,100),0)}function asArray(d){return Array.isArray(d)?d:[d]}function countDecimals(d){d=String(d);var m=d.split(".");return m.length>1?m[1].length:0}function addClass(d,m){d.classList&&!/\s/.test(m)?d.classList.add(m):d.className+=" "+m}function removeClass(d,m){d.classList&&!/\s/.test(m)?d.classList.remove(m):d.className=d.className.replace(new RegExp("(^|\\b)"+m.split(" ").join("|")+"(\\b|$)","gi")," ")}function hasClass(d,m){return d.classList?d.classList.contains(m):new RegExp("\\b"+m+"\\b").test(d.className)}function getPageOffset(d){var m=window.pageXOffset!==void 0,g=(d.compatMode||"")==="CSS1Compat",w=m?window.pageXOffset:g?d.documentElement.scrollLeft:d.body.scrollLeft,I=m?window.pageYOffset:g?d.documentElement.scrollTop:d.body.scrollTop;return{x:w,y:I}}function getActions(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function getSupportsPassive(){var d=!1;try{var m=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("test",null,m)}catch{}return d}function getSupportsTouchActionNone(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function subRangeRatio(d,m){return 100/(m-d)}function fromPercentage(d,m,g){return m*100/(d[g+1]-d[g])}function toPercentage(d,m){return fromPercentage(d,d[0]<0?m+Math.abs(d[0]):m-d[0],0)}function isPercentage(d,m){return m*(d[1]-d[0])/100+d[0]}function getJ(d,m){for(var g=1;d>=m[g];)g+=1;return g}function toStepping(d,m,g){if(g>=d.slice(-1)[0])return 100;var w=getJ(g,d),I=d[w-1],P=d[w],F=m[w-1],D=m[w];return F+toPercentage([I,P],g)/subRangeRatio(F,D)}function fromStepping(d,m,g){if(g>=100)return d.slice(-1)[0];var w=getJ(g,m),I=d[w-1],P=d[w],F=m[w-1],D=m[w];return isPercentage([I,P],(g-F)*subRangeRatio(F,D))}function getStep(d,m,g,w){if(w===100)return w;var I=getJ(w,d),P=d[I-1],F=d[I];return g?w-P>(F-P)/2?F:P:m[I-1]?d[I-1]+closest(w-d[I-1],m[I-1]):w}var Spectrum=function(){function d(m,g,w){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[w||!1],this.xNumSteps=[!1],this.snap=g;var I,P=[];for(Object.keys(m).forEach(function(F){P.push([asArray(m[F]),F])}),P.sort(function(F,D){return F[0][0]-D[0][0]}),I=0;I<P.length;I++)this.handleEntryPoint(P[I][1],P[I][0]);for(this.xNumSteps=this.xSteps.slice(0),I=0;I<this.xNumSteps.length;I++)this.handleStepPoint(I,this.xNumSteps[I])}return d.prototype.getDistance=function(m){for(var g=[],w=0;w<this.xNumSteps.length-1;w++)g[w]=fromPercentage(this.xVal,m,w);return g},d.prototype.getAbsoluteDistance=function(m,g,w){var I=0;if(m<this.xPct[this.xPct.length-1])for(;m>this.xPct[I+1];)I++;else m===this.xPct[this.xPct.length-1]&&(I=this.xPct.length-2);!w&&m===this.xPct[I+1]&&I++,g===null&&(g=[]);var P,F=1,D=g[I],$=0,V=0,j=0,G=0;for(w?P=(m-this.xPct[I])/(this.xPct[I+1]-this.xPct[I]):P=(this.xPct[I+1]-m)/(this.xPct[I+1]-this.xPct[I]);D>0;)$=this.xPct[I+1+G]-this.xPct[I+G],g[I+G]*F+100-P*100>100?(V=$*P,F=(D-100*P)/g[I+G],P=1):(V=g[I+G]*$/100*F,F=0),w?(j=j-V,this.xPct.length+G>=1&&G--):(j=j+V,this.xPct.length-G>=1&&G++),D=g[I+G]*F;return m+j},d.prototype.toStepping=function(m){return m=toStepping(this.xVal,this.xPct,m),m},d.prototype.fromStepping=function(m){return fromStepping(this.xVal,this.xPct,m)},d.prototype.getStep=function(m){return m=getStep(this.xPct,this.xSteps,this.snap,m),m},d.prototype.getDefaultStep=function(m,g,w){var I=getJ(m,this.xPct);return(m===100||g&&m===this.xPct[I-1])&&(I=Math.max(I-1,1)),(this.xVal[I]-this.xVal[I-1])/w},d.prototype.getNearbySteps=function(m){var g=getJ(m,this.xPct);return{stepBefore:{startValue:this.xVal[g-2],step:this.xNumSteps[g-2],highestStep:this.xHighestCompleteStep[g-2]},thisStep:{startValue:this.xVal[g-1],step:this.xNumSteps[g-1],highestStep:this.xHighestCompleteStep[g-1]},stepAfter:{startValue:this.xVal[g],step:this.xNumSteps[g],highestStep:this.xHighestCompleteStep[g]}}},d.prototype.countStepDecimals=function(){var m=this.xNumSteps.map(countDecimals);return Math.max.apply(null,m)},d.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},d.prototype.convert=function(m){return this.getStep(this.toStepping(m))},d.prototype.handleEntryPoint=function(m,g){var w;if(m==="min"?w=0:m==="max"?w=100:w=parseFloat(m),!isNumeric(w)||!isNumeric(g[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(w),this.xVal.push(g[0]);var I=Number(g[1]);w?this.xSteps.push(isNaN(I)?!1:I):isNaN(I)||(this.xSteps[0]=I),this.xHighestCompleteStep.push(0)},d.prototype.handleStepPoint=function(m,g){if(g){if(this.xVal[m]===this.xVal[m+1]){this.xSteps[m]=this.xHighestCompleteStep[m]=this.xVal[m];return}this.xSteps[m]=fromPercentage([this.xVal[m],this.xVal[m+1]],g,0)/subRangeRatio(this.xPct[m],this.xPct[m+1]);var w=(this.xVal[m+1]-this.xVal[m])/this.xNumSteps[m],I=Math.ceil(Number(w.toFixed(3))-1),P=this.xVal[m]+this.xNumSteps[m]*I;this.xHighestCompleteStep[m]=P}},d}(),defaultFormatter={to:function(d){return d===void 0?"":d.toFixed(2)},from:Number},cssClasses={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},INTERNAL_EVENT_NS={tooltips:".__tooltips",aria:".__aria"};function testStep(d,m){if(!isNumeric(m))throw new Error("noUiSlider: 'step' is not numeric.");d.singleStep=m}function testKeyboardPageMultiplier(d,m){if(!isNumeric(m))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");d.keyboardPageMultiplier=m}function testKeyboardMultiplier(d,m){if(!isNumeric(m))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");d.keyboardMultiplier=m}function testKeyboardDefaultStep(d,m){if(!isNumeric(m))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");d.keyboardDefaultStep=m}function testRange(d,m){if(typeof m!="object"||Array.isArray(m))throw new Error("noUiSlider: 'range' is not an object.");if(m.min===void 0||m.max===void 0)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");d.spectrum=new Spectrum(m,d.snap||!1,d.singleStep)}function testStart(d,m){if(m=asArray(m),!Array.isArray(m)||!m.length)throw new Error("noUiSlider: 'start' option is incorrect.");d.handles=m.length,d.start=m}function testSnap(d,m){if(typeof m!="boolean")throw new Error("noUiSlider: 'snap' option must be a boolean.");d.snap=m}function testAnimate(d,m){if(typeof m!="boolean")throw new Error("noUiSlider: 'animate' option must be a boolean.");d.animate=m}function testAnimationDuration(d,m){if(typeof m!="number")throw new Error("noUiSlider: 'animationDuration' option must be a number.");d.animationDuration=m}function testConnect(d,m){var g=[!1],w;if(m==="lower"?m=[!0,!1]:m==="upper"&&(m=[!1,!0]),m===!0||m===!1){for(w=1;w<d.handles;w++)g.push(m);g.push(!1)}else{if(!Array.isArray(m)||!m.length||m.length!==d.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");g=m}d.connect=g}function testOrientation(d,m){switch(m){case"horizontal":d.ort=0;break;case"vertical":d.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function testMargin(d,m){if(!isNumeric(m))throw new Error("noUiSlider: 'margin' option must be numeric.");m!==0&&(d.margin=d.spectrum.getDistance(m))}function testLimit(d,m){if(!isNumeric(m))throw new Error("noUiSlider: 'limit' option must be numeric.");if(d.limit=d.spectrum.getDistance(m),!d.limit||d.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function testPadding(d,m){var g;if(!isNumeric(m)&&!Array.isArray(m))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(m)&&!(m.length===2||isNumeric(m[0])||isNumeric(m[1])))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(m!==0){for(Array.isArray(m)||(m=[m,m]),d.padding=[d.spectrum.getDistance(m[0]),d.spectrum.getDistance(m[1])],g=0;g<d.spectrum.xNumSteps.length-1;g++)if(d.padding[0][g]<0||d.padding[1][g]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var w=m[0]+m[1],I=d.spectrum.xVal[0],P=d.spectrum.xVal[d.spectrum.xVal.length-1];if(w/(P-I)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function testDirection(d,m){switch(m){case"ltr":d.dir=0;break;case"rtl":d.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function testBehaviour(d,m){if(typeof m!="string")throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var g=m.indexOf("tap")>=0,w=m.indexOf("drag")>=0,I=m.indexOf("fixed")>=0,P=m.indexOf("snap")>=0,F=m.indexOf("hover")>=0,D=m.indexOf("unconstrained")>=0,$=m.indexOf("invert-connects")>=0,V=m.indexOf("drag-all")>=0,j=m.indexOf("smooth-steps")>=0;if(I){if(d.handles!==2)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");testMargin(d,d.start[1]-d.start[0])}if($&&d.handles!==2)throw new Error("noUiSlider: 'invert-connects' behaviour must be used with 2 handles");if(D&&(d.margin||d.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");d.events={tap:g||P,drag:w,dragAll:V,smoothSteps:j,fixed:I,snap:P,hover:F,unconstrained:D,invertConnects:$}}function testTooltips(d,m){if(m!==!1)if(m===!0||isValidPartialFormatter(m)){d.tooltips=[];for(var g=0;g<d.handles;g++)d.tooltips.push(m)}else{if(m=asArray(m),m.length!==d.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");m.forEach(function(w){if(typeof w!="boolean"&&!isValidPartialFormatter(w))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),d.tooltips=m}}function testHandleAttributes(d,m){if(m.length!==d.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");d.handleAttributes=m}function testAriaFormat(d,m){if(!isValidPartialFormatter(m))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");d.ariaFormat=m}function testFormat(d,m){if(!isValidFormatter(m))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");d.format=m}function testKeyboardSupport(d,m){if(typeof m!="boolean")throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");d.keyboardSupport=m}function testDocumentElement(d,m){d.documentElement=m}function testCssPrefix(d,m){if(typeof m!="string"&&m!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");d.cssPrefix=m}function testCssClasses(d,m){if(typeof m!="object")throw new Error("noUiSlider: 'cssClasses' must be an object.");typeof d.cssPrefix=="string"?(d.cssClasses={},Object.keys(m).forEach(function(g){d.cssClasses[g]=d.cssPrefix+m[g]})):d.cssClasses=m}function testOptions(d){var m={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:defaultFormatter,format:defaultFormatter},g={step:{r:!1,t:testStep},keyboardPageMultiplier:{r:!1,t:testKeyboardPageMultiplier},keyboardMultiplier:{r:!1,t:testKeyboardMultiplier},keyboardDefaultStep:{r:!1,t:testKeyboardDefaultStep},start:{r:!0,t:testStart},connect:{r:!0,t:testConnect},direction:{r:!0,t:testDirection},snap:{r:!1,t:testSnap},animate:{r:!1,t:testAnimate},animationDuration:{r:!1,t:testAnimationDuration},range:{r:!0,t:testRange},orientation:{r:!1,t:testOrientation},margin:{r:!1,t:testMargin},limit:{r:!1,t:testLimit},padding:{r:!1,t:testPadding},behaviour:{r:!0,t:testBehaviour},ariaFormat:{r:!1,t:testAriaFormat},format:{r:!1,t:testFormat},tooltips:{r:!1,t:testTooltips},keyboardSupport:{r:!0,t:testKeyboardSupport},documentElement:{r:!1,t:testDocumentElement},cssPrefix:{r:!0,t:testCssPrefix},cssClasses:{r:!0,t:testCssClasses},handleAttributes:{r:!1,t:testHandleAttributes}},w={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};d.format&&!d.ariaFormat&&(d.ariaFormat=d.format),Object.keys(g).forEach(function($){if(!isSet(d[$])&&w[$]===void 0){if(g[$].r)throw new Error("noUiSlider: '"+$+"' is required.");return}g[$].t(m,isSet(d[$])?d[$]:w[$])}),m.pips=d.pips;var I=document.createElement("div"),P=I.style.msTransform!==void 0,F=I.style.transform!==void 0;m.transformRule=F?"transform":P?"msTransform":"webkitTransform";var D=[["left","top"],["right","bottom"]];return m.style=D[m.dir][m.ort],m}function scope(d,m,g){var w=getActions(),I=getSupportsTouchActionNone(),P=I&&getSupportsPassive(),F=d,D,$,V,j,G,W,Z=m.spectrum,U=[],Q=[],K=[],te=0,X={},J=!1,ee=d.ownerDocument,ie=m.documentElement||ee.documentElement,fe=ee.body,se=ee.dir==="rtl"||m.ort===1?0:100;function de(ke,Ue){var Je=ee.createElement("div");return Ue&&addClass(Je,Ue),ke.appendChild(Je),Je}function le(ke,Ue){var Je=de(ke,m.cssClasses.origin),st=de(Je,m.cssClasses.handle);if(de(st,m.cssClasses.touchArea),st.setAttribute("data-handle",String(Ue)),m.keyboardSupport&&(st.setAttribute("tabindex","0"),st.addEventListener("keydown",function(ft){return re(ft,Ue)})),m.handleAttributes!==void 0){var ct=m.handleAttributes[Ue];Object.keys(ct).forEach(function(ft){st.setAttribute(ft,ct[ft])})}return st.setAttribute("role","slider"),st.setAttribute("aria-orientation",m.ort?"vertical":"horizontal"),Ue===0?addClass(st,m.cssClasses.handleLower):Ue===m.handles-1&&addClass(st,m.cssClasses.handleUpper),Je.handle=st,Je}function ye(ke,Ue){return Ue?de(ke,m.cssClasses.connect):!1}function ae(ke,Ue){$=de(Ue,m.cssClasses.connects),V=[],j=[],j.push(ye($,ke[0]));for(var Je=0;Je<m.handles;Je++)V.push(le(Ue,Je)),K[Je]=Je,j.push(ye($,ke[Je+1]))}function ge(ke){addClass(ke,m.cssClasses.target),m.dir===0?addClass(ke,m.cssClasses.ltr):addClass(ke,m.cssClasses.rtl),m.ort===0?addClass(ke,m.cssClasses.horizontal):addClass(ke,m.cssClasses.vertical);var Ue=getComputedStyle(ke).direction;return Ue==="rtl"?addClass(ke,m.cssClasses.textDirectionRtl):addClass(ke,m.cssClasses.textDirectionLtr),de(ke,m.cssClasses.base)}function Pe(ke,Ue){return!m.tooltips||!m.tooltips[Ue]?!1:de(ke.firstChild,m.cssClasses.tooltip)}function be(){return F.hasAttribute("disabled")}function Ee(ke){var Ue=V[ke];return Ue.hasAttribute("disabled")}function ve(ke){ke!=null?(V[ke].setAttribute("disabled",""),V[ke].handle.removeAttribute("tabindex")):(F.setAttribute("disabled",""),V.forEach(function(Ue){Ue.handle.removeAttribute("tabindex")}))}function Re(ke){ke!=null?(V[ke].removeAttribute("disabled"),V[ke].handle.setAttribute("tabindex","0")):(F.removeAttribute("disabled"),V.forEach(function(Ue){Ue.removeAttribute("disabled"),Ue.handle.setAttribute("tabindex","0")}))}function Oe(){W&&(Ze("update"+INTERNAL_EVENT_NS.tooltips),W.forEach(function(ke){ke&&removeElement(ke)}),W=null)}function Ae(){Oe(),W=V.map(Pe),Ie("update"+INTERNAL_EVENT_NS.tooltips,function(ke,Ue,Je){if(!(!W||!m.tooltips)&&W[Ue]!==!1){var st=ke[Ue];m.tooltips[Ue]!==!0&&(st=m.tooltips[Ue].to(Je[Ue])),W[Ue].innerHTML=st}})}function He(){Ze("update"+INTERNAL_EVENT_NS.aria),Ie("update"+INTERNAL_EVENT_NS.aria,function(ke,Ue,Je,st,ct){K.forEach(function(ft){var pt=V[ft],ht=nt(Q,ft,0,!0,!0,!0),gt=nt(Q,ft,100,!0,!0,!0),_t=ct[ft],vt=String(m.ariaFormat.to(Je[ft]));ht=Z.fromStepping(ht).toFixed(1),gt=Z.fromStepping(gt).toFixed(1),_t=Z.fromStepping(_t).toFixed(1),pt.children[0].setAttribute("aria-valuemin",ht),pt.children[0].setAttribute("aria-valuemax",gt),pt.children[0].setAttribute("aria-valuenow",_t),pt.children[0].setAttribute("aria-valuetext",vt)})})}function Me(ke){if(ke.mode===PipsMode.Range||ke.mode===PipsMode.Steps)return Z.xVal;if(ke.mode===PipsMode.Count){if(ke.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var Ue=ke.values-1,Je=100/Ue,st=[];Ue--;)st[Ue]=Ue*Je;return st.push(100),je(st,ke.stepped)}return ke.mode===PipsMode.Positions?je(ke.values,ke.stepped):ke.mode===PipsMode.Values?ke.stepped?ke.values.map(function(ct){return Z.fromStepping(Z.getStep(Z.toStepping(ct)))}):ke.values:[]}function je(ke,Ue){return ke.map(function(Je){return Z.fromStepping(Ue?Z.getStep(Je):Je)})}function Ne(ke){function Ue(_t,vt){return Number((_t+vt).toFixed(7))}var Je=Me(ke),st={},ct=Z.xVal[0],ft=Z.xVal[Z.xVal.length-1],pt=!1,ht=!1,gt=0;return Je=unique(Je.slice().sort(function(_t,vt){return _t-vt})),Je[0]!==ct&&(Je.unshift(ct),pt=!0),Je[Je.length-1]!==ft&&(Je.push(ft),ht=!0),Je.forEach(function(_t,vt){var It,wt,yt,xt=_t,Et=Je[vt+1],St,Pt,Tt,At,Rt,kt,Mt,Ot=ke.mode===PipsMode.Steps;for(Ot&&(It=Z.xNumSteps[vt]),It||(It=Et-xt),Et===void 0&&(Et=xt),It=Math.max(It,1e-7),wt=xt;wt<=Et;wt=Ue(wt,It)){for(St=Z.toStepping(wt),Pt=St-gt,Rt=Pt/(ke.density||1),kt=Math.round(Rt),Mt=Pt/kt,yt=1;yt<=kt;yt+=1)Tt=gt+yt*Mt,st[Tt.toFixed(5)]=[Z.fromStepping(Tt),0];At=Je.indexOf(wt)>-1?PipsType.LargeValue:Ot?PipsType.SmallValue:PipsType.NoValue,!vt&&pt&&wt!==Et&&(At=0),wt===Et&&ht||(st[St.toFixed(5)]=[wt,At]),gt=St}}),st}function We(ke,Ue,Je){var st,ct,ft=ee.createElement("div"),pt=(st={},st[PipsType.None]="",st[PipsType.NoValue]=m.cssClasses.valueNormal,st[PipsType.LargeValue]=m.cssClasses.valueLarge,st[PipsType.SmallValue]=m.cssClasses.valueSub,st),ht=(ct={},ct[PipsType.None]="",ct[PipsType.NoValue]=m.cssClasses.markerNormal,ct[PipsType.LargeValue]=m.cssClasses.markerLarge,ct[PipsType.SmallValue]=m.cssClasses.markerSub,ct),gt=[m.cssClasses.valueHorizontal,m.cssClasses.valueVertical],_t=[m.cssClasses.markerHorizontal,m.cssClasses.markerVertical];addClass(ft,m.cssClasses.pips),addClass(ft,m.ort===0?m.cssClasses.pipsHorizontal:m.cssClasses.pipsVertical);function vt(wt,yt){var xt=yt===m.cssClasses.value,Et=xt?gt:_t,St=xt?pt:ht;return yt+" "+Et[m.ort]+" "+St[wt]}function It(wt,yt,xt){if(xt=Ue?Ue(yt,xt):xt,xt!==PipsType.None){var Et=de(ft,!1);Et.className=vt(xt,m.cssClasses.marker),Et.style[m.style]=wt+"%",xt>PipsType.NoValue&&(Et=de(ft,!1),Et.className=vt(xt,m.cssClasses.value),Et.setAttribute("data-value",String(yt)),Et.style[m.style]=wt+"%",Et.innerHTML=String(Je.to(yt)))}}return Object.keys(ke).forEach(function(wt){It(wt,ke[wt][0],ke[wt][1])}),ft}function Ve(){G&&(removeElement(G),G=null)}function ze(ke){Ve();var Ue=Ne(ke),Je=ke.filter,st=ke.format||{to:function(ct){return String(Math.round(ct))}};return G=F.appendChild(We(Ue,Je,st)),G}function Le(){var ke=D.getBoundingClientRect(),Ue="offset"+["Width","Height"][m.ort];return m.ort===0?ke.width||D[Ue]:ke.height||D[Ue]}function Qe(ke,Ue,Je,st){var ct=function(pt){var ht=Ke(pt,st.pageOffset,st.target||Ue);if(!ht||be()&&!st.doNotReject||hasClass(F,m.cssClasses.tap)&&!st.doNotReject||ke===w.start&&ht.buttons!==void 0&&ht.buttons>1||st.hover&&ht.buttons)return!1;P||ht.preventDefault(),ht.calcPoint=ht.points[m.ort],Je(ht,st)},ft=[];return ke.split(" ").forEach(function(pt){Ue.addEventListener(pt,ct,P?{passive:!0}:!1),ft.push([pt,ct])}),ft}function Ke(ke,Ue,Je){var st=ke.type.indexOf("touch")===0,ct=ke.type.indexOf("mouse")===0,ft=ke.type.indexOf("pointer")===0,pt=0,ht=0;if(ke.type.indexOf("MSPointer")===0&&(ft=!0),ke.type==="mousedown"&&!ke.buttons&&!ke.touches)return!1;if(st){var gt=function(It){var wt=It.target;return wt===Je||Je.contains(wt)||ke.composed&&ke.composedPath().shift()===Je};if(ke.type==="touchstart"){var _t=Array.prototype.filter.call(ke.touches,gt);if(_t.length>1)return!1;pt=_t[0].pageX,ht=_t[0].pageY}else{var vt=Array.prototype.find.call(ke.changedTouches,gt);if(!vt)return!1;pt=vt.pageX,ht=vt.pageY}}return Ue=Ue||getPageOffset(ee),(ct||ft)&&(pt=ke.clientX+Ue.x,ht=ke.clientY+Ue.y),ke.pageOffset=Ue,ke.points=[pt,ht],ke.cursor=ct||ft,ke}function Fe(ke){var Ue=ke-offset(D,m.ort),Je=Ue*100/Le();return Je=limit(Je),m.dir?100-Je:Je}function ce(ke){var Ue=100,Je=!1;return V.forEach(function(st,ct){if(!Ee(ct)){var ft=Q[ct],pt=Math.abs(ft-ke),ht=pt===100&&Ue===100,gt=pt<Ue,_t=pt<=Ue&&ke>ft;(gt||_t||ht)&&(Je=ct,Ue=pt)}}),Je}function $e(ke,Ue){ke.type==="mouseout"&&ke.target.nodeName==="HTML"&&ke.relatedTarget===null&&ue(ke,Ue)}function oe(ke,Ue){if(navigator.appVersion.indexOf("MSIE 9")===-1&&ke.buttons===0&&Ue.buttonsProperty!==0)return ue(ke,Ue);var Je=(m.dir?-1:1)*(ke.calcPoint-Ue.startCalcPoint),st=Je*100/Ue.baseSize;ot(Je>0,st,Ue.locations,Ue.handleNumbers,Ue.connect)}function ue(ke,Ue){Ue.handle&&(removeClass(Ue.handle,m.cssClasses.active),te-=1),Ue.listeners.forEach(function(Je){ie.removeEventListener(Je[0],Je[1])}),te===0&&(removeClass(F,m.cssClasses.drag),we(),ke.cursor&&(fe.style.cursor="",fe.removeEventListener("selectstart",preventDefault))),m.events.smoothSteps&&(Ue.handleNumbers.forEach(function(Je){et(Je,Q[Je],!0,!0,!1,!1)}),Ue.handleNumbers.forEach(function(Je){Xe("update",Je)})),Ue.handleNumbers.forEach(function(Je){Xe("change",Je),Xe("set",Je),Xe("end",Je)})}function _e(ke,Ue){if(!Ue.handleNumbers.some(Ee)){var Je;if(Ue.handleNumbers.length===1){var st=V[Ue.handleNumbers[0]];Je=st.children[0],te+=1,addClass(Je,m.cssClasses.active)}ke.stopPropagation();var ct=[],ft=Qe(w.move,ie,oe,{target:ke.target,handle:Je,connect:Ue.connect,listeners:ct,startCalcPoint:ke.calcPoint,baseSize:Le(),pageOffset:ke.pageOffset,handleNumbers:Ue.handleNumbers,buttonsProperty:ke.buttons,locations:Q.slice()}),pt=Qe(w.end,ie,ue,{target:ke.target,handle:Je,listeners:ct,doNotReject:!0,handleNumbers:Ue.handleNumbers}),ht=Qe("mouseout",ie,$e,{target:ke.target,handle:Je,listeners:ct,doNotReject:!0,handleNumbers:Ue.handleNumbers});ct.push.apply(ct,ft.concat(pt,ht)),ke.cursor&&(fe.style.cursor=getComputedStyle(ke.target).cursor,V.length>1&&addClass(F,m.cssClasses.drag),fe.addEventListener("selectstart",preventDefault,!1)),Ue.handleNumbers.forEach(function(gt){Xe("start",gt)})}}function Te(ke){ke.stopPropagation();var Ue=Fe(ke.calcPoint),Je=ce(Ue);Je!==!1&&(m.events.snap||addClassFor(F,m.cssClasses.tap,m.animationDuration),et(Je,Ue,!0,!0),we(),Xe("slide",Je,!0),Xe("update",Je,!0),m.events.snap?_e(ke,{handleNumbers:[Je]}):(Xe("change",Je,!0),Xe("set",Je,!0)))}function Be(ke){var Ue=Fe(ke.calcPoint),Je=Z.getStep(Ue),st=Z.fromStepping(Je);Object.keys(X).forEach(function(ct){ct.split(".")[0]==="hover"&&X[ct].forEach(function(ft){ft.call(Ge,st)})})}function re(ke,Ue){if(be()||Ee(Ue))return!1;var Je=["Left","Right"],st=["Down","Up"],ct=["PageDown","PageUp"],ft=["Home","End"];m.dir&&!m.ort?Je.reverse():m.ort&&!m.dir&&(st.reverse(),ct.reverse());var pt=ke.key.replace("Arrow",""),ht=pt===ct[0],gt=pt===ct[1],_t=pt===st[0]||pt===Je[0]||ht,vt=pt===st[1]||pt===Je[1]||gt,It=pt===ft[0],wt=pt===ft[1];if(!_t&&!vt&&!It&&!wt)return!0;ke.preventDefault();var yt;if(vt||_t){var xt=_t?0:1,Et=Se(Ue),St=Et[xt];if(St===null)return!1;St===!1&&(St=Z.getDefaultStep(Q[Ue],_t,m.keyboardDefaultStep)),gt||ht?St*=m.keyboardPageMultiplier:St*=m.keyboardMultiplier,St=Math.max(St,1e-7),St=(_t?-1:1)*St,yt=U[Ue]+St}else wt?yt=m.spectrum.xVal[m.spectrum.xVal.length-1]:yt=m.spectrum.xVal[0];return et(Ue,Z.toStepping(yt),!0,!0),Xe("slide",Ue),Xe("update",Ue),Xe("change",Ue),Xe("set",Ue),!1}function me(ke){ke.fixed||V.forEach(function(Ue,Je){Qe(w.start,Ue.children[0],_e,{handleNumbers:[Je]})}),ke.tap&&Qe(w.start,D,Te,{}),ke.hover&&Qe(w.move,D,Be,{hover:!0}),ke.drag&&j.forEach(function(Ue,Je){if(!(Ue===!1||Je===0||Je===j.length-1)){var st=V[Je-1],ct=V[Je],ft=[Ue],pt=[st,ct],ht=[Je-1,Je];addClass(Ue,m.cssClasses.draggable),ke.fixed&&(ft.push(st.children[0]),ft.push(ct.children[0])),ke.dragAll&&(pt=V,ht=K),ft.forEach(function(gt){Qe(w.start,gt,_e,{handles:pt,handleNumbers:ht,connect:Ue})})}})}function Ie(ke,Ue){X[ke]=X[ke]||[],X[ke].push(Ue),ke.split(".")[0]==="update"&&V.forEach(function(Je,st){Xe("update",st)})}function xe(ke){return ke===INTERNAL_EVENT_NS.aria||ke===INTERNAL_EVENT_NS.tooltips}function Ze(ke){var Ue=ke&&ke.split(".")[0],Je=Ue?ke.substring(Ue.length):ke;Object.keys(X).forEach(function(st){var ct=st.split(".")[0],ft=st.substring(ct.length);(!Ue||Ue===ct)&&(!Je||Je===ft)&&(!xe(ft)||Je===ft)&&delete X[st]})}function Xe(ke,Ue,Je){Object.keys(X).forEach(function(st){var ct=st.split(".")[0];ke===ct&&X[st].forEach(function(ft){ft.call(Ge,U.map(m.format.to),Ue,U.slice(),Je||!1,Q.slice(),Ge)})})}function nt(ke,Ue,Je,st,ct,ft,pt){var ht;return V.length>1&&!m.events.unconstrained&&(st&&Ue>0&&(ht=Z.getAbsoluteDistance(ke[Ue-1],m.margin,!1),Je=Math.max(Je,ht)),ct&&Ue<V.length-1&&(ht=Z.getAbsoluteDistance(ke[Ue+1],m.margin,!0),Je=Math.min(Je,ht))),V.length>1&&m.limit&&(st&&Ue>0&&(ht=Z.getAbsoluteDistance(ke[Ue-1],m.limit,!1),Je=Math.min(Je,ht)),ct&&Ue<V.length-1&&(ht=Z.getAbsoluteDistance(ke[Ue+1],m.limit,!0),Je=Math.max(Je,ht))),m.padding&&(Ue===0&&(ht=Z.getAbsoluteDistance(0,m.padding[0],!1),Je=Math.max(Je,ht)),Ue===V.length-1&&(ht=Z.getAbsoluteDistance(100,m.padding[1],!0),Je=Math.min(Je,ht))),pt||(Je=Z.getStep(Je)),Je=limit(Je),Je===ke[Ue]&&!ft?!1:Je}function lt(ke,Ue){var Je=m.ort;return(Je?Ue:ke)+", "+(Je?ke:Ue)}function ot(ke,Ue,Je,st,ct){var ft=Je.slice(),pt=st[0],ht=m.events.smoothSteps,gt=[!ke,ke],_t=[ke,!ke];st=st.slice(),ke&&st.reverse(),st.length>1?st.forEach(function(It,wt){var yt=nt(ft,It,ft[It]+Ue,gt[wt],_t[wt],!1,ht);yt===!1?Ue=0:(Ue=yt-ft[It],ft[It]=yt)}):gt=_t=[!0];var vt=!1;st.forEach(function(It,wt){vt=et(It,Je[It]+Ue,gt[wt],_t[wt],!1,ht)||vt}),vt&&(st.forEach(function(It){Xe("update",It),Xe("slide",It)}),ct!=null&&Xe("drag",pt))}function dt(ke,Ue){return m.dir?100-ke-Ue:ke}function ut(ke,Ue){Q[ke]=Ue,U[ke]=Z.fromStepping(Ue);var Je=dt(Ue,0)-se,st="translate("+lt(Je+"%","0")+")";if(V[ke].style[m.transformRule]=st,m.events.invertConnects&&Q.length>1){var ct=Q.every(function(ft,pt,ht){return pt===0||ft>=ht[pt-1]});if(J!==!ct){De();return}}rt(ke),rt(ke+1),J&&(rt(ke-1),rt(ke+2))}function we(){K.forEach(function(ke){var Ue=Q[ke]>50?-1:1,Je=3+(V.length+Ue*ke);V[ke].style.zIndex=String(Je)})}function et(ke,Ue,Je,st,ct,ft){return ct||(Ue=nt(Q,ke,Ue,Je,st,!1,ft)),Ue===!1?!1:(ut(ke,Ue),!0)}function rt(ke){if(j[ke]){var Ue=Q.slice();J&&Ue.sort(function(ht,gt){return ht-gt});var Je=0,st=100;ke!==0&&(Je=Ue[ke-1]),ke!==j.length-1&&(st=Ue[ke]);var ct=st-Je,ft="translate("+lt(dt(Je,ct)+"%","0")+")",pt="scale("+lt(ct/100,"1")+")";j[ke].style[m.transformRule]=ft+" "+pt}}function at(ke,Ue){return ke===null||ke===!1||ke===void 0||(typeof ke=="number"&&(ke=String(ke)),ke=m.format.from(ke),ke!==!1&&(ke=Z.toStepping(ke)),ke===!1||isNaN(ke))?Q[Ue]:ke}function H(ke,Ue,Je){var st=asArray(ke),ct=Q[0]===void 0;Ue=Ue===void 0?!0:Ue,m.animate&&!ct&&addClassFor(F,m.cssClasses.tap,m.animationDuration),K.forEach(function(ht){et(ht,at(st[ht],ht),!0,!1,Je)});var ft=K.length===1?0:1;if(ct&&Z.hasNoSize()&&(Je=!0,Q[0]=0,K.length>1)){var pt=100/(K.length-1);K.forEach(function(ht){Q[ht]=ht*pt})}for(;ft<K.length;++ft)K.forEach(function(ht){et(ht,Q[ht],!0,!0,Je)});we(),K.forEach(function(ht){Xe("update",ht),st[ht]!==null&&Ue&&Xe("set",ht)})}function q(ke){H(m.start,ke)}function pe(ke,Ue,Je,st){if(ke=Number(ke),!(ke>=0&&ke<K.length))throw new Error("noUiSlider: invalid handle number, got: "+ke);et(ke,at(Ue,ke),!0,!0,st),Xe("update",ke),Je&&Xe("set",ke)}function ne(ke){if(ke===void 0&&(ke=!1),ke)return U.length===1?U[0]:U.slice(0);var Ue=U.map(m.format.to);return Ue.length===1?Ue[0]:Ue}function Ce(){for(Ze(INTERNAL_EVENT_NS.aria),Ze(INTERNAL_EVENT_NS.tooltips),Object.keys(m.cssClasses).forEach(function(ke){removeClass(F,m.cssClasses[ke])});F.firstChild;)F.removeChild(F.firstChild);delete F.noUiSlider}function Se(ke){var Ue=Q[ke],Je=Z.getNearbySteps(Ue),st=U[ke],ct=Je.thisStep.step,ft=null;if(m.snap)return[st-Je.stepBefore.startValue||null,Je.stepAfter.startValue-st||null];ct!==!1&&st+ct>Je.stepAfter.startValue&&(ct=Je.stepAfter.startValue-st),st>Je.thisStep.startValue?ft=Je.thisStep.step:Je.stepBefore.step===!1?ft=!1:ft=st-Je.stepBefore.highestStep,Ue===100?ct=null:Ue===0&&(ft=null);var pt=Z.countStepDecimals();return ct!==null&&ct!==!1&&(ct=Number(ct.toFixed(pt))),ft!==null&&ft!==!1&&(ft=Number(ft.toFixed(pt))),[ft,ct]}function Ye(){return K.map(Se)}function it(ke,Ue){var Je=ne(),st=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips","connect"];st.forEach(function(ft){ke[ft]!==void 0&&(g[ft]=ke[ft])});var ct=testOptions(g);st.forEach(function(ft){ke[ft]!==void 0&&(m[ft]=ct[ft])}),Z=ct.spectrum,m.margin=ct.margin,m.limit=ct.limit,m.padding=ct.padding,m.pips?ze(m.pips):Ve(),m.tooltips?Ae():Oe(),Q=[],H(isSet(ke.start)?ke.start:Je,Ue),ke.connect&&he()}function he(){for(;$.firstChild;)$.removeChild($.firstChild);for(var ke=0;ke<=m.handles;ke++)j[ke]=ye($,m.connect[ke]),rt(ke);me({drag:m.events.drag,fixed:!0})}function De(){J=!J,testConnect(m,m.connect.map(function(ke){return!ke})),he()}function qe(){D=ge(F),ae(m.connect,D),me(m.events),H(m.start),m.pips&&ze(m.pips),m.tooltips&&Ae(),He()}qe();var Ge={destroy:Ce,steps:Ye,on:Ie,off:Ze,get:ne,set:H,setHandle:pe,reset:q,disable:ve,enable:Re,__moveHandles:function(ke,Ue,Je){ot(ke,Ue,Q,Je)},options:g,updateOptions:it,target:F,removePips:Ve,removeTooltips:Oe,getPositions:function(){return Q.slice()},getTooltips:function(){return W},getOrigins:function(){return V},pips:ze};return Ge}function initialize(d,m){if(!d||!d.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+d);if(d.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var g=testOptions(m),w=scope(d,g,m);return d.noUiSlider=w,w}const noUiSlider={__spectrum:Spectrum,cssClasses,create:initialize},_sfc_main$3={name:"base-slider",props:{value:{type:[String,Array,Number],description:"Slider value"},disabled:{type:Boolean,description:"Whether slider is disabled"},range:{type:Object,default:()=>({min:0,max:100}),description:"Slider range (defaults to 0-100)"},type:{type:String,default:"",description:"Slider type (e.g primary, danger etc)"},options:{type:Object,default:()=>({}),description:"noUiSlider options"}},computed:{connect(){return Array.isArray(this.value)||[!0,!1]}},data(){return{slider:null}},methods:{createSlider(){noUiSlider.create(this.$refs.slider,{start:this.value,connect:this.connect,range:this.range,...this.options});const d=this.$refs.slider.noUiSlider;d.on("slide",()=>{let m=d.get();m!==this.value&&this.$emit("input",m)})}},mounted(){this.createSlider()},watch:{value(d,m){const g=this.$refs.slider.noUiSlider,w=g.get();d!==m&&w!==d&&(Array.isArray(w)&&Array.isArray(d)?m.length===d.length&&m.every((I,P)=>I===d[P])&&g.set(d):g.set(d))}}},_hoisted_1$1={class:"input-slider-container"},_hoisted_2=["disabled"];function _sfc_render$3(d,m,g,w,I,P){return openBlock(),createElementBlock("div",_hoisted_1$1,[createBaseVNode("div",{class:normalizeClass(["input-slider",[`slider-${g.type}`]]),ref:"slider",disabled:g.disabled},null,10,_hoisted_2)])}const BaseSlider=_export_sfc(_sfc_main$3,[["render",_sfc_render$3]]),_sfc_main$2={name:"base-switch",inheritAttrs:!1,props:{value:{type:Boolean,default:!1,description:"Switch value"}},computed:{model:{get(){return this.value},set(d){this.$emit("input",d)}}}},_hoisted_1={class:"custom-toggle"};function _sfc_render$2(d,m,g,w,I,P){return openBlock(),createElementBlock("label",_hoisted_1,[withDirectives(createBaseVNode("input",mergeProps({type:"checkbox","onUpdate:modelValue":m[0]||(m[0]=F=>P.model=F)},d.$attrs,toHandlers(d.$listeners)),null,16),[[vModelCheckbox,P.model]]),m[1]||(m[1]=createBaseVNode("span",{class:"custom-toggle-slider rounded-circle"},null,-1))])}const BaseSwitch=_export_sfc(_sfc_main$2,[["render",_sfc_render$2]]),_sfc_main$1={name:"card",props:{type:{type:String,description:"Card type"},gradient:{type:String,description:"Card background gradient type (warning,danger etc)"},hover:{type:Boolean,description:"Whether card should move on hover"},shadow:{type:Boolean,description:"Whether card has shadow"},shadowSize:{type:String,description:"Card shadow size"},noBody:{type:Boolean,default:!1,description:"Whether card should have wrapper body class"},bodyClasses:{type:[String,Object,Array],description:"Card body css classes"},headerClasses:{type:[String,Object,Array],description:"Card header css classes"},footerClasses:{type:[String,Object,Array],description:"Card footer css classes"}}};function _sfc_render$1(d,m,g,w,I,P){return openBlock(),createElementBlock("div",{class:normalizeClass(["card",[{"card-lift--hover":g.hover},{shadow:g.shadow},{[`shadow-${g.shadowSize}`]:g.shadowSize},{[`bg-gradient-${g.gradient}`]:g.gradient},{[`bg-${g.type}`]:g.type}]])},[d.$slots.header?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["card-header",g.headerClasses])},[renderSlot(d.$slots,"header")],2)):createCommentVNode("",!0),g.noBody?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(["card-body",g.bodyClasses])},[renderSlot(d.$slots,"default")],2)),g.noBody?renderSlot(d.$slots,"default",{key:2}):createCommentVNode("",!0),d.$slots.footer?(openBlock(),createElementBlock("div",{key:3,class:normalizeClass(["card-footer",g.footerClasses])},[renderSlot(d.$slots,"footer")],2)):createCommentVNode("",!0)],2)}const Card=_export_sfc(_sfc_main$1,[["render",_sfc_render$1]]),_sfc_main={name:"icon",props:{name:{type:String,default:"",description:"Icon name"},size:{type:String,default:"",description:"Icon size"},type:{type:String,default:"",description:"Icon type (primary, warning etc)"},gradient:{type:String,default:"",description:"Icon gradient type (primary, warning etc)"},color:{type:String,default:"",description:"Icon color (primary, warning etc)"},shadow:{type:Boolean,default:!1,description:"Whether icon has shadow"},rounded:{type:Boolean,default:!1,description:"Whether icon is rounded"}}};function _sfc_render(d,m,g,w,I,P){return openBlock(),createElementBlock("div",{class:normalizeClass(["icon icon-shape",[g.size&&`icon-${g.size}`,g.type&&`icon-shape-${g.type}`,g.gradient&&`bg-gradient-${g.gradient}`,g.shadow&&"shadow",g.rounded&&"rounded-circle",g.color&&`text-${g.color}`]])},[renderSlot(d.$slots,"default",{},()=>[createBaseVNode("i",{class:normalizeClass(g.name)},null,2)])],2)}const Icon=_export_sfc(_sfc_main,[["render",_sfc_render]]),globalComponents={install(d){d.component(Badge.name,Badge),d.component(BaseAlert.name,BaseAlert),d.component(BaseButton.name,BaseButton),d.component(BaseInput.name,BaseInput),d.component(BaseCheckbox.name,BaseCheckbox),d.component(BasePagination.name,BasePagination),d.component(BaseProgress.name,BaseProgress),d.component(BaseRadio.name,BaseRadio),d.component(BaseSlider.name,BaseSlider),d.component(BaseSwitch.name,BaseSwitch),d.component(Card.name,Card),d.component(Icon.name,Icon)}},clickOutside={bind:function(d,m,g){d.clickOutsideEvent=function(w){d==w.target||d.contains(w.target)||g.context[m.expression](w)},document.body.addEventListener("click",d.clickOutsideEvent)},unbind:function(d){document.body.removeEventListener("click",d.clickOutsideEvent)}},GlobalDirectives={install(d){d.directive("click-outside",clickOutside)}};/*!
 * Vue-Lazyload.js v3.0.0
 * (c) 2023 Awe <hilongjw@gmail.com>
 * Released under the MIT License.
 */function createCommonjsModule(d,m){return m={exports:{}},d(m,m.exports),m.exports}var assignSymbols$1=createCommonjsModule(function(d){const m=Object.prototype.toString,g=Object.prototype.propertyIsEnumerable,w=Object.getOwnPropertySymbols;d.exports=(P,...F)=>{if(!I(P))throw new TypeError("expected the first argument to be an object");if(F.length===0||typeof Symbol!="function"||typeof w!="function")return P;for(let D of F){let $=w(D);for(let V of $)g.call(D,V)&&(P[V]=D[V])}return P};function I(P){return typeof P=="function"||m.call(P)==="[object Object]"||Array.isArray(P)}}),assignSymbols$2=Object.freeze({__proto__:null,default:assignSymbols$1,__moduleExports:assignSymbols$1}),assignSymbols=assignSymbols$2&&assignSymbols$1||assignSymbols$2,assignDeep=createCommonjsModule(function(d){const m=Object.prototype.toString,g=F=>F!=="__proto__"&&F!=="constructor"&&F!=="prototype",w=d.exports=(F,...D)=>{let $=0;for(P(F)&&(F=D[$++]),F||(F={});$<D.length;$++)if(I(D[$])){for(const V of Object.keys(D[$]))g(V)&&(I(F[V])&&I(D[$][V])?w(F[V],D[$][V]):F[V]=D[$][V]);assignSymbols(F,D[$])}return F};function I(F){return typeof F=="function"||m.call(F)==="[object Object]"}function P(F){return typeof F=="object"?F===null:typeof F!="function"}});const inBrowser=typeof window<"u"&&window!==null,hasIntersectionObserver=checkIntersectionObserver();function checkIntersectionObserver(){return inBrowser&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}}),!0):!1}const modeType={event:"event",observer:"observer"};function remove(d,m){if(!d.length)return;const g=d.indexOf(m);if(g>-1)return d.splice(g,1)}function getBestSelectionFromSrcset(d,m){if(d.tagName!=="IMG"||!d.getAttribute("data-srcset"))return"";let g=d.getAttribute("data-srcset").trim().split(",");const w=[],P=d.parentNode.offsetWidth*m;let F,D,$;g.forEach(G=>{G=G.trim(),F=G.lastIndexOf(" "),F===-1?(D=G,$=99999):(D=G.substr(0,F),$=parseInt(G.substr(F+1,G.length-F-2),10)),w.push([$,D])}),w.sort((G,W)=>{if(G[0]<W[0])return 1;if(G[0]>W[0])return-1;if(G[0]===W[0]){if(W[1].indexOf(".webp",W[1].length-5)!==-1)return 1;if(G[1].indexOf(".webp",G[1].length-5)!==-1)return-1}return 0});let V="",j;for(let G=0;G<w.length;G++){j=w[G],V=j[1];const W=w[G+1];if(W&&W[0]<P){V=j[1];break}else if(!W){V=j[1];break}}return V}const getDPR=(d=1)=>inBrowser&&window.devicePixelRatio||d;function supportWebp(){if(!inBrowser)return!1;let d=!0;function m(g,w){const I={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"},P=new Image;P.onload=function(){const F=P.width>0&&P.height>0;w(F)},P.onerror=function(){w(!1)},P.src="data:image/webp;base64,"+I[g]}return m("lossy",g=>{d=g}),m("lossless",g=>{d=g}),m("alpha",g=>{d=g}),m("animation",g=>{d=g}),d}function throttle(d,m){let g=null,w=0;return function(){if(g)return;const I=Date.now()-w,P=this,F=arguments,D=function(){w=Date.now(),g=!1,d.apply(P,F)};I>=m?D():g=setTimeout(D,m)}}function testSupportsPassive(){if(!inBrowser)return!1;let d=!1;try{const m=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("test",noop,m)}catch{}return d}const supportsPassive=testSupportsPassive(),_={on(d,m,g,w=!1){supportsPassive?d.addEventListener(m,g,{capture:w,passive:!0}):d.addEventListener(m,g,w)},off(d,m,g,w=!1){d.removeEventListener(m,g,w)}},loadImageAsync=(d,m,g)=>{let w=new Image;if(!d||!d.src){const I=new Error("image src is required");return g(I)}d.cors&&(w.crossOrigin=d.cors),w.src=d.src,w.onload=function(){m({naturalHeight:w.naturalHeight,naturalWidth:w.naturalWidth,src:w.src}),w=null},w.onerror=function(I){g(I)}},style=(d,m)=>typeof getComputedStyle<"u"?getComputedStyle(d,null).getPropertyValue(m):d.style[m],overflow=d=>style(d,"overflow")+style(d,"overflowY")+style(d,"overflowX"),scrollParent=d=>{if(!inBrowser)return;if(!(d instanceof Element))return window;let m=d;for(;m&&!(m===document.body||m===document.documentElement||!m.parentNode);){if(/(scroll|auto)/.test(overflow(m)))return m;m=m.parentNode}return window};function isObject(d){return d!==null&&typeof d=="object"}function noop(){}class ImageCache{constructor(m){this.max=m||100,this._caches=[]}has(m){return this._caches.indexOf(m)>-1}add(m){this.has(m)||(this._caches.push(m),this._caches.length>this.max&&this.free())}free(){this._caches.shift()}}class ReactiveListener{constructor(m,g,w,I,P,F,D,$,V,j){this.el=m,this.src=g,this.error=w,this.loading=I,this.bindType=P,this.attempt=0,this.cors=$,this.naturalHeight=0,this.naturalWidth=0,this.options=D,this.rect={},this.$parent=F,this.elRenderer=V,this._imageCache=j,this.performanceData={init:Date.now(),loadStart:0,loadEnd:0},this.filter(),this.initState(),this.render("loading",!1)}initState(){"dataset"in this.el?this.el.dataset.src=this.src:this.el.setAttribute("data-src",this.src),this.state={loading:!1,error:!1,loaded:!1,rendered:!1}}record(m){this.performanceData[m]=Date.now()}update(m){const g=this.src;this.src=m.src,this.loading=m.loading,this.error=m.error,this.filter(),g!==this.src&&(this.attempt=0,this.initState())}getRect(){this.rect=this.el.getBoundingClientRect()}checkInView(){return this.getRect(),this.rect.top<window.innerHeight*this.options.preLoad&&this.rect.bottom>this.options.preLoadTop&&this.rect.left<window.innerWidth*this.options.preLoad&&this.rect.right>0}filter(){for(const m in this.options.filter)this.options.filter[m](this,this.options)}renderLoading(m){this.state.loading=!0,loadImageAsync({src:this.loading,cors:this.cors},()=>{this.render("loading",!1),this.state.loading=!1,m()},()=>{m(),this.state.loading=!1,this.options.silent||console.warn(`VueLazyload log: load failed with loading image(${this.loading})`)})}load(m=noop){if(this.attempt>this.options.attempt-1&&this.state.error){this.options.silent||console.log(`VueLazyload log: ${this.src} tried too more than ${this.options.attempt} times`),m();return}if(!(this.state.rendered&&this.state.loaded)){if(this._imageCache.has(this.src))return this.state.loaded=!0,this.render("loaded",!0),this.state.rendered=!0,m();this.renderLoading(()=>{this.attempt++,this.options.adapter.beforeLoad&&this.options.adapter.beforeLoad(this,this.options),this.record("loadStart"),loadImageAsync({src:this.src,cors:this.cors},g=>{this.naturalHeight=g.naturalHeight,this.naturalWidth=g.naturalWidth,this.state.loaded=!0,this.state.error=!1,this.record("loadEnd"),this.render("loaded",!1),this.state.rendered=!0,this._imageCache.add(this.src),m()},g=>{!this.options.silent&&console.error(g),this.state.error=!0,this.state.loaded=!1,this.render("error",!1)})})}}render(m,g){this.elRenderer(this,m,g)}performance(){let m="loading",g=0;return this.state.loaded&&(m="loaded",g=(this.performanceData.loadEnd-this.performanceData.loadStart)/1e3),this.state.error&&(m="error"),{src:this.src,state:m,time:g}}$destroy(){this.el=null,this.src="",this.error=null,this.loading="",this.bindType=null,this.attempt=0}}const DEFAULT_URL="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",DEFAULT_EVENTS=["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"],DEFAULT_OBSERVER_OPTIONS={rootMargin:"0px",threshold:0};class Lazy{constructor({preLoad:m,error:g,throttleWait:w,preLoadTop:I,dispatchEvent:P,loading:F,attempt:D,silent:$=!0,scale:V,listenEvents:j,filter:G,adapter:W,observer:Z,observerOptions:U}){this.version='"3.0.0"',this.lazyContainerMananger=null,this.mode=modeType.event,this.ListenerQueue=[],this.TargetIndex=0,this.TargetQueue=[],this.options={silent:$,dispatchEvent:!!P,throttleWait:w||200,preLoad:m||1.3,preLoadTop:I||0,error:g||DEFAULT_URL,loading:F||DEFAULT_URL,attempt:D||3,scale:V||getDPR(V),listenEvents:j||DEFAULT_EVENTS,supportWebp:supportWebp(),filter:G||{},adapter:W||{},observer:!!Z,observerOptions:U||DEFAULT_OBSERVER_OPTIONS},this._initEvent(),this._imageCache=new ImageCache(200),this.lazyLoadHandler=throttle(this._lazyLoadHandler.bind(this),this.options.throttleWait),this.setMode(this.options.observer?modeType.observer:modeType.event)}performance(){const m=[];return this.ListenerQueue.map(g=>m.push(g.performance())),m}addLazyBox(m){this.ListenerQueue.push(m),inBrowser&&(this._addListenerTarget(window),this._observer&&this._observer.observe(m.el),m.$el&&m.$el.parentNode&&this._addListenerTarget(m.$el.parentNode))}add(m,g,w){if(this.ListenerQueue.some($=>$.el===m))return this.update(m,g),nextTick(this.lazyLoadHandler);let{src:I,loading:P,error:F,cors:D}=this._valueFormatter(g.value);nextTick(()=>{I=getBestSelectionFromSrcset(m,this.options.scale)||I,this._observer&&this._observer.observe(m);const $=Object.keys(g.modifiers)[0];let V;$&&(V=g.instance.$refs[$],V=V?V.el||V:document.getElementById($)),V||(V=scrollParent(m));const j=new ReactiveListener(m,I,F,P,g.arg,V,this.options,D,this._elRenderer.bind(this),this._imageCache);this.ListenerQueue.push(j),inBrowser&&(this._addListenerTarget(window),this._addListenerTarget(V)),nextTick(this.lazyLoadHandler)})}update(m,g,w){let{src:I,loading:P,error:F}=this._valueFormatter(g.value);I=getBestSelectionFromSrcset(m,this.options.scale)||I;const D=this.ListenerQueue.find($=>$.el===m);D?D.update({src:I,loading:P,error:F}):(m.getAttribute("lazy")!=="loaded"||m.dataset.src!==I)&&this.add(m,g,w),this._observer&&(this._observer.unobserve(m),this._observer.observe(m)),nextTick(this.lazyLoadHandler)}remove(m){if(!m)return;this._observer&&this._observer.unobserve(m);const g=this.ListenerQueue.find(w=>w.el===m);g&&(this._removeListenerTarget(g.$parent),this._removeListenerTarget(window),remove(this.ListenerQueue,g),g.$destroy&&g.$destroy())}removeComponent(m){m&&(remove(this.ListenerQueue,m),this._observer&&this._observer.unobserve(m.el),m.$parent&&m.$el.parentNode&&this._removeListenerTarget(m.$el.parentNode),this._removeListenerTarget(window))}setMode(m){!hasIntersectionObserver&&m===modeType.observer&&(m=modeType.event),this.mode=m,m===modeType.event?(this._observer&&(this.ListenerQueue.forEach(g=>{this._observer.unobserve(g.el)}),this._observer=null),this.TargetQueue.forEach(g=>{this._initListen(g.el,!0)})):(this.TargetQueue.forEach(g=>{this._initListen(g.el,!1)}),this._initIntersectionObserver())}_addListenerTarget(m){if(!m)return;let g=this.TargetQueue.find(w=>w.el===m);return g?g.childrenCount++:(g={el:m,id:++this.TargetIndex,childrenCount:1,listened:!0},this.mode===modeType.event&&this._initListen(g.el,!0),this.TargetQueue.push(g)),this.TargetIndex}_removeListenerTarget(m){this.TargetQueue.forEach((g,w)=>{g.el===m&&(g.childrenCount--,g.childrenCount||(this._initListen(g.el,!1),this.TargetQueue.splice(w,1),g=null))})}_initListen(m,g){this.options.listenEvents.forEach(w=>_[g?"on":"off"](m,w,this.lazyLoadHandler))}_initEvent(){this.Event={listeners:{loading:[],loaded:[],error:[]}},this.$on=(m,g)=>{this.Event.listeners[m]||(this.Event.listeners[m]=[]),this.Event.listeners[m].push(g)},this.$once=(m,g)=>{const w=this;function I(){w.$off(m,I),g.apply(w,arguments)}this.$on(m,I)},this.$off=(m,g)=>{if(!g){if(!this.Event.listeners[m])return;this.Event.listeners[m].length=0;return}remove(this.Event.listeners[m],g)},this.$emit=(m,g,w)=>{this.Event.listeners[m]&&this.Event.listeners[m].forEach(I=>I(g,w))}}_lazyLoadHandler(){const m=[];this.ListenerQueue.forEach((g,w)=>{(!g.el||!g.el.parentNode||g.state.loaded)&&m.push(g),g.checkInView()&&(g.state.loaded||g.load())}),m.forEach(g=>{remove(this.ListenerQueue,g),g.$destroy&&g.$destroy()})}_initIntersectionObserver(){hasIntersectionObserver&&(this._observer=new IntersectionObserver(this._observerHandler.bind(this),this.options.observerOptions),this.ListenerQueue.length&&this.ListenerQueue.forEach(m=>{this._observer.observe(m.el)}))}_observerHandler(m){m.forEach(g=>{g.isIntersecting&&this.ListenerQueue.forEach(w=>{if(w.el===g.target){if(w.state.loaded)return this._observer.unobserve(w.el);w.load()}})})}_elRenderer(m,g,w){if(!m.el)return;const{el:I,bindType:P}=m;let F;switch(g){case"loading":F=m.loading;break;case"error":F=m.error;break;default:F=m.src;break}if(P?I.style[P]='url("'+F+'")':I.getAttribute("src")!==F&&I.setAttribute("src",F),I.setAttribute("lazy",g),this.$emit(g,m,w),this.options.adapter[g]&&this.options.adapter[g](m,this.options),this.options.dispatchEvent){const D=new CustomEvent(g,{detail:m});I.dispatchEvent(D)}}_valueFormatter(m){return isObject(m)?(!m.src&&!this.options.silent&&console.error("Vue Lazyload warning: miss src with "+m),{src:m.src,loading:m.loading||this.options.loading,error:m.error||this.options.error,cors:this.options.cors}):{src:m,loading:this.options.loading,error:this.options.error,cors:this.options.cors}}}const useCheckInView=(d,m)=>{let g=reactive({});const w=()=>{g=d.value.getBoundingClientRect()};return{rect:g,checkInView:()=>(w(),inBrowser&&g.top<window.innerHeight*m&&g.bottom>0&&g.left<window.innerWidth*m&&g.right>0)}};var LazyComponent=d=>defineComponent({props:{tag:{type:String,default:"div"}},emits:["show"],setup(m,{emit:g,slots:w}){const I=ref(),P=reactive({loaded:!1,error:!1,attempt:0}),F=ref(!1),{rect:D,checkInView:$}=useCheckInView(I,d.options.preLoad),V=()=>{F.value=!0,P.loaded=!0,g("show",F.value)},j=computed(()=>({el:I.value,rect:D,checkInView:$,load:V,state:P}));return onMounted(()=>{d.addLazyBox(j.value),d.lazyLoadHandler()}),onUnmounted(()=>{d.removeComponent(j.value)}),()=>{var G;return createVNode(m.tag,{ref:I},[F.value&&((G=w.default)===null||G===void 0?void 0:G.call(w))])}}});class LazyContainerMananger{constructor(m){this.lazy=m,m.lazyContainerMananger=this,this._queue=[]}bind(m,g,w){const I=new LazyContainer(m,g,w,this.lazy);this._queue.push(I)}update(m,g,w){const I=this._queue.find(P=>P.el===m);I&&I.update(m,g)}unbind(m,g,w){const I=this._queue.find(P=>P.el===m);I&&(I.clear(),remove(this._queue,I))}}const defaultOptions={selector:"img",error:"",loading:""};class LazyContainer{constructor(m,g,w,I){this.el=m,this.vnode=w,this.binding=g,this.options={},this.lazy=I,this._queue=[],this.update(m,g)}update(m,g){this.el=m,this.options=assignDeep({},defaultOptions,g.value),this.getImgs().forEach(I=>{this.lazy.add(I,assignDeep({},this.binding,{value:{src:I.getAttribute("data-src")||I.dataset.src,error:I.getAttribute("data-error")||I.dataset.error||this.options.error,loading:I.getAttribute("data-loading")||I.dataset.loading||this.options.loading}}),this.vnode)})}getImgs(){return Array.from(this.el.querySelectorAll(this.options.selector))}clear(){this.getImgs().forEach(g=>this.lazy.remove(g)),this.vnode=null,this.binding=null,this.lazy=null}}var LazyImage=d=>defineComponent({setup(m,{slots:g}){const w=ref(),I=reactive({src:"",error:"",loading:"",attempt:d.options.attempt}),P=reactive({loaded:!1,error:!1,attempt:0}),{rect:F,checkInView:D}=useCheckInView(w,d.options.preLoad),$=ref(""),V=(W=noop)=>{if(P.attempt>I.attempt-1&&P.error)return d.options.silent||console.log(`VueLazyload log: ${I.src} tried too more than ${I.attempt} times`),W();const Z=I.src;loadImageAsync({src:Z},({src:U})=>{$.value=U,P.loaded=!0},()=>{P.attempt++,$.value=I.error,P.error=!0})},j=computed(()=>({el:w.value,rect:F,checkInView:D,load:V,state:P}));onMounted(()=>{d.addLazyBox(j.value),d.lazyLoadHandler()}),onUnmounted(()=>{d.removeComponent(j.value)});const G=()=>{const{src:W,loading:Z,error:U}=d._valueFormatter(m.src);P.loaded=!1,I.src=W,I.error=U,I.loading=Z,$.value=I.loading};return watch(()=>m.src,()=>{G(),d.addLazyBox(j.value),d.lazyLoadHandler()},{immediate:!0}),()=>{var W;return createVNode(m.tag||"img",{src:$.value,ref:w},[(W=g.default)===null||W===void 0?void 0:W.call(g)])}}}),index={install(d,m={}){const g=new Lazy(m),w=new LazyContainerMananger(g);if(Number(d.version.split(".")[0])<3)return new Error("Vue version at least 3.0");d.config.globalProperties.$Lazyload=g,d.provide("Lazyload",g),m.lazyComponent&&d.component("lazy-component",LazyComponent(g)),m.lazyImage&&d.component("lazy-image",LazyImage(g)),d.directive("lazy",{beforeMount:g.add.bind(g),beforeUpdate:g.update.bind(g),updated:g.lazyLoadHandler.bind(g),unmounted:g.remove.bind(g)}),d.directive("lazy-container",{beforeMount:w.bind.bind(w),updated:w.update.bind(w),unmounted:w.unbind.bind(w)})}};const Argon={install(d){d.use(globalComponents),d.use(GlobalDirectives),d.use(index)}},app=createApp$2(_sfc_main$w);app.config.warnHandler=()=>null;app.use(createPinia());app.use(router);app.use(Argon);app.mount("#app")});export default jt();
